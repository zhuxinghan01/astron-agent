# =============================================================================
# Workflow Service Configuration
# =============================================================================

# Service Information
# Basic service identification and network configuration
SERVICE_SUB=spf
SERVICE_NAME=WorkFlow
SERVICE_LOCATION=hf
SERVICE_PORT=7880

# Logging Configuration
# Application logging level and optional log file path
LOG_LEVEL=INFO
LOG_PATH=logs

# =============================================================================
# Application Lifecycle Configuration
# =============================================================================

# Graceful Shutdown Configuration
# Shutdown interval and timeout settings for proper resource cleanup
SHUTDOWN_INTERVAL=2
SHUTDOWN_TIMEOUT=180

# =============================================================================
# Database Configuration
# =============================================================================

# MySQL Database Settings
# Primary database connection configuration for persistent data storage
MYSQL_HOST=127.0.0.1
MYSQL_PORT=3306
MYSQL_USER=admin
MYSQL_PASSWORD=admin
MYSQL_DB=workflow

# Redis Cache Settings
# Redis cluster configuration for caching, session management, and real-time data
# Only one cluster address and stand-alone address can be configured, and the cluster address has high priority.
# Cluster address
REDIS_CLUSTER_ADDR=
# Stand-alone address
REDIS_ADDR=127.0.0.1:6379
REDIS_PASSWORD=
# Cache expiration time in seconds (1 hour = 3600 seconds)
REDIS_EXPIRE=3600

# =============================================================================
# OpenTelemetry Observability Configuration
# =============================================================================

# OTLP (OpenTelemetry Protocol) Configuration
# Distributed tracing and metrics collection settings
# OTLP endpoint for telemetry data submission
OTLP_ENDPOINT=127.0.0.1:4317
# Enable/disable telemetry reporting (1=enabled, 0=disabled)
OTLP_ENABLE=1

# Metrics Collection Configuration
# SDK metric reporting interval, recommended < 30000ms, default: 1000ms
OTLP_METRIC_EXPORT_INTERVAL_MILLIS=3000
# Metrics export timeout to server in milliseconds, default: 5000ms
OTLP_METRIC_EXPORT_TIMEOUT_MILLIS=3000
# Server connection establishment timeout in milliseconds, default: 5000ms
OTLP_METRIC_TIMEOUT=3000

# Distributed Tracing Configuration
# Server connection establishment timeout in milliseconds, default: 5000ms
OTLP_TRACE_TIMEOUT=3000
# Maximum queue size for BatchSpanProcessor data export, default: 2048
OTLP_TRACE_MAX_QUEUE_SIZE=2048
# Delay interval between consecutive exports in BatchSpanProcessor, default: 5000ms
OTLP_TRACE_SCHEDULE_DELAY_MILLIS=3000
# Maximum batch size for BatchSpanProcessor data export, default: 512
OTLP_TRACE_MAX_EXPORT_BATCH_SIZE=500
# Maximum allowed time for data export from BatchSpanProcessor, default: 30000ms
OTLP_TRACE_EXPORT_TIMEOUT_MILLIS=3000

# =============================================================================
# Object Storage Configuration
# =============================================================================

# Object Storage Service Settings
# Storage type options: ifly_gateway_storage (iFlytek), s3 (Amazon S3 compatible)
OSS_TYPE=s3
OSS_ENDPOINT=http://127.0.0.1:9000
OSS_ACCESS_KEY_ID=admin
OSS_ACCESS_KEY_SECRET=admin
OSS_BUCKET_NAME=workflow
# Download domain for S3, required when using S3 storage type
OSS_DOWNLOAD_HOST=http://127.0.0.1:9000
# File validity period for iFlytek object storage (in seconds)
OSS_TTL=157788000

# =============================================================================
# Message Queue
# =============================================================================

# Apache Kafka Configuration
# Message queue settings for asynchronous processing and event streaming
KAFKA_SERVERS=127.0.0.1:9092
KAFKA_TIMEOUT=10
KAFKA_TOPIC=spark-agent-builder

# =============================================================================
# External Service Configuration
# =============================================================================

# Code Executor Settings
# Supported types: local, ifly, langchain (default: local)
CODE_EXEC_TYPE=local
CODE_EXEC_URL=
# Code execution timeout in seconds, default: 10s
CODE_EXEC_TIMEOUT_SEC=10

# Image Understanding Model Configuration
# Spark image model domain specifications for visual AI processing
SPARK_IMAGE_MODEL_DOMAIN=image,imagev3

# Knowledge Base Service Configuration
# Standard knowledge base recall service endpoint for document retrieval
KNOWLEDGE_URL=http://127.0.0.1:10007/knowledge/v1/chunk/query

# Advanced Knowledge Base Pro Service
# Enhanced knowledge base with agent chat capabilities
KNOWLEDGE_PRO_URL=http://127.0.0.1:10007/knowledge/v1/agent/achat

# Plugin Management Configuration
# Plugin version management and execution endpoints
PLUGIN_GET_URL=http://127.0.0.1:18888/api/v1/tools/versions
PLUGIN_RUN_URL=http://127.0.0.1:18888/api/v1/tools/http_run

# Workflow Service Endpoint
# Internal workflow service URL for server-sent events
WORKFLOW_URL_SSE=http://127.0.0.1:7880/workflow/v1/chat/completions

# Application Management Platform
# Platform integration credentials and endpoint for app lifecycle management
APP_MANAGE_PLAT_APP_LIST=http://127.0.0.1:5052/v2/app/list
APP_MANAGE_PLAT_APP_DETAILS=http://127.0.0.1:5052/v2/app/list
APP_MANAGE_PLAT_KEY=
APP_MANAGE_PLAT_SECRET=

# Agent Node Configuration
# Custom agent API endpoint for chat completions and AI interactions
AGENT_API_URL=http://127.0.0.1:17870/agent/v1/custom/chat/completions

# Quick Thinking Workflow Configuration
# Specify workflows and models for fast inference and rapid response scenarios
QUICKLY_THINK_FLOW_IDS=
QUICKLY_THINK_MODELS=
QUICKLY_THINK_APPS=

# PostgreSQL Database Node Configuration
# External PostgreSQL service endpoint for DML operations and data queries
PGSQL_URL=http://127.0.0.1:7990/xingchen-db/v1/exec_dml

# File Type Support Configuration
# Comprehensive file format support for document, image, and audio processing
SUPPORT_FILE_TYPE=pdf,png,jpg,jpeg,bmp,doc,docx,ppt,pptx,xls,xlsx,csv,txt,wav,mp3,flac,m4a,aac,ogg,wma,midi
# Regular expression pattern for file path and extension validation
FILE_REGEX_PATTERN=\/([^\/]+)\.(pdf|png|jpg|jpeg|bmp|doc|docx|ppt|pptx|xls|xlsx|csv|txt|wav|mp3|flac|m4a|aac|ogg|wma|midi)
# Categorized file type mappings for different media categories
ALLOWED_FILE_TYPE={"image":["jpg","jpeg","png","bmp"],"pdf":["pdf"],"doc":["docx","doc"],"ppt":["ppt","pptx"],"excel":["xls","xlsx","csv"],"txt":["txt"],"audio":["wav","mp3","flac","m4a","aac","ogg","wma","midi"]}
# Maximum file size limit in bytes (50MB = 52428800 bytes)
FILE_SIZE_LIMIT=52428800

# =============================================================================
# Content Audit and Security Configuration
# =============================================================================

# iFlytek Content Audit Service
# Content moderation and audit service credentials for compliance and safety
IFLYTEK_AUDIT_APP_ID=
IFLYTEK_AUDIT_ACCESS_KEY_ID=
IFLYTEK_AUDIT_ACCESS_KEY_SECRET=
IFLYTEK_AUDIT_HOST=
