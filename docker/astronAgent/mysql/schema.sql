SELECT 'astron_console DATABASE initialization started' AS '';
CREATE DATABASE IF NOT EXISTS astron_console;

USE astron_console;

SET NAMES utf8mb4;
SET FOREIGN_KEY_CHECKS = 0;

-- ----------------------------
-- Table structure for agent_apply_record
-- ----------------------------
DROP TABLE IF EXISTS `agent_apply_record`;
CREATE TABLE `agent_apply_record`
(
    `id`             bigint NOT NULL AUTO_INCREMENT,
    `enterprise_id`  bigint       DEFAULT NULL COMMENT 'Enterprise team ID',
    `space_id`       bigint       DEFAULT NULL COMMENT 'Space ID',
    `apply_uid`      varchar(128) DEFAULT NULL COMMENT 'Applicant UID',
    `apply_nickname` varchar(64)  DEFAULT NULL COMMENT 'Applicant nickname',
    `apply_time`     datetime     DEFAULT NULL COMMENT 'Application time',
    `status`         tinyint      DEFAULT NULL COMMENT 'Application status: 1 pending confirmation, 2 approved, 3 rejected',
    `audit_time`     datetime     DEFAULT NULL COMMENT 'Processing time',
    `audit_uid`      varchar(128) DEFAULT NULL COMMENT 'Processor UID',
    `create_time`    datetime     DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time`    datetime     DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    PRIMARY KEY (`id`),
    KEY              `enterprise_id_key` (`enterprise_id`) USING BTREE,
    KEY              `space_id_key` (`space_id`) USING BTREE,
    KEY              `apply_uid_key` (`apply_uid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Application records for joining space/enterprise';

-- ----------------------------
-- Table structure for agent_enterprise
-- ----------------------------
DROP TABLE IF EXISTS `agent_enterprise`;
CREATE TABLE `agent_enterprise`
(
    `id`           bigint        NOT NULL AUTO_INCREMENT,
    `uid`          varchar(128)  DEFAULT NULL COMMENT 'Creator ID',
    `name`         varchar(50)   DEFAULT NULL COMMENT 'Team name',
    `logo_url`     varchar(1024) DEFAULT NULL COMMENT 'logoURL',
    `avatar_url`   varchar(1024) NOT NULL COMMENT 'Avatar URL',
    `org_id`       bigint        DEFAULT NULL COMMENT 'Organization ID',
    `service_type` tinyint       DEFAULT NULL COMMENT 'Service type: 1 team, 2 enterprise',
    `create_time`  datetime      DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `expire_time`  datetime      DEFAULT NULL COMMENT 'Expiration time',
    `update_time`  datetime      DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    `deleted`      tinyint       DEFAULT '0' COMMENT 'Is deleted: 0 no, 1 yes',
    PRIMARY KEY (`id`),
    KEY            `enterprise_name_key` (`name`) USING BTREE,
    KEY            `enterprise_uid_key` (`uid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Enterprise team';

-- ----------------------------
-- Table structure for agent_enterprise_permission
-- ----------------------------
DROP TABLE IF EXISTS `agent_enterprise_permission`;
CREATE TABLE `agent_enterprise_permission`
(
    `id`                bigint  NOT NULL AUTO_INCREMENT,
    `module`            varchar(50)  DEFAULT NULL COMMENT 'Permission module',
    `description`       varchar(255) DEFAULT NULL COMMENT 'Description',
    `permission_key`    varchar(128)  DEFAULT NULL COMMENT 'Permission unique identifier',
    `officer`           tinyint NOT NULL COMMENT 'Super administrator (has permission): 1 yes, 0 no',
    `governor`          tinyint NOT NULL COMMENT 'Administrator (has permission): 1 yes, 0 no',
    `staff`             tinyint NOT NULL COMMENT 'Member (has permission): 1 yes, 0 no',
    `available_expired` tinyint NOT NULL COMMENT 'Available when expired: 1 yes, 0 no',
    `create_time`       datetime     DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time`       datetime     DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    PRIMARY KEY (`id`),
    KEY                 `key_uni_key` (`permission_key`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Enterprise team role permission configuration';

-- ----------------------------
-- Records of agent_enterprise_permission
-- ----------------------------
BEGIN;
INSERT INTO `agent_enterprise_permission` (`id`, `module`, `description`, `permission_key`, `officer`, `governor`,
                                           `staff`, `available_expired`, `create_time`, `update_time`)
VALUES (1, 'Team/Enterprise level space management', 'Create space', 'SpaceController_createCorporateSpace_POST', 1, 1, 0, 0,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_enterprise_permission` (`id`, `module`, `description`, `permission_key`, `officer`, `governor`,
                                           `staff`, `available_expired`, `create_time`, `update_time`)
VALUES (3, 'Team/Enterprise level space management', 'Delete space', 'SpaceController_deleteCorporateSpace_DELETE', 1, 1, 0, 0,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_enterprise_permission` (`id`, `module`, `description`, `permission_key`, `officer`, `governor`,
                                           `staff`, `available_expired`, `create_time`, `update_time`)
VALUES (5, 'Team/Enterprise info settings (Team management)', 'Set team/enterprise name', 'EnterpriseController_updateName_POST', 1, 1, 0, 0,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_enterprise_permission` (`id`, `module`, `description`, `permission_key`, `officer`, `governor`,
                                           `staff`, `available_expired`, `create_time`, `update_time`)
VALUES (7, 'Team/Enterprise level space management', 'Edit space info', 'SpaceController_updateCorporateSpace_POST', 1, 1, 0, 0,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_enterprise_permission` (`id`, `module`, `description`, `permission_key`, `officer`, `governor`,
                                           `staff`, `available_expired`, `create_time`, `update_time`)
VALUES (9, 'Team/Enterprise info view', 'View team/enterprise details', 'EnterpriseController_detail_GET', 1, 1, 1, 1,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_enterprise_permission` (`id`, `module`, `description`, `permission_key`, `officer`, `governor`,
                                           `staff`, `available_expired`, `create_time`, `update_time`)
VALUES (13, 'Team/Enterprise level space management', 'Enterprise all spaces', 'SpaceController_corporateList_GET', 1, 1, 1, 1,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_enterprise_permission` (`id`, `module`, `description`, `permission_key`, `officer`, `governor`,
                                           `staff`, `available_expired`, `create_time`, `update_time`)
VALUES (15, 'Team/Enterprise level space management', 'Enterprise my spaces', 'SpaceController_corporateJoinList_GET', 1, 1, 1, 1,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_enterprise_permission` (`id`, `module`, `description`, `permission_key`, `officer`, `governor`,
                                           `staff`, `available_expired`, `create_time`, `update_time`)
VALUES (17, 'Team/Enterprise Info Settings (Team Management)', 'Set team/enterprise LOGO', 'EnterpriseController_updateLogo_POST', 1, 1, 0, 0,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_enterprise_permission` (`id`, `module`, `description`, `permission_key`, `officer`, `governor`,
                                           `staff`, `available_expired`, `create_time`, `update_time`)
VALUES (19, 'Team/Enterprise Info Settings (Team Management)', 'Set team/enterprise avatar', 'EnterpriseController_updateAvatar_POST', 1, 1, 0, 0,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_enterprise_permission` (`id`, `module`, `description`, `permission_key`, `officer`, `governor`,
                                           `staff`, `available_expired`, `create_time`, `update_time`)
VALUES (21, 'Invitation Management', 'Enterprise team invitation list', 'InviteRecordController_enterpriseInviteList_POST', 1, 1, 0, 0,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_enterprise_permission` (`id`, `module`, `description`, `permission_key`, `officer`, `governor`,
                                           `staff`, `available_expired`, `create_time`, `update_time`)
VALUES (23, 'Enterprise Team User Management', 'Team user list', 'EnterpriseUserController_page_POST', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_enterprise_permission` (`id`, `module`, `description`, `permission_key`, `officer`, `governor`,
                                           `staff`, `available_expired`, `create_time`, `update_time`)
VALUES (25, 'Enterprise Team User Management', 'Modify user role', 'EnterpriseUserController_updateRole_POST', 1, 1, 0, 0,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_enterprise_permission` (`id`, `module`, `description`, `permission_key`, `officer`, `governor`,
                                           `staff`, `available_expired`, `create_time`, `update_time`)
VALUES (27, 'Enterprise Team User Management', 'Remove user', 'EnterpriseUserController_remove_DELETE', 1, 1, 0, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_enterprise_permission` (`id`, `module`, `description`, `permission_key`, `officer`, `governor`,
                                           `staff`, `available_expired`, `create_time`, `update_time`)
VALUES (29, 'Invitation Management', 'Invite to join enterprise team', 'InviteRecordController_enterpriseInvite_POST', 1, 1, 0, 0,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_enterprise_permission` (`id`, `module`, `description`, `permission_key`, `officer`, `governor`,
                                           `staff`, `available_expired`, `create_time`, `update_time`)
VALUES (31, 'Invitation Management', 'Enterprise invitation search user', 'InviteRecordController_enterpriseSearchUser_GET', 1, 1, 0, 0,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_enterprise_permission` (`id`, `module`, `description`, `permission_key`, `officer`, `governor`,
                                           `staff`, `available_expired`, `create_time`, `update_time`)
VALUES (33, 'Invitation Management', 'Revoke enterprise invitation', 'InviteRecordController_revokeEnterpriseInvite_POST', 1, 1, 0, 0,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_enterprise_permission` (`id`, `module`, `description`, `permission_key`, `officer`, `governor`,
                                           `staff`, `available_expired`, `create_time`, `update_time`)
VALUES (35, 'Application Management', 'Apply to join enterprise space', 'ApplyRecordController_joinEnterpriseSpace_POST', 1, 1, 1, 0,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_enterprise_permission` (`id`, `module`, `description`, `permission_key`, `officer`, `governor`,
                                           `staff`, `available_expired`, `create_time`, `update_time`)
VALUES (37, 'Enterprise Team User Management', 'Quit enterprise team', 'EnterpriseUserController_quitEnterprise_POST', 1, 1, 1, 0,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_enterprise_permission` (`id`, `module`, `description`, `permission_key`, `officer`, `governor`,
                                           `staff`, `available_expired`, `create_time`, `update_time`)
VALUES (39, 'Enterprise Team User Management', 'Get user limits', 'EnterpriseUserController_getUserLimit_GET', 1, 1, 0, 0,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_enterprise_permission` (`id`, `module`, `description`, `permission_key`, `officer`, `governor`,
                                           `staff`, `available_expired`, `create_time`, `update_time`)
VALUES (41, 'User Rights Query', 'Get team edition non-model resources', 'UserAuthController_getDetailByEnterpriseId_GET', 1, 1, 1, 0,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_enterprise_permission` (`id`, `module`, `description`, `permission_key`, `officer`, `governor`,
                                           `staff`, `available_expired`, `create_time`, `update_time`)
VALUES (43, 'User Rights Query', 'Get team edition package', 'UserAuthController_getTeamOrderMeta_GET', 1, 1, 1, 0,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_enterprise_permission` (`id`, `module`, `description`, `permission_key`, `officer`, `governor`,
                                           `staff`, `available_expired`, `create_time`, `update_time`)
VALUES (45, 'User Rights Query', 'Get team edition model resources', 'UserAuthController_getModelDetailByEnterpriseId_GET', 1, 1, 1, 0,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_enterprise_permission` (`id`, `module`, `description`, `permission_key`, `officer`, `governor`,
                                           `staff`, `available_expired`, `create_time`, `update_time`)
VALUES (47, 'Team/Enterprise Level Space Management', 'Enterprise total space count', 'SpaceController_corporateCount_GET', 1, 1, 1, 0,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_enterprise_permission` (`id`, `module`, `description`, `permission_key`, `officer`, `governor`,
                                           `staff`, `available_expired`, `create_time`, `update_time`)
VALUES (49, 'User Rights Query', 'Get team edition model resources by app ID',
        'UserAuthController_getModelDetailByEnterpriseIdAndAppId_GET', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_enterprise_permission` (`id`, `module`, `description`, `permission_key`, `officer`, `governor`,
                                           `staff`, `available_expired`, `create_time`, `update_time`)
VALUES (51, 'Invitation Management', 'Enterprise invitation batch search user', 'InviteRecordController_enterpriseBatchSearchUser_POST', 1, 1, 1, 0,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `astron_console`.`agent_enterprise_permission` (`module`, `description`, `permission_key`, `officer`, `governor`, `staff`, `available_expired`, `create_time`, `update_time`) VALUES ('Invitation Management', 'Enterprise invitation search username', 'InviteRecordController_enterpriseBatchSearchUsername_POST', 1, 1, 1, 0, '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `astron_console`.`agent_enterprise_permission` (`module`, `description`, `permission_key`, `officer`, `governor`, `staff`, `available_expired`, `create_time`, `update_time`) VALUES ('Invitation Management', 'Enterprise invitation batch search username', 'InviteRecordController_enterpriseSearchUsername_GET', 1, 1, 0, 0, '2025-01-01 00:00:00', '2025-01-01 00:00:00');

COMMIT;

-- ----------------------------
-- Table structure for agent_enterprise_user
-- ----------------------------
DROP TABLE IF EXISTS `agent_enterprise_user`;
CREATE TABLE `agent_enterprise_user`
(
    `id`            bigint NOT NULL AUTO_INCREMENT,
    `enterprise_id` bigint       DEFAULT NULL COMMENT 'Team ID',
    `uid`           varchar(128) DEFAULT NULL COMMENT 'User ID',
    `nickname`      varchar(64)  DEFAULT NULL COMMENT 'User nickname',
    `role`          tinyint      DEFAULT NULL COMMENT 'Role: 1 super administrator, 2 administrator, 3 member',
    `create_time`   datetime     DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time`   datetime     DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    PRIMARY KEY (`id`),
    UNIQUE KEY `enterprise_id_uid_uni_key` (`enterprise_id`,`uid`) USING BTREE,
    KEY             `enterprise_user_uid_key` (`uid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Enterprise team users';

-- ----------------------------
-- Table structure for agent_invite_record
-- ----------------------------
DROP TABLE IF EXISTS `agent_invite_record`;
CREATE TABLE `agent_invite_record`
(
    `id`               bigint NOT NULL AUTO_INCREMENT,
    `type`             tinyint      DEFAULT NULL COMMENT 'Invitation type: 1 space, 2 team',
    `space_id`         bigint       DEFAULT NULL COMMENT 'Space ID',
    `enterprise_id`    bigint       DEFAULT NULL COMMENT 'Team ID',
    `invitee_uid`      varchar(128) DEFAULT NULL COMMENT 'Invitee UID',
    `role`             tinyint      DEFAULT NULL COMMENT 'Join role: 1 administrator, 2 member',
    `invitee_nickname` varchar(64)  DEFAULT NULL COMMENT 'Invitee nickname',
    `inviter_uid`      varchar(128) DEFAULT NULL COMMENT 'Inviter UID',
    `expire_time`      datetime     DEFAULT NULL COMMENT 'Expiration time',
    `status`           tinyint      DEFAULT NULL COMMENT 'Status: 1 initial, 2 rejected, 3 joined, 4 revoked, 5 expired',
    `create_time`      datetime     DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time`      datetime     DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    PRIMARY KEY (`id`),
    KEY                `invitee_id_key` (`invitee_uid`) USING BTREE,
    KEY                `space_id_key` (`space_id`),
    KEY                `enterprise_id_key` (`enterprise_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Invitation records';

-- ----------------------------
-- Table structure for agent_share_record
-- ----------------------------
DROP TABLE IF EXISTS `agent_share_record`;
CREATE TABLE `agent_share_record`
(
    `id`          bigint       NOT NULL AUTO_INCREMENT,
    `uid`         varchar(128) NOT NULL COMMENT 'User ID',
    `base_id`     bigint       NOT NULL COMMENT 'Primary key ID of shared entity',
    `share_key`   varchar(64) DEFAULT '' COMMENT 'Unique identifier for sharing',
    `share_type`  tinyint     DEFAULT '0' COMMENT 'Category: 0 share assistant',
    `is_act`      tinyint     DEFAULT '1' COMMENT 'Is effective: 0 invalid, 1 valid',
    `create_time` datetime    DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time` datetime    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    PRIMARY KEY (`id`),
    KEY           `idx_uid` (`uid`),
    KEY           `idx_base_id` (`base_id`),
    KEY           `idx_share_key` (`share_key`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Agent sharing record table';

-- ----------------------------
-- Table structure for agent_space
-- ----------------------------
DROP TABLE IF EXISTS `agent_space`;
CREATE TABLE `agent_space`
(
    `id`            bigint      NOT NULL AUTO_INCREMENT,
    `name`          varchar(50) NOT NULL COMMENT 'Space name',
    `description`   varchar(2000) DEFAULT NULL COMMENT 'Description',
    `avatar_url`    varchar(1024) DEFAULT NULL COMMENT 'Avatar URL',
    `uid`           varchar(128)  DEFAULT NULL COMMENT 'Creator ID',
    `enterprise_id` bigint        DEFAULT NULL COMMENT 'Team ID',
    `type`          tinyint       DEFAULT NULL COMMENT 'Type: 1 free version, 2 professional version, 3 team version, 4 enterprise version',
    `create_time`   datetime      DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time`   datetime      DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    `deleted`       tinyint       DEFAULT '0' COMMENT 'Is deleted: 0 no, 1 yes',
    PRIMARY KEY (`id`),
    KEY             `uid_key` (`uid`),
    KEY             `enterprise_id_key` (`enterprise_id`) USING BTREE,
    KEY             `space_name` (`name`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Workspace';

-- ----------------------------
-- Table structure for agent_space_permission
-- ----------------------------
DROP TABLE IF EXISTS `agent_space_permission`;
CREATE TABLE `agent_space_permission`
(
    `id`                bigint  NOT NULL AUTO_INCREMENT,
    `module`            varchar(50)  DEFAULT NULL COMMENT 'Permission module',
    `point`             varchar(50)  DEFAULT NULL COMMENT 'Permission point',
    `description`       varchar(255) DEFAULT NULL COMMENT 'Description',
    `permission_key`    varchar(128)  DEFAULT NULL COMMENT 'Permission unique identifier',
    `owner`             tinyint NOT NULL COMMENT 'Owner (has permission): 1 yes, 0 no',
    `admin`             tinyint NOT NULL COMMENT 'Administrator (has permission): 1 yes, 0 no',
    `member`            tinyint NOT NULL COMMENT 'Member (has permission): 1 yes, 0 no',
    `available_expired` tinyint NOT NULL COMMENT 'Available when expired: 1 yes, 0 no',
    `create_time`       datetime     DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time`       datetime     DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    PRIMARY KEY (`id`),
    UNIQUE KEY `key_uni_key` (`permission_key`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Workspace role permission configuration';

-- ----------------------------
-- Records of agent_space_permission
-- ----------------------------
BEGIN;
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (1, 'Bot Management', 'testPoint', '', 'MyBotController_getCreatedList_POST', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (3, 'Bot Management', 'testPoint', '', 'ChatBotMarketController_botDetail_POST', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (5, 'Bot Management', 'testPoint', '', 'ChatBotController_insert_POST', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (7, 'Bot Management', 'testPoint', '', 'WorkflowController_list_GET', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (9, 'Publishing Management', 'testPoint', '', 'BotController_takeoffBot_POST', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (11, 'Bot Management', 'testPoint', '', 'ShareController_getShareKey_POST', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (13, 'Bot Management', 'testPoint', '', 'ChatBotMarketController_updateMarketBot_POST', 1, 1, 1, 0,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (15, 'Bot Management', 'testPoint', '', 'ChatBotController_update_POST', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (17, 'Bot Management', 'testPoint', '', 'ChatBotController_generateAvatar_POST', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (19, 'Bot Management', 'testPoint', '', 'BotController_copyBot2_POST', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (21, 'Publishing Management', 'testPoint', '', 'ChatBotMarketController_upToBotMarket_POST', 1, 1, 1, 0,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (23, 'Bot Management', 'testPoint', '', 'MyBotController_deleteBot_POST', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (25, 'Space Management', 'Get space details', '', 'SpaceController_detail_GET', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (27, 'Space Management', 'Edit space information', '', 'SpaceController_updatePersonalSpace_POST', 1, 0, 0, 0,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (29, 'Prompt Management', 'testPoint', '', 'PromptManageController_createPrompt_POST', 1, 1, 1, 0,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (31, 'Prompt Management', 'testPoint', '', 'PromptManageController_deletePrompt_POST', 1, 1, 1, 0,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (33, 'Prompt Management', 'testPoint', '', 'PromptManageController_listPrompt_POST', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (35, 'Prompt Management', 'testPoint', '', 'PromptManageController_savePrompt_POST', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (37, 'Prompt Management', 'testPoint', '', 'PromptManageController_createPromptGroup_POST', 1, 1, 1, 0,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (39, 'Prompt Management', 'testPoint', '', 'PromptManageController_getPromptVersionDetail_POST', 1, 1, 1, 0,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (41, 'Prompt Management', 'testPoint', '', 'PromptManageController_commitPrompt_POST', 1, 1, 1, 0,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (43, 'Prompt Management', 'testPoint', '', 'PromptManageController_deletePromptVersion_POST', 1, 1, 1, 0,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (45, 'Prompt Management', 'testPoint', '', 'PromptManageController_revertPrompt_POST', 1, 1, 1, 0,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (47, 'Prompt Management', 'testPoint', '', 'PromptManageController_listPromptVersion_POST', 1, 1, 1, 0,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (49, 'Prompt Management', 'testPoint', '', 'PromptManageController_getPromptDetail_POST', 1, 1, 1, 0,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (51, 'Prompt Management', 'testPoint', '', 'PromptManageController_renamePrompt_POST', 1, 1, 1, 0,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (53, 'Prompt Management', 'testPoint', '', 'ChatMessageController_promptDebug_POST', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (55, 'Bot Management', 'testPoint', '', 'BotDashboardController_details_GET', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (57, 'Publish Management', 'testPoint', '', 'BotV2Controller_botV2Info_GET', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (59, 'Publish Management', 'testPoint', '', 'BotV2Controller_massPublish_POST', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (61, 'Publish Management', 'testPoint', '', 'BotOffiaccountController_getAuthUrl_GET', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (63, 'Publish Management', 'testPoint', '', 'MCPController_publishMCP_POST', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (65, 'test', 'test', '', '', 1, 1, 1, 0, '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (71, 'Bot Management', 'testPoint', '', 'ChatMessageController_botDebug_POST', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (73, 'Invite Management', '', '', 'InviteRecordController_spaceInviteList_POST', 1, 1, 0, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (75, 'Application Management', '', '', 'ApplyRecordController_page_POST', 1, 1, 0, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (77, 'Application Management', '', '', 'ApplyRecordController_agreeEnterpriseSpace_POST', 1, 1, 0, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (79, 'Invite Management', '', '', 'InviteRecordController_spaceSearchUser_POST', 1, 1, 0, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (81, 'Space User Management', '', '', 'SpaceUserController_enterpriseAdd_POST', 1, 1, 0, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (83, 'Space User Management', '', '', 'SpaceUserController_updateRole_POST', 1, 1, 0, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (85, 'Application Management', '', '', 'ApplyRecordController_refuseEnterpriseSpace_POST', 1, 1, 0, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (87, 'Space User Management', '', '', 'SpaceUserController_remove_POST', 1, 1, 0, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (89, 'Invite Management', '', '', 'InviteRecordController_spaceInvite_POST', 1, 1, 0, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (91, 'Space User Management', '', '', 'SpaceUserController_page_POST', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (93, 'Invite Management', '', '', 'InviteRecordController_revokeSpaceInvite_POST', 1, 1, 0, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (95, 'Space User Management', '', '', 'SpaceUserController_transferSpace_POST', 1, 0, 0, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (97, 'Space User Management', '', '', 'SpaceUserController_listSpaceMember_GET', 1, 1, 0, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (99, 'Knowledge Base', 'Create Knowledge Base', '', 'RepoController_createRepo_POST', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (101, 'Evaluation Dimension', 'Delete Evaluation Dimension', '', 'EvalDimensionController_deleteDimension_GET', 1, 1, 1, 0,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (103, '', '', '', 'DataBaseController_deleteTable_GET', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (105, 'Evaluation Scenario', 'Edit Evaluation Scenario', '', 'EvalDimensionController_updateScene_POST', 1, 1, 1, 0,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (107, 'Workflow', 'Publish Workflow', '', 'WorkflowController_publish_POST', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (109, '', '', '', 'DataBaseController_createDbTable_POST', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (111, '', '', '', 'ToolBoxController_favorite_GET', 1, 1, 1, 0, '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (113, 'Knowledge', 'createKnowledge', '', 'KnowledgeController_createKnowledge_POST', 1, 1, 1, 0,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (115, 'Evaluation Task Retry', 'Evaluation Task Retry', '', 'EvalTaskController_again_GET', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (117, 'Evaluation Object Scenario', 'Evaluation Object', '', 'EvalTaskController_objectList_GET', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (119, 'Evaluation Task Append - Only for Completed Tasks', 'Evaluation Task Append - Only for Completed Tasks', '',
        'EvalTaskController_getEvalReport_GET', 1, 1, 1, 0, '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (121, '', '', '', 'ToolBoxController_createTool_POST', 1, 1, 1, 0, '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (123, 'Evaluation Task Retry', 'Evaluation Task Retry', '', 'EvalTaskController_stopProgress_GET', 1, 1, 1, 0,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (125, '', '', '', 'DataBaseController_getDbTableInfoList_GET', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (127, 'Evaluation Task Delete', 'Evaluation Task Delete', '', 'EvalTaskController_delete_DELETE', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (129, '', '', '', 'DataBaseController_getDatabaseInfo_GET', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (131, 'Knowledge Base', 'Knowledge Base Simple List', '', 'RepoController_list_GET', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (133, '', '', '', 'DataBaseController_getDbTableList_GET', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (135, 'Create Evaluation Task', 'Create Evaluation Task', '', 'EvalTaskController_create_POST', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (137, '', '', '', 'ToolBoxController_getToolDefaultIcon_GET', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (139, 'Evaluation Dimension', 'Edit Evaluation Dimension', '', 'EvalDimensionController_updateDimension_POST', 1, 1, 1, 0,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (141, '', '', '', 'DataBaseController_copyTable_GET', 1, 1, 1, 0, '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (143, 'Evaluation Task Temporary Storage Echo', 'Evaluation Task Temporary Storage Echo', '', 'EvalTaskController_storeTemporary_GET', 1, 1, 1, 0,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (145, 'Model Management', 'Add/Edit Model', '', 'ModelController_validateModel_POST', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (147, 'Knowledge Base', 'Knowledge Base List', '', 'RepoController_listRepos_GET', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (149, '', '', '', 'DataBaseController_deleteDatabase_GET', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (151, 'Knowledge Base', 'Knowledge Base Details', '', 'RepoController_getDetail_GET', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (153, '', '', '', 'DataBaseController_copyDatabase_GET', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (155, '', '', '', 'ToolBoxController_listToolSquare_POST', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (157, 'Create Evaluation Task Temporary Storage', 'Create Evaluation Task Temporary Storage', '', 'EvalTaskController_storeTemporary_POST', 1, 1, 1, 0,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (159, 'Evaluation Scenario', 'Delete Evaluation Scenario', '', 'EvalDimensionController_deleteScene_GET', 1, 1, 1, 0,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (161, '', '', '', 'DataBaseController_createDatabase_POST', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (163, 'Evaluation Task Append Data Echo', 'Evaluation Task Append Data Echo', '', 'EvalTaskController_appendFeedback_GET', 1, 1, 1, 0,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (165, 'Knowledge Base', 'Update Knowledge Base', '', 'RepoController_updateRepo_POST', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (167, 'Knowledge Base', 'Delete Knowledge Base', '', 'RepoController_deleteRepo_DELETE', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (169, '', '', '', 'DataBaseController_selectDatabase_POST', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (171, 'Evaluation Dimension', 'Evaluation Dimension Paged List', '', 'EvalDimensionController_getDimensionPageList_GET', 1, 1, 1, 0,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (173, 'Evaluation Dimension', 'Add Evaluation Dimension', '', 'EvalDimensionController_addScene_POST', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (175, 'Evaluation Set', 'Evaluation Set List', '', 'EvalSetController_list_GET', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (177, '', '', '', 'DataBaseController_importTableData_POST', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (179, '', '', '', 'DataBaseController_updateTable_POST', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (181, '', '', '', 'ToolBoxController_deleteTool_DELETE', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (183, 'Evaluation Set', 'Delete Evaluation Set', '', 'EvalSetController_delete_DELETE', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (185, '', '', '', 'ToolBoxController_listTools_GET', 1, 1, 1, 0, '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (187, 'Knowledge', 'updateKnowledge', '', 'KnowledgeController_updateKnowledge_POST', 1, 1, 1, 0,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (189, 'Create Evaluation Task Temporary Storage', 'Create Evaluation Task Temporary Storage', '', 'EvalTaskController_appendTemporary_POST', 1, 1, 1, 0,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (191, 'Evaluation Set', 'Create Evaluation Set', '', 'EvalSetController_create_POST', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (193, 'Knowledge', 'deleteKnowledge', '', 'KnowledgeController_deleteKnowledge_DELETE', 1, 1, 1, 0,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (195, '', '', '', 'ToolBoxController_getToolVersion_GET', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (197, 'Evaluation Task Append - Only for Completed Tasks', 'Evaluation Task Append - Only for Completed Tasks', '',
        'EvalTaskController_append_POST', 1, 1, 1, 0, '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (199, 'Knowledge', 'enableKnowledge', '', 'KnowledgeController_enableKnowledge_PUT', 1, 1, 1, 0,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (201, '', '', '', 'DataBaseController_operateTableData_POST', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (203, 'Workflow', 'Add Workflow', '', 'WorkflowController_create_POST', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (205, '', '', '', 'DataBaseController_getTableTemplateFile_GET', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (207, 'Evaluation Scenario', 'Evaluation Scenario List', '', 'EvalDimensionController_getSceneList_GET', 1, 1, 1, 0,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (209, 'Evaluation Set', 'Download Evaluation Set', '', 'EvalSetController_download_GET', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (211, '', '', '', 'ToolBoxController_debugToolV2_POST', 1, 1, 1, 0, '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (213, 'File', 'createHtmlFile', '', 'FileController_createHtmlFile_POST', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (215, 'Workflow', 'Edit Workflow', '', 'WorkflowController_update_PUT', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (217, 'File', 'fileIndexingStatus', '', 'FileController_getIndexingStatus_POST', 1, 1, 1, 0,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (219, 'Model Management', 'Model List', '', 'ModelController_list_POST', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (221, 'Evaluation Dimension', 'Evaluation Dimension Total List', '', 'EvalDimensionController_getDimensionList_GET', 1, 1, 1, 0,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (223, 'Evaluation Set', 'Evaluation Set Details', '', 'EvalSetController_get_GET', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (225, 'Evaluation Scenario', 'Add Evaluation Scenario', '', 'EvalDimensionController_addScene_GET', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (227, '', '', '', 'DataBaseController_importDbTableField_POST', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (229, '', '', '', 'DataBaseController_updateDatabase_POST', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (231, 'Knowledge Base', 'Enable Knowledge Base', '', 'RepoController_enableRepo_PUT', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (233, 'Model Management', 'Delete Model', '', 'ModelController_validateModel_GET', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (235, '', '', '', 'ToolBoxController_updateTool_PUT', 1, 1, 1, 0, '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (237, 'File', 'File Upload', '', 'FileController_uploadFile_POST', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (239, '', '', '', 'DataBaseController_getDbTableFieldList_POST', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (241, '', '', '', 'ToolBoxController_getToolLatestVersion_GET', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (243, '', '', '', 'DataBaseController_selectTableData_POST', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (245, 'Evaluation Dimension', 'Import Evaluation Dimension', '', 'EvalDimensionController_importEvalDimensionData_POST', 1, 1, 1, 0,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (247, 'Evaluation Task Scenario', 'Evaluation Task List', '', 'EvalTaskController_list_GET', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (249, 'Workflow', 'Workflow Details', '', 'WorkflowController_detail_GET', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (251, '', '', '', 'DataBaseController_exportTableData_POST', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (253, '', '', '', 'ToolBoxController_temporaryTool_POST', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (255, 'Evaluation Dimension', 'Evaluation Dimension List', '', 'EvalDimensionController_getDimension_GET', 1, 1, 1, 0,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (257, 'Evaluation Task Scenario', 'Evaluation Task Single Details', '', 'EvalTaskController_get_GET', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (259, '', '', '', 'ToolBoxController_getDetail_GET', 1, 1, 1, 0, '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (261, 'Space User Management', '', '', 'SpaceUserController_getUserLimit_GET', 1, 1, 0, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (263, 'Workflow', 'Workflow Build', '', 'WorkflowController_build_POST', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (265, 'Space User Management', '', '', 'SpaceUserController_quitSpace_POST', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (267, 'Invite Management', '', '', 'InviteRecordController_spaceSearchUser_GET', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (269, 'Space User Management', '', '', 'SpaceUserController_remove_DELETE', 1, 1, 0, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (271, 'Evaluation Task Scenario', 'Evaluation Task Name Duplicate Check', '', 'EvalTaskController_checkName_GET', 1, 1, 1, 0,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (273, 'Publish API Access Package', 'Publish API Access Package', '', 'UserAuthController_getBindableOrderId_GET', 1, 0, 0, 0,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (275, 'Publish Management', 'testPoint', '', 'MCPController_getMcpContent_POST', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (277, 'Model Management', 'Enable/Disable Model', '', 'ModelController_switchModel_GET', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (278, 'Model Management', 'Add/Edit Local Model', '', 'ModelController_localModel_POST', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (279, 'Model Management', 'Get Model File Directory List', '', 'ModelController_localModelList_GET', 1, 1, 1, 0,
        '2025-01-01 00:00:00', '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (280, 'Invite Management', '', '', 'InviteRecordController_spaceSearchUsername_GET', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (281, 'Agent Details', '', '', 'MyBotController_getBotDetail_POST', 1, 1, 1, 0, '2025-01-01 00:00:00',
        '2025-01-01 00:00:00');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (282, 'Create Bot', '', '', 'BotCreateController_createBot_POST', 1, 1, 1, 0, '2025-08-11 09:19:40',
        '2025-09-20 16:00:44');
INSERT INTO `agent_space_permission` (`id`, `module`, `point`, `description`, `permission_key`, `owner`, `admin`,
                                      `member`, `available_expired`, `create_time`, `update_time`)
VALUES (283, 'Update Bot', '', '', 'BotCreateController_updateBot_POST', 1, 1, 1, 0, '2025-08-11 09:19:40',
        '2025-08-11 09:19:40');
COMMIT;

-- ----------------------------
-- Table structure for agent_space_user
-- ----------------------------
DROP TABLE IF EXISTS `agent_space_user`;
CREATE TABLE `agent_space_user`
(
    `id`              bigint       NOT NULL AUTO_INCREMENT,
    `space_id`        bigint       NOT NULL COMMENT 'Space ID',
    `uid`             varchar(128) NOT NULL COMMENT 'User ID',
    `nickname`        varchar(64) DEFAULT NULL COMMENT 'User nickname',
    `role`            tinyint      NOT NULL COMMENT 'Role: 1 owner, 2 administrator, 3 member',
    `last_visit_time` datetime    DEFAULT NULL COMMENT 'Last visit time',
    `create_time`     datetime    DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time`     datetime    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    PRIMARY KEY (`id`),
    UNIQUE KEY `space_id_uid_uni_key` (`space_id`,`uid`) USING BTREE,
    KEY               `space_user_uid_key` (`uid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Workspace users';

-- ----------------------------
-- Table structure for ai_prompt_template
-- ----------------------------
DROP TABLE IF EXISTS `ai_prompt_template`;
CREATE TABLE `ai_prompt_template`
(
    `id`             bigint                                                        NOT NULL AUTO_INCREMENT COMMENT 'Primary key ID',
    `prompt_key`     varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT 'Prompt unique identifier',
    `language_code`  varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci  NOT NULL COMMENT 'Language code: zh_CN/en_US',
    `prompt_content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT 'Prompt template content',
    `is_active`      tinyint(1) DEFAULT '1' COMMENT 'Is active (0-disabled, 1-enabled)',
    `created_time`   datetime DEFAULT CURRENT_TIMESTAMP COMMENT 'Created time',
    `updated_time`   datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Updated time',
    PRIMARY KEY (`id`),
    UNIQUE KEY `uk_prompt_key_lang` (`prompt_key`,`language_code`),
    KEY              `idx_is_active` (`is_active`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='AI prompt template table';

BEGIN;
INSERT INTO astron_console.ai_prompt_template
(id, prompt_key, language_code, prompt_content, is_active, created_time, updated_time)
VALUES(1, 'avatar_generation', 'zh', '请为名为"%s"的AI助手生成专业头像。助手描述：%s。要求：简洁现代风格，适合商务场景。', 1, '2025-09-20 11:37:51', '2025-09-20 11:41:22');
INSERT INTO astron_console.ai_prompt_template
(id, prompt_key, language_code, prompt_content, is_active, created_time, updated_time)
VALUES(2, 'avatar_generation', 'en', 'Please generate a professional avatar for an AI assistant named "%s". Assistant
  description: %s. Requirements: simple and modern style, suitable for business scenarios.', 1, '2025-09-20 11:37:51', '2025-09-20 11:41:22');
INSERT INTO astron_console.ai_prompt_template
(id, prompt_key, language_code, prompt_content, is_active, created_time, updated_time)
VALUES(3, 'prologue_generation', 'zh', '请根据给定的助手名称，在100字内生成智能助手简介，准确专业，用于作为助手的宣传文
  本，向用户展示其能力。%n助手名称：%s。%n请直接返回简介，不要添加其他无关语句', 1, '2025-09-20 11:37:51', '2025-09-20 11:41:22');
INSERT INTO astron_console.ai_prompt_template
(id, prompt_key, language_code, prompt_content, is_active, created_time, updated_time)
VALUES(4, 'prologue_generation', 'en', 'Please generate an intelligent agent profile within 100 words based on the given
   agent name, accurate and professional, to be used as promotional text for the agent to showcase its capabilities
  to users.%nAgent name: %s.%nReturn the profile directly without adding other irrelevant statements', 1, '2025-09-20 11:37:51', '2025-09-20 11:41:22');
INSERT INTO astron_console.ai_prompt_template
(id, prompt_key, language_code, prompt_content, is_active, created_time, updated_time)
VALUES(5, 'sentence_bot_generation', 'zh', '你是一个助手配置生成专家。请根据输入信息理解用户意图，合理准确处理用户输入，生成以下字段内容：助手名称、助手分类
  、助手描述(不超过100字)、角色设定、目标任务、需求描述、输入示例。其中输入示例字段需要提供三个具体示例，助手分类必须从【工作、学
  习、写作、编程、生活、健康】中选择。返回结果必须严格按照以下格式：%n助手名称：xxxx%n助手分类：xx%n助手描述：xxxxx%
  n角色设定：xxxxx%n目标任务：xxxxxxxx%n需求描述：xxxxxx%n输入示例：xxxxxxx||xxxxxxx||xxxxxxx%n用户输入为：%s', 1, '2025-09-20 11:37:51', '2025-09-20 11:41:23');
INSERT INTO astron_console.ai_prompt_template
(id, prompt_key, language_code, prompt_content, is_active, created_time, updated_time)
VALUES(6, 'sentence_bot_generation', 'en', 'You are an assistant configuration generation expert. Please understand the
  user''s intent based on the input information, process the user input appropriately and accurately, and generate
  content for the following fields: assistant name, assistant category, assistant description, role setting, target
  task, requirement description, and input examples. The input examples field should provide three specific
  examples, and the assistant category must be selected from [Workplace, Learning, Writing, Programming, Lifestyle,
  Health]. The returned result must strictly follow the format below:%nAssistant Name: xxxx%nAssistant Category:
  xx%nAssistant Description: xxxxx%nRole Setting: xxxxx%nTarget Task: xxxxxxxx%nRequirement Description:
  xxxxxx%nInput Examples: xxxxxxx||xxxxxxx||xxxxxxx%nThe user input is: %s', 1, '2025-09-20 11:37:51', '2025-09-20 11:41:23');
INSERT INTO astron_console.ai_prompt_template
(id, prompt_key, language_code, prompt_content, is_active, created_time, updated_time)
VALUES(8, 'field_mappings', 'en', '{
        "assistant_name": ["Assistant Name:", "助手名称："],
        "assistant_category": ["Assistant Category:", "助手分类："],
        "assistant_description": ["Assistant Description:", "助手描述："],
        "role_setting": ["Role Setting:", "角色设定："],
        "target_task": ["Target Task:", "目标任务："],
        "requirement_description": ["Requirement Description:", "需求描述："],
        "input_examples": ["Input Examples:", "输入示例："]
    }', 1, '2025-09-20 12:59:28', '2025-09-20 12:59:28');
INSERT INTO astron_console.ai_prompt_template
(id, prompt_key, language_code, prompt_content, is_active, created_time, updated_time)
VALUES(10, 'bot_type_mappings', 'en', '{
    "Workplace": 10,
    "Learning": 13,
    "Writing": 14,
    "Programming": 15,
    "Lifestyle": 17,
    "Health": 39,
    "Other": 24,
    "职场": 10,
    "学习": 13,
    "创作": 14,
    "编程": 15,
    "生活": 17,
    "健康": 39,
    "其他": 24
}', 1, '2025-09-20 12:59:49', '2025-09-20 15:01:53');
INSERT INTO astron_console.ai_prompt_template
(id, prompt_key, language_code, prompt_content, is_active, created_time, updated_time)
VALUES(11, 'prompt_struct_labels', 'zh', '{
        "role_setting": "角色设定",
        "target_task": "目标任务",
        "requirement_description": "需求描述"
    }', 1, '2025-09-20 12:59:53', '2025-09-20 12:59:53');
INSERT INTO astron_console.ai_prompt_template
(id, prompt_key, language_code, prompt_content, is_active, created_time, updated_time)
VALUES(12, 'prompt_struct_labels', 'en', '{
        "role_setting": "Role Setting",
        "target_task": "Target Task",
        "requirement_description": "Requirement Description"
    }', 1, '2025-09-20 12:59:57', '2025-09-20 12:59:57');
INSERT INTO astron_console.ai_prompt_template
(id, prompt_key, language_code, prompt_content, is_active, created_time, updated_time)
VALUES(13, 'input_example_generation', 'zh', '
  助手名称如下:

  {{%s}}

  助手描述如下:

  {{%s}}

  助手指令如下:

  {{%s}}

  注意：
  助手是将指令模板与用户输入的详细信息共同输送给大模型从而让大模型完成特定任务的应用；助手描述是描述这个助手要完成的功能
  任务以及用户需要输入什么内容才能更好的实现任务；助手指令是助手给到大模型的指令模板，指令模板与用户输入的详细信息任务共
  同送给大模型，从而让大模型完成助手任务。

  请按照如下步骤进行处理:
  1.仔细阅读助手名称、助手描述、助手指令，理解它们需要大模型完成的任务；
  2.基于上述内容，生成三条作为这个助手的使用用户，需要输入的简短任务描述；
  3.保证返回的内容与助手的任务相匹配且不重复；
  4.任务描述的内容尽量具体，不要只是表达维度；
  5.按行返回你的结果，每条描述一行；
  6.每条描述的长度不要超过20个汉字；【非常重要！！】
  7.切忌啰嗦，言简意赅，用短语表达！！！

  确保返回的三条用户输入的详细任务描述要符合使用助手的要求。
  按照如下格式返回结果:
  1.context1
  2.context2
  3.context3
  ', 1, '2025-09-30 11:24:14', '2025-09-30 11:24:14');
INSERT INTO astron_console.ai_prompt_template
(id, prompt_key, language_code, prompt_content, is_active, created_time, updated_time)
VALUES(14, 'input_example_generation', 'en', '
  Assistant name as follows:

  {{%s}}

  Assistant description as follows:

  {{%s}}

  Assistant instructions as follows:

  {{%s}}

  Note:
  An assistant is an application that sends the instruction template together with the user''s detailed input to
  the large model to complete a specific task. The assistant description states what the assistant should accomplish
  and what the user needs to provide. The assistant instructions are the instruction template sent to the model; the
  template plus the user''s detailed input are used to complete the task.

  Please follow these steps:

  1. Carefully read the assistant name, assistant description, and assistant instructions to understand the intended
  task.
  2. Based on the above, generate three short task descriptions that a user would input when using this assistant.
  3. Ensure the outputs match the assistant task and do not repeat each other.
  4. Be specific; avoid vague dimensions only.
  5. Return your results line by line, one description per line.
  6. Each description must be no more than 20 words. [VERY IMPORTANT!!]
  7. Be concise and avoid verbosity; use short phrases.

  Ensure the three user input task descriptions are appropriate for this assistant.
  Return results in the following format:
  1.context1
  2.context2
  3.context3
  ', 1, '2025-09-30 13:31:59', '2025-09-30 13:31:59');
COMMIT;

-- ----------------------------
-- Table structure for application_form
-- ----------------------------
DROP TABLE IF EXISTS `application_form`;
CREATE TABLE `application_form`
(
    `id`          bigint       NOT NULL AUTO_INCREMENT COMMENT 'Primary key',
    `nickname`    varchar(255) NOT NULL COMMENT 'User nickname',
    `mobile`      varchar(255) NOT NULL COMMENT 'Mobile number',
    `bot_name`    varchar(255) NOT NULL COMMENT 'Assistant name',
    `bot_id`      bigint       NOT NULL COMMENT 'Assistant ID',
    `create_time` datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    PRIMARY KEY (`id`),
    KEY           `idx_bot_id` (`bot_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for auth_apply_record
-- ----------------------------
DROP TABLE IF EXISTS `auth_apply_record`;
CREATE TABLE `auth_apply_record`
(
    `id`            int NOT NULL AUTO_INCREMENT,
    `app_id`        varchar(128) DEFAULT NULL,
    `domain`        varchar(255) DEFAULT NULL,
    `content`       text,
    `create_time`   datetime     DEFAULT NULL,
    `uid`           varchar(128) DEFAULT NULL,
    `channel`       varchar(255) DEFAULT NULL,
    `patch_id`      varchar(128) DEFAULT NULL,
    `auto_auth`     bit(1)       DEFAULT NULL,
    `auth_order_id` varchar(255) DEFAULT NULL,
    PRIMARY KEY (`id`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci ROW_FORMAT=DYNAMIC;

-- ----------------------------
-- Table structure for base_model_map
-- ----------------------------
DROP TABLE IF EXISTS `base_model_map`;
CREATE TABLE `base_model_map`
(
    `id`              int unsigned NOT NULL AUTO_INCREMENT,
    `create_time`     datetime NOT NULL                                             DEFAULT CURRENT_TIMESTAMP,
    `domain`          varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL,
    `base_model_id`   bigint                                                        DEFAULT NULL,
    `base_model_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL,
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for bot_chat_file_param
-- ----------------------------
DROP TABLE IF EXISTS `bot_chat_file_param`;
CREATE TABLE `bot_chat_file_param`
(
    `id`          bigint                                                        NOT NULL AUTO_INCREMENT COMMENT 'Primary key ID',
    `uid`         varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT 'User ID',
    `chat_id`     bigint                                                        NOT NULL COMMENT 'Chat ID',
    `name`        varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT 'Parameter name',
    `file_ids`    json     DEFAULT NULL COMMENT 'File ID list',
    `file_urls`   json     DEFAULT NULL COMMENT 'File URL list',
    `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    `is_delete`   tinyint  DEFAULT '0' COMMENT 'Whether deleted: 0 not deleted, 1 deleted',
    PRIMARY KEY (`id`),
    KEY           `idx_uid` (`uid`),
    KEY           `idx_chat_id` (`chat_id`),
    KEY           `idx_name` (`name`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Bot chat file parameter info table';

-- ----------------------------
-- Table structure for bot_conversation_stats
-- ----------------------------
DROP TABLE IF EXISTS `bot_conversation_stats`;
CREATE TABLE `bot_conversation_stats`
(
    `id`                bigint                                                        NOT NULL AUTO_INCREMENT COMMENT 'Primary key ID',
    `uid`               varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT 'User ID',
    `space_id`          bigint                                                                 DEFAULT NULL COMMENT 'Space ID, NULL for personal agents',
    `bot_id`            int                                                           NOT NULL COMMENT 'Agent ID',
    `chat_id`           bigint                                                        NOT NULL COMMENT 'Conversation ID',
    `sid`               varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci          DEFAULT NULL COMMENT 'Session identifier',
    `token_consumed`    int                                                           NOT NULL DEFAULT '0' COMMENT 'Token count consumed in this conversation',
    `conversation_date` date                                                          NOT NULL COMMENT 'Conversation date',
    `create_time`       datetime                                                      NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `is_delete`         tinyint                                                       NOT NULL DEFAULT '0' COMMENT 'Whether deleted: 0=not deleted, 1=deleted',
    PRIMARY KEY (`id`),
    KEY                 `idx_bot_id_date` (`bot_id`,`conversation_date`),
    KEY                 `idx_uid_bot_id` (`uid`,`bot_id`),
    KEY                 `idx_space_id_bot_id` (`space_id`,`bot_id`),
    KEY                 `idx_chat_id` (`chat_id`),
    KEY                 `idx_create_time` (`create_time`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Bot conversation statistics table';

-- ----------------------------
-- Table structure for bot_dataset
-- ----------------------------
DROP TABLE IF EXISTS `bot_dataset`;
CREATE TABLE `bot_dataset`
(
    `id`            bigint NOT NULL AUTO_INCREMENT,
    `bot_id`        bigint NOT NULL COMMENT 'Corresponding primary key ID of chat_bot_base table',
    `dataset_id`    bigint       DEFAULT NULL COMMENT 'Primary key ID of dataset_info table',
    `dataset_index` varchar(255) DEFAULT NULL COMMENT 'Knowledge database dataset ID',
    `is_act`        tinyint      DEFAULT '1' COMMENT 'Whether effective: 0 inactive, 1 active, 2 under review after market update',
    `create_time`   datetime     DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time`   datetime     DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    `uid`           varchar(128) DEFAULT NULL COMMENT 'User ID',
    PRIMARY KEY (`id`),
    UNIQUE KEY `idx_id_bot_id` (`id`,`bot_id`),
    KEY             `idx_uid` (`uid`),
    KEY             `idx_is_act` (`is_act`),
    KEY             `idx_create_time` (`create_time`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Bot associated dataset index table';

-- ----------------------------
-- Table structure for bot_dataset_maas
-- ----------------------------
DROP TABLE IF EXISTS `bot_dataset_maas`;
CREATE TABLE `bot_dataset_maas`
(
    `id`            bigint NOT NULL AUTO_INCREMENT,
    `bot_id`        bigint NOT NULL COMMENT 'Corresponding primary key ID of chat_bot_base table',
    `dataset_id`    bigint       DEFAULT NULL COMMENT 'Primary key ID of dataset_info table',
    `dataset_index` varchar(255) DEFAULT NULL COMMENT 'Knowledge database dataset ID',
    `is_act`        tinyint      DEFAULT '1' COMMENT 'Whether effective: 0 inactive, 1 active, 2 under review after market update',
    `create_time`   datetime     DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time`   datetime     DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    `uid`           varchar(128) DEFAULT NULL COMMENT 'User ID',
    PRIMARY KEY (`id`),
    UNIQUE KEY `idx_id_bot_id` (`id`,`bot_id`),
    KEY             `idx_uid` (`uid`),
    KEY             `idx_is_act` (`is_act`),
    KEY             `idx_create_time` (`create_time`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Bot associated maas dataset index table';

-- ----------------------------
-- Table structure for bot_favorite
-- ----------------------------
DROP TABLE IF EXISTS `bot_favorite`;
CREATE TABLE `bot_favorite`
(
    `id`          bigint       NOT NULL AUTO_INCREMENT,
    `uid`         varchar(128) NOT NULL,
    `bot_id`      int          NOT NULL,
    `create_time` datetime DEFAULT NULL,
    `update_time` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    PRIMARY KEY (`id`),
    KEY           `idx_uid` (`uid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Bot favorites';

-- ----------------------------
-- Table structure for bot_flow_rel
-- ----------------------------
DROP TABLE IF EXISTS `bot_flow_rel`;
CREATE TABLE `bot_flow_rel`
(
    `id`          int unsigned NOT NULL AUTO_INCREMENT,
    `create_time` datetime     DEFAULT CURRENT_TIMESTAMP,
    `flow_id`     varchar(255) DEFAULT NULL,
    `bot_id`      bigint       DEFAULT NULL,
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for bot_model_bind
-- ----------------------------
DROP TABLE IF EXISTS `bot_model_bind`;
CREATE TABLE `bot_model_bind`
(
    `id`             bigint       NOT NULL AUTO_INCREMENT,
    `uid`            varchar(128) NOT NULL,
    `bot_id`         bigint                DEFAULT NULL,
    `app_id`         varchar(255) NOT NULL,
    `llm_service_id` varchar(255) NOT NULL,
    `domain`         varchar(255) NOT NULL,
    `patch_id`       varchar(255) NOT NULL DEFAULT '0',
    `model_name`     varchar(255)          DEFAULT NULL,
    `create_time`    datetime              DEFAULT NULL,
    `model_type`     tinyint               DEFAULT '1',
    PRIMARY KEY (`id`) USING BTREE,
    UNIQUE KEY `bot_id` (`bot_id`,`app_id`(191),`llm_service_id`(191),`domain`(191),`patch_id`(191)) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci ROW_FORMAT=DYNAMIC;

-- ----------------------------
-- Table structure for bot_model_config
-- ----------------------------
DROP TABLE IF EXISTS `bot_model_config`;
CREATE TABLE `bot_model_config`
(
    `id`           bigint NOT NULL AUTO_INCREMENT,
    `bot_id`       bigint NOT NULL COMMENT 'Bot ID',
    `model_config` text   NOT NULL COMMENT 'Model configuration',
    `create_time`  datetime DEFAULT NULL,
    `update_time`  datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for bot_offiaccount
-- ----------------------------
DROP TABLE IF EXISTS `bot_offiaccount`;
CREATE TABLE `bot_offiaccount`
(
    `id`           bigint NOT NULL AUTO_INCREMENT,
    `uid`          varchar(128) DEFAULT NULL COMMENT 'User ID',
    `bot_id`       bigint       DEFAULT NULL COMMENT 'Assistant ID',
    `appid`        varchar(100) DEFAULT NULL COMMENT 'WeChat official account app ID',
    `release_type` tinyint      DEFAULT '1' COMMENT 'Release type: 1 WeChat official account',
    `status`       tinyint      DEFAULT '0' COMMENT 'Binding status: 0-unbound, 1-bound, 2-unbound',
    `create_time`  datetime     DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time`  datetime     DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    PRIMARY KEY (`id`),
    KEY            `bot_id_index` (`bot_id`),
    KEY            `uid_index` (`uid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Bot and WeChat Official Account binding information';

-- ----------------------------
-- Table structure for bot_offiaccount_chat
-- ----------------------------
DROP TABLE IF EXISTS `bot_offiaccount_chat`;
CREATE TABLE `bot_offiaccount_chat`
(
    `id`          bigint NOT NULL AUTO_INCREMENT,
    `app_id`      varchar(64) DEFAULT NULL COMMENT 'WeChat official account app ID',
    `open_id`     varchar(64) DEFAULT NULL COMMENT 'User ID who followed WeChat official account',
    `msg_id`      bigint      DEFAULT NULL COMMENT 'WeChat message ID, equivalent to req_id',
    `req`         text COMMENT 'Message sent by user',
    `resp`        text COMMENT 'Message returned by large model',
    `sid`         varchar(64) DEFAULT NULL COMMENT 'Session identifier',
    `create_time` datetime    DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time` datetime    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    PRIMARY KEY (`id`),
    KEY           `index_app_id` (`app_id`),
    KEY           `index_open_id` (`open_id`),
    KEY           `index_msg_id` (`msg_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='WeChat Official Account Q&A record table';

-- ----------------------------
-- Table structure for bot_offiaccount_record
-- ----------------------------
DROP TABLE IF EXISTS `bot_offiaccount_record`;
CREATE TABLE `bot_offiaccount_record`
(
    `id`          bigint NOT NULL AUTO_INCREMENT,
    `bot_id`      bigint       DEFAULT NULL COMMENT 'Assistant ID',
    `appid`       varchar(100) DEFAULT NULL COMMENT 'WeChat official account app ID',
    `auth_type`   tinyint      DEFAULT NULL COMMENT 'Operation type: 1 bind, 2 unbind',
    `create_time` datetime     DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time` datetime     DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    PRIMARY KEY (`id`),
    KEY           `appid_index` (`appid`),
    KEY           `bot_id_index` (`bot_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Bot publishing operation record table';

-- ----------------------------
-- Table structure for bot_repo_rel
-- ----------------------------
DROP TABLE IF EXISTS `bot_repo_rel`;
CREATE TABLE `bot_repo_rel`
(
    `id`          bigint       NOT NULL AUTO_INCREMENT,
    `bot_id`      bigint       NOT NULL COMMENT 'Bot ID',
    `app_id`      varchar(64)  NOT NULL COMMENT 'App ID',
    `repo_id`     varchar(200) NOT NULL COMMENT 'Repo ID',
    `file_ids`    varchar(500) DEFAULT NULL COMMENT 'File list',
    `create_time` timestamp NULL DEFAULT NULL,
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for bot_tool_rel
-- ----------------------------
DROP TABLE IF EXISTS `bot_tool_rel`;
CREATE TABLE `bot_tool_rel`
(
    `id`          bigint       NOT NULL AUTO_INCREMENT,
    `bot_id`      bigint       NOT NULL COMMENT 'Bot ID',
    `tool_id`     varchar(100) NOT NULL COMMENT 'Tool ID',
    `create_time` timestamp NULL DEFAULT NULL,
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for bot_type_list
-- ----------------------------
DROP TABLE IF EXISTS `bot_type_list`;
CREATE TABLE `bot_type_list`
(
    `id`           int NOT NULL AUTO_INCREMENT COMMENT 'Non-business primary key',
    `type_key`     int          DEFAULT NULL COMMENT 'Assistant type code',
    `type_name`    varchar(255) DEFAULT NULL COMMENT 'Assistant type name',
    `order_num`    int          DEFAULT '0' COMMENT 'Sort order number',
    `show_index`   tinyint      DEFAULT '0' COMMENT 'Whether recommended: 1 recommended, 0 not recommended',
    `is_act`       tinyint      DEFAULT '1' COMMENT 'Enable status: 0 disabled, 1 enabled',
    `create_time`  datetime     DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time`  datetime     DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    `icon`         varchar(500) DEFAULT '' COMMENT 'Icon URL',
    `type_name_en` varchar(128) DEFAULT NULL COMMENT 'Assistant type English name',
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Bot type mapping table';
BEGIN;
INSERT INTO astron_console.bot_type_list
(id, type_key, type_name, order_num, show_index, is_act, create_time, update_time, icon, type_name_en)
VALUES(4, 10, '工作', 10, 1, 1, '2025-09-20 15:16:15', '2025-09-20 15:16:15', '', 'Workplace');
INSERT INTO astron_console.bot_type_list
(id, type_key, type_name, order_num, show_index, is_act, create_time, update_time, icon, type_name_en)
VALUES(5, 13, '学习', 20, 1, 1, '2025-09-20 15:16:15', '2025-09-20 15:16:15', '', 'Learning');
INSERT INTO astron_console.bot_type_list
(id, type_key, type_name, order_num, show_index, is_act, create_time, update_time, icon, type_name_en)
VALUES(6, 14, '写作', 30, 1, 1, '2025-09-20 15:16:15', '2025-09-20 15:16:15', '', 'Writing');
INSERT INTO astron_console.bot_type_list
(id, type_key, type_name, order_num, show_index, is_act, create_time, update_time, icon, type_name_en)
VALUES(7, 15, '编程', 40, 1, 1, '2025-09-20 15:16:15', '2025-09-20 15:16:15', '', 'Programming');
INSERT INTO astron_console.bot_type_list
(id, type_key, type_name, order_num, show_index, is_act, create_time, update_time, icon, type_name_en)
VALUES(8, 17, '生活', 50, 1, 1, '2025-09-20 15:16:15', '2025-09-20 15:16:15', '', 'Lifestyle');
INSERT INTO astron_console.bot_type_list
(id, type_key, type_name, order_num, show_index, is_act, create_time, update_time, icon, type_name_en)
VALUES(9, 39, '健康', 60, 1, 1, '2025-09-20 15:16:15', '2025-09-20 15:16:15', '', 'Health');
INSERT INTO astron_console.bot_type_list
(id, type_key, type_name, order_num, show_index, is_act, create_time, update_time, icon, type_name_en)
VALUES(10, 24, '其他', 100, 0, 1, '2025-09-20 15:16:15', '2025-09-20 15:16:15', '', 'Other');
COMMIT;

-- ----------------------------
-- Table structure for call_log
-- ----------------------------
DROP TABLE IF EXISTS `call_log`;
CREATE TABLE `call_log`
(
    `id`          bigint NOT NULL AUTO_INCREMENT,
    `sid`         varchar(255) DEFAULT NULL,
    `req`         text,
    `resp`        text,
    `create_time` datetime     DEFAULT NULL,
    `type`        varchar(255) DEFAULT NULL,
    `url`         varchar(512) DEFAULT NULL,
    `method`      varchar(64)  DEFAULT NULL,
    PRIMARY KEY (`id`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci ROW_FORMAT=DYNAMIC;

-- ----------------------------
-- Table structure for chat_bot_api
-- ----------------------------
DROP TABLE IF EXISTS `chat_bot_api`;
CREATE TABLE `chat_bot_api`
(
    `id`           bigint        NOT NULL AUTO_INCREMENT,
    `uid`          varchar(128)  NOT NULL COMMENT 'User ID',
    `bot_id`       int           NOT NULL COMMENT 'Assistant ID',
    `assistant_id` varchar(32)   NOT NULL COMMENT 'Engineering assistant ID',
    `app_id`       varchar(32)  DEFAULT NULL COMMENT 'App ID associated with assistant API capability',
    `api_secret`   varchar(64)   NOT NULL COMMENT 'API secret',
    `api_key`      varchar(64)   NOT NULL COMMENT 'API key',
    `api_path`     varchar(32)   NOT NULL COMMENT 'Path of assistant API capability',
    `prompt`       varchar(2048) NOT NULL COMMENT 'Prompt of assistant API capability',
    `plugin_id`    varchar(256)  NOT NULL COMMENT 'Plugin ID, multiple separated by commas',
    `embedding_id` varchar(256)  NOT NULL COMMENT 'Embedding ID, multiple separated by commas',
    `description`  varchar(256) DEFAULT NULL COMMENT 'Description',
    `create_time`  datetime     DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time`  datetime     DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    PRIMARY KEY (`id`),
    UNIQUE KEY `idx_assistant_id` (`assistant_id`),
    KEY            `idx_bot_id` (`bot_id`),
    KEY            `idx_uid` (`uid`),
    KEY            `idx_create_time` (`create_time`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Bot API capability information table';

-- ----------------------------
-- Table structure for chat_bot_base
-- ----------------------------
DROP TABLE IF EXISTS `chat_bot_base`;
CREATE TABLE `chat_bot_base`
(
    `id`                int     NOT NULL AUTO_INCREMENT COMMENT 'bot_id',
    `uid`               varchar(128)     DEFAULT NULL COMMENT 'User ID',
    `bot_name`          varchar(48)      DEFAULT NULL COMMENT 'Bot name',
    `bot_type`          tinyint          DEFAULT NULL COMMENT 'Bot type: 1 custom assistant, 2 life assistant, 3 workplace assistant, 4 marketing assistant, 5 writing expert, 6 knowledge expert',
    `avatar`            varchar(1024)    DEFAULT NULL COMMENT 'Bot avatar',
    `pc_background`     varchar(512)     DEFAULT '' COMMENT 'PC chat background image',
    `app_background`    varchar(512)     DEFAULT '' COMMENT 'Mobile chat background image',
    `background_color`  tinyint          DEFAULT '0' COMMENT 'Background color depth: 0 light, 1 dark',
    `prompt`            varchar(2048)    DEFAULT NULL COMMENT 'bot_prompt',
    `prologue`          varchar(512)     DEFAULT NULL COMMENT 'Opening words',
    `bot_desc`          varchar(255)     DEFAULT NULL COMMENT 'Bot description',
    `is_delete`         tinyint          DEFAULT '0' COMMENT 'Whether deleted: 0 not deleted, 1 deleted',
    `create_time`       datetime         DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time`       datetime         DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    `support_context`   tinyint NOT NULL DEFAULT '0' COMMENT 'Whether supports multi-turn dialogue: 1 support, 0 not support',
    `bot_template`      varchar(255)     DEFAULT '' COMMENT 'Input template',
    `prompt_type`       tinyint unsigned NOT NULL DEFAULT '0' COMMENT 'Instruction type: 0 regular (custom instruction), 1 structured instruction',
    `input_example`     varchar(600)     DEFAULT '' COMMENT 'Input example',
    `botweb_status`     tinyint NOT NULL DEFAULT '0' COMMENT 'Whether to enable standalone assistant application: 0 disabled, 1 enabled',
    `version`           int              DEFAULT '1' COMMENT 'Assistant version number',
    `support_document`  tinyint          DEFAULT '0' COMMENT 'Whether supports files: 0 not support, 1 strictly based on document, 2 can give divergent answers',
    `support_system`    tinyint          DEFAULT '0' COMMENT 'Whether supports system instruction: 0 not support, 1 support',
    `prompt_system`     tinyint          DEFAULT '0' COMMENT 'System instruction status',
    `support_upload`    tinyint NOT NULL DEFAULT '0' COMMENT 'Whether supports document upload: 0 not support, 1 support',
    `bot_name_en`       varchar(48)      DEFAULT NULL COMMENT 'Assistant name English version',
    `bot_desc_en`       varchar(500)     DEFAULT NULL COMMENT 'Assistant description English version',
    `client_type`       tinyint NOT NULL DEFAULT '0' COMMENT 'Client type',
    `vcn_cn`            varchar(32)      DEFAULT NULL COMMENT 'Chinese voice actor',
    `vcn_en`            varchar(32)      DEFAULT NULL COMMENT 'English voice actor',
    `vcn_speed`         tinyint NOT NULL DEFAULT '50' COMMENT 'Voice actor speed',
    `is_sentence`       tinyint NOT NULL DEFAULT '0' COMMENT 'Whether generated in one sentence: 0 no, 1 yes',
    `opened_tool`       varchar(128)     DEFAULT 'ifly_search,text_to_image,codeinterpreter' COMMENT 'Enabled tools, concatenated with commas',
    `client_hide`       varchar(10)      DEFAULT '' COMMENT 'Hidden on some clients',
    `virtual_bot_type`  tinyint          DEFAULT NULL COMMENT 'Virtual personality type',
    `virtual_agent_id`  bigint           DEFAULT NULL COMMENT 'Primary key of virtual_agent_list',
    `style`             int              DEFAULT NULL COMMENT 'Style type: 0 original, 1 business elite, 2 casual moment',
    `background`        varchar(512)     DEFAULT NULL COMMENT 'Background setting',
    `virtual_character` varchar(512)     DEFAULT NULL COMMENT 'Character setting',
    `model`             varchar(32)      DEFAULT 'spark' COMMENT 'Model selected by assistant',
    `maas_bot_id`       varchar(50)      DEFAULT NULL COMMENT 'maas_bot_id',
    `prologue_en`       varchar(1024)    DEFAULT NULL COMMENT 'Opening words - English',
    `input_example_en`  varchar(1024)    DEFAULT NULL COMMENT 'Recommended questions - English',
    `space_id`          bigint           DEFAULT NULL COMMENT 'Space ID',
    `model_id`          bigint           DEFAULT NULL COMMENT 'Custom model ID',
    PRIMARY KEY (`id`),
    KEY                 `idx_create_time` (`create_time`),
    KEY                 `idx_support_context` (`support_context`),
    KEY                 `idx_uid` (`uid`),
    KEY                 `idx_botweb_status` (`botweb_status`),
    KEY                 `idx_space_id` (`space_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='User created bot table';

-- ----------------------------
-- Table structure for chat_bot_list
-- ----------------------------
DROP TABLE IF EXISTS `chat_bot_list`;
CREATE TABLE `chat_bot_list`
(
    `id`              int     NOT NULL AUTO_INCREMENT,
    `uid`             varchar(128)     DEFAULT NULL COMMENT 'User ID',
    `market_bot_id`   int              DEFAULT '0' COMMENT 'Market bot ID, 0 for original, other values for referencing other users bots',
    `real_bot_id`     int              DEFAULT '0' COMMENT 'Self-created assistant is 0, only when adding others assistants from market, the original bot_id is added',
    `name`            varchar(48)      DEFAULT NULL COMMENT 'Bot name',
    `bot_type`        tinyint          DEFAULT '1' COMMENT 'Bot type: 1 custom assistant, 2 life assistant, 3 workplace assistant, 4 marketing assistant, 5 writing expert, 6 knowledge expert',
    `avatar`          varchar(1024)    DEFAULT NULL COMMENT 'Bot avatar',
    `prompt`          varchar(2048)    DEFAULT NULL COMMENT 'bot_prompt',
    `bot_desc`        varchar(255)     DEFAULT NULL COMMENT 'Bot description',
    `is_act`          tinyint          DEFAULT '1' COMMENT 'Whether enabled: 0 disabled, 1 enabled',
    `create_time`     datetime         DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time`     datetime         DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    `support_context` tinyint NOT NULL DEFAULT '0' COMMENT 'Whether supports multi-turn dialogue: 1 support, 0 not support',
    PRIMARY KEY (`id`),
    KEY               `idx_act` (`is_act`),
    KEY               `idx_create_time2` (`create_time`),
    KEY               `idx_real_bot_id` (`real_bot_id`),
    KEY               `idx_uid` (`uid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='User added bot table';

-- ----------------------------
-- Table structure for chat_bot_market
-- ----------------------------
DROP TABLE IF EXISTS `chat_bot_market`;
CREATE TABLE `chat_bot_market`
(
    `id`               int     NOT NULL AUTO_INCREMENT,
    `bot_id`           int                                                          DEFAULT NULL COMMENT 'botId',
    `uid`              varchar(128)                                                 DEFAULT NULL COMMENT 'Publisher UID',
    `bot_name`         varchar(48)                                                  DEFAULT NULL COMMENT 'Bot name, this is a copy, original is with creator',
    `bot_type`         tinyint                                                      DEFAULT '1' COMMENT 'Bot type: 1 custom assistant, 2 life assistant, 3 workplace assistant, 4 marketing assistant, 5 writing expert, 6 knowledge expert',
    `avatar`           varchar(1024)                                                DEFAULT NULL COMMENT 'Bot avatar',
    `pc_background`    varchar(512)                                                 DEFAULT '' COMMENT 'PC chat background image',
    `app_background`   varchar(512)                                                 DEFAULT '' COMMENT 'Mobile chat background image',
    `background_color` tinyint                                                      DEFAULT '0' COMMENT 'Background color depth: 0 light, 1 dark',
    `prompt`           varchar(2048)                                                DEFAULT NULL COMMENT 'bot_prompt',
    `prologue`         varchar(512)                                                 DEFAULT NULL COMMENT 'Opening words',
    `show_others`      tinyint                                                      DEFAULT NULL COMMENT 'Whether to show prompt to others: 1 show, 0 not show',
    `bot_desc`         varchar(255)                                                 DEFAULT NULL COMMENT 'Bot description',
    `bot_status`       tinyint                                                      DEFAULT '1' COMMENT 'Bot status: 0 delisted, 1 under review, 2 approved, 3 rejected, 4 modification under review (to be displayed)',
    `block_reason`     varchar(255)                                                 DEFAULT NULL COMMENT 'Reason for rejection',
    `hot_num`          int                                                          DEFAULT '0' COMMENT 'Popularity, customizable size for sorting',
    `is_delete`        tinyint                                                      DEFAULT '0' COMMENT 'Application history: 0 not deleted, 1 deleted',
    `show_index`       tinyint                                                      DEFAULT '0' COMMENT 'Whether to display on homepage recommendation: 0 not display, 1 display',
    `sort_hot`         int                                                          DEFAULT '0' COMMENT 'Manually set hottest bot position',
    `sort_latest`      int                                                          DEFAULT '0' COMMENT 'Manually set latest bot position',
    `audit_time`       datetime                                                     DEFAULT NULL COMMENT 'Review time',
    `create_time`      datetime                                                     DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time`      datetime                                                     DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    `support_context`  tinyint NOT NULL                                             DEFAULT '0' COMMENT 'Whether supports multi-turn dialogue: 1 support, 0 not support',
    `version`          int                                                          DEFAULT '1' COMMENT 'Corresponding large model version, 13, 65, unit: billion',
    `show_weight`      int                                                          DEFAULT '1' COMMENT 'Homepage recommended assistant weight, larger number comes first',
    `score`            int                                                          DEFAULT NULL COMMENT 'Score given upon approval',
    `client_hide`      varchar(10)                                                  DEFAULT '' COMMENT 'Hidden on some clients',
    `model`            varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT 'Corresponding large model type',
    `opened_tool`      varchar(255)                                                 DEFAULT NULL COMMENT 'Enabled tools',
    `publish_channels` varchar(255)                                                 DEFAULT NULL COMMENT 'Publishing channels: MARKET,API,WECHAT,MCP comma separated',
    `model_id`         bigint                                                       DEFAULT NULL COMMENT 'Custom model ID',
    `support_document`  tinyint NOT NULL                                             DEFAULT '0' COMMENT 'Does it support the knowledge base? 0 - Not supported, 1 - Supported',
    PRIMARY KEY (`id`),
    KEY                `idx_bot_id` (`bot_id`),
    KEY                `idx_create_time3` (`create_time`),
    KEY                `uid_index` (`uid`),
    KEY                `idx_bot_status` (`bot_status`,`bot_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Bot market table';

-- ----------------------------
-- Table structure for chat_bot_prompt_struct
-- ----------------------------
DROP TABLE IF EXISTS `chat_bot_prompt_struct`;
CREATE TABLE `chat_bot_prompt_struct`
(
    `id`           bigint                                                         NOT NULL AUTO_INCREMENT,
    `bot_id`       int                                                            NOT NULL COMMENT 'chat_bot_id.id',
    `prompt_key`   varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci   NOT NULL COMMENT 'Custom instruction - key',
    `prompt_value` varchar(2550) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '' COMMENT 'Custom instruction - value',
    `create_time`  datetime                                                                DEFAULT NULL,
    `update_time`  datetime                                                                DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
    PRIMARY KEY (`id`),
    KEY            `idx_bot_id` (`bot_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Structured instruction';

-- ----------------------------
-- Table structure for chat_bot_remove
-- ----------------------------
DROP TABLE IF EXISTS `chat_bot_remove`;
CREATE TABLE `chat_bot_remove`
(
    `id`           int NOT NULL AUTO_INCREMENT,
    `bot_id`       int           DEFAULT NULL COMMENT 'botId',
    `uid`          varchar(128)  DEFAULT NULL COMMENT 'Publisher UID',
    `bot_name`     varchar(48)   DEFAULT NULL COMMENT 'Bot name, this is a copy, original is with creator',
    `bot_type`     tinyint       DEFAULT '1' COMMENT 'Bot type: 1 custom assistant, 2 life assistant, 3 workplace assistant, 4 marketing assistant, 5 writing expert, 6 knowledge expert',
    `avatar`       varchar(512)  DEFAULT NULL COMMENT 'Bot avatar URL',
    `prompt`       varchar(2048) DEFAULT NULL COMMENT 'bot_prompt',
    `bot_desc`     varchar(255)  DEFAULT NULL COMMENT 'Bot description',
    `block_reason` varchar(255)  DEFAULT NULL COMMENT 'Reason for rejection',
    `is_delete`    tinyint       DEFAULT '0' COMMENT 'Application history: 0 not deleted, 1 deleted',
    `audit_time`   datetime      DEFAULT NULL COMMENT 'Review time',
    `create_time`  datetime      DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time`  datetime      DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    PRIMARY KEY (`id`),
    KEY            `idx_bot_id` (`bot_id`),
    KEY            `idx_bot_type` (`bot_type`),
    KEY            `idx_create_time4` (`create_time`),
    KEY            `uid_index` (`uid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Delisted bot history table';

-- ----------------------------
-- Table structure for chat_file_req
-- ----------------------------
DROP TABLE IF EXISTS `chat_file_req`;
CREATE TABLE `chat_file_req`
(
    `id`            bigint       NOT NULL AUTO_INCREMENT,
    `file_id`       varchar(64)  NOT NULL COMMENT 'Document Q&A file ID',
    `chat_id`       bigint       NOT NULL COMMENT 'Chat ID',
    `req_id`        bigint                DEFAULT NULL COMMENT 'req_id',
    `uid`           varchar(128) NOT NULL COMMENT 'Owner UID',
    `create_time`   datetime              DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time`   datetime              DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    `client_type`   tinyint      NOT NULL DEFAULT '0' COMMENT 'Client type: 0 unknown, 1 PC, 2 H5 mainly for statistics',
    `deleted`       tinyint      NOT NULL DEFAULT '0' COMMENT 'Whether deleted: 0 not deleted, 1 deleted',
    `business_type` tinyint      NOT NULL DEFAULT '0' COMMENT 'Document type: 0 long document, 1 long audio, 2 long video, 3 OCR',
    PRIMARY KEY (`id`),
    KEY             `idx_chatid_uid_fileid` (`chat_id`,`uid`,`file_id`),
    KEY             `idx_create_time` (`create_time`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Chatfile Q&A binding information';

-- ----------------------------
-- Table structure for chat_file_user
-- ----------------------------
DROP TABLE IF EXISTS `chat_file_user`;
CREATE TABLE `chat_file_user`
(
    `id`                  bigint       NOT NULL AUTO_INCREMENT,
    `file_id`             varchar(64)           DEFAULT NULL COMMENT 'Document Q&A file ID',
    `uid`                 varchar(128) NOT NULL COMMENT 'Owner UID',
    `file_url`            varchar(1024)         DEFAULT NULL COMMENT 'File URL',
    `file_name`           varchar(128)          DEFAULT NULL COMMENT 'File name',
    `file_size`           bigint                DEFAULT NULL COMMENT 'File size',
    `file_pdf_url`        varchar(1024)         DEFAULT NULL COMMENT 'File PDF URL',
    `create_time`         datetime              DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time`         datetime              DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    `deleted`             tinyint      NOT NULL DEFAULT '0' COMMENT 'Whether deleted: 0 not deleted, 1 deleted',
    `client_type`         tinyint      NOT NULL DEFAULT '0' COMMENT 'Client type: 0 unknown, 1 PC, 2 H5 mainly for statistics',
    `business_type`       tinyint      NOT NULL DEFAULT '0' COMMENT 'Document type: 0 long document, 1 long audio, 2 long video, 3 OCR',
    `display`             tinyint      NOT NULL DEFAULT '0' COMMENT 'Whether to display in history knowledge base: 0 display, 1 not display',
    `file_status`         tinyint      NOT NULL DEFAULT '1' COMMENT 'Document status: 0 unprocessed, 1 processing, 2 completed, 3 failed',
    `file_business_key`   varchar(1024)         DEFAULT NULL COMMENT 'Frontend maintained file unique key',
    `extra_link`          varchar(1024)         DEFAULT NULL COMMENT 'Video external link processing',
    `document_type`       tinyint               DEFAULT '1' COMMENT 'Document classification: 1 Spark document, 2 Zhiwen, see light_app_detail.additional_info field',
    `file_index`          int                   DEFAULT NULL COMMENT 'Daily upload count per user',
    `scene_type_id`       bigint                DEFAULT NULL COMMENT 'File scenario: related to document_scene_type table',
    `icon`                varchar(1024)         DEFAULT NULL COMMENT 'Favorite icon display',
    `collect_origin_from` varchar(1024)         DEFAULT NULL COMMENT 'Favorite content source',
    `task_id`             varchar(100)          DEFAULT NULL COMMENT 'RAG-v2 version task ID',
    PRIMARY KEY (`id`),
    KEY                   `chat_file_user_file_id_IDX` (`file_id`) USING BTREE,
    KEY                   `chat_file_user_uid_IDX` (`uid`) USING BTREE,
    KEY                   `chat_file_user_create_time_IDX` (`create_time`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='User file information';

-- ----------------------------
-- Table structure for chat_info
-- ----------------------------
DROP TABLE IF EXISTS `chat_info`;
CREATE TABLE `chat_info`
(
    `id`              bigint NOT NULL AUTO_INCREMENT,
    `app_id`          varchar(255) DEFAULT NULL,
    `bot_id`          varchar(255) DEFAULT NULL,
    `flow_id`         varchar(255) DEFAULT NULL,
    `sub`             varchar(255) DEFAULT NULL COMMENT 'Type: agent, workflow',
    `caller`          varchar(255) DEFAULT NULL COMMENT 'Caller',
    `log_caller`      varchar(32)  DEFAULT '',
    `uid`             varchar(255) DEFAULT NULL,
    `sid`             varchar(255) DEFAULT NULL,
    `question`        text,
    `answer`          text,
    `status_code`     int          DEFAULT NULL,
    `message`         text COMMENT 'Error message',
    `total_cost_time` int          DEFAULT NULL COMMENT 'Total cost time',
    `first_cost_time` int          DEFAULT NULL COMMENT 'First frame cost time',
    `token`           int          DEFAULT NULL COMMENT 'Token consumption',
    `create_time`     datetime     DEFAULT NULL COMMENT 'Conversation creation time',
    PRIMARY KEY (`id`),
    KEY               `app_id` (`app_id`),
    KEY               `bot_id` (`bot_id`),
    KEY               `sid` (`sid`),
    KEY               `chat_info_index_6` (`flow_id`),
    KEY               `log_caller` (`log_caller`),
    KEY               `status_code` (`status_code`),
    KEY               `chat_info_bot_id_IDX` (`bot_id`,`sub`,`caller`,`create_time`) USING BTREE,
    KEY               `idx_sub_create_time` (`sub`,`create_time`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for chat_list
-- ----------------------------
DROP TABLE IF EXISTS `chat_list`;
CREATE TABLE `chat_list`
(
    `id`                 bigint   NOT NULL AUTO_INCREMENT COMMENT 'Non-business primary key',
    `uid`                varchar(128)      DEFAULT NULL COMMENT 'User ID',
    `title`              varchar(255)      DEFAULT NULL COMMENT 'Chat list topic',
    `is_delete`          tinyint           DEFAULT '0' COMMENT 'Whether deleted: 0 not delete, 1 delete',
    `enable`             tinyint           DEFAULT '1' COMMENT 'Enable status: 1 available, 0 unavailable',
    `bot_id`             int               DEFAULT '0' COMMENT 'Assistant ID',
    `sticky`             tinyint  NOT NULL DEFAULT '0' COMMENT 'Whether pinned: 0 not pinned, 1 pinned',
    `create_time`        datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time`        datetime          DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Modification time',
    `is_model`           tinyint  NOT NULL DEFAULT '0' COMMENT 'Whether multimodal: 0 no, 1 yes',
    `enabled_plugin_ids` varchar(255)      DEFAULT '' COMMENT 'Currently enabled plugin IDs for this conversation list',
    `is_botweb`          tinyint  NOT NULL DEFAULT '0' COMMENT 'Whether assistant WEB application: 0 no, 1 yes',
    `file_id`            varchar(64)       DEFAULT NULL COMMENT 'Document Q&A ID',
    `root_flag`          tinyint  NOT NULL DEFAULT '1' COMMENT 'Whether root chat: 1 yes, 0 no',
    `personality_id`     bigint            DEFAULT '0' COMMENT 'Personality chat_personality_base primary key ID',
    `gcl_id`             bigint            DEFAULT '0' COMMENT 'Group chat primary key ID, 0 means not group chat',
    PRIMARY KEY (`id`, `create_time`),
    KEY                  `chat_list_create_time_IDX` (`create_time`),
    KEY                  `idx_bot_id` (`bot_id`),
    KEY                  `idx_uid_bid_ctime` (`uid`,`bot_id`,`create_time`),
    KEY                  `chat_list_file_id_idx` (`file_id`),
    KEY                  `idx_pid_uid` (`personality_id`,`uid`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Chat list table';

-- ----------------------------
-- Table structure for chat_reanwser_records
-- ----------------------------
DROP TABLE IF EXISTS `chat_reanwser_records`;
CREATE TABLE `chat_reanwser_records`
(
    `id`          bigint   NOT NULL AUTO_INCREMENT COMMENT 'Non-business primary key',
    `uid`         varchar(128)      DEFAULT NULL COMMENT 'User ID',
    `chat_id`     bigint            DEFAULT NULL COMMENT 'Chat ID',
    `req_id`      bigint            DEFAULT NULL COMMENT 'Req ID before regeneration, for locating historical context position',
    `ask`         varchar(8000)     DEFAULT NULL COMMENT 'Prompt content',
    `answer`      varchar(8000)     DEFAULT NULL COMMENT 'Reply content',
    `ask_time`    datetime          DEFAULT NULL COMMENT 'Question record time',
    `answer_time` datetime          DEFAULT NULL COMMENT 'Answer record time',
    `sid`         varchar(64)       DEFAULT NULL COMMENT 'Reply SID',
    `answer_type` tinyint           DEFAULT NULL COMMENT 'Reply type: 0 system, 1 quick fix (not used by API), 2 large model, 3 abort',
    `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time` datetime          DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    PRIMARY KEY (`id`, `create_time`),
    KEY           `uid_index` (`uid`),
    KEY           `chat_index` (`chat_id`),
    KEY           `idx_sid` (`sid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Chat re-answer record table';

-- ----------------------------
-- Table structure for chat_reason_records
-- ----------------------------
DROP TABLE IF EXISTS `chat_reason_records`;
CREATE TABLE `chat_reason_records`
(
    `id`                    bigint       NOT NULL AUTO_INCREMENT,
    `uid`                   varchar(128) NOT NULL COMMENT 'User ID',
    `chat_id`               bigint       NOT NULL COMMENT 'Chat session ID',
    `req_id`                bigint       NOT NULL COMMENT 'Request ID',
    `content`               longtext     NOT NULL COMMENT 'Reasoning thinking content',
    `thinking_elapsed_secs` bigint                DEFAULT '0' COMMENT 'Thinking elapsed time (seconds)',
    `type`                  varchar(50)           DEFAULT NULL COMMENT 'Reasoning type (e.g.: x1_math)',
    `create_time`           datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time`           datetime              DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    PRIMARY KEY (`id`, `create_time`),
    KEY                     `idx_uid` (`uid`),
    KEY                     `idx_chat_id` (`chat_id`),
    KEY                     `idx_req_id` (`req_id`),
    KEY                     `idx_create_time` (`create_time`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Chat thinking record table';

-- ----------------------------
-- Table structure for chat_req_model
-- ----------------------------
DROP TABLE IF EXISTS `chat_req_model`;
CREATE TABLE `chat_req_model`
(
    `id`          int          NOT NULL AUTO_INCREMENT,
    `uid`         varchar(128) NOT NULL COMMENT 'User ID',
    `chat_id`     bigint                DEFAULT NULL COMMENT 'Chat window ID',
    `chat_req_id` bigint       NOT NULL COMMENT 'Chat request ID',
    `type`        tinyint      NOT NULL DEFAULT '1' COMMENT 'Multimodal type, refer to MultiModelEnum',
    `url`         varchar(2048)         DEFAULT NULL COMMENT 'Resource URL',
    `status`      tinyint      NOT NULL DEFAULT '0' COMMENT 'Review status',
    `need_his`    tinyint               DEFAULT '1' COMMENT 'Whether to concatenate history: 0 no, 1 yes',
    `img_desc`    varchar(2048)         DEFAULT NULL COMMENT 'Image and other multimodal input description',
    `intention`   varchar(255)          DEFAULT NULL COMMENT 'Image intention: document for documents, universal for natural images',
    `ocr_result`  text COMMENT 'OCR recognition result',
    `create_time` datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time` datetime              DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Modification time',
    `data_id`     varchar(64)           DEFAULT NULL COMMENT 'Multimodal image ID, stores sse ID here, identifies which image for engineering institute',
    PRIMARY KEY (`id`, `create_time`),
    KEY           `idx_uid` (`uid`),
    KEY           `idx_req_id` (`chat_req_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Multimodal request table';

-- ----------------------------
-- Table structure for chat_req_records
-- ----------------------------
DROP TABLE IF EXISTS `chat_req_records`;
CREATE TABLE `chat_req_records`
(
    `id`          bigint   NOT NULL AUTO_INCREMENT,
    `chat_id`     bigint   NOT NULL COMMENT 'Chat ID',
    `uid`         varchar(128)      DEFAULT NULL COMMENT 'User ID',
    `message`     varchar(8000)     DEFAULT NULL COMMENT 'Question content',
    `client_type` tinyint           DEFAULT '0' COMMENT 'Client type when user asks: 0 unknown, 1 PC, 2 H5 mainly for statistics',
    `model_id`    int               DEFAULT NULL COMMENT 'Multimodal related ID',
    `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time` datetime          DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    `date_stamp`  int               DEFAULT NULL COMMENT 'cmp_core.BigdataServicesMonitorDaily',
    `new_context` tinyint  NOT NULL DEFAULT '1' COMMENT 'Bot new context: 1 yes, 0 no',
    PRIMARY KEY (`id`, `create_time`),
    KEY           `idx_chat_id` (`chat_id`),
    KEY           `idx_create_time` (`create_time`),
    KEY           `idx_date_stamp` (`date_stamp`),
    KEY           `idx_uid_chatId` (`uid`,`chat_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Chat request record table';

-- ----------------------------
-- Table structure for chat_resp_alltool_data
-- ----------------------------
DROP TABLE IF EXISTS `chat_resp_alltool_data`;
CREATE TABLE `chat_resp_alltool_data`
(
    `id`          bigint NOT NULL AUTO_INCREMENT,
    `uid`         varchar(128) DEFAULT NULL COMMENT 'User ID',
    `chat_id`     bigint       DEFAULT NULL COMMENT 'Chat ID',
    `req_id`      bigint       DEFAULT NULL COMMENT 'Request ID',
    `seq_no`      varchar(100) DEFAULT NULL COMMENT 'Sequence number, like p1, p2',
    `tool_data`   text COMMENT 'All tools data to be stored for each frame returned structural data',
    `tool_name`   varchar(100) DEFAULT NULL COMMENT 'All tools type name',
    `create_time` datetime     DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time` datetime     DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    PRIMARY KEY (`id`),
    KEY           `chat_resp_alltool_data_uid_IDX` (`uid`) USING BTREE,
    KEY           `chat_resp_alltool_data_chat_id_IDX` (`chat_id`) USING BTREE,
    KEY           `chat_resp_alltool_data_req_id_IDX` (`req_id`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Large model returns all tools paragraph data, one QA returns multiple alltools paragraph data';

-- ----------------------------
-- Table structure for chat_resp_model
-- ----------------------------
DROP TABLE IF EXISTS `chat_resp_model`;
CREATE TABLE `chat_resp_model`
(
    `id`          bigint       NOT NULL AUTO_INCREMENT,
    `uid`         varchar(128) NOT NULL COMMENT 'User ID',
    `chat_id`     bigint                DEFAULT NULL COMMENT 'Chat window ID',
    `req_id`      bigint       NOT NULL COMMENT 'Chat question ID, multimodal records may be stored before answers, so use req ID for association',
    `content`     varchar(8000)         DEFAULT NULL COMMENT 'Multimodal return content',
    `type`        varchar(32)  NOT NULL DEFAULT 'text' COMMENT 'Multimodal output type: text, image, audio, video',
    `need_his`    tinyint               DEFAULT '1' COMMENT 'Whether to concatenate history: 0 no, 1 yes',
    `url`         text COMMENT 'Multimodal resource URL address',
    `status`      tinyint      NOT NULL DEFAULT '0' COMMENT 'Resource status: 0 available, 1 unavailable',
    `create_time` datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time` datetime              DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Modification time',
    `data_id`     varchar(64)           DEFAULT NULL COMMENT 'Large model generated resource ID, to be passed back for concatenating history',
    `water_url`   text COMMENT 'Watermarked resource URL',
    PRIMARY KEY (`id`, `create_time`),
    KEY           `idx_uid` (`uid`),
    KEY           `idx_chat_id` (`chat_id`),
    KEY           `idx_create_time` (`create_time`),
    KEY           `idx_req_id` (`req_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Multimodal response record table';

-- ----------------------------
-- Table structure for chat_resp_records
-- ----------------------------
DROP TABLE IF EXISTS `chat_resp_records`;
CREATE TABLE `chat_resp_records`
(
    `id`          bigint   NOT NULL AUTO_INCREMENT,
    `uid`         varchar(128)                                                  DEFAULT NULL COMMENT 'User ID',
    `chat_id`     bigint                                                        DEFAULT NULL COMMENT 'Chat ID',
    `req_id`      bigint                                                        DEFAULT NULL COMMENT 'Chat question ID, one question to one answer',
    `sid`         varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT 'Engine serial number SID',
    `answer_type` tinyint                                                       DEFAULT '2' COMMENT 'Answer type: 1 hotfix, 2 gpt',
    `message`     mediumtext COMMENT 'Answer message',
    `create_time` datetime NOT NULL                                             DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time` datetime                                                      DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    `date_stamp`  int                                                           DEFAULT NULL COMMENT 'cmp_core.BigdataServicesMonitorDaily',
    PRIMARY KEY (`id`, `create_time`),
    KEY           `idx_chat_id` (`chat_id`),
    KEY           `idx_create_time` (`create_time`),
    KEY           `idx_reqId` (`req_id`),
    KEY           `idx_sid` (`sid`),
    KEY           `idx_uid_chatId` (`uid`,`chat_id`)
) ENGINE=InnoDB AUTO_INCREMENT=406 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Chat response record table';

-- ----------------------------
-- Table structure for chat_token_records
-- ----------------------------
DROP TABLE IF EXISTS `chat_token_records`;
CREATE TABLE `chat_token_records`
(
    `id`                bigint NOT NULL AUTO_INCREMENT,
    `sid`               varchar(64) DEFAULT NULL COMMENT 'Session identifier',
    `prompt_tokens`     int         DEFAULT NULL COMMENT 'Prompt token count',
    `question_tokens`   int         DEFAULT NULL COMMENT 'Current question token count',
    `completion_tokens` int         DEFAULT NULL COMMENT 'Response completion token count',
    `total_tokens`      int         DEFAULT NULL COMMENT 'Total token count',
    `create_time`       datetime    DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time`       datetime    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    PRIMARY KEY (`id`),
    KEY                 `idx_create_time` (`create_time`),
    KEY                 `idx_sid` (`sid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Chat token record table';

-- ----------------------------
-- Table structure for chat_trace_source
-- ----------------------------
DROP TABLE IF EXISTS `chat_trace_source`;
CREATE TABLE `chat_trace_source`
(
    `id`          bigint NOT NULL AUTO_INCREMENT,
    `uid`         varchar(128) DEFAULT NULL COMMENT 'User ID',
    `chat_id`     bigint       DEFAULT NULL COMMENT 'Chat ID',
    `req_id`      bigint       DEFAULT NULL COMMENT 'Request ID',
    `content`     text COMMENT 'Trace content, JSON array of one frame',
    `type`        varchar(50)  DEFAULT 'search' COMMENT 'Trace type: search for search trace, others for supplementary',
    `create_time` datetime     DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time` datetime     DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    PRIMARY KEY (`id`),
    KEY           `chat_trace_source_chat_id_IDX` (`chat_id`) USING BTREE,
    KEY           `chat_trace_source_type_IDX` (`type`) USING BTREE,
    KEY           `chat_trace_source_uid_IDX` (`uid`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=59 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Chat trace information storage table';

-- ----------------------------
-- Table structure for chat_tree_index
-- ----------------------------
DROP TABLE IF EXISTS `chat_tree_index`;
CREATE TABLE `chat_tree_index`
(
    `id`             bigint   NOT NULL AUTO_INCREMENT,
    `root_chat_id`   bigint   NOT NULL COMMENT 'Root chat ID',
    `parent_chat_id` bigint   NOT NULL COMMENT 'Parent chat ID',
    `child_chat_id`  bigint   NOT NULL COMMENT 'Child chat ID',
    `uid`            varchar(128)      DEFAULT NULL COMMENT 'uid',
    `create_time`    datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time`    datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    PRIMARY KEY (`id`, `create_time`),
    KEY              `chat_tree_index_uid_IDX` (`uid`),
    KEY              `chat_tree_index_root_chat_id_IDX` (`root_chat_id`),
    KEY              `idx_child_chat_id` (`child_chat_id`)
) ENGINE=InnoDB AUTO_INCREMENT=957447502 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Chat history tree linked list information';

-- ----------------------------
-- Table structure for chat_user
-- ----------------------------
DROP TABLE IF EXISTS `chat_user`;
CREATE TABLE `chat_user`
(
    `id`             bigint       NOT NULL AUTO_INCREMENT COMMENT 'Non-business primary key',
    `uid`            varchar(128) DEFAULT NULL COMMENT 'Empty if user is not logged in or not registered',
    `name`           varchar(255) DEFAULT NULL COMMENT 'User name',
    `avatar`         varchar(512) DEFAULT NULL COMMENT 'Avatar',
    `nickname`       varchar(255) DEFAULT NULL COMMENT 'User nickname',
    `mobile`         varchar(255) NOT NULL COMMENT 'Mobile number, no authenticity check, only duplicate check',
    `is_able`        tinyint      DEFAULT '0' COMMENT 'Activation status: 0 for active, 1 for inactive, 2 for frozen',
    `create_time`    datetime     DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time`    datetime     DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    `user_agreement` tinyint      DEFAULT '0' COMMENT 'Whether agreed to user agreement: 0 not agreed, 1 agreed',
    `date_stamp`     int          DEFAULT NULL COMMENT 'cmp_core.BigdataServicesMonitorDaily',
    PRIMARY KEY (`id`),
    UNIQUE KEY `uid_unique_index` (`uid`),
    KEY              `idx_create_time` (`create_time`),
    KEY              `index_mobile` (`mobile`),
    KEY              `idx_nickname` (`nickname`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='GPT user authorization information table';

-- ----------------------------
-- Table structure for config_info
-- ----------------------------
DROP TABLE IF EXISTS `config_info`;
CREATE TABLE `config_info`
(
    `id`          bigint NOT NULL AUTO_INCREMENT COMMENT 'Primary key, starting from 10000',
    `category`    varchar(64)   DEFAULT NULL COMMENT 'Configuration category',
    `code`        varchar(128)  DEFAULT NULL COMMENT 'Configuration code, key',
    `name`        varchar(255)  DEFAULT NULL COMMENT 'Configuration name',
    `value`       text COMMENT 'Configuration content, value',
    `is_valid`    tinyint       DEFAULT NULL COMMENT 'Whether effective, 0-invalid, 1-valid',
    `remarks`     varchar(1000) DEFAULT NULL COMMENT 'Remarks, comments',
    `create_time` datetime      DEFAULT '2000-01-01 00:00:00' COMMENT 'Creation time',
    `update_time` datetime      DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=1823 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Configuration table';

-- ----------------------------
-- Records of config_info
-- ----------------------------
BEGIN;
INSERT INTO astron_console.config_info (id,category,code,name,value,is_valid,remarks,create_time,update_time) VALUES
	 (1019,'DOCUMENT_LINK','1','SparkBotHelpDoc','https://experience.pro.iflyaicloud.com/aicloud-sparkbot-doc/',1,'你好','2023-08-17 00:00:00','2024-09-03 11:51:23'),
	 (1021,'COMPRESSED_FOLDER','1','SparkBotSDK','https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/sdk%E6%8E%A5%E5%85%A5%E8%AF%B4%E6%98%8E.zip',1,'','2000-01-01 00:00:00','2024-06-27 10:35:15'),
	 (1023,'SPARKBOT_CONFIG','1','SparkBotApi','{"sdkHtml":"<div className=\\"sdk-content\\">\\n      <p className=\\"title\\">Sparkbot接入文档</p>\\n      <h1>JS SDK</h1>\\n      <p>\\n        安装之前，请确保您已通过我们的平台注册或我们已为您提供了<b>AppId</b>。\\n        如果没有密钥，您将无法使用该SDK。\\n      </p>\\n      <hr></hr>\\n      <h2>JS SDK</h2>\\n      <p>\\n        要将 Sparkbot 与 JS SDK 一起使用，您需要在 HTML 文件中包含脚本标签。\\n      </p>\\n      <h3>浮动机器人</h3>\\n      <p style={{ margin: ''20px 0'' }}>\\n        浮动机器人非常简单。 只需将这 2 个脚本标签添加到您的 HTML 中即可。\\n      </p>\\n      <div className=\\"code-content\\">\\n        <div className=\\"code-container\\">\\n          <span className=\\"normal\\">&lt;</span>\\n          <span className=\\"tagColor\\">script&nbsp;</span>\\n          <span className=\\"light\\" style={{ whiteSpace: ''nowrap'' }}>\\n            src=''https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/Sparkbot.js''\\n            <span className=\\"normal\\">&gt;</span>\\n            <span className=\\"normal\\">&lt;/</span>\\n            <span className=\\"tagColor\\">script</span>\\n            <span className=\\"normal\\"> &gt;</span>\\n          </span>\\n          <br></br>\\n          <span className=\\"normal\\">&lt;</span>\\n          <span className=\\"tagColor\\">script</span>\\n          <span className=\\"normal\\"> &gt;</span>\\n          <br></br>\\n          <span style={{ marginLeft: 10 }}>Sparkbot</span>\\n          <span className=\\"normal\\">.</span>\\n          <span className=\\"tagColor\\">init</span>\\n          <span className=\\"normal\\">(&#123;</span>\\n          <br></br>\\n          <span className=\\"light\\" style={{ marginLeft: 20 }}>\\n            appId: ''您的appId'',\\n            <br></br>\\n            <span style={{ marginLeft: 20 }}>apiKey: ''您的apiKey'',</span>\\n            <br></br>\\n            <span style={{ marginLeft: 20 }}>apiSecret: ''您的apiSecret''</span>\\n            <br></br>\\n          </span>\\n          <span className=\\"normal\\" style={{ marginLeft: 10 }}>\\n            &#125;)\\n          </span>\\n          <br></br>\\n          <span className=\\"normal\\">&lt;/</span>\\n          <span className=\\"tagColor\\">script</span>\\n          <span className=\\"normal\\"> &gt;</span>\\n        </div>\\n      </div>\\n    </div>","sdkMd":"/pro-bucket/sparkBot/README.md"}',1,'','2000-01-01 00:00:00','2024-06-27 10:35:15'),
	 (1027,'FILE_MANAGE_CONFIG','','MAX_FOLDER_DEEP','5',1,'用于控制文件目录树的最大层级','2000-01-01 00:00:00','2024-06-27 10:35:15'),
	 (1029,'SPARKBOT_DEFAULT_APP','1','sparkbot默认应用','{"name":"SparkBot默认应用","description":"SparkBot默认创建的应用","businessInfo":{"applyUserSource":1,"applyUserCode":"system","applyUserDepart":"AI应用平台研发部","groupName":"核心研发平台","groupId":1003,"productName":"AI应用平台研发部","productId":10213},"isLocalAuth":0}',1,'','2000-01-01 00:00:00','2025-02-19 15:08:46'),
	 (1031,'SPARKBOT_DEFAULT_RELATION_CAPACITY','1','sparkbot应用默认关联的能力','{"largeModelId":99,"name":"通用大模型","type":1}',1,'','2000-01-01 00:00:00','2023-12-05 20:32:40'),
	 (1033,'SPARKBOT_DEFAULT_APPLY_INFO','1','外部用户Spartbot平台默认申请','{"account":"xxzhang23","accountName":"张想信","departmentInfo":"AI工程院飞云平台产品部","describe":"外部用户Spartbot平台默认申请","superiorInfo":"xxzhang23","largeModel":"通用大模型","domain":"general"}',1,'','2000-01-01 00:00:00','2023-12-05 20:32:40'),
	 (1035,'BOT_COUNT_LIMIT','1','10','用户创建bot数已达上限',1,'','2000-01-01 00:00:00','2023-12-06 13:30:51'),
	 (1037,'TEXT_GENERATION_MODELS','1','spark','讯飞星火',1,'','2000-01-01 00:00:00','2023-12-10 14:40:57'),
	 (1039,'MODEL_DEFAULT_CONFIGS','spark','spark模型默认配置','[{"key":"temperature","nmae":"随机性","min":0,"max":2,"default":1,"enabled":true},{"key":"max_tokens","nmae":"单次回复限制","min":10,"max":1000,"default":256,"enabled":true}]',1,'','2000-01-01 00:00:00','2023-12-10 15:04:22'),
	 (1041,'DEFAULT_SLICE_RULES','1','默认切片规则','{"type":0,"seperator":["\\n"],"lengthRange":[16,1024]}',1,'','2000-01-01 00:00:00','2024-06-20 20:09:51'),
	 (1043,'CUSTOM_SLICE_RULES','1','自定义切片模板','{"type":1,"seperator":["\\n"],"lengthRange":[16,1024]}',1,'','2000-01-01 00:00:00','2024-06-20 20:09:54'),
	 (1045,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_10@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1047,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_11@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1049,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_12@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1051,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_13@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1053,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_14@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1055,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_15@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1057,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_16@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1059,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_17@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1061,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_18@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1063,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_19@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1065,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_1@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1067,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_20@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1069,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_21@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1071,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_22@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1073,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_23@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1075,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_24@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1077,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_25@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1079,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_26@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1081,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_27@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1083,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_28@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1085,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_29@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1087,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_2@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1089,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_30@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1091,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_31@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1093,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_32@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1095,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_33@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1097,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_34@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1099,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_35@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1101,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_36@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1103,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_37@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1105,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_38@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1107,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_39@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1109,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_3@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1111,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_40@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1113,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_41@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1115,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_42@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1117,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_4@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1119,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_5@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1121,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_6@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1123,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_7@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1125,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_8@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1127,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_9@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1133,'ICON','sport','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/sport/emojiiteam_01_10@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1135,'ICON','sport','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/sport/emojiiteam_01_11@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1137,'ICON','sport','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/sport/emojiiteam_01_12@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1139,'ICON','sport','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/sport/emojiiteam_01_13@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1141,'ICON','sport','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/sport/emojiiteam_01_14@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1143,'ICON','sport','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/sport/emojiiteam_01_15@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1145,'ICON','sport','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/sport/emojiiteam_01_1@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1147,'ICON','sport','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/sport/emojiiteam_01_2@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1149,'ICON','sport','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/sport/emojiiteam_01_3@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1151,'ICON','sport','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/sport/emojiiteam_01_4@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1153,'ICON','sport','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/sport/emojiiteam_01_5@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1155,'ICON','sport','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/sport/emojiiteam_01_6@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1157,'ICON','sport','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/sport/emojiiteam_01_7@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1159,'ICON','sport','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/sport/emojiiteam_01_8@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1161,'ICON','sport','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/sport/emojiiteam_01_9@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1163,'ICON','plant','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/plant/emojiiteam_02_10@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1165,'ICON','plant','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/plant/emojiiteam_02_11@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1167,'ICON','plant','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/plant/emojiiteam_02_12@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1169,'ICON','plant','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/plant/emojiiteam_02_13@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1171,'ICON','plant','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/plant/emojiiteam_02_14@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1173,'ICON','plant','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/plant/emojiiteam_02_15@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1175,'ICON','plant','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/plant/emojiiteam_02_1@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1177,'ICON','plant','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/plant/emojiiteam_02_2@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1179,'ICON','plant','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/plant/emojiiteam_02_3@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1181,'ICON','plant','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/plant/emojiiteam_02_4@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1183,'ICON','plant','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/plant/emojiiteam_02_5@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1185,'ICON','plant','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/plant/emojiiteam_02_6@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1187,'ICON','plant','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/plant/emojiiteam_02_7@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1189,'ICON','plant','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/plant/emojiiteam_02_8@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1191,'ICON','plant','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/plant/emojiiteam_02_9@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1193,'ICON','explore','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/explore/emojiitem_03_10@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1195,'ICON','explore','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/explore/emojiitem_03_11@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1197,'ICON','explore','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/explore/emojiitem_03_12@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1199,'ICON','explore','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/explore/emojiitem_03_13@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1201,'ICON','explore','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/explore/emojiitem_03_14@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1203,'ICON','explore','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/explore/emojiitem_03_15@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1205,'ICON','explore','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/explore/emojiitem_03_1@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1207,'ICON','explore','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/explore/emojiitem_03_2@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1209,'ICON','explore','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/explore/emojiitem_03_3@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1211,'ICON','explore','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/explore/emojiitem_03_4@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1213,'ICON','explore','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/explore/emojiitem_03_5@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1215,'ICON','explore','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/explore/emojiitem_03_6@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1217,'ICON','explore','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/explore/emojiitem_03_7@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1219,'ICON','explore','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/explore/emojiitem_03_8@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1221,'ICON','explore','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/explore/emojiitem_03_9@2x.png',1,'','2000-01-01 00:00:00','2025-10-09 15:54:35'),
	 (1223,'COLOR','1','#FFEAD5','',1,'','2000-01-01 00:00:00','2023-12-14 14:51:37'),
	 (1225,'COLOR','1','#E7FFD5','',1,'','2000-01-01 00:00:00','2023-12-14 14:51:46'),
	 (1227,'COLOR','1','#D5FFED','',1,'','2000-01-01 00:00:00','2023-12-14 14:51:46'),
	 (1229,'COLOR','1','#D5E8FF','',1,'','2000-01-01 00:00:00','2023-12-14 14:51:46'),
	 (1231,'COLOR','1','#DDD5FF','',1,'','2000-01-01 00:00:00','2023-12-14 14:51:46'),
	 (1233,'COLOR','1','#FFD5E2','',1,'','2000-01-01 00:00:00','2023-12-14 14:51:46'),
	 (1235,'COLOR','1','#DCDEE8','',1,'','2000-01-01 00:00:00','2023-12-14 14:51:46'),
	 (1237,'COLOR','1','#ECEEF6','',1,'','2000-01-01 00:00:00','2023-12-14 14:51:46'),
	 (1239,'DEFAULT_BOT_MODEL_CONFIG','1','默认模型配置','{"modelConfig":{"prePrompt":"","userInputForm":[],"speechToText":{"enabled":false},"suggestedQuestionsAfterAnswer":{"enabled":false},"retrieverResource":{"enabled":false},"conversationStarter":{"enabled":false,"openingRemark":""},"feedback":{"enabled":false,"like":{"enabled":false},"dislike":{"enabled":false}},"model":{"name":"spark_V3.5","model":"spark_V3.5","completionParams":{"maxTokens":512,"temperature":0.5}},"repoConfigs":{"topK":3,"scoreThreshold":0.3,"scoreThresholdEnabled":true,"reposet":[]}}}',1,'','2000-01-01 00:00:00','2024-04-25 15:36:43'),
	 (1243,'TOOL_ICON','tool','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/tool/tool01.png',1,'','2000-01-01 00:00:00','2024-01-23 17:42:52'),
	 (1245,'TOOL_ICON','tool','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/tool/tool02.png',1,'','2000-01-01 00:00:00','2024-01-23 17:42:52'),
	 (1247,'OPEN_API_REPO_APPID','1','开发接口过滤知识库ID新增APPID','453f52a2',1,'','2000-01-01 00:00:00','2024-05-21 16:18:27'),
	 (1249,'INNER_BOT','1','就餐助手','{"name":"就餐助手","code":1,"description":"就餐助手","avatarIcon":"http://oss-beijing-m8.openstorage.cn/SparkBotDev/icon/explore/emojiitem_03_9@2x.png","requestData":{"appid":"5d29ff2f","bot_id":"69027824b6eb4558a4e39060967ea87b","question":"","upstream_kwargs":{"432517259949379584":{"callType":"pc","userAccount":"qcliu"}}},"examples":["今天有什么菜？","今天的菜有土豆吗？","明天有什么吃的？"]}',0,'','2000-01-01 00:00:00','2024-05-13 16:17:28'),
	 (1251,'MODEL_LIST','spark_V3','星火大模型3.0','',1,'','2000-01-01 00:00:00','2024-04-18 15:30:31'),
	 (1253,'MODEL_LIST','spark_V3.5','星火大模型3.5','',1,'','2000-01-01 00:00:00','2024-04-18 15:30:23'),
	 (1255,'INNER_BOT','2','生活助手','{
    "name": "生活助手",
    "code": 2,
    "description": "生活助手",
    "avatarIcon": "http://oss-beijing-m8.openstorage.cn/SparkBotDev/icon/explore/emojiitem_03_9@2x.png",
    "requestData": {
        "appid": "5d29ff2f",
        "bot_id": "ae43a8b628d343d89f1cef5c4c0248a7",
        "question": "",
        "upstream_kwargs": {
            "420914424866541568": {
                "callType": "pc",
                "userAccount": "qcliu"
            }
        }
    },
    "examples": [
        "帮我搜一下安徽风景好的景点 ",
        "查一下明天的天气情况",
        "到南京的高铁多少钱"
    ]
}',1,'','2000-01-01 00:00:00','2024-05-13 17:56:47'),
	 (1257,'INNER_BOT','3','工作助手','{"name":"工作助手","code":3,"description":"工作助手","avatarIcon":"http://oss-beijing-m8.openstorage.cn/SparkBotDev/icon/explore/emojiitem_03_9@2x.png","requestData":{"appid":"5d29ff2f","bot_id":"1075c67f3cfb4bb58df09dc7475851b8","question":"","upstream_kwargs":{"420914424866541568":{"callType":"pc","userAccount":"qcliu"}}},"examples":["帮我生成一个ppt","帮我生成一份简历 ","帮我生成一个思维导图"]}',0,'','2000-01-01 00:00:00','2024-05-13 16:19:28'),
	 (1259,'AUTH_APPLY','RECEIVER_EMAIL','','yachen11@iflytek.com',1,NULL,'2023-06-12 18:15:53','2024-05-12 16:06:57'),
	 (1261,'AUTH_APPLY','COPE_USER_EMAIL',NULL,'yxyan@iflytek.com,leifang10@iflytek.com',1,NULL,'2023-06-12 18:15:53','2025-03-27 16:28:38'),
	 (1263,'AUTH_APPLY','RECEIVER_ERROR_EMAIL',NULL,'tctan@iflytek.com',1,NULL,'2023-06-28 10:50:48','2024-04-29 17:35:39'),
	 (1265,'LLM','domain-open','开源模型domain','xscnllama38bi,llama3-70b-instruct,qwen-7b-instruct',1,NULL,'2000-01-01 00:00:00','2024-07-25 10:36:06'),
	 (1267,'LLM','domain','Spark3.5 Max','generalv3.5',1,'bm3.5','2000-01-01 00:00:00','2024-07-03 16:23:39'),
	 (1269,'LLM','domain','Spark Pro','generalv3',1,'bm3','2000-01-01 00:00:00','2024-07-03 16:23:35'),
	 (1271,'LLM','domain','Spark Lite','general',1,'cbm','2000-01-01 00:00:00','2024-07-03 16:23:26'),
	 (1273,'LLM_CHANNEL_DOMAIN','cbm','Spark Lite','general',1,NULL,'2000-01-01 00:00:00','2024-07-03 18:01:57'),
	 (1275,'LLM_CHANNEL_DOMAIN','bm3','Spark Pro','generalv3',1,NULL,'2000-01-01 00:00:00','2024-07-03 18:01:57'),
	 (1277,'LLM_CHANNEL_DOMAIN','bm3.5','Spark3.5 Max','generalv3.5',1,NULL,'2000-01-01 00:00:00','2024-07-03 18:01:57'),
	 (1279,'LLM_DOMAIN_CHANNEL','general','Spark Lite','cbm',1,NULL,'2000-01-01 00:00:00','2024-07-03 18:01:58'),
	 (1281,'LLM_DOMAIN_CHANNEL','generalv3','Spark Pro','bm3',1,NULL,'2000-01-01 00:00:00','2024-07-03 18:01:58'),
	 (1283,'LLM_DOMAIN_CHANNEL','generalv3.5','Spark3.5 Max','bm3.5',1,NULL,'2000-01-01 00:00:00','2024-07-03 18:01:58'),
	 (1285,'DEFAULT_BOT_MODEL_CONFIG','generalv3','默认模型配置','{
    "modelConfig": {
        "prePrompt": "",
        "userInputForm": [],
        "speechToText": {
            "enabled": false
        },
        "suggestedQuestionsAfterAnswer": {
            "enabled": false
        },
        "retrieverResource": {
            "enabled": false
        },
        "conversationStarter": {
            "enabled": false,
            "openingRemark": ""
        },
        "feedback": {
            "enabled": false,
            "like": {
                "enabled": false
            },
            "dislike": {
                "enabled": false
            }
        },
        "model": {
            "domain": "generalv3",
            "model": "generalv3",
            "completionParams": {
                "maxTokens": 512,
                "temperature": 0.5,
                "topK": 1
            },
            "api": "wss://spark-api.xf-yun.com/v3.1/chat",
            "llmId": 3,
            "llmSource": 1,
            "patchId": [
                "0"
            ]
        },
        "repoConfigs": {
            "topK": 3,
            "scoreThreshold": 0.3,
            "scoreThresholdEnabled": true,
            "reposet": []
        }
    }
}',0,'','2000-01-01 00:00:00','2024-06-26 17:54:40'),
	 (1287,'DEFAULT_BOT_MODEL_CONFIG','generalv3.5','默认模型配置','{
    "modelConfig": {
        "prePrompt": "",
        "userInputForm": [],
        "speechToText": {
            "enabled": false
        },
        "suggestedQuestionsAfterAnswer": {
            "enabled": false
        },
        "retrieverResource": {
            "enabled": true
        },
        "conversationStarter": {
            "enabled": false,
            "openingRemark": ""
        },
        "feedback": {
            "enabled": true,
            "like": {
                "enabled": true
            },
            "dislike": {
                "enabled": true
            }
        },
        "model": {
            "domain": "generalv3.5",
            "model": "generalv3.5",
            "completionParams": {
                "maxTokens": 512,
                "temperature": 0.5,
                "topK": 1
            },
            "api": "wss://spark-api.xf-yun.com/v3.5/chat",
            "llmId": 5,
            "llmSource": 1,
            "patchId": [
                "0"
            ]
        },
        "repoConfigs": {
            "topK": 3,
            "scoreThreshold": 0.4,
            "scoreThresholdEnabled": true,
            "reposet": []
        }
    }
}',0,'','2000-01-01 00:00:00','2024-06-26 17:54:40'),
	 (1289,'DEFAULT_BOT_MODEL_CONFIG','general','默认模型配置','{
    "modelConfig": {
        "prePrompt": "",
        "userInputForm": [],
        "speechToText": {
            "enabled": false
        },
        "suggestedQuestionsAfterAnswer": {
            "enabled": false
        },
        "retrieverResource": {
            "enabled": false
        },
        "conversationStarter": {
            "enabled": false,
            "openingRemark": ""
        },
        "feedback": {
            "enabled": false,
            "like": {
                "enabled": false
            },
            "dislike": {
                "enabled": false
            }
        },
        "model": {
            "domain": "general",
            "model": "general",
            "completionParams": {
                "maxTokens": 512,
                "temperature": 0.5,
                "topK": 1
            },
            "api": "wss://spark-api.xf-yun.com/v1.1/chat",
            "llmId": 1,
            "llmSource": 1,
            "patchId": [
                "0"
            ]
        },
        "repoConfigs": {
            "topK": 3,
            "scoreThreshold": 0.3,
            "scoreThresholdEnabled": true,
            "reposet": []
        }
    }
}',0,'','2000-01-01 00:00:00','2024-06-26 17:54:40'),
	 (1291,'TEMPLATE','prompt-enhance','1','你是一个prompt优化大师，你会得到一个助手的名字和简单描述，你需要根据这些信息，为助手生成一个合适的角色描述、详细的技能说明、相关约束信息，输出为markdown格式。你需要按照以下格式进行组织输出内容：
````````````markdown
## 角色
你是一个[助手的角色]，[助手的角色描述]。

## 技能
1. [技能 1 的描述]：
  - [技能 1 的具体内容]。
  - [技能 1 的具体内容]。
2. [技能 2 的描述]：
  - [技能 2 的具体内容]。
  - [技能 2 的具体内容]。

## 限制
- [限制 1 的描述]。
- [限制 2 的描述]。
````````````

以下是一些例子：
示例1：
输入：
助手名字: 金融分析助手
助手描述: 1. 分析上市公司最新的年报财报；2. 获取上市公司的最新新闻；

输出：
````````````markdown
## 角色
你是一个金融分析师，会利用最新的信息和数据来分析公司的财务状况、市场趋势和行业动态，以帮助客户做出明智的投资决策。

## 技能
1. 分析上市公司最新的年报财报：
  - 使用财务分析工具和技巧，对公司的财务报表进行详细的分析和解读。
  - 评估公司的财务健康状况，包括营收、利润、资产负债表、现金流量等方面。
  - 分析公司的财务指标，如利润率、偿债能力、周转率等，以评估其盈利能力和风险水平。
  - 比较公司的财务表现与同行业其他公司的平均水平，以评估其相对竞争力。
2. 获取上市公司的最新新闻：
  - 使用新闻来源和数据库，定期获取上市公司的最新新闻和公告。
  - 分析新闻对公司股价和投资者情绪的潜在影响。
  - 关注公司的重大事件，如合并收购、产品发布、管理层变动等，以及这些事件对公司未来发展的影响。
  - 结合财务分析和新闻分析，提供对公司的综合评估和投资建议。

## 限制
- 只讨论与金融分析相关的内容，拒绝回答与金融分析无关的话题。
- 所有的输出内容必须按照给定的格式进行组织，不能偏离框架要求。
- 分析部分不能超过 100 字。
````````````

示例2：
输入：
助手名字: 前端开发助手
助手描述: 你的角色是前端开发，能帮助我把图片制作成html页面，css使用tailwind.css，ui库使用antd

输出：
````````````markdown
# 角色
你是一个前端开发工程师，可以使用 HTML、CSS 和 JavaScript 等技术构建网站和应用程序。

## 技能
1. 将图片制作成 HTML 页面
  - 当用户需要将图片制作成 HTML 页面时，你可以根据用户提供的图片和要求，使用 HTML 和 CSS 等技术构建一个页面。
  - 在构建页面时，你可以使用 Tailwind CSS 来简化 CSS 样式的编写，并使用 Antd 库来提供丰富的 UI 组件。
  - 构建完成后，你可以将页面代码返回给用户，以便用户可以将其部署到服务器上或在本地查看。

2. 提供前端开发相关的建议和帮助
  - 当用户需要前端开发相关的建议和帮助时，你可以根据用户的问题，提供相关的建议和帮助。
  - 你可以提供关于 HTML、CSS、JavaScript 等前端技术的建议和帮助，也可以提供关于前端开发工具和流程的建议和帮助。

## 限制
- 只讨论与前端开发相关的内容，拒绝回答与前端开发无关的话题。
- 所输出的内容必须按照给定的格式进行组织，不能偏离框架要求。
````````````

输入：
助手名字: {assistant_name}
助手描述: {assistant_description}

输出：
',1,NULL,'2000-01-01 00:00:00','2024-05-11 21:52:12'),
	 (1293,'TEMPLATE','next-question-advice','1','现在你需要根据问题生成用户可能就这个问题提出的三个后续问题，回答的数据格式为json array，下面是一些问题和回答的例子

问题：我饿了
回答：[''最近有什么餐厅'',''推荐一点好吃的'',''推荐一下附近的小吃'']

现在根据下述问题给出回答
问题：{q}
回答：',1,NULL,'2000-01-01 00:00:00','2024-06-22 15:19:34'),
	 (1295,'LLM','domain-filter','货架过滤器-domain维度','general,generalv3,generalv3.5,xscnllama38bi',1,'','2000-01-01 00:00:00','2024-05-29 14:25:52'),
	 (1297,'LLM','function-call','true','generalv3.5',1,'','2000-01-01 00:00:00','2024-06-07 15:30:54'),
	 (1299,'LLM','function-call','false','xscnllama38bi,xsfalcon7b,general,generalv3',1,'','2000-01-01 00:00:00','2024-06-07 15:30:50'),
	 (1301,'DOCUMENT_LINK','SparkBotHelpDoc','1','https://experience.pro.iflyaicloud.com/aicloud-sparkbot-doc/',1,'','2023-08-17 00:00:00','2023-09-19 14:55:17'),
	 (1303,'LLM','serviceId-filter','货架过滤器-serviceId维度','cbm,bm3,bm3.5,xscnllama38bi,xsfalcon7b,xsc4aicr35b',1,'','2000-01-01 00:00:00','2024-06-22 14:43:24'),
	 (1305,'SPECIAL_USER','1','特殊用户，目前包括段明，豪哥，天诚','1909,2229,1695',1,NULL,'2000-01-01 00:00:00','2024-06-27 10:35:20'),
	 (1307,'SPECIAL_MODEL','10000001','llama3-70b-instruct','{"llmSource":1,"llmId":10000001,"name":"llama3-70b-instruct","patchId":"0","domain":"llama3-70b-instruct","serviceId":"llama3-70b-instruct","status":1,"info":"","icon":"","tag":[],"url":"abc","modelId":0}',0,NULL,'2000-01-01 00:00:00','2025-03-24 19:52:28'),
	 (1309,'LLM','question-type','','general,generalv3',1,'','2000-01-01 00:00:00','2024-06-13 19:25:39'),
	 (1311,'PROMPT','judge-is-bot-create','判断是否是创建bot的prompt','system_template = """你是一个Bot创建判定助手，你需要根据用户的输入信息，来判断用户是否要创建或者声明bot助手。输出格式如下：
{
    "isCreateBot": "true/false"
}

以下是一些例子：
示例1：
输入:
你是一个海报生成助手

根据上述输入判断是否要创建bot:
{
    "isCreateBot": "true"
}

示例2：
输入:
你好

根据上述输入判断是否要创建bot:
{
    "isCreateBot": "false"
}

示例3：
输入:
你是一个天气查询助手，可以帮我查询天气

根据上述输入判断是否要创建bot:
{
    "isCreateBot": "true"
}

示例4：
输入:
帮我创建一个前端开发助手

根据上述输入判断是否要创建bot:
{
    "isCreateBot": "true"
}
"""


human_template = f"""
输入:
{content}

根据上述输入判断是否要创建或声明bot助手:
"""',1,NULL,'2000-01-01 00:00:00','2024-06-11 19:52:55'),
	 (1313,'PROMPT','bot-name-desc','','你是一个名字生成和描述生成助手，你会得到用户关于助手的描述，你需要根据这些信息，为助手生成一个合适的名字和角色描述。输出格式如下，数据结构为标准的json格式：
{
    "name": "助手的名字",
    "desc": "助手的描述"
}

以下是一些例子：
示例1：
输入:
你是一个海报生成助手

根据上述输入的描述生成名字和角色描述:
{
    "name": "海报生成助手",
    "desc": "海报生成助手可以根据用户的需求和喜好，快速生成各种风格和主题的海报。无论是商业广告、活动宣传还是个人用途，海报生成助手都能提供满意的解决方案。"
}

示例2：
输入:
你是一个天气查询助手，能够查询指定城市指定日期的天气

根据上述输入的描述生成名字和角色描述:
{
    "name": "天气查询助手",
    "desc": "天气查询助手能够准确查询指定城市在指定日期的天气情况。只需输入城市名和日期，天气查询助手都能提供详细的天气预报信息。"
}


示例3：
输入:
创建一个前端开发助手

根据上述输入的描述生成名字和角色描述:
{
    "name": "前端开发助手",
    "desc": "一个专门为前端开发提供帮助的助手，可以帮助用户解决各种前端开发的问题，包括但不限于HTML、CSS、JavaScript等。"
}

输入:
{content}

根据上述输入的描述生成名字和角色描述:
',1,NULL,'2000-01-01 00:00:00','2024-05-31 14:37:04'),
	 (1315,'PROMPT','bot-name-desc-prompt','','你是一个名字生成和描述生成和prompt优化助手，你会得到用户关于助手的描述，你需要根据这些信息，为助手生成一个合适的名字和角色描述，以及为助手生成一个markdown格式的合适的角色描述、详细的技能说明、相关约束信息的提示词。输出格式如下，数据结构为标准的json格式：
{
    "name": "助手的名字",
    "desc": "助手的描述",
    "prompt": "````````````markdown
## 角色
你是一个[助手的角色]，[助手的角色描述]。

## 技能
1. [技能 1 的描述]：
  - [技能 1 的具体内容]。
  - [技能 1 的具体内容]。
2. [技能 2 的描述]：
  - [技能 2 的具体内容]。
  - [技能 2 的具体内容]。

## 限制
- [限制 1 的描述]。
- [限制 2 的描述]。
````````````"
}

以下是一些例子：
示例1：
输入:
你是一个金融分析助手，能够分析上市公司最新的年报财报和获取上市公司的最新新闻

根据上述输入的描述生成名字、角色描述和提示词:
{
    "name": "金融分析助手",
    "desc": "金融分析助手专注于分析上市公司的最新年报财报，以及获取和整理上市公司的最新新闻。无论是投资者、分析师还是对金融市场感兴趣的个人，都能通过这个助手获得有价值的信息和深入的分析。"
    "prompt": "````````````markdown
## 角色
你是一个金融分析助手，专注于为投资者、分析师以及对金融市场感兴趣的个人提供上市公司的最新年报财报分析和最新新闻整理。通过深入的数据分析和市场动态追踪，你帮助用户做出更加明智的投资决策。

## 技能
1. 分析上市公司最新的年报财报：
  - 利用专业的财务分析工具，对上市公司的年度财务报表进行详细解读，包括但不限于利润表、资产负债表和现金流量表。
  - 评估公司的盈利能力、资产负债结构、现金流状况及财务健康度，识别潜在的财务风险和机会。
  - 对比分析公司与同行业其他竞争者的财务表现，揭示公司在行业中的竞争地位。
  - 基于财务数据，提供对公司未来发展趋势的预测和建议。
2. 获取和整理上市公司的最新新闻：
  - 实时监控和收集来自各大新闻源、社交媒体和公司公告的上市公司相关新闻。
  - 筛选和整理关键信息，如重大事件、管理层变动、新产品发布等，评估这些新闻对公司股价和市场情绪的可能影响。
  - 结合财报分析结果和最新新闻，为用户提供全面、多角度的市场洞察。
  - 定期更新信息，确保用户能够获得最新的市场动态和公司发展情况。

## 限制
- 只提供与上市公司财务分析和市场新闻相关的信息和分析，不涉及非上市公司或个别股票的具体投资建议。
- 所有分析内容均基于公开可获得的数据和信息，不包含内幕信息或未公开数据。
- 分析结果仅供参考，用户应结合自己的判断和风险承受能力做出投资决策。
````````````"
}

示例2：
输入:
你是一个天气查询助手，能够查询指定城市指定日期的天气

根据上述输入的描述生成名字、角色描述和提示词:
{
    "name": "天气查询助手",
    "desc": "天气查询助手能够准确查询指定城市在指定日期的天气情况。只需输入城市名和日期，天气查询助手都能提供详细的天气预报信息。"
    "prompt": "````````````markdown
## 角色
你是一个天气查询专家，能够提供准确且详细的天气预报信息。

## 技能
1. 查询指定城市在指定日期的天气情况：
  - 当用户提供城市名和日期时，你可以查询并返回该城市在该日期的详细天气预报信息。
  - 提供的天气预报信息包括但不限于温度、湿度、风速、风向、降水概率等。
  - 你还可以提供当天的日出和日落时间，以及月相信息。
2. 分析天气变化趋势：
  - 根据历史和实时数据，分析并预测未来几天的天气变化趋势。
  - 提供穿衣、出行等生活建议，帮助用户根据天气变化做出合理安排。

## 限制
- 只讨论与天气查询相关的内容，拒绝回答与天气无关的话题。
- 所有的输出内容必须按照给定的格式进行组织，不能偏离框架要求。
- 只能提供到指定日期的天气预报，无法预测超过该日期的天气情况。
````````````"
}


示例3：
输入:
你是一个前端开发助手

根据上述输入的描述生成名字、角色描述和提示词:
{
    "name": "前端开发助手",
    "desc": "一个专门为前端开发提供帮助的助手，可以帮助用户解决各种前端开发的问题，包括但不限于HTML、CSS、JavaScript等。"
    "prompt": "````````````markdown
## 角色
你是一个前端开发助手，专门为前端开发者提供帮助和解决方案。无论是HTML、CSS还是JavaScript的问题，你都能提供专业的指导和支持。

## 技能
1. HTML问题解答：
  - 当用户遇到HTML相关的问题时，你可以提供详细的解答和解决方案。
  - 你可以帮助用户理解HTML的基础知识，如标签、属性、文档结构等。
  - 你还可以提供关于HTML5新特性的相关信息和使用方法。
2. CSS问题解答：
  - 当用户遇到CSS相关的问题时，你可以提供详细的解答和解决方案。
  - 你可以帮助用户理解CSS的基础知识，如选择器、盒模型、布局方式等。
  - 你还可以提供关于CSS3新特性的相关信息和使用方法。
3. JavaScript问题解答：
  - 当用户遇到JavaScript相关的问题时，你可以提供详细的解答和解决方案。
  - 你可以帮助用户理解JavaScript的基础知识，如变量、函数、对象、数组等。
  - 你还可以提供关于JavaScript高级主题的相关信息和使用方法，如闭包、原型链、异步编程等。
4. 前端开发工具的使用：
  - 当用户需要使用前端开发工具时，你可以提供相关的指导和建议。
  - 你可以帮助用户理解和使用各种前端开发工具，如版本控制系统（如Git）、包管理器（如npm）、构建工具（如Webpack）等。

## 限制
- 只讨论与前端开发相关的内容，拒绝回答与前端开发无关的话题。
- 所有的输出内容必须按照给定的格式进行组织，不能偏离框架要求。
````````````"
}

输入:
{content}

根据上述输入的描述生成名字、角色描述和提示词:',1,NULL,'2000-01-01 00:00:00','2024-05-31 14:33:10'),
	 (1317,'PROMPT','bot-prologue-question','','你是一个生成开场白和预置问题的助手。接下来，你会收到一段关于任务助手的描述，你需要带入描述中的角色，以描述中的角色身份生成一段开场白，同时你还需要站在用户的角度生成几个用户可能的提问。输出格式如下，数据结构为标准的json格式：
{
    "prologue": "开场白内容",
    "question": ["问题1", "问题2", "问题3"]
}

下面是一些示例
例子1: 
输入描述:
# 角色
你是一个可以帮助用户在家赚钱的机器人，你可以提供各种赚钱的途径和方法，帮助用户实现财务自由。

## 技能
### 技能 1: 提供赚钱途径
1. 当用户需要赚钱途径时，你可以根据用户的兴趣、技能和时间等因素，提供一些适合在家赚钱的途径和方法，如网络兼职、自媒体创作、电商创业等。
2. 你需要向用户详细介绍每种途径的操作流程、注意事项和收益情况等，以便用户做出选择。
3. 你还可以根据用户的需求和情况，提供一些个性化的建议和指导，帮助用户更好地开展赚钱活动。

### 技能 2: 提供赚钱技巧
1. 当用户需要赚钱技巧时，你可以向用户提供一些实用的赚钱技巧，如如何提高工作效率、如何节省成本、如何增加收入等。
2. 你需要向用户详细介绍每种技巧的操作方法和注意事项，以便用户能够正确地运用这些技巧。
3. 你还可以根据用户的需求和情况，提供一些个性化的建议和指导，帮助用户更好地实现财务自由。

### 技能 3: 提供创业指导
1. 当用户需要创业指导时，你可以向用户提供一些创业的基本知识和方法，如如何选择创业项目、如何制定创业计划、如何筹集创业资金等。
2. 你需要向用户详细介绍每种方法的操作流程和注意事项，以便用户能够正确地开展创业活动。
3. 你还可以根据用户的需求和情况，提供一些个性化的建议和指导，帮助用户更好地实现创业目标。

## 限制
- 只讨论与赚钱有关的内容，拒绝回答与赚钱无关的话题。
- 所输出的内容必须按照给定的格式进行组织，不能偏离框架要求。

根据上述输入的描述生成开场白和预置问题:
{
    "prologue": "你好，我是一个可以帮助你在家赚钱的机器人，很高兴认识你。",
    "question": ["如何使用你的服务来在家赚钱?", "你能提供哪些在家赚钱的建议和技巧?", "你的服务如何帮助我实现财务自由?"]
}


例子2: 
输入描述:
# 角色：Excel全能助手
## 个人简介
- 版本：1.0
- 语言：中文
- 描述：我是一名Excel全能助手，专注于帮助用户解决Excel相关的问题和提供高效的数据处理方案。

## 功能特点
- 数据处理：熟练掌握Excel的各种数据处理功能，包括筛选、排序、合并、拆分、透视表等，能够帮助用户快速处理大量数据。
- 公式应用：精通Excel的各种常用公式和函数，能够帮助用户进行复杂的数据计算和分析，提供准确的结果。
- 数据可视化：熟悉Excel的图表功能，能够帮助用户将数据以直观的方式展示，制作出美观、清晰的图表。
- 自动化操作：了解Excel的宏和VBA编程，能够帮助用户实现自动化操作，提高工作效率。

## 使用指南
1. 数据处理：
   - 使用筛选功能，快速筛选出符合条件的数据。
   - 利用排序功能，对数据进行升序或降序排列。
   - 使用合并和拆分功能，将多个单元格合并为一个或将一个单元格拆分为多个。
   - 利用透视表功能，对大量数据进行汇总和分析。

2. 公式应用：
   - 使用常用公式，如SUM、AVERAGE、MAX、MIN等，进行数据计算。
   - 利用逻辑函数，如IF、AND、OR等，进行条件判断和逻辑运算。
   - 使用VLOOKUP和HLOOKUP函数，进行数据查找和匹配。
   - 利用COUNTIF和SUMIF函数，进行条件统计和求和。

3. 数据可视化：
   - 利用图表功能，选择合适的图表类型，如柱状图、折线图、饼图等，展示数据。
   - 调整图表的样式和布局，使其更加美观和易读。
   - 添加数据标签和图例，增加图表的信息量和可读性。

4. 自动化操作：
   - 利用宏录制功能，记录一系列操作步骤，实现自动化操作。
   - 使用VBA编程，编写自定义的宏，实现更复杂的自动化操作。
   - 将宏和VBA代码应用到Excel工作簿中，提高工作效率和准确性。

## 使用建议
- 熟悉Excel的快捷键和常用操作，可以提高工作效率。
- 在处理大量数据时，先备份原始数据，以防误操作导致数据丢失。
- 学习和掌握Excel的高级功能和技巧，可以更好地应对复杂的数据处理需求。
- 及时保存和备份Excel文件，以防止意外情况导致数据丢失。

根据上述输入的描述生成开场白和预置问题:
{
    "prologue": "你好，我是一名Excel全能助手，可以帮助你解决Excel相关的问题和提供高效的数据处理方案。",
    "question": ["如何快速处理大量数据?", "如何使用Excel进行复杂的数据计算和分析?", "如何将数据以直观的方式展示，制作出美观、清晰的图表?"]
}

你必须使用上述格式输出结果。

输入描述:
{content}

根据上述输入的描述生成开场白和预置问题:',1,NULL,'2000-01-01 00:00:00','2024-05-31 14:36:26'),
	 (1319,'INNER_BOT','interact','交互式创建','{"name":"就餐助手","code":1,"description":"就餐助手","avatarIcon":"http://oss-beijing-m8.openstorage.cn/SparkBotDev/icon/explore/emojiitem_03_9@2x.png","requestData":{"appid":"4d2e8665","bot_id":"bedd1e25a11b41d487cc28f5de82695a","question":"","upstream_kwargs":{"420914424866541568":{"callType":"pc","userAccount":"qcliu"}}},"examples":["今天有什么菜？","今天的菜有土豆吗？","明天有什么吃的？"]}',1,'','2000-01-01 00:00:00','2024-05-31 11:09:23'),
	 (1321,'DOCUMENT_LINK','ApiDoc','1','https://in.iflyaicloud.com/aicloud-sparkbot-doc/Docx/04-Sparkbot%20API%EF%BC%88%E4%B8%93%E4%B8%9A%E7%89%88%EF%BC%89/1.2.9_workflow_api.html',1,'','2023-08-17 00:00:00','2025-02-26 14:32:11'),
	 (1323,'CONSULT','RECEIVER_EMAIL','','rfge@iflytek.com',1,NULL,'2023-06-12 18:15:53','2024-06-24 10:04:09'),
	 (1325,'CONSULT','COPE_USER_EMAIL','','mkzhang4@iflytek.com,haojin@iflytek.com',1,NULL,'2023-06-12 18:15:53','2024-06-24 10:04:32'),
	 (1326,'TAG','BOT_TAGS','生活','',1,NULL,'2023-06-12 18:15:53','2024-06-07 16:59:24'),
	 (1327,'TAG','BOT_TAGS','教育','',1,NULL,'2023-06-12 18:15:53','2024-06-07 16:59:24'),
	 (1328,'TAG','TOOL_TAGS','生活','',0,NULL,'2023-06-12 18:15:53','2024-06-13 23:29:11'),
	 (1329,'TAG','TOOL_TAGS','旅行','',0,NULL,'2023-06-12 18:15:53','2024-06-13 23:29:11'),
	 (1331,'PROMPT','bot-name-desc-response','','system_template = """你是一个Bot创建询问助手，你会得到用户创建bot的指令信息，你需要根据这些信息，生成助手的名称和描述以及对用户的回复。输出格式如下：
{
    "name": "助手名称",
    "description": "对助手的描述",
    "response": "回复用户，然后询问助手的名称和描述是否满足要求，最后询问用户是否要创建这个bot"
}

以下是一些例子：
示例1：
输入:
创建一个PPT生成助手

输出:
{
    "name": "PPT 魔法助手",
    "description": "这是一个能辅助你生成 PPT 的机器人",
    "response": "好呀，我有个关于这个新机器人的建议。
名称：PPT 魔法助手
描述：这是一个能辅助你生成 PPT 的机器人。
如果你同意这个名称和描述，我就开始创建这个机器人，不过这个过程大概需要 30 秒哦。请问你确认创建这个 PPT 魔法助手机器人吗？"
}

示例2：
输入:
创建一个PPT生成助手

输出:
{
    "name": "天气小灵通",
    "description": "能够为你提供准确天气信息的机器人",
    "response": "好呀，我觉得可以叫“天气小灵通”，描述是“能够为你提供准确天气信息的机器人”。你觉得这个名字和描述可以吗？如果可以，我就开始创建这个机器人哦，但这个过程大概需要 30 秒。你确认创建这个“天气小灵通”机器人吗？"
}

示例3：
输入:
创建一个文章生成助手

输出:
{
    "name": "创意文曲星",
    "description": "能快速生成各类文章的智能助手",
    "response": "那可以取名为“创意文曲星”，描述是“能快速生成各类文章的智能助手”。你觉得这个名字和描述符合你的需求吗？如果符合，我将为你创建这个“创意文曲星”机器人，这大约需要 30 秒钟的时间。请问你确认创建这个机器人吗？"
}

"""

human_template = f"""
输入:
{content}

输出:
"""',1,NULL,'2000-01-01 00:00:00','2024-06-11 19:57:42'),
	 (1333,'PROMPT','judge-confirm-create-bot','','system_template = """你是一个Bot创建判定助手，你需要根据对话历史，来判断用户最新意图是否要创建或者声明bot助手。输出格式如下：
{
    "isCreateBot": "true/false"
}

以下是一些例子：
示例1：
输入:
history:
{"role": "assistant", "content": "好呀，我有个关于你的新机器人的建议。
名称：代码精灵
描述：这是一个能辅助你进行代码编写的机器人。
如果你同意这个名称和描述，我就开始创建这个机器人哦，但要注意这个过程大概需要 30 秒。请问你确认创建这个代码精灵机器人吗？"}
{"role": "user", "content": "你好"}

根据上述输入判断是否要创建bot:
{
    "isCreateBot": "false"
}

示例2：
输入:
history:
{"role": "assistant", "content": "好呀，我觉得可以叫“气象小灵通”，描述是“能够为你提供实时天气信息的机器人”。你觉得这个名字和描述可以吗？如果可以，我就开始创建这个机器人哦，大概需要 30 秒。"}
{"role": "user", "content": "创建"}

根据上述输入判断是否要创建bot:
{
    "isCreateBot": "true"
}

示例3：
输入:
history:
{"role": "assistant", "content": "好呀，我有个关于这个新机器人的建议。
名称：PPT 创作精灵
描述：这是一个能协助你生成 PPT 的机器人。
如果你同意这个名称和描述，我就开始创建这个机器人，不过这个过程大概需要 30 秒哦。请问你确认创建这个 PPT 创作精灵机器人吗？"}
{"role": "user", "content": "不可以"}

根据上述输入判断是否要创建bot:
{
    "isCreateBot": "false"
}

示例4：
输入:
history:
{"role": "assistant", "content": "好呀，我有个关于这个机器人的想法。
名称：景点智多星
描述：可以为你查询各种景点信息的机器人。
你觉得这个名称和描述可以吗？如果可以，我就开始创建这个机器人哦。"}
{"role": "user", "content": "嗯"}

根据上述输入判断是否要创建bot:
{
    "isCreateBot": "true"
}
"""

human_template = f"""
输入:
history:
{{"role": "assistant", "content": {assistant_content}}}
{{"role": "user", "content": {user_content}}}

根据上述输入判断是否要创建或声明bot助手:
"""',1,NULL,'2000-01-01 00:00:00','2024-06-12 11:22:16'),
	 (1335,'PROMPT','do-not-create-bot','','system_template = """你是一个Bot创建判定助手，你需要根据对话历史，来判断用户最新意图是否要停止创建bot助手还是不满意助手名称和描述。输出格式如下：
{
    "doNotCreateBot": "true/false",
    "response": "根据用户意图回复用户"
}

以下是一些例子：
示例1：
输入:
history:
{"role": "assistant", "content": "好呀，我有个关于你的新机器人的建议。
名称：代码精灵
描述：这是一个能辅助你进行代码编写的机器人。
如果你同意这个名称和描述，我就开始创建这个机器人哦，但要注意这个过程大概需要 30 秒。请问你确认创建这个代码精灵机器人吗？"}
{"role": "user", "content": "你好"}

输出:
{
    "doNotCreateBot": "true",
    "response": "你好！有什么我可以帮助你的吗？"
}

示例2：
输入:
history:
{"role": "assistant", "content": "好呀，我觉得可以叫“气象小灵通”，描述是“能够为你提供实时天气信息的机器人”。你觉得这个名字和描述可以吗？如果可以，我就开始创建这个机器人哦，大概需要 30 秒。"}
{"role": "user", "content": "不创建"}

输出:
{
    "doNotCreateBot": "true",
    "response": "好的。如果你之后还有创建 Bot 的需求，随时可以告诉我。"
}

示例3：
输入:
history:
{"role": "assistant", "content": "好呀，我有个关于这个新机器人的建议。
名称：PPT 创作精灵
描述：这是一个能协助你生成 PPT 的机器人。
如果你同意这个名称和描述，我就开始创建这个机器人，不过这个过程大概需要 30 秒哦。请问你确认创建这个 PPT 创作精灵机器人吗？"}
{"role": "user", "content": "不可以"}

输出:
{
    "doNotCreateBot": "false",
    "response": "那你对这个机器人的名称和描述有什么具体要求呢？"
}
"""

human_template = f"""
输入:
history:
{{"role": "assistant", "content": {assistant_content}}}
{{"role": "user", "content": {user_content}}}

输出:
"""',1,NULL,'2000-01-01 00:00:00','2024-06-12 15:00:42'),
	 (1337,'PROMPT','update-name-desc-response','','system_template = """你是一个Bot创建询问助手，你会得到原来的助手名称和描述以及用户的更改要求，你需要根据这些信息，更新助手的名称和描述以及生成对用户的回复。输出格式如下：
{
    "name": "助手名称",
    "description": "对助手的描述",
    "response": "回复用户，然后询问助手的名称和描述是否满足要求，最后询问用户是否要创建这个bot"
}

以下是一些例子：
示例1：
输入:
{
    "name": "前端小能手",
    "description": "这是一个能为你解决前端相关问题并提供技术支持的机器人。",
    "requirement": "名字改成前端达人"
}

输出:
{
    "name": "前端达人",
    "description": "能够熟练处理前端各类事务的达人",
    "response": "那描述改成“能够熟练处理前端各类事务的达人”，这样可以吗？如果可以，我就为你创建这个 Bot 啦。"
}

示例2：
输入:
{
    "name": "文玩鉴宝师",
    "description": "这是一个能帮助你鉴定文玩并提供相关知识的机器人。",
    "requirement": "我想起个古董专家"
}

输出:
{
    "name": "古董专家",
    "description": "能专业鉴定古董并给出详细分析的机器人",
    "response": "那描述可以是“能专业鉴定古董并给出详细分析的机器人”，这样的名称和描述你满意吗？如果满意，我将为你创建这个 Bot。"
}

示例3：
输入:
{
    "name": "古董专家",
    "description": "能专业鉴定古董并给出详细分析的机器人",
    "requirement": "我想要描述详细一点"
}

输出:
{
    "name": "古董专家",
    "description": "这是一个能够凭借专业知识和丰富经验，对各种古董进行精准鉴定和详细分析，为你提供准确可靠的鉴定结果和全面深入的古董知识讲解的机器人。",
    "response": "名称：古董专家
描述：这是一个能够凭借专业知识和丰富经验，对各种古董进行精准鉴定和详细分析，为你提供准确可靠的鉴定结果和全面深入的古董知识讲解的机器人。
你对这个名称和描述满意吗？如果满意，我将为你创建这个机器人。"
}
"""

human_template = f"""
输入:
{{
    "name": {name},
    "description": {description},
    "requirement": {content}
}}

输出:
"""',1,NULL,'2000-01-01 00:00:00','2024-06-11 20:06:46'),
	 (1339,'PROMPT','prologue','开场白生成','你是一个生成开场白的助手。接下来，你会收到一段关于任务助手的描述，你需要代入描述中的角色，以描述中的角色身份生成一段开场白：

下面是一些示例
例子1: 
输入描述:
名称：在家赚钱的机器人
描述：一个可以帮助用户在家赚钱的机器人，可以提供各种赚钱的途径和方法，帮助用户实现财务自由

根据上述输入的描述生成开场白:
你好，我是一个可以帮助你在家赚钱的机器人，可以提供各种赚钱的途径和方法，帮助你实现财务自由，很高兴认识你。


例子2: 
输入描述:
名称：Excel全能助手
描述：解决Excel相关的问题和提供高效的数据处理方案

根据上述输入的描述生成开场白:
你好，我是一名Excel全能助手，可以帮助你解决Excel相关的问题和提供高效的数据处理方案。

你必须使用上述格式输出结果。

输入描述:
名称：{name}
描述：{desc}

根据上述输入的描述生成开场白:',1,NULL,'2000-01-01 00:00:00','2024-06-20 14:24:43'),
	 (1341,'LLM_FILTER','plan','大模型过滤器','generalv3,generalv3.5,4.0Ultra,pro-128k',0,'1','2000-01-01 00:00:00','2025-08-13 11:31:56'),
	 (1345,'TAG','TOOL_TAGS','交通出行','',1,NULL,'2024-06-26 09:54:25','2024-09-29 14:13:00'),
	 (1347,'TAG','TOOL_TAGS','休闲娱乐',NULL,1,NULL,'2024-06-26 09:54:25','2024-06-26 09:54:25'),
	 (1349,'TAG','TOOL_TAGS','医药健康',NULL,1,NULL,'2024-06-26 09:54:25','2024-06-26 09:54:25'),
	 (1351,'TAG','TOOL_TAGS','影视音乐',NULL,1,NULL,'2024-06-26 09:54:25','2024-06-26 09:54:25'),
	 (1353,'TAG','TOOL_TAGS','教育百科',NULL,1,NULL,'2024-06-26 09:54:25','2024-06-26 09:54:25'),
	 (1355,'TAG','TOOL_TAGS','新闻资讯',NULL,1,NULL,'2024-06-26 09:54:25','2024-06-26 09:54:25'),
	 (1357,'TAG','TOOL_TAGS','母婴儿童',NULL,1,NULL,'2024-06-26 09:54:25','2024-06-26 09:54:25'),
	 (1359,'TAG','TOOL_TAGS','生活常用',NULL,1,NULL,'2024-06-26 09:54:25','2024-06-26 09:54:25'),
	 (1361,'TAG','TOOL_TAGS','金融理财',NULL,1,NULL,'2024-06-26 09:54:25','2024-06-26 09:54:25'),
	 (1363,'SPECIAL_MODEL_CONFIG','10000001','llama3-70b-instruct','{"patchId":null,"domain":"llama3-70b-instruct","appId":null,"name":"llama3-70b-instruct","id":10000001,"source":1,"serviceId":"llama3-70b-instruct","type":1,"serverId":"llama3-70b-instruct","config":{"serviceIdkeys":["bm3.5"],"serviceBlock":{"bm3.5":[{"fields":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"回答的tokens的最大长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"max_tokens","required":true,"desc":"最小值是1, 最大值是8192"},{"standard":true,"constraintContent":[{"name":0},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"从k个中随机选择一个(非等概率)","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"top_k","required":true,"desc":"最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"key":"generalv3"}]},"featureBlock":{},"payloadBlock":{},"acceptBlock":{},"protocolType":1,"serviceId":"bm3.5"},"url":"llama3-70b-instruct"}',1,NULL,'2000-01-01 00:00:00','2024-11-28 15:55:51'),
	 (1365,'PATCH_ID','0','','generalv3.5',1,'','2000-01-01 00:00:00','2024-06-26 17:24:48'),
	 (1367,'DEFAULT_BOT_MODEL_CONFIG','general','默认模型配置','{"modelConfig":{"prePrompt":"","userInputForm":[],"speechToText":{"enabled":false},"suggestedQuestionsAfterAnswer":{"enabled":false},"retrieverResource":{"enabled":false},"conversationStarter":{"enabled":false,"openingRemark":""},"feedback":{"enabled":false,"like":{"enabled":false},"dislike":{"enabled":false}},"repoConfigs":{"topK":3,"scoreThreshold":0.3,"scoreThresholdEnabled":true,"reposet":[]},"models":{"plan":{"domain":"general","model":"general","completionParams":{"maxTokens":512,"temperature":0.5,"topK":1},"api":"wss://spark-api.xf-yun.com/v1.1/chat","llmId":1,"llmSource":1,"serviceId":"cbm"},"summary":{"domain":"general","model":"general","completionParams":{"maxTokens":512,"temperature":0.5,"topK":1},"api":"wss://spark-api.xf-yun.com/v1.1/chat","llmId":1,"llmSource":1,"serviceId":"cbm"}}}}',1,'','2000-01-01 00:00:00','2024-07-11 14:41:38'),
	 (1369,'DEFAULT_BOT_MODEL_CONFIG','generalv3','默认模型配置','{"modelConfig":{"prePrompt":"","userInputForm":[],"speechToText":{"enabled":false},"suggestedQuestionsAfterAnswer":{"enabled":false},"retrieverResource":{"enabled":false},"conversationStarter":{"enabled":false,"openingRemark":""},"feedback":{"enabled":false,"like":{"enabled":false},"dislike":{"enabled":false}},"models":{"plan":{"domain":"generalv3","model":"generalv3","completionParams":{"maxTokens":512,"temperature":0.5,"topK":1},"api":"wss://spark-api.xf-yun.com/v3.1/chat","llmId":3,"llmSource":1,"serviceId":"bm3"},"summary":{"domain":"generalv3","model":"generalv3","completionParams":{"maxTokens":512,"temperature":0.5,"topK":1},"api":"wss://spark-api.xf-yun.com/v3.1/chat","llmId":3,"llmSource":1,"serviceId":"bm3"}},"repoConfigs":{"topK":3,"scoreThreshold":0.3,"scoreThresholdEnabled":true,"reposet":[]}}}',1,'','2000-01-01 00:00:00','2024-07-11 14:42:08'),
	 (1371,'DEFAULT_BOT_MODEL_CONFIG','generalv3.5','默认模型配置','{"modelConfig":{"prePrompt":"","userInputForm":[],"speechToText":{"enabled":false},"suggestedQuestionsAfterAnswer":{"enabled":false},"retrieverResource":{"enabled":false},"conversationStarter":{"enabled":false,"openingRemark":""},"feedback":{"enabled":false,"like":{"enabled":false},"dislike":{"enabled":false}},"models":{"plan":{"domain":"generalv3.5","model":"generalv3.5","completionParams":{"maxTokens":512,"temperature":0.5,"topK":1},"api":"wss://spark-api.xf-yun.com/v3.5/chat","llmId":5,"llmSource":1,"patchId":["0"],"serviceId":"bm3.5"},"summary":{"domain":"generalv3.5","model":"generalv3.5","completionParams":{"maxTokens":512,"temperature":0.5,"topK":1},"api":"wss://spark-api.xf-yun.com/v3.5/chat","llmId":5,"llmSource":1,"patchId":["0"],"serviceId":"bm3.5"}},"repoConfigs":{"topK":3,"scoreThreshold":0.3,"scoreThresholdEnabled":true,"reposet":[]}}}',1,'','2000-01-01 00:00:00','2024-07-11 14:42:37'),
	 (1373,'LLM','finetune','','cbm,bm3',1,'','2000-01-01 00:00:00','2024-07-01 17:37:13'),
	 (1375,'LLM','domain','Spark4.0 Ultra','4.0Ultra',1,'bm4','2000-01-01 00:00:00','2024-07-03 17:48:23'),
	 (1377,'LLM_CHANNEL_DOMAIN','bm4','Spark4.0 Ultra','4.0Ultra',1,NULL,'2000-01-01 00:00:00','2024-07-03 17:51:58'),
	 (1379,'DEFAULT_BOT_MODEL_CONFIG','4.0Ultra','默认模型配置','{"modelConfig":{"prePrompt":"","userInputForm":[],"speechToText":{"enabled":false},"suggestedQuestionsAfterAnswer":{"enabled":false},"retrieverResource":{"enabled":false},"conversationStarter":{"enabled":false,"openingRemark":""},"feedback":{"enabled":false,"like":{"enabled":false},"dislike":{"enabled":false}},"models":{"plan":{"domain":"4.0Ultra","model":"4.0Ultra","completionParams":{"maxTokens":512,"temperature":0.5,"topK":1},"api":"wss://spark-api.xf-yun.com/v4.0/chat","llmId":110,"llmSource":1,"patchId":["0"],"serviceId":"bm4"},"summary":{"domain":"4.0Ultra","model":"4.0Ultra","completionParams":{"maxTokens":512,"temperature":0.5,"topK":1},"api":"wss://spark-api.xf-yun.com/v4.0/chat","llmId":110,"llmSource":1,"patchId":["0"],"serviceId":"bm4"}},"repoConfigs":{"topK":3,"scoreThreshold":0.3,"scoreThresholdEnabled":true,"reposet":[]}}}',1,'','2000-01-01 00:00:00','2024-07-11 14:43:02'),
	 (1381,'LLM_DOMAIN_CHANNEL','4.0Ultra','Spark4.0 Ultra','bm4',1,NULL,'2000-01-01 00:00:00','2024-07-03 17:52:00'),
	 (1383,'LLM_FILTER','plan','大模型过滤器','xdeepseekr1,xdeepseekv3,x1,xop3qwen30b,xop3qwen235b,bm4',1,'bm3,bm3.5,bm4,pro-128k,xqwen257bchat,xqwen72bchat,xqwen257bchat,xsparkprox,xdeepseekr1,xdeepseekv3','2000-01-01 00:00:00','2025-05-21 15:37:39'),
	 (1385,'LLM_FILTER','summary','大模型过滤器','xdeepseekr1,xdeepseekv3,x1,xop3qwen30b,xop3qwen235b,bm4',1,'bm3,bm3.5,bm4,pro-128k,xqwen257bchat,xqwen72bchat,xqwen257bchat,xsparkprox,xdeepseekr1,xdeepseekv3','2000-01-01 00:00:00','2025-05-21 15:37:40'),
	 (1387,'LLM','base-model','cbm','general',1,'Spark Lite','2000-01-01 00:00:00','2024-07-08 11:05:19'),
	 (1389,'LLM','base-model','bm3','generalv3',1,'Spark Pro','2000-01-01 00:00:00','2024-07-08 11:06:14'),
	 (1391,'LLM','base-model','bm3.5','generalv3.5',1,'Spark Max','2000-01-01 00:00:00','2024-07-08 11:06:19'),
	 (1393,'LLM','base-model','bm4','4.0Ultra',1,'Spark4.0 Ultra','2000-01-01 00:00:00','2024-07-08 11:06:09'),
	 (1395,'SPECIAL_MODEL','10000002','qwen-7b-instruct','{"llmSource":1,"llmId":10000002,"name":"qwen-7b-instruct","patchId":"0","domain":"qwen-7b-instruct","serviceId":"qwen-7b-instruct","status":1,"info":"","icon":"","tag":[],"url":"abc","modelId":0}',0,NULL,'2000-01-01 00:00:00','2025-03-24 19:52:28'),
	 (1397,'SPECIAL_MODEL_CONFIG','10000002','qwen-7b-instruct','{"patchId":null,"domain":"qwen-7b-instruct","appId":null,"name":"qwen-7b-instruct","id":10000002,"source":1,"serviceId":"qwen-7b-instruct","type":1,"serverId":"qwen-7b-instruct","config":{"serviceIdkeys":["bm3.5"],"serviceBlock":{"bm3.5":[{"fields":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"最大回复长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"max_tokens","required":true,"desc":"最小值是1, 最大值是8192。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"},{"standard":true,"constraintContent":[{"name":0},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"生成多样性","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"top_k","required":true,"desc":"\\"调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"key":"generalv3"}]},"featureBlock":{},"payloadBlock":{},"acceptBlock":{},"protocolType":1,"serviceId":"bm3.5"},"url":"qwen-7b-instruct"}',1,NULL,'2000-01-01 00:00:00','2024-11-28 15:56:36'),
	 (1399,'LLM_SCENE_FILTER','workflow','iflyaicloud','lmg5gtbs0,lmyvosz36,lm0dy3kv0,lm479a5b8,lme990528,lmxa5e22s,lmt4do9o3,lm1evo7j,lmy3b394q,lmt2br78l,lm4rar7p2,lmt2br78l,lm4onxj7h,lme693475,lmbXtIcNp,lm27ebHkj,lm9ze3hwc',1,NULL,'2000-01-01 00:00:00','2025-02-27 19:15:13'),
	 (1401,'gemma','url',NULL,'1',0,NULL,'2000-01-01 00:00:00','2024-11-21 16:48:20'),
	 (1403,'display','0828',NULL,'0',1,NULL,'2000-01-01 00:00:00','2024-08-26 20:34:56'),
	 (1405,'EFFECT_EVAL','base-model-list-filter','1','gemma_2b_chat,gemma2_9b_it',1,NULL,'2000-01-01 00:00:00','2024-09-10 16:09:15'),
	 (1407,'DOCUMENT_LINK','eval-set-template','1','https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/%E6%A8%A1%E7%89%88.csv',1,'','2023-08-17 00:00:00','2024-08-27 11:13:38'),
	 (1409,'MODEL_TRAIN_TYPE','2423718913705984','gemma_2b','0',1,NULL,'2000-01-01 00:00:00','2024-09-11 16:41:20'),
	 (1411,'MODEL_TRAIN_TYPE','2425335862888448','gemma_9b','1',1,NULL,'2000-01-01 00:00:00','2024-09-11 16:41:20'),
	 (1413,'SPECIAL_MODEL','10000003','xqwen257bchat','{"llmSource":1,"llmId":10000003,"name":"xqwen257bchat","patchId":"0","domain":"xqwen257bchat","serviceId":"xqwen257bchat","status":1,"info":"","icon":"","tag":[],"url":"wss://xingchen-api.cn-huabei-1.xf-yun.com/v1.1/chat","modelId":0}',0,'','2000-01-01 00:00:00','2025-03-24 19:52:28'),
	 (1415,'SPECIAL_MODEL_CONFIG','10000003','xqwen257bchat','{"patchId":null,"domain":"xqwen257bchat","appId":null,"name":"xqwen257bchat","id":127,"source":1,"serviceId":"xqwen257bchat","type":1,"serverId":"xqwen257bchat","config":{"serviceIdkeys":["xqwen257bchat"],"serviceBlock":{"xqwen257bchat":[{"fields":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"最大回复长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"max_tokens","required":true,"desc":"最小值是1, 最大值是8192。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"},{"standard":true,"constraintContent":[{"name":0},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"生成多样性","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"top_k","required":true,"desc":"\\"调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"xqwen257bchat","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"xqwen257bchat","required":true,"key":"domain","desc":""}],"key":"xqwen257bchat"}]},"featureBlock":{},"payloadBlock":{},"acceptBlock":{},"protocolType":1,"serviceId":"xqwen257bchat"},"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat"}',1,'','2000-01-01 00:00:00','2024-12-11 11:17:01'),
	 (1417,'SPECIAL_MODEL','10000004','xqwen72bchat','{"llmSource":1,"llmId":10000004,"name":"xqwen72bchat","patchId":"0","domain":"xqwen72bchat","serviceId":"xqwen72bchat","status":1,"info":"","icon":"","tag":[],"url":"wss://xingchen-api.cn-huabei-1.xf-yun.com/v1.1/chat","modelId":0}',0,'','2000-01-01 00:00:00','2024-10-15 15:44:09'),
	 (1419,'SPECIAL_MODEL_CONFIG','10000004','xqwen72bchat','{"patchId":null,"domain":"xqwen72bchat","appId":null,"name":"xqwen72bchat","id":125,"source":1,"serviceId":"xqwen72bchat","type":1,"serverId":"xqwen72bchat","config":{"serviceIdkeys":["xqwen72bchat"],"serviceBlock":{"xqwen72bchat":[{"fields":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"最大回复长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"max_tokens","required":true,"desc":"最小值是1, 最大值是8192。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"},{"standard":true,"constraintContent":[{"name":0},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"生成多样性","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"top_k","required":true,"desc":"\\"调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"xqwen72bchat","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"xqwen72bchat","required":true,"key":"domain","desc":""}],"key":"xqwen72bchat"}]},"featureBlock":{},"payloadBlock":{},"acceptBlock":{},"protocolType":1,"serviceId":"xqwen72bchat"},"url":"wss://xingchen-api.cn-huabei-1.xf-yun.com/v1.1/chat"}',0,'','2000-01-01 00:00:00','2024-11-28 16:00:00'),
	 (1421,'WORKFLOW_NODE_TEMPLATE','1,2','固定节点','{"idType":"node-start","type":"开始节点","position":{"x":100,"y":300},"data":{"label":"开始","description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","nodeMeta":{"nodeType":"基础节点","aliasName":"开始节点"},"inputs":[],"outputs":[{"id":"","name":"AGENT_USER_INPUT","deleteDisabled":true,"required":true,"schema":{"type":"string","default":"用户本轮对话输入内容"}}],"nodeParam":{},"allowInputReference":false,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png"}}',1,'开始节点','2000-01-01 00:00:00','2024-10-18 10:49:36'),
	 (1423,'WORKFLOW_NODE_TEMPLATE','1,2','固定节点','{"idType":"node-end","type":"结束节点","position":{"x":1000,"y":300},"data":{"label":"结束","description":"工作流的结束节点，用于输出工作流运行后的最终结果。","nodeMeta":{"nodeType":"基础节点","aliasName":"结束节点"},"inputs":[{"id":"","name":"output","schema":{"type":"string","value":{"type":"ref","content":{}}}}],"outputs":[],"nodeParam":{"outputMode":1,"template":"","streamOutput":true},"references":[],"allowInputReference":true,"allowOutputReference":false,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png"}}',1,'结束节点','2000-01-01 00:00:00','2025-04-09 20:41:00'),
	 (1425,'WORKFLOW_NODE_TEMPLATE','1,2','基础节点','{
    "idType": "spark-llm",
    "nodeType": "基础节点",
    "aliasName": "大模型",
    "description": "根据输入的提示词，调用选定的大模型，对提示词作出回答",
    "data":
    {
        "nodeMeta":
        {
            "nodeType": "基础节点",
            "aliasName": "大模型"
        },
        "inputs":
        [
            {
                "id": "",
                "name": "input",
                "schema":
                {
                    "type": "string",
                    "value":
                    {
                        "type": "ref",
                        "content":
                        {}
                    }
                }
            }
        ],
        "outputs":
        [
            {
                "id": "",
                "name": "output",
                "schema":
                {
                    "type": "string",
                    "default": ""
                }
            }
        ],
        "nodeParam":
        {
            "maxTokens": 2048,
            "temperature": 0.5,
            "topK": 4,
            "auditing": "default",
            "template": "",
            "respFormat": 0,
            "patchId": "0",
            "appId": "d1590f30",
            "uid": "",
            "enableChatHistoryV2":
            {
                "isEnabled": false,
                "rounds": 1
            }
        },
        "references":
        [],
        "allowInputReference": true,
        "allowOutputReference": true,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png"
    }
}',1,'大模型','2000-01-01 00:00:00','2025-09-29 15:52:31'),
	 (1427,'WORKFLOW_NODE_TEMPLATE','1,2','基础节点','{
    "idType": "ifly-code",
    "nodeType": "基础节点",
    "aliasName": "代码",
    "description": "面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果",
    "data":
    {
        "nodeMeta":
        {
            "nodeType": "工具",
            "aliasName": "代码"
        },
        "inputs":
        [
            {
                "id": "",
                "name": "input",
                "schema":
                {
                    "type": "string",
                    "value":
                    {
                        "type": "ref",
                        "content":
                        {}
                    }
                }
            }
        ],
        "outputs":
        [
            {
                "id": "",
                "name": "key0",
                "schema":
                {
                    "type": "string",
                    "default": ""
                }
            },
            {
                "id": "",
                "name": "key1",
                "schema":
                {
                    "type": "array-string",
                    "default": ""
                }
            },
            {
                "id": "",
                "name": "key2",
                "schema":
                {
                    "type": "object",
                    "default": "",
                    "properties":
                    [
                        {
                            "id": "",
                            "name": "key21",
                            "type": "string",
                            "default": "",
                            "required": true,
                            "nameErrMsg": ""
                        }
                    ]
                }
            }
        ],
        "nodeParam":
        {
            "code": "# 在这里，''input'' 是节点中定义的输入变量之一，您可以直接使用它。\\n# 您也可以定义和使用其他输入变量，例如：input2, input3 等。\\n# 输入变量的类型由节点中对应变量引用的参数类型决定。\\n#\\n# 下面是一个示例，展示如何使用多个输入变量：\\n# def main(input, input2):\\n#     ret = {\\n#         \\"key0\\": input + \\"hello\\",      # 字符串拼接示例\\n#         \\"key1\\": [\\"hello\\", \\"world\\"],   # 列表示例\\n#         \\"key2\\": {\\"key21\\": input2}     # 使用 input2 的示例\\n#     }\\n#     return ret\\n#\\n# 您需要输出一个包含多种数据类型的 ''ret'' 对象，ret 中的每一项对应节点的输出参数。\\n# 最终返回构造好的 ret 对象。\\n# -*- coding: utf-8 -*- \\ndef main(input):\\n    ret = {\\n        \\"key0\\": input + \\"hello\\",\\n        \\"key1\\": [\\"hello\\", \\"world\\"],\\n        \\"key2\\": {\\"key21\\": \\"hi\\"}\\n    }\\n    return ret"
        },
        "references":
        [],
        "allowInputReference": true,
        "allowOutputReference": true,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png"
    }
}',1,'代码','2000-01-01 00:00:00','2025-09-04 11:33:54'),
	 (1429,'WORKFLOW_NODE_TEMPLATE','1,2','基础节点','{"idType":"knowledge-base","nodeType":"基础节点","aliasName":"知识库","description":"调用知识库，可以指定知识库进行知识检索和答复","data":{"nodeMeta":{"nodeType":"工具","aliasName":"知识库"},"inputs":[{"id":"","name":"query","schema":{"type":"string","value":{"type":"ref","content":{}}}}],"outputs":[{"id":"","name":"results","schema":{"type":"array-object","properties":[{"id":"","name":"score","type":"number","default":"","required":true,"nameErrMsg":""},{"id":"","name":"docId","type":"string","default":"","required":true,"nameErrMsg":""},{"id":"","name":"title","type":"string","default":"","required":true,"nameErrMsg":""},{"id":"","name":"content","type":"string","default":"","required":true,"nameErrMsg":""},{"id":"","name":"context","type":"string","default":"","required":true,"nameErrMsg":""},{"id":"","name":"references","type":"object","default":"","required":true,"nameErrMsg":""}]},"required":true,"nameErrMsg":""}],"nodeParam":{"repoId":[],"repoList":[],"topN":3,"score":0.2},"references":[],"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/knowledgeIcon.png"}}',1,'知识库','2000-01-01 00:00:00','2025-07-25 10:06:57'),
	 (1431,'WORKFLOW_NODE_TEMPLATE','1,2','工具','{"idType":"flow","nodeType":"工具","aliasName":"工作流","description":"快速集成已发布工作流，高效复用已有能力","data":{"nodeMeta":{"nodeType":"工具","aliasName":"工作流"},"inputs":[],"outputs":[],"nodeParam":{"appId":"","flowId":"","uid":""},"references":[],"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/flow-icon.png"}}',1,'工作流','2000-01-01 00:00:00','2025-05-16 11:12:07'),
	 (1433,'WORKFLOW_NODE_TEMPLATE','1,2','逻辑','{
    "idType": "decision-making",
    "nodeType": "基础节点",
    "aliasName": "决策",
    "description": "结合输入的参数与填写的意图，决定后续的逻辑走向",
    "data":
    {
        "nodeMeta":
        {
            "nodeType": "基础节点",
            "aliasName": "决策"
        },
        "nodeParam":
        {
            "maxTokens": 2048,
            "temperature": 0.5,
            "topK": 4,
            "auditing": "default",
            "enableChatHistoryV2":
            {
                "isEnabled": false,
                "rounds": 1
            },
            "uid": "2171",
            "intentChains":
            [
                {
                    "intentType": 2,
                    "name": "",
                    "description": "",
                    "id": "intent-one-of::4724514d-ffc8-4412-bf7f-13cc3375110d"
                },
                {
                    "intentType": 1,
                    "name": "default",
                    "description": "默认意图",
                    "id": "intent-one-of::506841e4-3f6c-40b1-a804-dc5ffe723b34"
                }
            ],
            "reasonMode": 1,
            "model": "spark",
            "useFunctionCall": true,
            "promptPrefix": "",
            "patchId": "0",
            "appId": "d1590f30"
        },
        "inputs":
        [
            {
                "id": "",
                "name": "Query",
                "schema":
                {
                    "type": "string",
                    "value":
                    {
                        "type": "ref",
                        "content":
                        {}
                    }
                }
            }
        ],
        "outputs":
        [
            {
                "id": "",
                "name": "class_name",
                "schema":
                {
                    "type": "string",
                    "default": ""
                }
            }
        ],
        "references":
        [],
        "allowInputReference": true,
        "allowOutputReference": true,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/designMakeIcon.png"
    }
}',1,'决策','2000-01-01 00:00:00','2025-09-29 15:53:15'),
	 (1435,'WORKFLOW_NODE_TEMPLATE','1,2','逻辑','{"idType":"if-else","nodeType":"分支器","aliasName":"分支器","description":"根据设立的条件，判断选择分支走向","data":{"nodeMeta":{"nodeType":"分支器","aliasName":"分支器"},"nodeParam":{"cases":[{"id":"branch_one_of::","level":1,"logicalOperator":"and","conditions":[{"id":"","leftVarIndex":null,"rightVarIndex":null,"compareOperator":null}]},{"id":"branch_one_of::","level":999,"logicalOperator":"and","conditions":[]}]},"inputs":[{"id":"","name":"input","schema":{"type":"string","value":{"type":"ref","content":{"nodeId":"","name":""}}}},{"id":"","name":"input1","schema":{"type":"string","value":{"type":"ref","content":{"nodeId":"","name":""}}}}],"outputs":[],"references":[],"allowInputReference":true,"allowOutputReference":false,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/if-else-node-icon.png"}}',1,'分支器','2000-01-01 00:00:00','2024-10-18 10:52:56'),
	 (1437,'WORKFLOW_NODE_TEMPLATE','1,2','逻辑','{"idType":"iteration","nodeType":"基础节点","aliasName":"迭代","description":"该节点用于处理循环逻辑，仅支持嵌套一次","data":{"nodeMeta":{"nodeType":"基础节点","aliasName":"迭代"},"nodeParam":{},"inputs":[{"id":"","name":"input","schema":{"type":"","value":{"type":"ref","content":{}}}}],"outputs":[{"id":"","name":"output","schema":{"type":"array-string","default":""}}],"iteratorNodes":[],"iteratorEdges":[],"references":[],"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/iteration-icon.png"}}',1,'迭代','2000-01-01 00:00:00','2024-10-18 10:55:30'),
	 (1439,'WORKFLOW_NODE_TEMPLATE','1,2','转换','{"idType":"node-variable","nodeType":"基础节点","aliasName":"变量存储器","description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","data":{"nodeMeta":{"nodeType":"基础节点","aliasName":"变量存储器"},"nodeParam":{"method":"set"},"inputs":[{"id":"","name":"input","schema":{"type":"string","value":{"type":"ref","content":{}}}}],"outputs":[],"references":[],"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png"}}',1,'变量存储器','2000-01-01 00:00:00','2025-03-12 18:05:50'),
	 (1441,'WORKFLOW_NODE_TEMPLATE','1,2','转换','{
    "idType": "extractor-parameter",
    "nodeType": "基础节点",
    "aliasName": "变量提取器",
    "description": "结合提取变量描述，将上一节点输出的自然语言进行提取",
    "data":
    {
        "nodeMeta":
        {
            "nodeType": "基础节点",
            "aliasName": "变量提取器"
        },
        "nodeParam":
        {
            "maxTokens": 2048,
            "temperature": 0.5,
            "topK": 4,
            "auditing": "default",
            "model": "spark",
            "patchId": "0",
            "appId": "d1590f30",
            "uid": "2171",
            "reasonMode": 1
        },
        "inputs":
        [
            {
                "id": "",
                "name": "input",
                "schema":
                {
                    "type": "string",
                    "value":
                    {
                        "type": "ref",
                        "content":
                        {}
                    }
                }
            }
        ],
        "outputs":
        [
            {
                "id": "",
                "name": "output",
                "schema":
                {
                    "type": "string",
                    "description": ""
                },
                "required": true
            }
        ],
        "references":
        [],
        "allowInputReference": true,
        "allowOutputReference": true,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-extractor-icon.png"
    }
}',1,'变量提取器','2000-01-01 00:00:00','2025-09-29 15:53:43'),
	 (1443,'WORKFLOW_NODE_TEMPLATE','1,2','转换','{"idType":"text-joiner","nodeType":"工具","aliasName":"文本处理节点","description":"用于按照指定格式规则处理多个字符串变量","data":{"nodeMeta":{"nodeType":"工具","aliasName":"文本拼接"},"nodeParam":{"prompt":""},"inputs":[{"id":"","name":"input","schema":{"type":"string","value":{"type":"ref","content":{}}}}],"outputs":[{"id":"","name":"output","schema":{"type":"string"}}],"references":[],"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/text-splicing-icon.png"}}',1,'文本处理节点','2000-01-01 00:00:00','2025-03-25 16:27:14'),
	 (1445,'WORKFLOW_NODE_TEMPLATE','1,2','其他','{
    "idType": "message",
    "nodeType": "基础节点",
    "aliasName": "消息",
    "description": "在工作流中可以对中间过程的产物进行输出",
    "data":
    {
        "nodeMeta":
        {
            "nodeType": "基础节点",
            "aliasName": "消息"
        },
        "nodeParam":
        {
            "template": "",
            "startFrameEnabled": false
        },
        "inputs":
        [
            {
                "id": "",
                "name": "input",
                "schema":
                {
                    "type": "string",
                    "value":
                    {
                        "type": "ref",
                        "content":
                        {}
                    }
                }
            }
        ],
        "outputs":
        [
        ],
        "references":
        [],
        "allowInputReference": true,
        "allowOutputReference": false,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/message-node-icon.png"
    }
}',1,'消息','2000-01-01 00:00:00','2025-09-25 20:25:23'),
	 (1447,'WORKFLOW_NODE_TEMPLATE','1,2','工具','{"idType":"plugin","nodeType":"工具","aliasName":"工具","description":"通过添加外部工具，快捷获取技能，满足用户需求","data":{"nodeMeta":{"nodeType":"工具","aliasName":"工具"},"inputs":[],"outputs":[],"nodeParam":{"appId":"4eea957b","code":""},"references":[],"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png"}}',1,'工具','2000-01-01 00:00:00','2024-10-18 10:52:15'),
	 (1449,'LLM_SCENE_FILTER','workflow','xfyun','lmg5gtbs0,lmyvosz36,lm0dy3kv0,lme990528,lm4onxj7h,lmbXtIcNp,lm27ebHkj,lm9ze3hwc',1,'','2000-01-01 00:00:00','2025-02-27 19:15:13'),
	 (1451,'PROMPT','ai-code','create','## 角色
你是一名python工程师，请结合用户的需求和下列规则和约束，生成一段完整的python代码文本。

## 约束依赖项
以下是支持范围外的python依赖，不要使用以外的依赖包。
1.zopfli,2.zipp,3.yarl,4.xml-python,5.xlsxwriter,6.xlrd,7.xgboost,8.xarray,9.xarray-einstats,10.wsproto,11.wrapt,12.wordcloud,13.werkzeug,14.websockets,15.websocket-client,16.webencodings,17.weasyprint,18.wcwidth,19.watchfiles,20.wasabi,21.wand,22.uvloop,23.uvicorn,24.ujson,25.tzlocal,26.typing-extensions,27.typer,28.trimesh,29.traitlets,30.tqdm,31.tornado,32.torchvision,33.torchtext,34.torchaudio,35.torch,36.toolz,37.tomli,38.toml,39.tinycss2,40.tifffile,41.thrift,42.threadpoolctl,43.thinc,44.theano-pymc,45.textract,46.textblob,47.text-unidecode,48.terminado,49.tenacity,50.tabulate,51.tabula,52.tables,53.sympy,54.svgwrite,55.svglib,56.statsmodels,57.starlette,58.stack-data,59.srsly,60.speechrecognition,61.spacy,62.spacy-legacy,63.soupsieve,64.soundfile,65.sortedcontainers,66.snuggs,67.snowflake-connector-python,68.sniffio,69.smart-open,70.slicer,71.shapely,72.shap,73.sentencepiece,74.send2trash,75.semver,76.seaborn,77.scipy,78.scikit-learn,79.scikit-image,80.rpds-py,81.resampy,82.requests,83.reportlab,84.regex,85.referencing,86.rdflib,87.rasterio,88.rarfile,89.qrcode,90.pyzmq,91.pyzbar,92.pyyaml,93.pyxlsb,94.pywavelets,95.pytz,96.pyttsx3,97.python-pptx,98.python-multipart,99.python-dotenv,100.python-docx,101.python-dateutil,102.pyth3,103.pytest,104.pytesseract,105.pyswisseph,106.pyshp,107.pyprover,108.pyproj,109.pyphen,110.pypdf2,111.pyparsing,112.pypandoc,113.pyopenssl,114.pynacl,115.pymupdf,116.pymc3,117.pyluach,118.pylog,119.pyjwt,120.pygraphviz,121.pygments,122.pydyf,123.pydub,124.pydot,125.pydantic,126.pycryptodomex,127.pycryptodome,128.pycparser,129.pycountry,130.py,131.pure-eval,132.ptyprocess,133.psutil,134.pronouncing,135.prompt-toolkit,136.prometheus-client,137.proglog,138.priority,139.preshed,140.pooch,141.pluggy,142.plotnine,143.plotly,144.platformdirs,145.pkgutil-resolve-name,146.pillow,147.pickleshare,148.pexpect,149.pdfrw,150.pdfplumber,151.pdfminer.six,152.pdfkit,153.pdf2image,154.patsy,155.pathy,156.parso,157.paramiko,158.pandocfilters,159.pandas,160.packaging,161.oscrypto,162.orjson,163.opt-einsum,164.openpyxl,165.opencv-python,166.olefile,167.odfpy,168.numpy,169.numpy-financial,170.numexpr,171.numba,172.notebook,173.notebook-shim,174.nltk,175.networkx,176.nest-asyncio,177.nbformat,178.nbconvert,179.nbclient,180.nbclassic,181.nashpy,182.mutagen,183.murmurhash,184.munch,185.multidict,186.mtcnn,187.mpmath,188.moviepy,189.monotonic,190.mne,191.mizani,192.mistune,193.matplotlib,194.matplotlib-venn,195.matplotlib-inline,196.markupsafe,197.markdownify,198.markdown2,199.lxml,200.loguru,201.llvmlite,202.librosa,203.korean-lunar-calendar,204.kiwisolver,205.kerykeion,206.keras,207.jupyterlab,208.jupyterlab-server,209.jupyterlab-pygments,210.jupyter-server,211.jupyter-core,212.jupyter-client,213.jsonschema,214.jsonschema-specifications,215.jsonpickle,216.json5,217.joblib,218.jinja2,219.jedi,220.jax,221.itsdangerous,222.isodate,223.ipython,224.ipython-genutils,225.ipykernel,226.iniconfig,227.importlib-resources,228.importlib-metadata,229.imgkit,230.imapclient,231.imageio,232.imageio-ffmpeg,233.hyperframe,234.hypercorn,235.httpx,236.httptools,237.httpcore,238.html5lib,239.hpack,240.h11,241.h5py,242.h5netcdf,243.h2,244.gtts,245.graphviz,246.gradio,247.geopy,248.geopandas,249.geographiclib,250.gensim,251.fuzzywuzzy,252.future,253.frozenlist,254.fpdf,255.fonttools,256.folium,257.flask,258.flask-login,259.flask-cors,260.flask-cachebuster,261.fiona,262.filelock,263.ffmpy,264.ffmpeg-python,265.fastprogress,266.fastjsonschema,267.fastapi,268.faker,269.extract-msg,270.executing,271.exchange-calendars,272.exceptiongroup,273.et-xmlfile,274.entrypoints,275.email-validator,276.einops,277.ebooklib,278.ebcdic,279.docx2txt,280.dnspython,281.dlib,282.dill,283.deprecat,284.defusedxml,285.decorator,286.debugpy,287.databricks-sql-connector,288.cython,289.cymem,290.cycler,291.cssselect2,292.cryptography,293.countryinfo,294.compressed-rtf,295.comm,296.cmudict,297.cloudpickle,298.cligj,299.click,300.click-plugins,301.charset-normalizer,302.chardet,303.cffi,304.catalogue,305.camelot-py,306.cairosvg,307.cairocffi,308.cachetools,309.brotli,310.branca,311.bokeh,312.blis,313.blinker,314.bleach,315.beautifulsoup4,316.bcrypt,317.basemap,318.basemap-data,319.backports.zoneinfo,320.backoff,321.backcall,322.babel,323.audioread,324.attrs,325.async-timeout,326.asttokens,327.asn1crypto,328.arviz,329.argon2-cffi,330.argon2-cffi-bindings,331.argcomplete,332.anytree,333.anyio,334.analytics-python,335.aiosignal,336.aiohttp,337.affine,338.absl-py,339.wheel,340.urllib3,341.unattended-upgrades,342.six,343.setuptools,344.requests-unixsocket,345.python-apt,346.pygobject,347.pyaudio,348.pip,349.idna,350.distro-info,351.dbus-python,352.certifi

## 规则
1、用户原始代码需要严格符合提供的参数变量列表（参数名，参数类型，参数数量）、函数名要求。
2、输入参数必须是变量列表提供的参数和类型；
3、输出返回参数类型必须是dict类型，如果用户有定义返回参数名词要严格按照用户要求返回，否则默认返回字段名为output。
4、在import后面添加注释，描述函数功能和参数定义，请直接给出代码。

## 函数名称：
main

## 参数变量列表(name:名称,type:字段类型):
{var}

## 用户需求：
{prompt}

## 注意
1、只需要实现函数功能，仅生成代码;
2、不能有测试代码、样例代码、__main__方法;

## 请直接返回代码块，不需要返回markdown格式。',1,'','2000-01-01 00:00:00','2024-10-16 17:47:31'),
	 (1453,'PROMPT','ai-code','update','## 角色
你是一名python工程师，请结合用户的代码和下列规则约束，完成对用户的代码优化。

## 约束依赖项
以下是支持范围外的python依赖，不要使用以外的依赖包。
1.zopfli,2.zipp,3.yarl,4.xml-python,5.xlsxwriter,6.xlrd,7.xgboost,8.xarray,9.xarray-einstats,10.wsproto,11.wrapt,12.wordcloud,13.werkzeug,14.websockets,15.websocket-client,16.webencodings,17.weasyprint,18.wcwidth,19.watchfiles,20.wasabi,21.wand,22.uvloop,23.uvicorn,24.ujson,25.tzlocal,26.typing-extensions,27.typer,28.trimesh,29.traitlets,30.tqdm,31.tornado,32.torchvision,33.torchtext,34.torchaudio,35.torch,36.toolz,37.tomli,38.toml,39.tinycss2,40.tifffile,41.thrift,42.threadpoolctl,43.thinc,44.theano-pymc,45.textract,46.textblob,47.text-unidecode,48.terminado,49.tenacity,50.tabulate,51.tabula,52.tables,53.sympy,54.svgwrite,55.svglib,56.statsmodels,57.starlette,58.stack-data,59.srsly,60.speechrecognition,61.spacy,62.spacy-legacy,63.soupsieve,64.soundfile,65.sortedcontainers,66.snuggs,67.snowflake-connector-python,68.sniffio,69.smart-open,70.slicer,71.shapely,72.shap,73.sentencepiece,74.send2trash,75.semver,76.seaborn,77.scipy,78.scikit-learn,79.scikit-image,80.rpds-py,81.resampy,82.requests,83.reportlab,84.regex,85.referencing,86.rdflib,87.rasterio,88.rarfile,89.qrcode,90.pyzmq,91.pyzbar,92.pyyaml,93.pyxlsb,94.pywavelets,95.pytz,96.pyttsx3,97.python-pptx,98.python-multipart,99.python-dotenv,100.python-docx,101.python-dateutil,102.pyth3,103.pytest,104.pytesseract,105.pyswisseph,106.pyshp,107.pyprover,108.pyproj,109.pyphen,110.pypdf2,111.pyparsing,112.pypandoc,113.pyopenssl,114.pynacl,115.pymupdf,116.pymc3,117.pyluach,118.pylog,119.pyjwt,120.pygraphviz,121.pygments,122.pydyf,123.pydub,124.pydot,125.pydantic,126.pycryptodomex,127.pycryptodome,128.pycparser,129.pycountry,130.py,131.pure-eval,132.ptyprocess,133.psutil,134.pronouncing,135.prompt-toolkit,136.prometheus-client,137.proglog,138.priority,139.preshed,140.pooch,141.pluggy,142.plotnine,143.plotly,144.platformdirs,145.pkgutil-resolve-name,146.pillow,147.pickleshare,148.pexpect,149.pdfrw,150.pdfplumber,151.pdfminer.six,152.pdfkit,153.pdf2image,154.patsy,155.pathy,156.parso,157.paramiko,158.pandocfilters,159.pandas,160.packaging,161.oscrypto,162.orjson,163.opt-einsum,164.openpyxl,165.opencv-python,166.olefile,167.odfpy,168.numpy,169.numpy-financial,170.numexpr,171.numba,172.notebook,173.notebook-shim,174.nltk,175.networkx,176.nest-asyncio,177.nbformat,178.nbconvert,179.nbclient,180.nbclassic,181.nashpy,182.mutagen,183.murmurhash,184.munch,185.multidict,186.mtcnn,187.mpmath,188.moviepy,189.monotonic,190.mne,191.mizani,192.mistune,193.matplotlib,194.matplotlib-venn,195.matplotlib-inline,196.markupsafe,197.markdownify,198.markdown2,199.lxml,200.loguru,201.llvmlite,202.librosa,203.korean-lunar-calendar,204.kiwisolver,205.kerykeion,206.keras,207.jupyterlab,208.jupyterlab-server,209.jupyterlab-pygments,210.jupyter-server,211.jupyter-core,212.jupyter-client,213.jsonschema,214.jsonschema-specifications,215.jsonpickle,216.json5,217.joblib,218.jinja2,219.jedi,220.jax,221.itsdangerous,222.isodate,223.ipython,224.ipython-genutils,225.ipykernel,226.iniconfig,227.importlib-resources,228.importlib-metadata,229.imgkit,230.imapclient,231.imageio,232.imageio-ffmpeg,233.hyperframe,234.hypercorn,235.httpx,236.httptools,237.httpcore,238.html5lib,239.hpack,240.h11,241.h5py,242.h5netcdf,243.h2,244.gtts,245.graphviz,246.gradio,247.geopy,248.geopandas,249.geographiclib,250.gensim,251.fuzzywuzzy,252.future,253.frozenlist,254.fpdf,255.fonttools,256.folium,257.flask,258.flask-login,259.flask-cors,260.flask-cachebuster,261.fiona,262.filelock,263.ffmpy,264.ffmpeg-python,265.fastprogress,266.fastjsonschema,267.fastapi,268.faker,269.extract-msg,270.executing,271.exchange-calendars,272.exceptiongroup,273.et-xmlfile,274.entrypoints,275.email-validator,276.einops,277.ebooklib,278.ebcdic,279.docx2txt,280.dnspython,281.dlib,282.dill,283.deprecat,284.defusedxml,285.decorator,286.debugpy,287.databricks-sql-connector,288.cython,289.cymem,290.cycler,291.cssselect2,292.cryptography,293.countryinfo,294.compressed-rtf,295.comm,296.cmudict,297.cloudpickle,298.cligj,299.click,300.click-plugins,301.charset-normalizer,302.chardet,303.cffi,304.catalogue,305.camelot-py,306.cairosvg,307.cairocffi,308.cachetools,309.brotli,310.branca,311.bokeh,312.blis,313.blinker,314.bleach,315.beautifulsoup4,316.bcrypt,317.basemap,318.basemap-data,319.backports.zoneinfo,320.backoff,321.backcall,322.babel,323.audioread,324.attrs,325.async-timeout,326.asttokens,327.asn1crypto,328.arviz,329.argon2-cffi,330.argon2-cffi-bindings,331.argcomplete,332.anytree,333.anyio,334.analytics-python,335.aiosignal,336.aiohttp,337.affine,338.absl-py,339.wheel,340.urllib3,341.unattended-upgrades,342.six,343.setuptools,344.requests-unixsocket,345.python-apt,346.pygobject,347.pyaudio,348.pip,349.idna,350.distro-info,351.dbus-python,352.certifi

## 规则
1、用户原始代码需要严格符合提供的参数变量列表（参数名，参数类型，参数数量）、函数名要求。
2、输入参数必须是变量列表提供的参数和类型；
3、输出返回参数类型必须是dict类型，如果用户有定义返回参数名词要严格按照用户要求返回，否则默认返回字段名为output。
4、在import后面添加注释，描述函数功能和参数定义，请直接给出代码。

## 函数名称：
main

## 参数变量列表(name:名词,type:字段类型):
{var}

## 用户原始代码：
{code}

## 用户的需求：
{prompt}

## 注意
1、将用户提供代码按照以上条件进行优化;
2、不能有测试代码、样例代码、__main__方法;

## 请直接返回代码块，不需要返回markdown格式。',1,'','2000-01-01 00:00:00','2024-10-16 17:45:02'),
	 (1455,'PROMPT','ai-code','fix','## 角色
你是一名python工程师，请结合用户的原始代码和错误信息，返回一个正确的代码块。

## 函数名称：
main

## 参数变量列表(name:名称,type:字段类型,value:值):
{var}

## 用户原始代码：
{code}

## 用户原始代码执行错误信息：
{errMsg}

## 注意
仅修改错误信息中提示的地方，其他地方不做变动。

## 请直接返回代码块',1,'','2000-01-01 00:00:00','2024-10-16 17:47:31'),
	 (1457,'WORKFLOW','python-dependency','代码执行器py依赖','{
  "aiohappyeyeballs": "2.4.3",
  "aiohttp": "3.10.10",
  "aiosignal": "1.3.1",
  "annotated-types": "0.7.0",
  "anyio": "4.4.0",
  "appdirs": "1.4.4",
  "astroid": "3.1.0",
  "attrs": "23.2.0",
  "black": "24.4.2",
  "boto3": "1.40.22",
  "botocore": "1.40.22",
  "certifi": "2024.7.4",
  "charset-normalizer": "3.3.2",
  "click": "8.1.7",
  "confluent-kafka": "2.5.0",
  "coverage": "7.10.7",
  "Deprecated": "1.2.14",
  "dill": "0.4.0",
  "distro": "1.9.0",
  "dnspython": "2.6.1",
  "email_validator": "2.2.0",
  "fastapi": "0.111.1",
  "fastapi-cli": "0.0.4",
  "flake8": "7.0.0",
  "frozenlist": "1.5.0",
  "grpcio": "1.64.1",
  "h11": "0.14.0",
  "httpcore": "1.0.5",
  "httptools": "0.6.4",
  "httpx": "0.27.0",
  "idna": "3.7",
  "importlib_metadata": "7.1.0",
  "iniconfig": "2.0.0",
  "isort": "5.13.2",
  "Jinja2": "3.1.4",
  "jiter": "0.10.0",
  "jmespath": "1.0.1",
  "jsonpatch": "1.33",
  "jsonpointer": "3.0.0",
  "jsonschema": "4.23.0",
  "jsonschema-specifications": "2023.12.1",
  "langchain-core": "0.3.75",
  "langchain_sandbox": "0.0.6",
  "langgraph": "0.6.6",
  "langgraph-checkpoint": "2.1.1",
  "langgraph-prebuilt": "0.6.4",
  "langgraph-sdk": "0.2.4",
  "langsmith": "0.4.21",
  "loguru": "0.7.2",
  "markdown-it-py": "3.0.0",
  "MarkupSafe": "2.1.5",
  "mccabe": "0.7.0",
  "mdurl": "0.1.2",
  "multidict": "6.1.0",
  "openai": "1.60.2",
  "orjson": "3.10.6",
  "ormsgpack": "1.10.0",
  "packaging": "24.1",
  "pathspec": "0.12.1",
  "pip": "23.2.1",
  "platformdirs": "4.4.0",
  "pluggy": "1.5.0",
  "propcache": "0.2.0",
  "protobuf": "3.20.3",
  "py-spy": "0.4.1",
  "pycodestyle": "2.11.1",
  "pydantic": "2.9.2",
  "pydantic_core": "2.23.4",
  "pyflakes": "3.2.0",
  "Pygments": "2.18.0",
  "pylint": "3.1.0",
  "PyMySQL": "1.1.1",
  "pytest": "8.2.2",
  "pytest-asyncio": "1.2.0",
  "pytest-cov": "7.0.0",
  "python-dateutil": "2.9.0.post0",
  "python-dotenv": "1.0.1",
  "python-multipart": "0.0.9",
  "PyYAML": "6.0.1",
  "redis": "3.5.3",
  "redis-py-cluster": "2.1.3",
  "referencing": "0.35.1",
  "requests": "2.32.3",
  "requests-toolbelt": "1.0.0",
  "rich": "13.7.1",
  "rpds-py": "0.19.0",
  "s3transfer": "0.13.1",
  "setuptools": "70.3.0",
  "shellingham": "1.5.4",
  "six": "1.17.0",
  "sniffio": "1.3.1",
  "snowflake-id": "1.0.2",
  "SQLAlchemy": "2.0.31",
  "sqlmodel": "0.0.19",
  "starlette": "0.37.2",
  "tenacity": "9.1.2",
  "toml": "0.10.2",
  "tomlkit": "0.13.3",
  "tqdm": "4.67.1",
  "typer": "0.12.3",
  "typing_extensions": "4.12.2",
  "urllib3": "2.2.2",
  "uvicorn": "0.36.0",
  "uvloop": "0.21.0",
  "versioned-fastapi": "1.0.2",
  "watchfiles": "0.22.0",
  "websocket-client": "1.8.0",
  "websockets": "12.0",
  "wheel": "0.41.2",
  "wrapt": "1.16.0",
  "xingchen_utils": "1.0.7",
  "xxhash": "3.5.0",
  "yarl": "1.16.0",
  "zipp": "3.19.2",
  "zstandard": "0.24.0"
}',1,'','2000-01-01 00:00:00','2025-10-15 16:25:41'),
	 (1458,'TEMPLATE','node','','[
    {
        "idType": "spark-llm",
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png",
        "name": "大模型",
        "markdown": "## 用途\\n根据输入的提示词，调用选定的大模型，对提示词作出回答\\n## 示例\\n### 输入\\n| 参数名 | 参数值 |\\n |----------------|----------------------|\\n | input（引用）| 开始-query |\\n## 提示词\\n你是一个旅行规划超级智能体，你非常善于从用户的【输入信息】中，识别出用户旅行的各种需求信息，并且整理输出。现在你的任务是，严格按照下面的定义和规则要求，仔细分析和理解下面用户的【输入信息】，输出一份用户旅行需求资料，资料包含了，【旅行目的地】、【旅行天数】、【旅行人员】、【景点偏好】、【旅行时间】\\n### 输出\\n | 变量名 | 变量值 |\\n |------------|--------|\\n | output（String）| 🌟亲爱的朋友，小助手收到啦！我已经了解到您本次旅行希望开启一段精彩的合肥三日之旅😃。请稍等片刻，我将为您生成行程卡片。在这之前，让我简短介绍一下我们这次的目的地合肥，它有着很多非常值得一去的景点。合肥的三河古镇🏯，那是一个充满古朴韵味的地方。青石板路蜿蜒曲折，两旁是白墙黑瓦的徽派建筑。当您漫步其间，仿佛穿越回了过去，能感受到岁月的沉淀和历史的韵味。还有包公园🌳，这里是为纪念包拯而建。清风阁高耸入云，站在阁顶，俯瞰整个园区，绿树成荫，湖水碧波荡漾。当您身处其中，敬仰包拯的清正廉洁，内心会感到无比的宁静和崇敬。大蜀山森林公园也是不容错过的好去处🌲，山峦起伏，绿树葱茏。沿着山间小道攀登，呼吸着清新的空气，您会感到身心都得到了极大的放松。除此之外，李鸿章故居也是非常值得一去的地方。在这里，您可以了解到李鸿章的生平事迹，感受那段波澜壮阔的历史。相信在合肥的这三天，您一定会留下美好的回忆💖。祝您旅途愉快🌟| \\n\\n![占位图片](https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/template/node-llm.png)"
    },
    {
        "idType": "ifly-code",
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png",
        "name": "代码",
        "markdown": "## 用途\\n面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果\\n## 示例\\n### 输入\\n| 参数名 | 参数值 |\\n |----------------|----------------------|\\n | location（引用）| 代码-location |\\n| person（引用）| 代码-person |\\n| day（引用）| 代码-day |\\n## 代码（将上个节点里的地名和人数引用过来，拼成地点+人数+天数+旅游攻略）\\nasync def main(args:Args)->Output: \\nparams=args.params\\n ret:Output={\\"ret\\":params[''location'']+params[''person'']+params[''day'']+''旅游攻略''}\\n return ret\\n### 输出\\n | 变量名 | 变量值 |\\n |------------|--------|\\n | ret（String）| 合肥5人3日旅游攻略| \\n\\n![占位图片](https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/template/node-code.png)"
    },
    {
        "idType": "knowledge-base",
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/knowledgeIcon.png",
        "name": "知识库",
        "markdown": "## 用途\\n调用知识库，可以指定知识库进行知识检索和答复\\n## 示例\\n### 输入\\n| 参数名 | 参数值 |\\n |----------------|----------------------|\\n | Query（String）（引用）| 大模型-output |\\n## 知识库 \\n全国美食大全\\n### 输出\\n | 变量名 | 变量值 |\\n |------------|--------|\\n | OutputList（Array<Object>）| 合肥十大美食：曹操鸡、庐州烤鸭、肥东泥鳅煲、麻饼、麻花、麻糕、鸭油烧饼、肥西老母鸡、肥西肥肠煲、紫蓬山炖鹅| \\n\\n![占位图片](https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/template/node-knowledge.png)"
    },
    {
        "idType": "plugin",
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png",
        "name": "工具",
        "image": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/template/node-tool.png",
        "markdown": "## 用途\\n通过添加外部工具，快捷获取技能，满足用户需求\\n## 示例\\n### 输入\\n| 参数名 | 参数值 |\\n |----------------|----------------------|\\n | query（引用）【这边以bing搜索工具为例，query为该工具的必填参数】| 代码-美食-result |\\n### 输出\\n | 变量名 | 变量值 |\\n |------------|--------|\\n | result（String）| 合肥美食,合肥美食攻略,合肥美食推荐-马蜂窝庐州烤鸭店到合肥的第一天就来到了庐州烤鸭店，他家的桂花赤豆糊和鸭油烧饼还有烤鸭是很有名的，所以我就来了准备尝一尝，而且我发现有一个店有团购套餐，非常实惠哦！老乡鸡要说这个老乡鸡可以说是安徽一个代表性的连锁快餐店，而且合肥人从古就是喜欢喝鸡汤的，原名：肥西老母鸡汤，我去了点了一份小份招牌老母鸡汤，接下来为大家详细分享一下！刘鸿盛冬菇鸡饺之前做功课前以为是用冬天的蘑菇和鸡肉馅的饺子，哈哈，做完功课才发现其实就是鸡汤+馄饨+冬菇（一种蘑菇），咱们现在去合肥比较有名的老店尝一尝吧~| \\n\\n![占位图片](https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/template/node-tool.png)"
    },
    {
        "idType": "flow",
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/flow-icon.png",
        "name": "工作流",
        "markdown": "## 用途\\n大模型会根据节点输入，结合提示词内容，判断您填写的意图，决定后续的逻辑走向\\n## 示例\\n### 输入\\n| 参数名 | 参数值 |\\n |----------------|----------------------|\\n | location（引用）【此参数为引入的工作流的必填参数，不可删除】| 变量提取器-location |\\n | data（引用）【此参数为引入的工作流的必填参数，不可删除】 | 变量提取器-data |  \\n### 输出\\n | 变量名 | 变量值 |\\n |------------|--------|\\n | output（String）| 合肥今天天气状况为多云，温度范围在27℃~33℃，风向风力为东北风5-6级。建议穿着透气衣物，避免长时间户外活动，注意防暑降温。具体天气情况如下：天气：多云。最高温度：33℃。最低温度：27℃。日出时间：05:23。日落时间：19:12。风向风力：东北风5-6级。相对湿度：71%。空气质量：优。| \\n\\n![占位图片](https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/template/node-flow.png)"
    },
    {
        "idType": "decision-making",
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/designMakeIcon.png",
        "name": "决策",
        "markdown": "## 用途\\n大模型会根据节点输入，结合提示词内容，判断您填写的意图，决定后续的逻辑走向\\n## 示例\\n### 输入\\n| 参数名 | 参数值 |\\n |----------------|----------------------|\\n | guide（引用）| 代码-guide |\\n | food（引用） | 代码-food | \\n | hotel（引用）| 代码-hotel | \\n## 提示词\\n根据攻略{{guide}}、美食偏好{{food}}、酒店位置{{hotel}}决定走不同的意图\\n## 意图\\n意图一：旅游攻略意图描述：如果想查询旅游攻略，走该分支 意图二：美食推荐意图描述：如果想获取地方美食推荐，走该分支 意图三：酒店推荐意图描述：如果想获取酒店住宿推荐，走该分支 其他：以上分支均不满足要求，走此分支 \\n\\n![占位图片](https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/template/node-decision.png)"
    },
    {
        "idType": "if-else",
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/if-else-node-icon.png",
        "name": "分支器",
        "markdown": "## 用途\\n根据设立的条件，判断选择分支走向\\n## 示例\\n### 输入\\n| 条件  | \\n |----------------|\\n  | 条件一：变量\\"开始-query\\"包含旅游或攻略（当被引用的开始节点的query变量包含旅游或攻略字样，进入这个分支） 否则：当条件不符合设定的任何条件，则进入此分支| \\n\\n![占位图片](https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/template/node-branch.jpg)"
    },
    {
        "idType": "iteration",
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/iteration-icon.png",
        "name": "迭代",
        "image": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/template/node-iteration.png",
        "markdown": "## 用途\\n该节点用于处理循环逻辑，仅支持嵌套一次\\n## 示例\\n### 输入\\n| 参数名 | 参数值 |\\n |----------------|----------------------|\\n | locations（Array）| 代码-locations |\\n### 输出\\n | 变量名 | 变量值 |\\n |------------|--------|\\n | outputList（Array）| [{\\"合肥旅游攻略：\\"},{\\"南京旅游攻略：\\"},{\\"上海旅游攻略:\\"}]| \\n\\n![占位图片](https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/template/node-iteration.png)"
    },
    {
        "idType": "node-variable",
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png",
        "name": "变量存储器",
        "image": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/template/node-var-storage.png",
        "markdown": "## 用途\\n可定义多个变量，在整个多轮会话期间持续生效，用于多轮会话期间内容保存，新建会话或者删除聊天记录后，变量将会清空\\n## 示例\\n### 输入\\n| 参数名 | 参数值 |\\n |----------------|----------------------|\\n | question| 开始-query |\\n\\n![占位图片](https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/template/node-var-storage.png)"
    },
    {
        "idType": "extractor-parameter",
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-extractor-icon.png",
        "name": "变量提取器",
        "image": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/template/node-var-extractor.png",
        "markdown": "## 用途\\n结合提取变量描述，将上一节点输出的自然语言进行提取\\n## 示例\\n### 输入\\n| 参数名 | 参数值 |\\n|----------------|----------------------|\\n| location | 将问题中的地点名词提取出来 |\\n| day | 将问题中的游玩天数名词提取出来 |\\n| person | 将问题中的人数名词提取出来 |\\n| data | 将问题中的日期名词提取出来 |\\n\\n![占位图片](https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/template/node-var-extractor.png)"
    },
    {
        "idType": "message",
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/message-node-icon.png",
        "name": "消息",
        "image": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/template/node-message.png",
        "markdown": "## 消息\\n## 用途\\n在工作流中可以对中间过程的产物进行输出\\n## 示例\\n### 输入\\n| 参数名 | 参数值 |\\n|----------------|----------------------|\\n| result（引用）| 大模型-output |\\n| result1（引用）| 大模型-output1 |\\n### 输出\\n| 变量名 | 变量值 |\\n|------------|--------|\\n| 大模型-output| 回答内容：就您询问的问题，给您提供以下两种解决方案：方案一：{{result}}方案二：{{result1}}| \\n\\n![占位图片](https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/template/node-message.png)"
    },
    {
        "idType": "text-joiner",
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/text-splicing-icon.png",
        "name": "文本拼接",
        "image": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/template/node-text-joiner.png",
        "markdown": "## 用途\\n将定义过的变量用{{变量名}}的方式引用，节点会按照拼接规则输出内容\\n## 示例\\n### 输入\\n| 参数名 | 参数值 |\\n|----------------|----------------------|\\n| age（input）| 18 |\\n| name（input）| 小明 |\\n\\n## 规则\\n我是{{name}}，今年{{age}}岁了。\\n\\n### 输出\\n| 变量名 | 变量值 |\\n|------------|--------|\\n| output（String）| 我是小明，今年18岁了。|\\n\\n![占位图片](https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/template/node-text-joiner.png)"
    },
    {
        "idType": "agent",
        "name": "Agent智能决策",
        "icon": "https://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/agent.png",
        "markdown": "## 用途\\n该节点主要依据用户选择的策略进行工具智能调度，同时根据输入的提示词，调用选定的大模型，对提示词作出回答。\\n## 示例\\n###输入\\n| 参数名字 | 参数值 |\\n |----------------|----------------------|\\n | Input | 开始/AGENT_USER_INPUT |\\n## Agent策略\\n选择相应的策略，当前的ReAct策略可用于指导大模型完成复杂任务的结构化思考和决策过程。\\n## 工具列表\\n支持在已发布列表里同时勾选并添加多个工具或 MCP，最多添加 30 个。\\n## 自定义MCP服务器地址\\n支持自定义添加MCP服务器地址，上限3个。\\n## 提示词\\n该模块分为3个部分：\\n- **角色设定（非必填）**：让大模型按照特定的角色/输出格式进行交流的过程；\\n- **思考步骤（非必填）**：是否要干预大模型的推理过程，大模型会依据思考提示和决策策略进行调度；\\n- **用户查询/提问（query）（必填）**：用户的问题和指令，让模型知道我们想要什么。 \\n## 最大轮次\\n大模型的推理轮次，建议推理轮次大于等于工具数量，当前最大轮次为100轮，默认为10轮。\\n## 输出\\n | 参数名字 | 参数值 | 描述 |\\n |------------|--------|--------------------|\\n | Reasonging | String | 大模型思考过程 |\\n | Output | String | 大模型输出 |"
    },
    {
        "idType": "knowledge-pro-base",
        "name": "知识库pro",
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/knowledgeIcon.png",
        "markdown": "## 用途\\n在复杂的场景下，通过智能策略调用知识库，可以指定知识库进行知识检索和总结回复。\\n## 回答模式\\n选择用于对问题进行拆解以及对召回结果进行总结的大模型。\\n## 策略选择\\n## Agentic RAG\\n适用于处理问题涉及多个方面，需要分解为多个子问题进行检索，例如“如何提升学生的综合素质”、可拆分成“学术成绩”、“身心健康”等多个子问题。\\n## Long RAG\\n专注于长文档内容的理解与生成，适用于长文档相关任务。\\n## 示例\\n### 输入\\n| 参数名字 | 参数值 | 描述 |\\n |----------------|----------------------|----------------------|\\n | query | String | 用户输入 |\\n## 知识库\\n选择相应的知识库，进行参数设置，用于筛选与 用户问题相似度最高的文本片段，系统同时会根据选用模型上下文窗口大小动态调整分段数量。当问题被分解时，最终汇总的片段数量为设定的top k乘以问题数。例如，一个问题分解为3个子问题，设定为召回3个片段，最终汇总3✖3=9个片段。\\n## 回答规则\\n非必填，如果有输出要求限制或对特殊情况的说明请在此补充，例如:回答用户的问题，如果没有找到答案时，请直接告诉我“不知道”。\\n### 输出\\n | 参数名字 | 参数值 | 描述 |\\n |------------|--------|--------------------|\\n | Reasonging | String | 大模型思考过程 |\\n | Output | String | 大模型输出 |\\n | result| （Array\\\\<Object\\\\>） | 召回结果"
    },
    {
        "idType": "question-answer",
        "name": "问答",
        "icon": "https://oss-beijing-m8.openstorage.cn/SparkBot/test4/answer-new2.png",
        "markdown": "## 用途\\n该节点支持中间环节向用户进行提问操作，提供预置选项提问与开放式问题提问两种方式。\\n\\n## 示例1（选项回复）\\n\\n| 参数名字 | 参数值 |\\n|-----------|--------------------------------------------------|\\n| Input     | 开始/AGENT_USER_INPUT                          |\\n| 提问内容 | 去旅游是个超棒的想法呀！能让你暂时摆脱日常的琐碎，去感受不一样的风景和文化~你目前有没有大概的方向或者想法呢？ |\\n| 回答模式 | 选项回复                                       |\\n| 设置选项内容 | A：自然风光类 B：历史文化类 C：都市繁华类 |\\n\\n### 输出\\n\\n| 参数名字 | 参数值 | 描述         |\\n|----------|--------|--------------|\\n| query    | String | 该节点提问内容 |\\n| id       | String | 用户回复选项   |\\n| content  | String | 用户回复内容   |\\n\\n---\\n\\n## 示例2（直接回复）\\n\\n| 参数名字   | 参数值                                     |\\n|------------|--------------------------------------------|\\n| Input      | 开始/AGENT_USER_INPUT                     |\\n| 提问内容   | 你想要去哪旅游？目的地类型？旅游时间？预算？ |\\n| 回答模式   | 直接回复                                   |\\n\\n### 输出\\n\\n| 参数名字 | 参数值 | 描述         |\\n|----------|--------|--------------|\\n| query    | String | 该节点提问内容 |\\n| content  | String | 用户回复内容   |\\n\\n### 参数抽取\\n\\n| 参数名字 | 参数值 | 描述       | 默认值 | 是否必要 |\\n|----------|--------|------------|--------|----------|\\n| city     | String | 地点       | --     | 是       |\\n| type     | String | 目的地类型 | --     | 是       |\\n| time     | Number | 行程时长   | --     | 是       |\\n| budget   | String | 预算       | --     | 是       |\\n"
    },
    {
        "idType": "database",
        "name": "数据库",
        "icon": "https://oss-beijing-m8.openstorage.cn/SparkBotDev/icon/user/sparkBot_1752568522509_database_icon.svg",
        "markdown": "## 用途\\n该节点可以连接指定的数据库，对数据库进行新增、查询、编辑、删除等常见操作，实现动态的数据管理。\\n\\n## 示例\\n\\n### 输入\\n\\n| 参数名字 | 参数值 |\\n|-----------|--------------------------------------------------|\\n| Input     | 开始/AGENT_USER_INPUT                          |\\n\\n### 输出\\n\\n| 参数名字 | 参数值 | 描述         |\\n|----------|--------|--------------|\\n| isSuccess    | Boolean| SQL语句执行状态标识，成功true，失败false |\\n| message       | String | 失败原因   |\\n| outputList  | （Array\\\\<Object\\\\>）| 执行结果   |\\n"
    },
    {
        "idType": "rpa",
        "name": "rpa",
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/knowledgeIcon.png",
        "markdown": "## 用途\\n\\nRPA（机器人流程自动化）工具节点是一个强大的自动化执行器，它通过获取RPA平台的机器人资源，直接连接并触发指定的RPA机器人流程，打通不同系统间的数据壁垒。\\n\\n## 示例\\n\\n### 输入\\n\\n| 参数名字 | 参数值 |\\n|---------|--------|\\n| inputer | 开始/AGENT_USER_INPUT |\\n\\n### 输出\\n\\n| 参数名字 | 参数值 | 描述 |\\n|---------|--------|------|\\n| outputer | String | 输出结果 |\\n\\n### 异常处理\\n\\n超时120s 重试2次 依然失败中断流程\\n\\n![占位图片](http://oss-beijing-m8.openstorage.cn/SparkBotProd/XINCHEN/rpa.PNG)"
    }
]',1,'','2000-01-01 00:00:00','2025-10-11 13:58:53'),
	 (1459,'WORKFLOW_CHANNEL','api','API','发布为API',1,'完成配置后，即可接入到个人应用中使用。','2000-01-01 00:00:00','2025-01-06 17:02:30'),
	 (1460,'SPECIAL_USER','workflow-all-view',NULL,'100000039012',1,NULL,'2000-01-01 00:00:00','2024-12-03 19:16:07'),
	 (1461,'WORKFLOW_CHANNEL','ixf-personal','i讯飞-个人版','发布至新版本i讯飞中',0,'无需审核，个人版本仅供个人使用和对话，无法分享给他人，也无法拉入群内。','2000-01-01 00:00:00','2024-12-19 11:10:51'),
	 (1463,'WORKFLOW_CHANNEL','ixf-team','i讯飞-团队版','发布至新版本i讯飞中',0,'需要经过审核，团队版本支持分享给他人使用，支持拉入群内使用。','2000-01-01 00:00:00','2024-12-19 11:10:51'),
	 (1465,'WORKFLOW_CHANNEL','aiui','交互链路','发布至AIUI智能体平台',1,'发布并审核通过后，即可在aiui平台进行配置。','2000-01-01 00:00:00','2024-12-13 10:15:09'),
	 (1467,'WORKFLOW_CHANNEL','sparkdesk','星火Desk/APP','发布至讯飞星火desk，以及星火app（App、网页版）',0,'发布并审核通过后，即可在星火desk和星火App体验该智能体。','2000-01-01 00:00:00','2024-12-19 11:10:51'),
	 (1469,'WORKFLOW_CHANNEL','square','工作流广场','发布至星辰工作流广场',1,'发布成功后，用户即可在广场使用。','2000-01-01 00:00:00','2025-03-24 17:50:37'),
	 (1470,'SWITCH','EvalTaskStatusGetJob','0','0',1,'1','2000-01-01 00:00:00','2025-01-08 11:41:09'),
	 (1472,'PROMPT','new-intent','','### 工作职责描述    你是一个文本分类引擎，需要分析文本数据，并根据用户的输入和分类的描述认真思考并确定分配类别。### 任务    你的任务是只给输入文本分配一个类别，并且只能在输出中返回一个类别。此外，您需要从文本中提取与分类相关的关键字，若完全没有相关性可以为空。### 输入格式    输入文本在变量input_text中。类别是一个列表，变量Categories中包含字段category_id、category_name、category_desc。严格按照分类说明认真思考，以提高分类精度。### 历史记忆    这是人类和助手之间的聊天历史记录，在<histories></histories> XML标签中。    <histories>            </histories>### 约束    不要在响应中包含JSON数组以外的任何内容。    ### 输出格式    ````````````json{\\"category_name\\": \\"\\"}````````````    ### 以下是需要分析的文本数据    $coreText',1,'新决策节点的prompt','2000-01-01 00:00:00','2025-01-14 15:45:13'),
	 (1473,'LLM_WORKFLOW_FILTER','iflyaicloud','null','lmg5gtbs0,lmyvosz36,lm0dy3kv0,lme990528,lm479a5b8,lmt4do9o3',0,'','2000-01-01 00:00:00','2025-03-24 19:39:30'),
	 (1475,'LLM_WORKFLOW_FILTER','xfyun','null','',0,'','2000-01-01 00:00:00','2025-09-20 20:11:24'),
	 (1477,'LLM_WORKFLOW_FILTER','iflyaicloud','spark-llm','',0,'','2000-01-01 00:00:00','2025-09-20 20:11:24'),
	 (1479,'LLM_WORKFLOW_FILTER','iflyaicloud','decision-making','',0,'','2000-01-01 00:00:00','2025-09-20 20:11:24'),
	 (1481,'LLM_WORKFLOW_FILTER','iflyaicloud','extractor-parameter','',0,'','2000-01-01 00:00:00','2025-09-20 20:11:24'),
	 (1483,'LLM_WORKFLOW_FILTER','xfyun','extractor-parameter','',0,'','2000-01-01 00:00:00','2025-09-20 20:11:24'),
	 (1485,'LLM_WORKFLOW_FILTER','xfyun','decision-making','',0,'','2000-01-01 00:00:00','2025-09-20 20:11:24'),
	 (1487,'LLM_WORKFLOW_FILTER','xfyun','spark-llm','',0,'','2000-01-01 00:00:00','2025-09-20 20:11:24'),
	 (1488,'WORKFLOW_NODE_TEMPLATE_PRE','1,2','固定节点','{"idType":"node-start","type":"开始节点","position":{"x":100,"y":300},"data":{"label":"开始","description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","nodeMeta":{"nodeType":"基础节点","aliasName":"开始节点"},"inputs":[],"outputs":[{"id":"","name":"AGENT_USER_INPUT","deleteDisabled":true,"required":true,"schema":{"type":"string","default":"用户本轮对话输入内容"}}],"nodeParam":{},"allowInputReference":false,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png"}}',1,'开始节点','2000-01-01 00:00:00','2024-10-18 10:49:36'),
	 (1490,'WORKFLOW_NODE_TEMPLATE_PRE','1,2','固定节点','{"idType":"node-end","type":"结束节点","position":{"x":1000,"y":300},"data":{"label":"结束","description":"工作流的结束节点，用于输出工作流运行后的最终结果。","nodeMeta":{"nodeType":"基础节点","aliasName":"结束节点"},"inputs":[{"id":"","name":"output","schema":{"type":"string","value":{"type":"ref","content":{}}}}],"outputs":[],"nodeParam":{"outputMode":1,"template":"","streamOutput":true},"references":[],"allowInputReference":true,"allowOutputReference":false,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png"}}',1,'结束节点','2000-01-01 00:00:00','2025-04-09 14:57:28'),
	 (1492,'WORKFLOW_NODE_TEMPLATE_PRE','1,2','基础节点','{
    "idType": "spark-llm",
    "nodeType": "基础节点",
    "aliasName": "大模型",
    "description": "根据输入的提示词，调用选定的大模型，对提示词作出回答",
    "data":
    {
        "nodeMeta":
        {
            "nodeType": "基础节点",
            "aliasName": "大模型"
        },
        "inputs":
        [
            {
                "id": "",
                "name": "input",
                "schema":
                {
                    "type": "string",
                    "value":
                    {
                        "type": "ref",
                        "content":
                        {}
                    }
                }
            }
        ],
        "outputs":
        [
            {
                "id": "",
                "name": "output",
                "schema":
                {
                    "type": "string",
                    "default": ""
                }
            }
        ],
        "nodeParam":
        {
            "maxTokens": 2048,
            "temperature": 0.5,
            "topK": 4,
            "auditing": "default",
            "domain": "4.0Ultra",
            "template": "",
            "model": "spark",
            "serviceId": "bm4",
            "respFormat": 0,
            "llmId": 110,
            "patchId": "0",
            "url": "wss://spark-api.xf-yun.com/v4.0/chat",
            "appId": "d1590f30",
            "uid": "2171",
            "enableChatHistoryV2":
            {
                "isEnabled": false,
                "rounds": 1
            }
        },
        "references":
        [],
        "allowInputReference": true,
        "allowOutputReference": true,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png"
    }
}',1,'大模型','2000-01-01 00:00:00','2025-07-24 18:56:09'),
	 (1494,'WORKFLOW_NODE_TEMPLATE_PRE','1,2','基础节点','{"idType":"ifly-code","nodeType":"基础节点","aliasName":"代码","description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","data":{"nodeMeta":{"nodeType":"工具","aliasName":"代码"},"inputs":[{"id":"","name":"input","schema":{"type":"string","value":{"type":"ref","content":{}}}}],"outputs":[{"id":"","name":"key0","schema":{"type":"string","default":""}},{"id":"","name":"key1","schema":{"type":"array-string","default":""}},{"id":"","name":"key2","schema":{"type":"object","default":"","properties":[{"id":"","name":"key21","type":"string","default":"","required":true,"nameErrMsg":""}]}}],"nodeParam":{"code":"def main(input):\\n    ret = {\\n        \\"key0\\": input + \\"hello\\",\\n        \\"key1\\": [\\"hello\\", \\"world\\"],\\n        \\"key2\\": {\\"key21\\": \\"hi\\"}\\n    }\\n    return ret"},"references":[],"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png"}}',1,'代码','2000-01-01 00:00:00','2024-10-21 17:06:50'),
	 (1496,'WORKFLOW_NODE_TEMPLATE_PRE','1,2','基础节点','{"idType":"knowledge-base","nodeType":"基础节点","aliasName":"知识库","description":"调用知识库，可以指定知识库进行知识检索和答复","data":{"nodeMeta":{"nodeType":"工具","aliasName":"知识库"},"inputs":[{"id":"","name":"query","schema":{"type":"string","value":{"type":"ref","content":{}}}}],"outputs":[{"id":"","name":"results","schema":{"type":"array-object","properties":[{"id":"","name":"score","type":"number","default":"","required":true,"nameErrMsg":""},{"id":"","name":"docId","type":"string","default":"","required":true,"nameErrMsg":""},{"id":"","name":"title","type":"string","default":"","required":true,"nameErrMsg":""},{"id":"","name":"content","type":"string","default":"","required":true,"nameErrMsg":""},{"id":"","name":"context","type":"string","default":"","required":true,"nameErrMsg":""},{"id":"","name":"references","type":"object","default":"","required":true,"nameErrMsg":""}]},"required":true,"nameErrMsg":""}],"nodeParam":{"repoId":[],"repoList":[],"topN":3,"score":0.2},"references":[],"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/knowledgeIcon.png"}}',1,'知识库','2000-01-01 00:00:00','2025-07-24 16:46:06'),
	 (1498,'WORKFLOW_NODE_TEMPLATE_PRE','1,2','工具','{"idType":"plugin","nodeType":"工具","aliasName":"工具","description":"通过添加外部工具，快捷获取技能，满足用户需求","data":{"nodeMeta":{"nodeType":"工具","aliasName":"工具"},"inputs":[],"outputs":[],"nodeParam":{"appId":"4eea957b","code":""},"references":[],"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png"}}',1,'工具','2000-01-01 00:00:00','2024-10-18 10:52:15'),
	 (1500,'WORKFLOW_NODE_TEMPLATE_PRE','1,2','工具','{"idType":"flow","nodeType":"工具","aliasName":"工作流","description":"快速集成已发布工作流，高效复用已有能力","data":{"nodeMeta":{"nodeType":"工具","aliasName":"工作流"},"inputs":[],"outputs":[],"nodeParam":{"appId":"","flowId":"","uid":""},"references":[],"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/flow-icon.png"}}',1,'工作流','2000-01-01 00:00:00','2025-05-16 11:10:09'),
	 (1502,'WORKFLOW_NODE_TEMPLATE_PRE','1,2','逻辑','{
    "idType": "decision-making",
    "nodeType": "基础节点",
    "aliasName": "决策",
    "description": "结合输入的参数与填写的意图，决定后续的逻辑走向",
    "data":
    {
        "nodeMeta":
        {
            "nodeType": "基础节点",
            "aliasName": "决策"
        },
        "nodeParam":
        {
            "maxTokens": 2048,
            "temperature": 0.5,
            "topK": 4,
            "auditing": "default",
            "domain": "4.0Ultra",
            "llmId": 110,
            "enableChatHistoryV2":
            {
                "isEnabled": false,
                "rounds": 1
            },
            "uid": "2171",
            "intentChains":
            [
                {
                    "intentType": 2,
                    "name": "",
                    "description": "",
                    "id": "intent-one-of::4724514d-ffc8-4412-bf7f-13cc3375110d"
                },
                {
                    "intentType": 1,
                    "name": "default",
                    "description": "默认意图",
                    "id": "intent-one-of::506841e4-3f6c-40b1-a804-dc5ffe723b34"
                }
            ],
            "reasonMode": 1,
            "model": "spark",
            "useFunctionCall": true,
            "serviceId": "bm4",
            "promptPrefix": "",
            "patchId": "0",
            "url": "wss://spark-api.xf-yun.com/v4.0/chat",
            "appId": "d1590f30"
        },
        "inputs":
        [
            {
                "id": "",
                "name": "Query",
                "schema":
                {
                    "type": "string",
                    "value":
                    {
                        "type": "ref",
                        "content":
                        {}
                    }
                }
            }
        ],
        "outputs":
        [
            {
                "id": "",
                "name": "class_name",
                "schema":
                {
                    "type": "string",
                    "default": ""
                }
            }
        ],
        "references":
        [],
        "allowInputReference": true,
        "allowOutputReference": true,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/designMakeIcon.png"
    }
}',1,'决策','2000-01-01 00:00:00','2025-07-24 18:56:09'),
	 (1504,'WORKFLOW_NODE_TEMPLATE_PRE','1,2','逻辑','{"idType":"if-else","nodeType":"分支器","aliasName":"分支器","description":"根据设立的条件，判断选择分支走向","data":{"nodeMeta":{"nodeType":"分支器","aliasName":"分支器"},"nodeParam":{"cases":[{"id":"branch_one_of::","level":1,"logicalOperator":"and","conditions":[{"id":"","leftVarIndex":null,"rightVarIndex":null,"compareOperator":null}]},{"id":"branch_one_of::","level":999,"logicalOperator":"and","conditions":[]}]},"inputs":[{"id":"","name":"input","schema":{"type":"string","value":{"type":"ref","content":{"nodeId":"","name":""}}}},{"id":"","name":"input1","schema":{"type":"string","value":{"type":"ref","content":{"nodeId":"","name":""}}}}],"outputs":[],"references":[],"allowInputReference":true,"allowOutputReference":false,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/if-else-node-icon.png"}}',1,'分支器','2000-01-01 00:00:00','2024-10-18 10:52:56'),
	 (1506,'WORKFLOW_NODE_TEMPLATE_PRE','1,2','逻辑','{"idType":"iteration","nodeType":"基础节点","aliasName":"迭代","description":"该节点用于处理循环逻辑，仅支持嵌套一次","data":{"nodeMeta":{"nodeType":"基础节点","aliasName":"迭代"},"nodeParam":{},"inputs":[{"id":"","name":"input","schema":{"type":"","value":{"type":"ref","content":{}}}}],"outputs":[{"id":"","name":"output","schema":{"type":"array-string","default":""}}],"iteratorNodes":[],"iteratorEdges":[],"references":[],"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/iteration-icon.png"}}',1,'迭代','2000-01-01 00:00:00','2024-10-18 10:55:30'),
	 (1508,'WORKFLOW_NODE_TEMPLATE_PRE','1,2','转换','{"idType":"node-variable","nodeType":"基础节点","aliasName":"变量存储器","description":"可定义多个变量，在整个多轮会话期间持续生效，用于多轮会话期间内容保存，新建会话或者删除聊天记录后，变量将会清空","data":{"nodeMeta":{"nodeType":"基础节点","aliasName":"变量存储器"},"nodeParam":{"method":"set"},"inputs":[{"id":"","name":"input","schema":{"type":"string","value":{"type":"ref","content":{}}}}],"outputs":[],"references":[],"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png"}}',1,'变量存储器','2000-01-01 00:00:00','2024-10-18 10:55:30'),
	 (1510,'WORKFLOW_NODE_TEMPLATE_PRE','1,2','转换','{
    "idType": "extractor-parameter",
    "nodeType": "基础节点",
    "aliasName": "变量提取器",
    "description": "结合提取变量描述，将上一节点输出的自然语言进行提取",
    "data":
    {
        "nodeMeta":
        {
            "nodeType": "基础节点",
            "aliasName": "变量提取器"
        },
        "nodeParam":
        {
            "maxTokens": 2048,
            "temperature": 0.5,
            "topK": 4,
            "auditing": "default",
            "domain": "4.0Ultra",
            "llmId": 110,
            "model": "spark",
            "serviceId": "bm4",
            "patchId": "0",
            "url": "wss://spark-api.xf-yun.com/v4.0/chat",
            "appId": "d1590f30",
            "uid": "2171",
            "reasonMode": 1
        },
        "inputs":
        [
            {
                "id": "",
                "name": "input",
                "schema":
                {
                    "type": "string",
                    "value":
                    {
                        "type": "ref",
                        "content":
                        {}
                    }
                }
            }
        ],
        "outputs":
        [
            {
                "id": "",
                "name": "output",
                "schema":
                {
                    "type": "string",
                    "description": ""
                },
                "required": true
            }
        ],
        "references":
        [],
        "allowInputReference": true,
        "allowOutputReference": true,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-extractor-icon.png"
    }
}',1,'变量提取器','2000-01-01 00:00:00','2025-07-24 18:56:09'),
	 (1512,'WORKFLOW_NODE_TEMPLATE_PRE','1,2','转换','{"idType":"text-joiner","nodeType":"工具","aliasName":"文本处理节点","description":"用于按照指定格式规则处理多个字符串变量","data":{"nodeMeta":{"nodeType":"工具","aliasName":"文本拼接"},"nodeParam":{"prompt":""},"inputs":[{"id":"","name":"input","schema":{"type":"string","value":{"type":"ref","content":{}}}}],"outputs":[{"id":"","name":"output","schema":{"type":"string"}}],"references":[],"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/text-splicing-icon.png"}}',1,'文本处理节点','2000-01-01 00:00:00','2025-03-25 16:33:24'),
	 (1514,'WORKFLOW_NODE_TEMPLATE_PRE','1,2','其他','{"idType":"message","nodeType":"基础节点","aliasName":"消息","description":"在工作流中可以对中间过程的产物进行输出","data":{"nodeMeta":{"nodeType":"基础节点","aliasName":"消息"},"nodeParam":{"template":"","startFrameEnabled":false},"inputs":[{"id":"","name":"input","schema":{"type":"string","value":{"type":"ref","content":{}}}}],"outputs":[{"id":"","name":"output_m","schema":{"type":"string"}}],"references":[],"allowInputReference":true,"allowOutputReference":false,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/message-node-icon.png"}}',1,'消息','2000-01-01 00:00:00','2024-10-18 10:57:28'),
	 (1516,'mingduan','1',NULL,'http://maas-api.cn-huabei-1.xf-yun.com/v1',1,'https://spark-api-open.xf-yun.com/v2','2000-01-01 00:00:00','2025-04-18 17:49:46'),
	 (1517,'AI_CODE','DS_V3_domain','1','xdeepseekv3',1,NULL,'2000-01-01 00:00:00','2025-03-13 09:36:01'),
	 (1519,'AI_CODE','DS_V3_url','1','wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat',1,NULL,'2000-01-01 00:00:00','2025-03-13 09:36:01'),
	 (1520,'LLM','base-model','xdeepseekr1','xdeepseekr1',1,'DeepSeek-R1','2000-01-01 00:00:00',NULL),
	 (1522,'LLM','base-model','xdeepseekv3','xdeepseekv3',1,'DeepSeek-V3','2000-01-01 00:00:00','2024-07-08 11:06:09'),
	 (1524,'TAG','FLOW_TAGS','交通出行','travel',1,'交通出行','2025-03-10 10:00:00','2025-03-11 10:28:36'),
	 (1526,'TAG','FLOW_TAGS','休闲娱乐','recreation',1,'休闲娱乐','2025-03-10 10:00:00','2025-03-11 10:28:36'),
	 (1528,'TAG','FLOW_TAGS','医药健康','medicine',1,'医药健康','2025-03-10 10:00:00','2025-03-11 10:28:36'),
	 (1530,'TAG','FLOW_TAGS','影视音乐','film-music',1,'影视音乐','2025-03-10 10:00:00','2025-03-11 10:28:36'),
	 (1532,'TAG','FLOW_TAGS','教育百科','educationEncyclopedia',1,'教育百科','2025-03-10 10:00:00','2025-03-11 10:28:36'),
	 (1534,'TAG','FLOW_TAGS','新闻资讯','news',1,'新闻资讯','2025-03-10 10:00:00','2025-03-11 10:28:36'),
	 (1536,'TAG','FLOW_TAGS','母婴儿童','mother-to-child',1,'母婴儿童','2025-03-10 10:00:00','2025-03-11 10:28:36'),
	 (1538,'TAG','FLOW_TAGS','生活常用','daily-life',1,'生活常用','2025-03-10 10:00:00','2025-03-11 10:28:36'),
	 (1540,'TAG','FLOW_TAGS','金融理财','financialPlanning',1,'金融理财','2025-03-10 10:00:00','2025-03-11 10:28:36'),
	 (1542,'LLM_WORKFLOW_FILTER_PRE','xfyun','spark-llm','bm3,bm3.5,bm4,pro-128k,xgemma29bit,xaipersonality,xdeepseekv3,xdeepseekr1,image_understanding,x1,xop3qwen30b,xop3qwen235b,xop3qwen14b,xop3qwen8b,xopgptoss20b,xopgptoss120b,xdsv3t128k,xdeepseekv31',1,'','2000-01-01 00:00:00','2025-08-27 11:23:59'),
	 (1544,'LLM_WORKFLOW_FILTER_PRE','xfyun','decision-making','bm3,bm3.5,bm4',1,'','2000-01-01 00:00:00','2025-03-24 14:54:14'),
	 (1546,'LLM_WORKFLOW_FILTER_PRE','xfyun','extractor-parameter','bm3,bm3.5,bm4',1,'','2000-01-01 00:00:00','2025-03-24 14:54:14'),
	 (1548,'LLM_WORKFLOW_FILTER_PRE','iflyaicloud','extractor-parameter','bm3,bm3.5,bm4,xdeepseekv3,xdeepseekr1',1,'','2000-01-01 00:00:00','2025-03-24 14:54:14'),
	 (1549,'LLM_WORKFLOW_FILTER','iflyaicloud','agent','',1,'','2000-01-01 00:00:00','2025-09-20 20:11:24'),
	 (1550,'LLM_WORKFLOW_FILTER_PRE','iflyaicloud','decision-making','bm3,bm3.5,bm4,pro-128k,xgemma29bit,xaipersonality,xqwen257bchat,xdeepseekv3,xdeepseekr1',1,'','2000-01-01 00:00:00','2025-03-24 14:54:13'),
	 (1551,'LLM_WORKFLOW_FILTER','xfyun','agent','',1,'','2000-01-01 00:00:00','2025-09-20 20:11:24'),
	 (1552,'LLM_WORKFLOW_FILTER_PRE','iflyaicloud','spark-llm','bm3,bm3.5,bm4,pro-128k,xgemma29bit,xaipersonality,xdeepseekv3,xdeepseekr1,image_understanding,x1,xop3qwen30b,xop3qwen235b,xopgptoss20b,xopgptoss120b,xdsv3t128k,xdeepseekv31',1,'','2000-01-01 00:00:00','2025-08-27 11:23:59'),
	 (1553,'WORKFLOW_NODE_TEMPLATE_PRE','1,2','逻辑','{
    "aliasName": "Agent智能决策",
    "idType": "agent",
    "data":
    {
        "outputs":
        [
            {
                "id": "",
                "customParameterType": "deepseekr1",
                "name": "REASONING_CONTENT",
                "nameErrMsg": "",
                "schema":
                {
                    "default": "模型思考过程",
                    "type": "string"
                }
            },
            {
                "id": "",
                "name": "output",
                "nameErrMsg": "",
                "schema":
                {
                    "default": "",
                    "type": "string"
                }
            }
        ],
        "references":
        [],
        "allowInputReference": true,
        "inputs":
        [
            {
                "schema":
                {
                    "type": "string",
                    "value":
                    {
                        "type": "ref",
                        "content":
                        {}
                    }
                },
                "name": "input",
                "id": ""
            }
        ],
        "icon": "https://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/agent.png",
        "allowOutputReference": true,
        "nodeMeta":
        {
            "aliasName": "智能体节点",
            "nodeType": "Agent节点"
        },
        "nodeParam":
        {
            "appId": "",
            "serviceId": "xdeepseekv3",
            "llmId": 141,
            "enableChatHistoryV2":
            {
                "isEnabled": false,
                "rounds": 1
            },
            "modelConfig":
            {
                "domain": "xdeepseekv3",
                "api": "wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat",
                "agentStrategy": 1
            },
            "instruction":
            {
                "reasoning": "",
                "answer": "",
                "query": ""
            },
            "plugin":
            {
                "tools":
                [],
                "toolsList":
                [],
                "mcpServerIds":
                [],
                "mcpServerUrls":
                [],
                "workflowIds":
                []
            },
            "maxLoopCount": 10
        }
    },
    "description": "依据任务需求，通过选择合适的工具列表，实现大 模型的智能调度",
    "nodeType": "基础节点"
}',1,'agent','2000-01-01 00:00:00','2025-07-24 18:56:09'),
	 (1554,'LLM_WORKFLOW_FILTER_PRE','xfyun','null','bm3,bm3.5,bm4,pro-128k,xgemma29bit,xaipersonality,xdeepseekv3,xdeepseekr1,image_understanding',1,'','2000-01-01 00:00:00','2025-03-24 14:54:13'),
	 (1555,'WORKFLOW_CHANNEL','mcp','MCP Server','发布为MCP Server',1,'发布成功后即可在工作流编排时调用，并在agent决策节点工具列表查看','2000-01-01 00:00:00','2025-04-09 14:15:54'),
	 (1556,'LLM_WORKFLOW_FILTER_PRE','iflyaicloud','null','bm3,bm3.5,bm4,pro-128k,xgemma29bit,xaipersonality,xdeepseekv3,xdeepseekr1,image_understanding',1,'','2000-01-01 00:00:00','2025-03-24 14:54:13'),
	 (1557,'WORKFLOW_AGENT_STRATEGY','agentStrategy','ReACT (支持MCP Tools)','用于指导大模型完成复杂任务的结构化思考和决策过程',1,'1','2000-01-01 00:00:00','2025-04-03 17:50:48'),
	 (1558,'LLM_WORKFLOW_FILTER','iflyaicloud','null','',1,'','2000-01-01 00:00:00','2025-09-20 20:11:24'),
	 (1559,'MCP_MODEL_API_REFLECT','mcp','xdeepseekv3','https://maas-api.cn-huabei-1.xf-yun.com/v2',1,'','2000-01-01 00:00:00','2025-05-29 15:54:10'),
	 (1560,'LLM_WORKFLOW_FILTER','xfyun','null','',1,'','2000-01-01 00:00:00','2025-09-20 20:11:24'),
	 (1561,'MCP_MODEL_API_REFLECT','mcp','xdeepseekr1','https://maas-api.cn-huabei-1.xf-yun.com/v2',1,'','2000-01-01 00:00:00','2025-05-29 15:54:10'),
	 (1562,'LLM_WORKFLOW_FILTER','iflyaicloud','spark-llm','',1,'','2000-01-01 00:00:00','2025-09-20 20:11:24'),
	 (1563,'MCP_SERVER_URL_PREFIX','mcp','https://xingchen-api.xf-yun.com/mcp/xingchen/flow/{0}/sse','',1,'','2000-01-01 00:00:00','2025-04-09 15:04:01'),
	 (1564,'LLM_WORKFLOW_FILTER','iflyaicloud','decision-making','',1,'','2000-01-01 00:00:00','2025-09-20 20:11:24'),
	 (1566,'LLM_WORKFLOW_FILTER','iflyaicloud','extractor-parameter','',1,'','2000-01-01 00:00:00','2025-09-20 20:11:24'),
	 (1568,'LLM_WORKFLOW_FILTER','xfyun','extractor-parameter','',1,'','2000-01-01 00:00:00','2025-09-20 20:11:24'),
	 (1570,'LLM_WORKFLOW_FILTER','xfyun','decision-making','',1,'','2000-01-01 00:00:00','2025-09-20 20:11:24'),
	 (1571,'LLM_WORKFLOW_FILTER','xingchen','model_square','',1,'','2000-01-01 00:00:00','2025-09-20 20:11:24'),
	 (1572,'LLM_WORKFLOW_FILTER','xfyun','spark-llm','',1,'','2000-01-01 00:00:00','2025-09-20 20:11:24'),
	 (1574,'LLM_WORKFLOW_FILTER_PRE','iflyaicloud','agent','xdeepseekv3,xdeepseekr1,x1,xop3qwen30b,xop3qwen235b,xdsv3t128k',1,'','2000-01-01 00:00:00','2025-08-28 15:26:02'),
	 (1576,'LLM_WORKFLOW_FILTER_PRE','xfyun','agent','xdeepseekv3,xdeepseekr1,x1,xop3qwen30b,xop3qwen235b,xdsv3t128k',1,'','2000-01-01 00:00:00','2025-08-28 15:25:57'),
	 (1577,'LLM_WORKFLOW_MODEL_FILTER','think','思考模型','x1,xdeepseekr1,xop3qwen30b,xop3qwen235b,xopgptoss120b',1,'','2000-01-01 00:00:00','2025-08-07 11:23:32'),
	 (1578,'WORKFLOW_NODE_TEMPLATE','1,2','逻辑','{
    "aliasName": "Agent智能决策",
    "idType": "agent",
    "data":
    {
        "outputs":
        [
            {
                "id": "",
                "customParameterType": "deepseekr1",
                "name": "REASONING_CONTENT",
                "nameErrMsg": "",
                "schema":
                {
                    "default": "模型思考过程",
                    "type": "string"
                }
            },
            {
                "id": "",
                "name": "output",
                "nameErrMsg": "",
                "schema":
                {
                    "default": "",
                    "type": "string"
                }
            }
        ],
        "references":
        [],
        "allowInputReference": true,
        "inputs":
        [
            {
                "schema":
                {
                    "type": "string",
                    "value":
                    {
                        "type": "ref",
                        "content":
                        {}
                    }
                },
                "name": "input",
                "id": ""
            }
        ],
        "icon": "https://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/agent.png",
        "allowOutputReference": true,
        "nodeMeta":
        {
            "aliasName": "智能体节点",
            "nodeType": "Agent节点"
        },
        "nodeParam":
        {
            "appId": "",
            "enableChatHistoryV2":
            {
                "isEnabled": false,
                "rounds": 1
            },
            "modelConfig":
            {
                "agentStrategy": 1
            },
            "instruction":
            {
                "reasoning": "",
                "answer": "",
                "query": ""
            },
            "plugin":
            {
                "tools":
                [],
                "toolsList":
                [],
                "mcpServerIds":
                [],
                "mcpServerUrls":
                [],
                "workflowIds":
                []
            },
            "maxLoopCount": 10
        }
    },
    "description": "依据任务需求，通过选择合适的工具列表，实现大 模型的智能调度",
    "nodeType": "基础节点"
}',1,'agent','2000-01-01 00:00:00','2025-09-29 17:05:28'),
	 (1580,'LLM_FILTER','summary_agent','大模型agent过滤器','xdeepseekr1,xdeepseekv3,x1,xop3qwen30b,xop3qwen235b',1,'bm3,bm3.5,bm4,pro-128k,xqwen257bchat,xqwen72bchat,xqwen257bchat,xsparkprox,xdeepseekr1,xdeepseekv3','2000-01-01 00:00:00','2025-05-12 10:38:48'),
	 (1582,'LLM_FILTER_PRE','summary_agent','大模型agent过滤器','xdeepseekr1,xdeepseekv3,x1,xop3qwen30b,xop3qwen235b,bm4',1,'bm3,bm3.5,bm4,pro-128k,xqwen257bchat,xqwen72bchat,xqwen257bchat,xsparkprox,xdeepseekr1,xdeepseekv3','2000-01-01 00:00:00','2025-05-21 15:34:23'),
	 (1583,'TAG','TOOL_TAGS_V2','插件','tool',1,'','2025-04-01 17:51:32','2025-08-19 20:53:55'),
	 (1585,'TAG','TOOL_TAGS_V2','文档处理',NULL,0,NULL,'2025-04-01 17:51:32','2025-04-24 20:52:33'),
	 (1587,'TAG','TOOL_TAGS_V2','信息检索',NULL,0,NULL,'2025-04-01 17:51:32','2025-04-24 20:52:33'),
	 (1589,'TAG','TOOL_TAGS_V2','实用工具',NULL,0,NULL,'2025-04-01 17:51:32','2025-04-24 20:52:33'),
	 (1591,'TAG','TOOL_TAGS_V2','生活娱乐',NULL,0,NULL,'2025-04-01 17:51:32','2025-04-24 20:52:33'),
	 (1593,'TAG','TOOL_TAGS_V2','MCP Tools','',1,'','2025-04-01 17:51:32','2025-09-29 19:28:41'),
	 (1595,'LLM_WORKFLOW_FILTER_PRE','xingchen','model_square','bm3,bm3.5,bm4,pro-128k,xgemma29bit,xaipersonality,xdeepseekv3,xdeepseekr1,image_understanding,xopqwenqwq32b,xdeepseekv32,x1,xop3qwen30b,xop3qwen235b,xopgptoss20b,xopgptoss120b',1,'','2000-01-01 00:00:00','2025-08-06 15:46:16'),
	 (1597,'LLM_WORKFLOW_FILTER','self-model','控制自定义模型适配节点',NULL,1,'','2000-01-01 00:00:00','2025-09-20 20:42:01'),
	 (1599,'MULTI_ROUNDS_ALIAS_NAME','MUTI_ROUNDS_ALIAS_NAME','多轮对话支持节点','decision-making,spark-llm,agent,flow',1,'','2000-01-01 00:00:00','2025-08-20 15:07:43'),
	 (1601,'MODEL_SECRET_KEY','public_key','公钥','MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAh3iFD+BIGlCY083ItUwJFscMyept2dVl3Zs7/S6V+NnreiUJtjkAsok++eL5BYr9Jz5KULnpQv47tPhqAJd+xxzWZRfNVABHnox61GWlqqgWogbcPZWP/rzGt6c2jOkgbUVdCU7gc+EfKKZ5Fq99A5c6vDQi5u9GozElf2VnLKrH+u0tRpmrQDNSSfW0ifxUNGTvat6cJOIGRC4iUqdI+S3d3BSJEZ9VOAuAs1xmLTZciVkmSM+/bCEfdhChAh1wfpBMOb8Lu2JUXf3tfjZtNOXWRRw70NQu9Xmn3RE0ajZDODLg+xqJ3AR3fgAhunHT8W6d/PVHSM1cFUFap4P4IQIDAQAB',1,'','2000-01-01 00:00:00','2025-04-15 11:57:22'),
	 (1603,'MODEL_SECRET_KEY','private_key','私钥','MIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQCHeIUP4EgaUJjTzci1TAkWxwzJ6m3Z1WXdmzv9LpX42et6JQm2OQCyiT754vkFiv0nPkpQuelC/ju0+GoAl37HHNZlF81UAEeejHrUZaWqqBaiBtw9lY/+vMa3pzaM6SBtRV0JTuBz4R8opnkWr30Dlzq8NCLm70ajMSV/ZWcsqsf67S1GmatAM1JJ9bSJ/FQ0ZO9q3pwk4gZELiJSp0j5Ld3cFIkRn1U4C4CzXGYtNlyJWSZIz79sIR92EKECHXB+kEw5vwu7YlRd/e1+Nm005dZFHDvQ1C71eafdETRqNkM4MuD7GoncBHd+ACG6cdPxbp389UdIzVwVQVqng/ghAgMBAAECggEAVF/Z8ENuZQVhyjlXEqPi3U7oRjI+bPgeU+HFgTEssyt3IEJFRDtIleopURXup2cjuPdw7cp83/7cTSCTVP8GNRle5uPmPLVX5gX00qjkf9/lCNFhBvJKFwyYb/YzYZwpWCVlhtCbt1C1SWo17M0r/bqJGIMYYeERi76mbixIEGb60mCOPyj3tZfTCXzeSaZqgEV+9SjpgBcUj0/NSn1nxOZ8SeESQHrkz+ZfUZ/VDxdICW2Hy0hGJfaR9VZHGlVnabbtreUni5JDMf7o6xSPKvThp2rIIQd4H1PLRMFeWprigQ+6vfxeMHnyS5ggag5wGclFAargqAXq0WFO3xxoSQKBgQDbAt+T0jjHvv6d/924JiJf9awoGQ6Xjbu2z2xVNHg32Hew+u+0CiRsmo1nMMS//JxieNjSRWT6SJ482xAXgmGsdBKrSf+G5s3RpBCLDOYAvx67XmxB86CCpXVwomejGCZhdD4Vm2sB68ansbW1/y2Z2UHAG6wbsC7llzrxXvwAbwKBgQCeWbVDqLCSbsHgkn7LMPVCozH0GICQN92d5oyc8veZFa8uXq7fVIpELXv/S1TDVcpwEbIUnQycFRgj/si3QPZyIAAsKf6tx8MKy+BYm81eJqc0AuUc8wrmSJdcEOBDSaZvNMVX+bmqQItDTSJ+rv5fC8+zhv+gNRH+4cuOPxC4bwKBgA4/2ZwciWU1oAtXom1gzcvAiDrzpmdl6VizljDVAR1hECiLqxzjrAsE4z5bhfGX1fTyN+k2aqN+Jg1/k0R0TzaRNsW+QsncKngBXLIvXKefx7gZJKIF3+OgMEvrxSJvZ8/faEqvmf6+AGbYwSHeQHFKGWUOZ9xFUkfN1x/tNigxAoGAXtLffhWtLvMOPHndXbYCmJX7Wu21Ryd9GYou1+mTJWPb1Iu0cl5AshT+tOEacCKWqEegeUGWhH0JSLzQ2xQWwD6ze77mGJCQFo4B2W3rLB8/byDwrEZKV55OrT4Z3ZFkDiHurwEHEpG2E2ZEatJF1wrOpPYJa5l8HkJ+T78qNxcCgYBZbJJFCL7buF5ZO6dhZVMSLlERL0q5XKbCWXe/987g2fMfi7t6UrQAQ6zxvqBFrapodcsGjxbeXerJzNHqkQ4fySHZ8qeiwSlx8tCbBiO0PR7pY4mlXratJjpHvQbs1yXUcGZ3obyuK1Oe+sa+jYJC54UVz08g2+nGiQGho5x1FQ==',1,'','2000-01-01 00:00:00','2025-04-15 11:57:22'),
	 (1605,'SPARK_PRO_QR_CODE','qr','二维码','https://oss-beijing-m8.openstorage.cn/SparkBot/test4/weichat_qr.jpeg',1,NULL,'2025-04-01 17:51:32','2025-06-05 17:07:41'),
	 (1607,'MCP_MODEL_API_REFLECT','mcp','xop3qwen30b','https://maas-api.cn-huabei-1.xf-yun.com/v2',1,'','2000-01-01 00:00:00','2025-05-29 15:54:10'),
	 (1609,'MCP_MODEL_API_REFLECT','mcp','xop3qwen235b','https://maas-api.cn-huabei-1.xf-yun.com/v2',1,'','2000-01-01 00:00:00','2025-05-29 15:54:11'),
	 (1611,'LLM_WORKFLOW_MODEL_FILTER','multiMode','多模态模型','image_understandingv3,image_understanding',1,'','2000-01-01 00:00:00','2025-03-12 15:45:05'),
	 (1613,'PERSONAL_MODEL','20000001','imagev3','{
    "llmSource": 1,
    "llmId": 10000005,
    "name": "图像理解V3",
    "patchId": "0",
    "domain": "imagev3",
    "serviceId": "image_understandingv3",
    "status": 1,
    "info": "{\\"conc\\":2,\\"domain\\":\\"generalv3.5\\",\\"expireTs\\":\\"2025-05-31\\",\\"qps\\":2,\\"tokensPreDay\\":1000,\\"tokensTotal\\":1000,\\"llmServiceId\\":\\"bm3.5\\"}"
    "info": "",
    "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/aicloud/llm/resource/image/model/icon_iflyspark_96.png",
    "tag":
    [],
    "url": "wss://spark-api.cn-huabei-1.xf-yun.com/v2.1/image",
    "modelId": 0,
    "isThink":false,
    "multiMode":true
}',1,'','2000-01-01 00:00:00','2025-05-08 15:04:22'),
	 (1615,'WORKFLOW_KNOWLEDGE_PRO_STRATEGY','knowledgeProStrategy','Agentic RAG','适用于复杂问题的场景，擅长将复杂问题分解为多个子问题进行检索。',1,'1','2000-01-01 00:00:00','2025-05-15 11:28:26'),
	 (1617,'WORKFLOW_KNOWLEDGE_PRO_STRATEGY','knowledgeProStrategy','Long RAG','适用于对长文档内容理解与生成任务。',1,'2','2000-01-01 00:00:00','2025-05-15 11:28:26'),
	 (1621,'LLM_WORKFLOW_FILTER_PRE','xfyun','knowledge-pro-base','xdeepseekv3',1,'','2000-01-01 00:00:00','2025-05-21 15:11:12'),
	 (1623,'LLM_WORKFLOW_FILTER_PRE','iflyaicloud','knowledge-pro-base','xdeepseekv3',1,'','2000-01-01 00:00:00','2025-05-21 15:11:12'),
	 (1627,'LLM_WORKFLOW_FILTER_PRE','iflyaicloud','question-answer','bm3,bm3.5,bm4,pro-128k,xgemma29bit,xaipersonality,xdeepseekv3,xdeepseekr1,image_understanding,image_understandingv3,xopqwenqwq32b,xdeepseekv32,x1,deepseek-ollama',1,'','2000-01-01 00:00:00','2025-05-21 10:30:36'),
	 (1629,'LLM_WORKFLOW_FILTER_PRE','xfyun','question-answer','bm3,bm3.5,bm4,pro-128k,xgemma29bit,xaipersonality,xdeepseekv3,xdeepseekr1,image_understanding,image_understandingv3,xopqwenqwq32b,xdeepseekv32,x1,deepseek-ollama',1,'','2000-01-01 00:00:00','2025-05-21 10:30:36'),
	 (1631,'LLM_WORKFLOW_FILTER','iflyaicloud','question-answer','',1,'','2000-01-01 00:00:00','2025-09-20 20:11:24'),
	 (1633,'LLM_WORKFLOW_FILTER','xfyun','question-answer','',1,'','2000-01-01 00:00:00','2025-09-20 20:11:24'),
	 (1635,'LLM_WORKFLOW_FILTER','xfyun','knowledge-pro-base','',1,'','2000-01-01 00:00:00','2025-09-20 20:11:24'),
	 (1637,'LLM_WORKFLOW_FILTER','iflyaicloud','knowledge-pro-base','',1,'','2000-01-01 00:00:00','2025-09-20 20:11:24'),
	 (1639,'WORKFLOW_NODE_TEMPLATE_PRE','1,2','基础节点','{
    "aliasName": "知识库 Pro",
    "idType": "knowledge-pro-base",
    "data": {
        "outputs": [
           {
    "id": "52f0819d-e403-43e1-85d3-50519ccfcbcf",
    "name": "output",
    "schema": {
        "type": "string",
        "default": ""
    },
    "required": false,
    "nameErrMsg": ""
},
{
    "id": "87247b70-f05c-4125-a416-e2c41be2e1c1",
    "name": "result",
    "schema": {
        "type": "array-object",
        "default": "",
        "properties": [
            {
                "id": "a9db3a72-abb2-4512-a598-13b8294fce60",
                "name": "source_id",
                "type": "string",
                "default": "",
                "required": false,
                "nameErrMsg": ""
            },
            {
                "id": "c1711905-9f7e-4408-918e-33d57d39f9bc",
                "name": "chunk",
                "type": "array-object",
                "default": "",
                "required": false,
                "nameErrMsg": "",
                "properties": [
                    {
                        "id": "b8b50110-2abc-4732-9c96-6f3b7bad9259",
                        "name": "chunk_context",
                        "type": "string",
                        "default": "",
                        "required": false,
                        "nameErrMsg": ""
                    },
                    {
                        "id": "95ffea3c-4008-4df8-84a8-013079e72276",
                        "name": "score",
                        "type": "number",
                        "default": "",
                        "required": false,
                        "nameErrMsg": "",
                        "properties": []
                    }
                ]
            }
        ]
    },
    "required": false,
    "nameErrMsg": ""
}
        ],
        "references": [],
        "allowInputReference": true,
        "inputs": [
            {
                "schema": {
                    "type": "string",
                    "value": {
                        "type": "ref",
                        "content": {}
                    }
                },
                "name": "query",
                "id": ""
            }
        ],
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/knowledgeIcon.png",
        "allowOutputReference": true,
        "nodeMeta": {
            "aliasName": "知识库 Pro",
            "nodeType": "工具"
        },
        "nodeParam": {
			"repoTopK":3,
             "topK": 4,
            "repoIds": [ ],
            "repoList":[],
            "ragType": 1,
            "url": "https://maas-api.cn-huabei-1.xf-yun.com/v2",
            "domain": "xdeepseekv3",
            "temperature": 0.5,
            "maxTokens": 2048,
            "model": "xdeepseekv3",
            "llmId": 141,
             "serviceId":"xdeepseekv3",
            "answerRole": "",
            "repoType": 1
        }
    },
    "description": "通过智能策略调用知识库，可以指定知识库进行知识检索和总结答复",
    "nodeType": "基础节点"
}',1,'知识库pro节点','2000-01-01 00:00:00','2025-07-24 18:56:09'),
	 (1641,'mingduan','x1','x1','https://spark-api-open.xf-yun.com/v2',1,'','2000-01-01 00:00:00','2025-05-21 14:50:16'),
	 (1643,'mingduan','bm4','bm4','https://spark-api-open.xf-yun.com/v1',1,'','2000-01-01 00:00:00','2025-05-21 14:50:16'),
	 (1645,'mingduan','AK:SK','','x1,bm4',1,'https://spark-api-open.xf-yun.com/v2','2000-01-01 00:00:00','2025-05-21 15:42:44'),
	 (1647,'MODEL_URL_CONFIG','Agent节点','https://maas-api.cn-huabei-1.xf-yun.com/v2','xdeepseekv3,xdeepseekr1,xop3qwen30b,xop3qwen235b',1,'','2000-01-01 00:00:00','2025-05-29 15:35:31'),
	 (1649,'WORKFLOW_NODE_TEMPLATE','1,2','基础节点','{
    "aliasName": "知识库 Pro",
    "idType": "knowledge-pro-base",
    "data":
    {
        "outputs":
        [
            {
                "id": "52f0819d-e403-43e1-85d3-50519ccfcbcf",
                "name": "output",
                "schema":
                {
                    "type": "string",
                    "default": ""
                },
                "required": false,
                "nameErrMsg": ""
            },
            {
                "id": "87247b70-f05c-4125-a416-e2c41be2e1c1",
                "name": "result",
                "schema":
                {
                    "type": "array-object",
                    "default": "",
                    "properties":
                    [
                        {
                            "id": "a9db3a72-abb2-4512-a598-13b8294fce60",
                            "name": "source_id",
                            "type": "string",
                            "default": "",
                            "required": false,
                            "nameErrMsg": ""
                        },
                        {
                            "id": "c1711905-9f7e-4408-918e-33d57d39f9bc",
                            "name": "chunk",
                            "type": "array-object",
                            "default": "",
                            "required": false,
                            "nameErrMsg": "",
                            "properties":
                            [
                                {
                                    "id": "b8b50110-2abc-4732-9c96-6f3b7bad9259",
                                    "name": "chunk_context",
                                    "type": "string",
                                    "default": "",
                                    "required": false,
                                    "nameErrMsg": ""
                                },
                                {
                                    "id": "95ffea3c-4008-4df8-84a8-013079e72276",
                                    "name": "score",
                                    "type": "number",
                                    "default": "",
                                    "required": false,
                                    "nameErrMsg": "",
                                    "properties":
                                    []
                                }
                            ]
                        }
                    ]
                },
                "required": false,
                "nameErrMsg": ""
            }
        ],
        "references":
        [],
        "allowInputReference": true,
        "inputs":
        [
            {
                "schema":
                {
                    "type": "string",
                    "value":
                    {
                        "type": "ref",
                        "content":
                        {}
                    }
                },
                "name": "query",
                "id": ""
            }
        ],
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/knowledgeIcon.png",
        "allowOutputReference": true,
        "nodeMeta":
        {
            "aliasName": "知识库 Pro",
            "nodeType": "工具"
        },
        "nodeParam":
        {
            "repoTopK": 3,
            "llmId": 141,
            "topK": 4,
            "repoIds":
            [],
            "repoList":
            [],
            "ragType": 1,
            "temperature": 0.5,
            "maxTokens": 2048,
            "answerRole": "",
            "repoType": 1,
            "score": 0.2
        }
    },
    "description": "通过智能策略调用知识库，可以指定知识库进行知识检索和总结答复",
    "nodeType": "基础节点"
}',0,'知识库pro节点','2000-01-01 00:00:00','2025-09-29 15:54:42'),
	 (1711,'SPECIAL_MODEL','10000012','dsv3t128k','{
    "llmSource": 1,
    "llmId": 10000012,
    "id": 10000012,
    "name": "星火128k",
    "patchId": "0",
    "domain": "xdsv3t128k",
    "modelType": 2,
    "licChannel":"xdsv3t128k",
    "serviceId": "xdsv3t128k",
    "status": 1,
    "info": "",
    "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/aicloud/llm/resource/image/model/icon_iflyspark_96.png",
    "tag":
    [],
    "url": "wss://maas-long-context-api.cn-huabei-1.xf-yun.com/v1.1/chat",
    "modelId": 0
}',0,'','2000-01-01 00:00:00','2025-08-27 11:16:08'),
	 (1713,'SPECIAL_MODEL_CONFIG','10000012','dsv3t128k','{
        "id": 2431162637211654,
        "name": "DeepSeek-V3",
        "serviceId": "xdsv3t128k",
        "serverId": "xdsv3t128k",
        "domain": null,
        "patchId": "0",
        "type": 1,
        "config":
        {
            "serviceIdkeys":
            [
                "xdsv3t128k"
            ],
            "serviceBlock":
            {
                "xdsv3t128k":
                [
                    {
                        "fields":
                        [
                            {
                                "constraintType": "range",
                                "default": 8192,
                                "constraintContent":
                                [
                                    {
                                        "name": 1
                                    },
                                    {
                                        "name": 65535
                                    }
                                ],
                                "name": "Max tokens",
                                "revealed": true,
                                "support": true,
                                "fieldType": "int",
                                "initialValue": 65535,
                                "key": "max_tokens",
                                "required": true,
                                "desc": "最大回复长度：最小值是1, 最大值是65535。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"
                            },
                            {
                                "constraintContent":
                                [
                                    {
                                        "name": 0.1
                                    },
                                    {
                                        "name": 1.0
                                    }
                                ],
                                "precision": 0.1,
                                "accuracy": 1,
                                "required": true,
                                "constraintType": "range",
                                "default": 0.5,
                                "name": "Temperature",
                                "revealed": true,
                                "step": 0.1,
                                "support": true,
                                "fieldType": "float",
                                "initialValue": 0.5,
                                "key": "temperature",
                                "desc": "核采样阈值：取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"
                            },
                            {
                                "constraintType": "range",
                                "default": 4,
                                "constraintContent":
                                [
                                    {
                                        "name": 1
                                    },
                                    {
                                        "name": 6
                                    }
                                ],
                                "name": "Top_k",
                                "revealed": true,
                                "support": true,
                                "fieldType": "int",
                                "initialValue": 4,
                                "key": "top_k",
                                "required": true,
                                "desc": "生成多样性：调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"
                            },
                            {
                                "constraintType": "switch",
                                "default": false,
                                "constraintContent":
                                [
                                    {
                                        "name": "关",
                                        "label": "关",
                                        "value": true,
                                        "desc": "关"
                                    },
                                    {
                                        "name": "开",
                                        "label": "开",
                                        "value": false,
                                        "desc": "开"
                                    }
                                ],
                                "name": "联网搜索",
                                "revealed": true,
                                "support": true,
                                "fieldType": "boolean",
                                "initialValue": false,
                                "key": "search_disable",
                                "required": false,
                                "desc": "开启联网搜索，默认关闭。"
                            },
                            {
                                "constraintType": "enum",
                                "default": "force",
                                "constraintContent":
                                [
                                    {
                                        "name": "自动",
                                        "label": "default",
                                        "value": "auto",
                                        "desc": "自动判断是否需要搜索"
                                    },
                                    {
                                        "name": "强制开启",
                                        "label": "default",
                                        "value": "force",
                                        "desc": "强制开启搜索"
                                    }
                                ],
                                "name": "搜索模式",
                                "revealed": false,
                                "support": true,
                                "fieldType": "string",
                                "initialValue": "force",
                                "key": "search_mod",
                                "required": false,
                                "desc": "联网搜索的模式，默认自动判断。"
                            },
                            {
                                "constraintType": "enum",
                                "default": false,
                                "constraintContent":
                                [
                                    {
                                        "name": "开",
                                        "label": "default",
                                        "value": true,
                                        "desc": "开"
                                    },
                                    {
                                        "name": "关",
                                        "label": "default",
                                        "value": false,
                                        "desc": "关"
                                    }
                                ],
                                "name": "展示溯源信息",
                                "revealed": false,
                                "support": true,
                                "fieldType": "boolean",
                                "initialValue": false,
                                "key": "show_ref_label",
                                "required": false,
                                "desc": "开启联网搜索后在结果中展示搜索溯源信息，默认关闭。"
                            }
                        ],
                        "key": "generalv3"
                    }
                ]
            },
            "featureBlock":
            {},
            "payloadBlock":
            {},
            "acceptBlock":
            {},
            "protocolType": 1,
            "serviceId": "dsv3t128k",
            "multipleDialog": 1
        },
        "source": 2,
        "url": "wss://maas-long-context-api.cn-huabei-1.xf-yun.com/v1.1/chat",
        "appId": null,
        "licChannel": "xdsv3t128k"
    }
',1,'','2000-01-01 00:00:00','2025-06-26 17:39:30'),
	 (1715,'SELF_MODEL_COMMON_CONFIG','config','自定义模型公共配置','{
    "config":
    [
        {
            "standard": true,
            "constraintType": "range",
            "default": 2048,
            "constraintContent":
            [
                {
                    "name": 1
                },
                {
                    "name": 8192
                }
            ],
            "name": "最大回复长度",
            "fieldType": "int",
            "initialValue": 2048,
            "key": "maxTokens",
            "required": true
        },
        {
            "standard": true,
            "constraintContent":
            [
                {
                    "name": 0
                },
                {
                    "name": 1
                }
            ],
            "precision": 0.1,
            "required": true,
            "constraintType": "range",
            "default": 0.5,
            "name": "核采样阈值",
            "fieldType": "float",
            "initialValue": 0.5,
            "key": "temperature"
        },
        {
            "standard": true,
            "constraintType": "range",
            "default": 4,
            "constraintContent":
            [
                {
                    "name": 1
                },
                {
                    "name": 6
                }
            ],
            "name": "生成多样性",
            "fieldType": "int",
            "initialValue": 4,
            "key": "topK",
            "required": true
        }
    ]
}',1,'','2000-01-01 00:00:00','2025-06-05 19:15:55'),
	 (1717,'WORKFLOW_NODE_TEMPLATE_PRE','1,2','基础节点','{
    "aliasName": "问答节点",
    "idType": "question-answer",
    "data":
    {
        "outputs":
        [
            {
                "schema":
                {
                    "default": "",
                    "type": "string",
                    "description": "该节点提问内容"
                },
                "name": "query",
                "id": "",
                "required": true
            },
            {
                "schema":
                {
                    "default": "",
                    "type": "string",
                    "description": "用户回复内容"
                },
                "name": "content",
                "id": "",
                "required": true
            }
        ],
        "references":
        [],
        "allowInputReference": true,
        "inputs":
        [
            {
                "schema":
                {
                    "type": "string",
                    "value":
                    {
                        "type": "ref",
                        "content":
                        {}
                    }
                },
                "name": "input",
                "id": ""
            }
        ],
        "icon": "https://oss-beijing-m8.openstorage.cn/SparkBot/test4/answer-new2.png",
        "allowOutputReference": true,
        "nodeMeta":
        {
            "aliasName": "问答节点",
            "nodeType": "基础节点"
        },
        "nodeParam":
        {
            "question": "",
            "timeout": 3,
            "needReply": false,
            "answerType": "direct",
            "directAnswer":
            {
                "handleResponse": false,
                "maxRetryCounts": 2
            },
            "optionAnswer":
            [
                {
                    "id": "option-one-of::01a35034-8e7a-4a84-83ee-c51d4cbe2660",
                    "name": "A",
                    "type": 2,
                    "content": "",
                    "content_type": "string"
                },
                {
                    "id": "option-one-of::1df8b2ac-c228-4195-8978-54f87b1bdbb9",
                    "name": "B",
                    "type": 2,
                    "content": "",
                    "content_type": "string"
                },
                {
                    "id": "option-one-of::646527fa-a9eb-4216-a324-95fc5601d2bf",
                    "name": "default",
                    "type": 1,
                    "content": "",
                    "content_type": "string"
                }
            ],
            "url": "wss://spark-api.xf-yun.com/v4.0/chat",
            "domain": "4.0Ultra",
            "appId": "d1590f30",
            "maxTokens": 2048,
            "temperature": 0.5,
            "topK": 4,
            "model": "spark",
            "llmId": 110,
            "serviceId": "bm4"
        }
    },
    "description": "支持在此节点向用户提问，接收用户回复，并输出回复内容及提取的信息",
    "nodeType": "基础节点"
}',1,'问答节点','2000-01-01 00:00:00','2025-07-24 18:56:10'),
	 (1719,'SPARK_PRO_QR_CODE','qr_feishu','飞书二维码','https://oss-beijing-m8.openstorage.cn/SparkBot/test4/feishu_qr.jpeg',1,NULL,'2025-04-01 17:51:32','2025-06-05 16:46:35'),
	 (1723,'SPECIAL_MODEL','10000006','xdsv3t128k','{
    "llmSource": 1,
    "llmId": 10000006,
    "id": 10000006,
    "name": "xdsv3t128k",
    "patchId": "0",
    "domain": "xdsv3t128k",
    "serviceId": "xdsv3t128k",
    "status": 1,
    "modelType": 2,
    "licChannel":"xdsv3t128k",
    "info": "",
    "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/aicloud/llm/resource/image/model/icon_iflyspark_96.png",
    "tag":
    [],
    "url": "https://maas-api.cn-huabei-1.xf-yun.com/v2",
    "modelId": 0
}',0,'','2000-01-01 00:00:00','2025-08-27 11:16:08'),
	 (1725,'SPECIAL_MODEL_CONFIG','10000006','xdsv3t128k','{
        "id": 2431162637211655,
        "name": "xdsv3t128k",
        "serviceId": "xdsv3t128k",
        "serverId": "xdsv3t128k",
        "domain": null,
        "patchId": "0",
        "type": 1,
        "config":
        {
            "serviceIdkeys":
            [
                "xdsv3t128k"
            ],
            "serviceBlock":
            {
                "xdsv3t128k":
                [
                    {
                        "fields":
                        [
                            {
                                "constraintType": "range",
                                "default": 8192,
                                "constraintContent":
                                [
                                    {
                                        "name": 1
                                    },
                                    {
                                        "name": 65535
                                    }
                                ],
                                "name": "Max tokens",
                                "revealed": true,
                                "support": true,
                                "fieldType": "int",
                                "initialValue": 8192,
                                "key": "max_tokens",
                                "required": true,
                                "desc": "最大回复长度：最小值是1, 最大值是16384。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"
                            },
                            {
                                "constraintContent":
                                [
                                    {
                                        "name": 0.1
                                    },
                                    {
                                        "name": 1.0
                                    }
                                ],
                                "precision": 0.1,
                                "accuracy": 1,
                                "required": true,
                                "constraintType": "range",
                                "default": 0.5,
                                "name": "Temperature",
                                "revealed": true,
                                "step": 0.1,
                                "support": true,
                                "fieldType": "float",
                                "initialValue": 0.5,
                                "key": "temperature",
                                "desc": "核采样阈值：取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"
                            },
                            {
                                "constraintType": "range",
                                "default": 4,
                                "constraintContent":
                                [
                                    {
                                        "name": 1
                                    },
                                    {
                                        "name": 6
                                    }
                                ],
                                "name": "Top_k",
                                "revealed": true,
                                "support": true,
                                "fieldType": "int",
                                "initialValue": 4,
                                "key": "top_k",
                                "required": true,
                                "desc": "生成多样性：调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"
                            },
                            {
                                "constraintType": "switch",
                                "default": false,
                                "constraintContent":
                                [
                                    {
                                        "name": "关",
                                        "label": "关",
                                        "value": true,
                                        "desc": "关"
                                    },
                                    {
                                        "name": "开",
                                        "label": "开",
                                        "value": false,
                                        "desc": "开"
                                    }
                                ],
                                "name": "联网搜索",
                                "revealed": true,
                                "support": true,
                                "fieldType": "boolean",
                                "initialValue": false,
                                "key": "search_disable",
                                "required": false,
                                "desc": "开启联网搜索，默认关闭。"
                            },
                            {
                                "constraintType": "enum",
                                "default": "force",
                                "constraintContent":
                                [
                                    {
                                        "name": "自动",
                                        "label": "default",
                                        "value": "auto",
                                        "desc": "自动判断是否需要搜索"
                                    },
                                    {
                                        "name": "强制开启",
                                        "label": "default",
                                        "value": "force",
                                        "desc": "强制开启搜索"
                                    }
                                ],
                                "name": "搜索模式",
                                "revealed": false,
                                "support": true,
                                "fieldType": "string",
                                "initialValue": "force",
                                "key": "search_mod",
                                "required": false,
                                "desc": "联网搜索的模式，默认自动判断。"
                            },
                            {
                                "constraintType": "enum",
                                "default": false,
                                "constraintContent":
                                [
                                    {
                                        "name": "开",
                                        "label": "default",
                                        "value": true,
                                        "desc": "开"
                                    },
                                    {
                                        "name": "关",
                                        "label": "default",
                                        "value": false,
                                        "desc": "关"
                                    }
                                ],
                                "name": "展示溯源信息",
                                "revealed": false,
                                "support": true,
                                "fieldType": "boolean",
                                "initialValue": false,
                                "key": "show_ref_label",
                                "required": false,
                                "desc": "开启联网搜索后在结果中展示搜索溯源信息，默认关闭。"
                            }
                        ],
                        "key": "generalv3"
                    }
                ]
            },
            "featureBlock":
            {},
            "payloadBlock":
            {},
            "acceptBlock":
            {},
            "protocolType": 1,
            "serviceId": "xdsv3t128k",
            "multipleDialog": 1
        },
        "source": 1,
        "url": "https://maas-api.cn-huabei-1.xf-yun.com/v2",
        "appId": null,
        "licChannel": "xdsv3t128k"
    }
',1,'','2000-01-01 00:00:00','2025-06-26 17:40:19'),
	 (1731,'MCP_MODEL_API_REFLECT','mcp','x1','https://spark-api-open.xf-yun.com/v2',1,'','2000-01-01 00:00:00','2025-06-10 17:52:48'),
	 (1735,'IP_BLACK_LIST','ip_balck_list','ip黑名单','0.0.0.0,127.0.0.1,localhost',1,NULL,'2022-06-10 00:00:00','2025-09-08 10:42:02'),
	 (1737,'NETWORK_SEGMENT_BLACK_LIST','network_segment_balck_list','网段黑名单','192.168.0.0/16,100.64.0.0/10',1,NULL,'2022-06-10 00:00:00','2025-09-08 10:44:56'),
	 (1739,'DOMAIN_BLACK_LIST','domain_balck_list','域名黑名单','cloud.iflytek.com,monojson.com,ssrf.security.private,ssrf-prod.security.private',1,NULL,'2022-06-10 00:00:00','2025-09-08 10:42:13'),
	 (1743,'WORKFLOW_NODE_TEMPLATE','1,2','基础节点','{
    "aliasName": "问答节点",
    "idType": "question-answer",
    "data":
    {
        "outputs":
        [
            {
                "schema":
                {
                    "default": "",
                    "type": "string",
                    "description": "该节点提问内容"
                },
                "name": "query",
                "id": "",
                "required": true
            },
            {
                "schema":
                {
                    "default": "",
                    "type": "string",
                    "description": "用户回复内容"
                },
                "name": "content",
                "id": "",
                "required": true
            }
        ],
        "references":
        [],
        "allowInputReference": true,
        "inputs":
        [
            {
                "schema":
                {
                    "type": "string",
                    "value":
                    {
                        "type": "ref",
                        "content":
                        {}
                    }
                },
                "name": "input",
                "id": ""
            }
        ],
        "icon": "https://oss-beijing-m8.openstorage.cn/SparkBot/test4/answer-new2.png",
        "allowOutputReference": true,
        "nodeMeta":
        {
            "aliasName": "问答节点",
            "nodeType": "基础节点"
        },
        "nodeParam":
        {
            "question": "",
            "timeout": 3,
            "needReply": false,
            "answerType": "direct",
            "directAnswer":
            {
                "handleResponse": false,
                "maxRetryCounts": 2
            },
            "optionAnswer":
            [
                {
                    "id": "option-one-of::01a35034-8e7a-4a84-83ee-c51d4cbe2660",
                    "name": "A",
                    "type": 2,
                    "content": "",
                    "content_type": "string"
                },
                {
                    "id": "option-one-of::1df8b2ac-c228-4195-8978-54f87b1bdbb9",
                    "name": "B",
                    "type": 2,
                    "content": "",
                    "content_type": "string"
                },
                {
                    "id": "option-one-of::646527fa-a9eb-4216-a324-95fc5601d2bf",
                    "name": "default",
                    "type": 1,
                    "content": "",
                    "content_type": "string"
                }
            ],
            "maxTokens": 2048,
            "temperature": 0.5,
            "topK": 4,
            "model": "spark"
        }
    },
    "description": "支持在此节点向用户提问，接收用户回复，并输出回复内容及提取的信息",
    "nodeType": "基础节点"
}',1,'问答节点','2000-01-01 00:00:00','2025-09-29 15:55:05'),
	 (1745,'SPECIAL_MODEL','10000007','xsp8f70988f','{
    "llmSource": 1,
    "llmId": 10000007,
    "id": 10000007,
    "name": "智能硬件专有2.6B模型",
    "patchId": "0",
    "domain": "xsp8f70988f",
    "serviceId": "xsp8f70988f",
    "modelType": 2,
    "licChannel":"xsp8f70988f",
    "status": 1,
    "info": "假设你是一个智能交互助手，基于用户的输入文本，解析其中语义，抽取关键信息，以json格式生成结构化的语义内容。我的输入是：请调小空气净化器的湿度到1",
    "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/aicloud/llm/resource/image/model/icon_iflyspark_96.png",
    "tag":
    [],
    "url": "wss://xingchen-api.cn-huabei-1.xf-yun.com/v1.1/chat",
    "modelId": 0
}',1,'','2000-01-01 00:00:00','2025-07-09 14:31:21'),
	 (1747,'SPECIAL_MODEL_CONFIG','10000007','xsp8f70988f','{
        "id": 2431162637211656,
        "name": "xsp8f70988f",
        "serviceId": "xsp8f70988f",
        "serverId": "xsp8f70988f",
        "domain": null,
        "patchId": "0",
        "type": 1,
        "config":
        {
            "serviceIdkeys":
            [
                "xsp8f70988f"
            ],
            "serviceBlock":
            {
                "xsp8f70988f":
                [
                    {
                        "fields":
                        [
                            {
                                "constraintType": "range",
                                "default": 8192,
                                "constraintContent":
                                [
                                    {
                                        "name": 1
                                    },
                                    {
                                        "name": 16384
                                    }
                                ],
                                "name": "Max tokens",
                                "revealed": true,
                                "support": true,
                                "fieldType": "int",
                                "initialValue": 8192,
                                "key": "max_tokens",
                                "required": true,
                                "desc": "最大回复长度：最小值是1, 最大值是16384。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"
                            },
                            {
                                "constraintContent":
                                [
                                    {
                                        "name": 0.1
                                    },
                                    {
                                        "name": 1.0
                                    }
                                ],
                                "precision": 0.1,
                                "accuracy": 1,
                                "required": true,
                                "constraintType": "range",
                                "default": 0.5,
                                "name": "Temperature",
                                "revealed": true,
                                "step": 0.1,
                                "support": true,
                                "fieldType": "float",
                                "initialValue": 0.5,
                                "key": "temperature",
                                "desc": "核采样阈值：取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"
                            },
                            {
                                "constraintType": "range",
                                "default": 4,
                                "constraintContent":
                                [
                                    {
                                        "name": 1
                                    },
                                    {
                                        "name": 6
                                    }
                                ],
                                "name": "Top_k",
                                "revealed": true,
                                "support": true,
                                "fieldType": "int",
                                "initialValue": 4,
                                "key": "top_k",
                                "required": true,
                                "desc": "生成多样性：调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"
                            },
                            {
                                "constraintType": "switch",
                                "default": false,
                                "constraintContent":
                                [
                                    {
                                        "name": "关",
                                        "label": "关",
                                        "value": true,
                                        "desc": "关"
                                    },
                                    {
                                        "name": "开",
                                        "label": "开",
                                        "value": false,
                                        "desc": "开"
                                    }
                                ],
                                "name": "联网搜索",
                                "revealed": true,
                                "support": true,
                                "fieldType": "boolean",
                                "initialValue": false,
                                "key": "search_disable",
                                "required": false,
                                "desc": "开启联网搜索，默认关闭。"
                            },
                            {
                                "constraintType": "enum",
                                "default": "force",
                                "constraintContent":
                                [
                                    {
                                        "name": "自动",
                                        "label": "default",
                                        "value": "auto",
                                        "desc": "自动判断是否需要搜索"
                                    },
                                    {
                                        "name": "强制开启",
                                        "label": "default",
                                        "value": "force",
                                        "desc": "强制开启搜索"
                                    }
                                ],
                                "name": "搜索模式",
                                "revealed": false,
                                "support": true,
                                "fieldType": "string",
                                "initialValue": "force",
                                "key": "search_mod",
                                "required": false,
                                "desc": "联网搜索的模式，默认自动判断。"
                            },
                            {
                                "constraintType": "enum",
                                "default": false,
                                "constraintContent":
                                [
                                    {
                                        "name": "开",
                                        "label": "default",
                                        "value": true,
                                        "desc": "开"
                                    },
                                    {
                                        "name": "关",
                                        "label": "default",
                                        "value": false,
                                        "desc": "关"
                                    }
                                ],
                                "name": "展示溯源信息",
                                "revealed": false,
                                "support": true,
                                "fieldType": "boolean",
                                "initialValue": false,
                                "key": "show_ref_label",
                                "required": false,
                                "desc": "开启联网搜索后在结果中展示搜索溯源信息，默认关闭。"
                            }
                        ],
                        "key": "generalv3"
                    }
                ]
            },
            "featureBlock":
            {},
            "payloadBlock":
            {},
            "acceptBlock":
            {},
            "protocolType": 1,
            "serviceId": "xdsv3t128k",
            "multipleDialog": 1
        },
        "source": 1,
        "url": "https://maas-api.cn-huabei-1.xf-yun.com/v1",
        "appId": null,
        "licChannel": "xsp8f70988f"
    }
',1,'','2000-01-01 00:00:00','2025-06-12 09:36:51'),
	 (1749,'SPECIAL_MODEL','10000008','xqwen257bchat','{
    "llmSource": 1,
    "llmId": 10000008,
    "id": 10000008,
    "name": "xqwen257bchat",
    "patchId": "0",
    "domain": "xqwen257bchat",
    "serviceId": "xqwen257bchat",
    "modelType": 2,
    "licChannel":"xqwen257bchat",
    "status": 1,
    "info": "",
    "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/aicloud/llm/resource/image/model/icon_iflyspark_96.png",
    "tag":
    [],
    "url": "wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat",
    "modelId": 0
}',1,'','2000-01-01 00:00:00','2025-07-09 14:31:21'),
	 (1751,'SPECIAL_MODEL_CONFIG','10000008','xqwen257bchat','{
        "id": 2431162637211657,
        "name": "xqwen257bchat",
        "serviceId": "xqwen257bchat",
        "serverId": "xqwen257bchat",
        "domain": null,
        "patchId": "0",
        "type": 1,
        "config":
        {
            "serviceIdkeys":
            [
                "xqwen257bchat"
            ],
            "serviceBlock":
            {
                "xqwen257bchat":
                [
                    {
                        "fields":
                        [
                            {
                                "constraintType": "range",
                                "default": 8192,
                                "constraintContent":
                                [
                                    {
                                        "name": 1
                                    },
                                    {
                                        "name": 16384
                                    }
                                ],
                                "name": "Max tokens",
                                "revealed": true,
                                "support": true,
                                "fieldType": "int",
                                "initialValue": 8192,
                                "key": "max_tokens",
                                "required": true,
                                "desc": "最大回复长度：最小值是1, 最大值是16384。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"
                            },
                            {
                                "constraintContent":
                                [
                                    {
                                        "name": 0.1
                                    },
                                    {
                                        "name": 1.0
                                    }
                                ],
                                "precision": 0.1,
                                "accuracy": 1,
                                "required": true,
                                "constraintType": "range",
                                "default": 0.5,
                                "name": "Temperature",
                                "revealed": true,
                                "step": 0.1,
                                "support": true,
                                "fieldType": "float",
                                "initialValue": 0.5,
                                "key": "temperature",
                                "desc": "核采样阈值：取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"
                            },
                            {
                                "constraintType": "range",
                                "default": 4,
                                "constraintContent":
                                [
                                    {
                                        "name": 1
                                    },
                                    {
                                        "name": 6
                                    }
                                ],
                                "name": "Top_k",
                                "revealed": true,
                                "support": true,
                                "fieldType": "int",
                                "initialValue": 4,
                                "key": "top_k",
                                "required": true,
                                "desc": "生成多样性：调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"
                            },
                            {
                                "constraintType": "switch",
                                "default": false,
                                "constraintContent":
                                [
                                    {
                                        "name": "关",
                                        "label": "关",
                                        "value": true,
                                        "desc": "关"
                                    },
                                    {
                                        "name": "开",
                                        "label": "开",
                                        "value": false,
                                        "desc": "开"
                                    }
                                ],
                                "name": "联网搜索",
                                "revealed": true,
                                "support": true,
                                "fieldType": "boolean",
                                "initialValue": false,
                                "key": "search_disable",
                                "required": false,
                                "desc": "开启联网搜索，默认关闭。"
                            },
                            {
                                "constraintType": "enum",
                                "default": "force",
                                "constraintContent":
                                [
                                    {
                                        "name": "自动",
                                        "label": "default",
                                        "value": "auto",
                                        "desc": "自动判断是否需要搜索"
                                    },
                                    {
                                        "name": "强制开启",
                                        "label": "default",
                                        "value": "force",
                                        "desc": "强制开启搜索"
                                    }
                                ],
                                "name": "搜索模式",
                                "revealed": false,
                                "support": true,
                                "fieldType": "string",
                                "initialValue": "force",
                                "key": "search_mod",
                                "required": false,
                                "desc": "联网搜索的模式，默认自动判断。"
                            },
                            {
                                "constraintType": "enum",
                                "default": false,
                                "constraintContent":
                                [
                                    {
                                        "name": "开",
                                        "label": "default",
                                        "value": true,
                                        "desc": "开"
                                    },
                                    {
                                        "name": "关",
                                        "label": "default",
                                        "value": false,
                                        "desc": "关"
                                    }
                                ],
                                "name": "展示溯源信息",
                                "revealed": false,
                                "support": true,
                                "fieldType": "boolean",
                                "initialValue": false,
                                "key": "show_ref_label",
                                "required": false,
                                "desc": "开启联网搜索后在结果中展示搜索溯源信息，默认关闭。"
                            }
                        ],
                        "key": "generalv3"
                    }
                ]
            },
            "featureBlock":
            {},
            "payloadBlock":
            {},
            "acceptBlock":
            {},
            "protocolType": 1,
            "serviceId": "xdsv3t128k",
            "multipleDialog": 1
        },
        "source": 1,
        "url": "wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat",
        "appId": null,
        "licChannel": "xqwen257bchat"
    }
',1,'','2000-01-01 00:00:00','2025-06-12 09:36:51'),
	 (1753,'SPECIAL_MODEL','10000009','xop3qwen8b','{
    "llmSource": 1,
    "llmId": 10000009,
    "id": 10000009,
    "name": "xop3qwen8b",
    "patchId": "0",
    "domain": "xop3qwen8b",
    "serviceId": "xop3qwen8b",
    "modelType": 2,
    "licChannel":"xop3qwen8b",
    "status": 1,
    "info": "",
    "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/aicloud/llm/resource/image/model/icon_iflyspark_96.png",
    "tag":
    [],
    "url": "wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat",
    "modelId": 0
}',1,'亚谋理想项目测试使用','2000-01-01 00:00:00','2025-07-09 14:31:21'),
	 (1755,'SPECIAL_MODEL','10000010','xop3qwen14b','{
    "llmSource": 1,
    "llmId": 10000010,
    "id": 10000010,
    "name": "xop3qwen14b",
    "patchId": "0",
    "domain": "xop3qwen14b",
    "serviceId": "xop3qwen14b",
    "modelType": 2,
    "licChannel":"xop3qwen14b",
    "status": 1,
    "info": "",
    "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/aicloud/llm/resource/image/model/icon_iflyspark_96.png",
    "tag":
    [],
    "url": "wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat",
    "modelId": 0
}',1,'亚谋理想项目测试使用','2000-01-01 00:00:00','2025-07-09 14:31:21'),
	 (1757,'SPECIAL_MODEL_CONFIG','10000009','xop3qwen8b','{
        "id": 2431162637211657,
        "name": "xop3qwen8b",
        "serviceId": "xop3qwen8b",
        "serverId": "xop3qwen8b",
        "domain": null,
        "patchId": "0",
        "type": 1,
        "config":
        {
            "serviceIdkeys":
            [
                "xop3qwen8b"
            ],
            "serviceBlock":
            {
                "xop3qwen8b":
                [
                    {
                        "fields":
                        [
                            {
                                "constraintType": "range",
                                "default": 8192,
                                "constraintContent":
                                [
                                    {
                                        "name": 1
                                    },
                                    {
                                        "name": 16384
                                    }
                                ],
                                "name": "Max tokens",
                                "revealed": true,
                                "support": true,
                                "fieldType": "int",
                                "initialValue": 8192,
                                "key": "max_tokens",
                                "required": true,
                                "desc": "最大回复长度：最小值是1, 最大值是16384。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"
                            },
                            {
                                "constraintContent":
                                [
                                    {
                                        "name": 0.1
                                    },
                                    {
                                        "name": 1.0
                                    }
                                ],
                                "precision": 0.1,
                                "accuracy": 1,
                                "required": true,
                                "constraintType": "range",
                                "default": 0.5,
                                "name": "Temperature",
                                "revealed": true,
                                "step": 0.1,
                                "support": true,
                                "fieldType": "float",
                                "initialValue": 0.5,
                                "key": "temperature",
                                "desc": "核采样阈值：取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"
                            },
                            {
                                "constraintType": "range",
                                "default": 4,
                                "constraintContent":
                                [
                                    {
                                        "name": 1
                                    },
                                    {
                                        "name": 6
                                    }
                                ],
                                "name": "Top_k",
                                "revealed": true,
                                "support": true,
                                "fieldType": "int",
                                "initialValue": 4,
                                "key": "top_k",
                                "required": true,
                                "desc": "生成多样性：调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"
                            },
                            {
                                "constraintType": "switch",
                                "default": false,
                                "constraintContent":
                                [
                                    {
                                        "name": "关",
                                        "label": "关",
                                        "value": true,
                                        "desc": "关"
                                    },
                                    {
                                        "name": "开",
                                        "label": "开",
                                        "value": false,
                                        "desc": "开"
                                    }
                                ],
                                "name": "联网搜索",
                                "revealed": true,
                                "support": true,
                                "fieldType": "boolean",
                                "initialValue": false,
                                "key": "search_disable",
                                "required": false,
                                "desc": "开启联网搜索，默认关闭。"
                            },
                            {
                                "constraintType": "enum",
                                "default": "force",
                                "constraintContent":
                                [
                                    {
                                        "name": "自动",
                                        "label": "default",
                                        "value": "auto",
                                        "desc": "自动判断是否需要搜索"
                                    },
                                    {
                                        "name": "强制开启",
                                        "label": "default",
                                        "value": "force",
                                        "desc": "强制开启搜索"
                                    }
                                ],
                                "name": "搜索模式",
                                "revealed": false,
                                "support": true,
                                "fieldType": "string",
                                "initialValue": "force",
                                "key": "search_mod",
                                "required": false,
                                "desc": "联网搜索的模式，默认自动判断。"
                            },
                            {
                                "constraintType": "enum",
                                "default": false,
                                "constraintContent":
                                [
                                    {
                                        "name": "开",
                                        "label": "default",
                                        "value": true,
                                        "desc": "开"
                                    },
                                    {
                                        "name": "关",
                                        "label": "default",
                                        "value": false,
                                        "desc": "关"
                                    }
                                ],
                                "name": "展示溯源信息",
                                "revealed": false,
                                "support": true,
                                "fieldType": "boolean",
                                "initialValue": false,
                                "key": "show_ref_label",
                                "required": false,
                                "desc": "开启联网搜索后在结果中展示搜索溯源信息，默认关闭。"
                            }
                        ],
                        "key": "generalv3"
                    }
                ]
            },
            "featureBlock":
            {},
            "payloadBlock":
            {},
            "acceptBlock":
            {},
            "protocolType": 1,
            "serviceId": "xop3qwen8b",
            "multipleDialog": 1
        },
        "source": 1,
        "url": "wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat",
        "appId": null,
        "licChannel": "xop3qwen8b"
    }
',1,'亚谋理想项目测试使用','2000-01-01 00:00:00','2025-06-16 15:27:55'),
	 (1759,'SPECIAL_MODEL_CONFIG','10000010','xop3qwen14b','{
        "id": 2431162637211657,
        "name": "xop3qwen14b",
        "serviceId": "xop3qwen14b",
        "serverId": "xop3qwen14b",
        "domain": null,
        "patchId": "0",
        "type": 1,
        "config":
        {
            "serviceIdkeys":
            [
                "xop3qwen14b"
            ],
            "serviceBlock":
            {
                "xop3qwen14b":
                [
                    {
                        "fields":
                        [
                            {
                                "constraintType": "range",
                                "default": 8192,
                                "constraintContent":
                                [
                                    {
                                        "name": 1
                                    },
                                    {
                                        "name": 16384
                                    }
                                ],
                                "name": "Max tokens",
                                "revealed": true,
                                "support": true,
                                "fieldType": "int",
                                "initialValue": 8192,
                                "key": "max_tokens",
                                "required": true,
                                "desc": "最大回复长度：最小值是1, 最大值是16384。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"
                            },
                            {
                                "constraintContent":
                                [
                                    {
                                        "name": 0.1
                                    },
                                    {
                                        "name": 1.0
                                    }
                                ],
                                "precision": 0.1,
                                "accuracy": 1,
                                "required": true,
                                "constraintType": "range",
                                "default": 0.5,
                                "name": "Temperature",
                                "revealed": true,
                                "step": 0.1,
                                "support": true,
                                "fieldType": "float",
                                "initialValue": 0.5,
                                "key": "temperature",
                                "desc": "核采样阈值：取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"
                            },
                            {
                                "constraintType": "range",
                                "default": 4,
                                "constraintContent":
                                [
                                    {
                                        "name": 1
                                    },
                                    {
                                        "name": 6
                                    }
                                ],
                                "name": "Top_k",
                                "revealed": true,
                                "support": true,
                                "fieldType": "int",
                                "initialValue": 4,
                                "key": "top_k",
                                "required": true,
                                "desc": "生成多样性：调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"
                            },
                            {
                                "constraintType": "switch",
                                "default": false,
                                "constraintContent":
                                [
                                    {
                                        "name": "关",
                                        "label": "关",
                                        "value": true,
                                        "desc": "关"
                                    },
                                    {
                                        "name": "开",
                                        "label": "开",
                                        "value": false,
                                        "desc": "开"
                                    }
                                ],
                                "name": "联网搜索",
                                "revealed": true,
                                "support": true,
                                "fieldType": "boolean",
                                "initialValue": false,
                                "key": "search_disable",
                                "required": false,
                                "desc": "开启联网搜索，默认关闭。"
                            },
                            {
                                "constraintType": "enum",
                                "default": "force",
                                "constraintContent":
                                [
                                    {
                                        "name": "自动",
                                        "label": "default",
                                        "value": "auto",
                                        "desc": "自动判断是否需要搜索"
                                    },
                                    {
                                        "name": "强制开启",
                                        "label": "default",
                                        "value": "force",
                                        "desc": "强制开启搜索"
                                    }
                                ],
                                "name": "搜索模式",
                                "revealed": false,
                                "support": true,
                                "fieldType": "string",
                                "initialValue": "force",
                                "key": "search_mod",
                                "required": false,
                                "desc": "联网搜索的模式，默认自动判断。"
                            },
                            {
                                "constraintType": "enum",
                                "default": false,
                                "constraintContent":
                                [
                                    {
                                        "name": "开",
                                        "label": "default",
                                        "value": true,
                                        "desc": "开"
                                    },
                                    {
                                        "name": "关",
                                        "label": "default",
                                        "value": false,
                                        "desc": "关"
                                    }
                                ],
                                "name": "展示溯源信息",
                                "revealed": false,
                                "support": true,
                                "fieldType": "boolean",
                                "initialValue": false,
                                "key": "show_ref_label",
                                "required": false,
                                "desc": "开启联网搜索后在结果中展示搜索溯源信息，默认关闭。"
                            }
                        ],
                        "key": "generalv3"
                    }
                ]
            },
            "featureBlock":
            {},
            "payloadBlock":
            {},
            "acceptBlock":
            {},
            "protocolType": 1,
            "serviceId": "xop3qwen14b",
            "multipleDialog": 1
        },
        "source": 1,
        "url": "wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat",
        "appId": null,
        "licChannel": "xop3qwen14b"
    }
',1,'亚谋理想项目测试使用','2000-01-01 00:00:00','2025-06-16 15:27:55'),
	 (1761,'SPECIAL_MODEL','10000011','image_understandingv3','{
    "llmSource": 1,
    "llmId": 10000005,
    "name": "图像理解V3",
    "patchId": "0",
    "domain": "imagev3",
    "serviceId": "image_understandingv3",
    "status": 1,
    "info": "{\\"conc\\":2,\\"domain\\":\\"generalv3.5\\",\\"expireTs\\":\\"2025-05-31\\",\\"qps\\":2,\\"tokensPreDay\\":1000,\\"tokensTotal\\":1000,\\"llmServiceId\\":\\"bm3.5\\"}"
    "info": "",
    "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/aicloud/llm/resource/image/model/icon_iflyspark_96.png",
    "tag":
    [],
    "url": "wss://spark-api.cn-huabei-1.xf-yun.com/v2.1/image",
    "modelId": 0,
    "isThink":false,
    "multiMode":true
}',0,'亚谋理想项目测试使用','2000-01-01 00:00:00','2025-07-08 17:25:54'),
	 (1763,'SPECIAL_MODEL_CONFIG','10000011','image_understandingv3','{
        "id": 2431162637211660,
        "name": "image_understandingv3",
        "serviceId": "image_understandingv3",
        "serverId": "image_understandingv3",
        "domain": null,
        "patchId": "0",
        "type": 1,
        "config":
        {
            "serviceIdkeys":
            [
                "image_understandingv3"
            ],
            "serviceBlock":
            {
                "image_understandingv3":
                [
                    {
                        "fields":
                        [
                            {
                                "constraintType": "range",
                                "default": 8192,
                                "constraintContent":
                                [
                                    {
                                        "name": 1
                                    },
                                    {
                                        "name": 16384
                                    }
                                ],
                                "name": "Max tokens",
                                "revealed": true,
                                "support": true,
                                "fieldType": "int",
                                "initialValue": 8192,
                                "key": "max_tokens",
                                "required": true,
                                "desc": "最大回复长度：最小值是1, 最大值是16384。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"
                            },
                            {
                                "constraintContent":
                                [
                                    {
                                        "name": 0.1
                                    },
                                    {
                                        "name": 1.0
                                    }
                                ],
                                "precision": 0.1,
                                "accuracy": 1,
                                "required": true,
                                "constraintType": "range",
                                "default": 0.5,
                                "name": "Temperature",
                                "revealed": true,
                                "step": 0.1,
                                "support": true,
                                "fieldType": "float",
                                "initialValue": 0.5,
                                "key": "temperature",
                                "desc": "核采样阈值：取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"
                            },
                            {
                                "constraintType": "range",
                                "default": 4,
                                "constraintContent":
                                [
                                    {
                                        "name": 1
                                    },
                                    {
                                        "name": 6
                                    }
                                ],
                                "name": "Top_k",
                                "revealed": true,
                                "support": true,
                                "fieldType": "int",
                                "initialValue": 4,
                                "key": "top_k",
                                "required": true,
                                "desc": "生成多样性：调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"
                            },
                            {
                                "constraintType": "switch",
                                "default": false,
                                "constraintContent":
                                [
                                    {
                                        "name": "关",
                                        "label": "关",
                                        "value": true,
                                        "desc": "关"
                                    },
                                    {
                                        "name": "开",
                                        "label": "开",
                                        "value": false,
                                        "desc": "开"
                                    }
                                ],
                                "name": "联网搜索",
                                "revealed": true,
                                "support": true,
                                "fieldType": "boolean",
                                "initialValue": false,
                                "key": "search_disable",
                                "required": false,
                                "desc": "开启联网搜索，默认关闭。"
                            },
                            {
                                "constraintType": "enum",
                                "default": "force",
                                "constraintContent":
                                [
                                    {
                                        "name": "自动",
                                        "label": "default",
                                        "value": "auto",
                                        "desc": "自动判断是否需要搜索"
                                    },
                                    {
                                        "name": "强制开启",
                                        "label": "default",
                                        "value": "force",
                                        "desc": "强制开启搜索"
                                    }
                                ],
                                "name": "搜索模式",
                                "revealed": false,
                                "support": true,
                                "fieldType": "string",
                                "initialValue": "force",
                                "key": "search_mod",
                                "required": false,
                                "desc": "联网搜索的模式，默认自动判断。"
                            },
                            {
                                "constraintType": "enum",
                                "default": false,
                                "constraintContent":
                                [
                                    {
                                        "name": "开",
                                        "label": "default",
                                        "value": true,
                                        "desc": "开"
                                    },
                                    {
                                        "name": "关",
                                        "label": "default",
                                        "value": false,
                                        "desc": "关"
                                    }
                                ],
                                "name": "展示溯源信息",
                                "revealed": false,
                                "support": true,
                                "fieldType": "boolean",
                                "initialValue": false,
                                "key": "show_ref_label",
                                "required": false,
                                "desc": "开启联网搜索后在结果中展示搜索溯源信息，默认关闭。"
                            }
                        ],
                        "key": "generalv3"
                    }
                ]
            },
            "featureBlock":
            {},
            "payloadBlock":
            {},
            "acceptBlock":
            {},
            "protocolType": 1,
            "serviceId": "image_understandingv3",
            "multipleDialog": 1
        },
        "source": 1,
        "url": "wss://spark-api.cn-huabei-1.xf-yun.com/v2.1/image",
        "appId": null,
        "licChannel": "image_understandingv3"
    }
',1,'亚谋理想项目测试使用','2000-01-01 00:00:00','2025-06-16 15:27:55'),
	 (1765,'DEFAULT_SLICE_RULES_CBG','1','CBG默认切片规则','{"type":0,"seperator":["\\n"],"lengthRange":[256,1024]}',1,'','2025-06-18 17:21:37','2025-06-18 17:21:44'),
	 (1767,'CUSTOM_SLICE_RULES_CBG','1','CBG自定义切片模板','{"type":1,"seperator":["\\n"],"lengthRange":[16,1024]}',1,'','2025-06-18 17:21:42','2025-08-14 17:22:34'),
	 (1769,'DEFAULT_SLICE_RULES_SPARK','1','Spark默认切片规则','{"type":0,"seperator":["\\n"],"lengthRange":[16,1024]}',1,'','2025-06-18 17:21:41','2025-06-18 17:21:46'),
	 (1771,'CUSTOM_SLICE_RULES_SPARK','1','Spark自定义切片模板','{"type":1,"seperator":["\\n"],"lengthRange":[16,1024]}',1,'','2025-06-18 17:21:43','2025-06-18 17:21:47'),
	 (1773,'DEFAULT_SLICE_RULES_AIUI','1','AIUI默认切片规则','{"type":0,"seperator":["\\n"],"lengthRange":[16,1024]}',1,'','2025-07-03 15:18:40','2025-07-03 15:18:40'),
	 (1775,'CUSTOM_SLICE_RULES_AIUI','1','AIUI自定义切片模板','{"type":1,"seperator":["\\n"],"lengthRange":[16,1024]}',1,'','2025-07-03 15:18:40','2025-07-03 15:18:40'),
	 (1777,'WORKFLOW_INIT_DATA','workflow','工作流初始化data','{"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始节点","nodeType":"基础节点"},"nodeParam":{},"outputs":[{"deleteDisabled":true,"id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","name":"AGENT_USER_INPUT","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}}],"status":"","updatable":false},"dragging":false,"height":256,"id":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","position":{"x":-25.109019607843152,"y":521.7086666666667},"positionAbsolute":{"x":-25.109019607843152,"y":521.7086666666667},"selected":false,"type":"开始节点","width":658},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"id":"82de2b42-a059-4c98-bffb-b6b4800fcac9","name":"output","schema":{"type":"string","value":{"content":{},"type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束节点","nodeType":"基础节点"},"nodeParam":{"template":"","streamOutput":true,"outputMode":1},"outputs":[],"references":[],"status":"","updatable":false},"dragging":false,"height":617,"id":"node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","position":{"x":886.8833333333332,"y":343.91588235294114},"positionAbsolute":{"x":886.8833333333332,"y":343.91588235294114},"selected":true,"type":"结束节点","width":408}],"edges":[]}',1,NULL,'2022-06-10 00:00:00','2025-06-26 15:01:02'),
	 (1779,'DOMAIN_WHITE_LIST','domain_white_list','域名白名单','inner-sparklinkthirdapi.aipaasapi.cn,agentbuilder.aipaasapi.cn,dx-cbm-ocp-agg-search-inner.xf-yun.com,dx-cbm-ocp-gateway.xf-yun.com,xingchen-agent-mcp.aicp.private,dx-spark-agentbuilder.aicp.private,vmselect.huabei.xf-yun.com,pre-agentbuilder.aipaasapi.cn,apisix-pre-in.iflytekauto.cn,csp-in.iflytekauto.cn,www.ctllm.com',1,NULL,'2022-06-10 00:00:00','2025-08-23 14:18:16'),
	 (1781,'CUSTOM_SLICE_SEPERATORS_AIUI','1','AIUI自定义分隔符','[
{
"id": 1,
"name": "换行符",
"symbol": "\\\\n"
},
{
"id": 2,
"name": "中文句号",
"symbol": "。"
},
{
"id": 3,
"name": "英文句号",
"symbol": "."
},
{
"id": 4,
"name": "中文叹号",
"symbol": "！"
},
{
"id": 5,
"name": "英文叹号",
"symbol": "!"
},
{
"id": 6,
"name": "中文问号",
"symbol": "？"
},
{
"id": 7,
"name": "英文问号",
"symbol": "?"
},
{
"id": 8,
"name": "中文分号",
"symbol": "；"
},
{
"id": 9,
"name": "英文分号",
"symbol": ";"
},
{
"id": 10,
"name": "中文省略号",
"symbol": "……"
},
{
"id": 11,
"name": "英文省略号",
"symbol": "..."
}
]',1,'','2025-07-24 15:02:00','2025-07-24 15:02:00'),
	 (1783,'CUSTOM_SLICE_SEPERATORS_CBG','1','CBG自定义分隔符','[
{
"id": 1,
"name": "换行符",
"symbol": "\\\\n"
},
{
"id": 2,
"name": "中文句号",
"symbol": "。"
},
{
"id": 3,
"name": "英文句号",
"symbol": "."
},
{
"id": 4,
"name": "中文叹号",
"symbol": "！"
},
{
"id": 5,
"name": "英文叹号",
"symbol": "!"
},
{
"id": 6,
"name": "中文问号",
"symbol": "？"
},
{
"id": 7,
"name": "英文问号",
"symbol": "?"
},
{
"id": 8,
"name": "中文分号",
"symbol": "；"
},
{
"id": 9,
"name": "英文分号",
"symbol": ";"
},
{
"id": 10,
"name": "中文省略号",
"symbol": "……"
},
{
"id": 11,
"name": "英文省略号",
"symbol": "..."
}
]',1,'','2025-07-24 15:02:18','2025-07-24 15:02:18'),
	 (1785,'CUSTOM_SLICE_SEPERATORS_SPARK','1','SPARK自定义分隔符','[
{
"id": 1,
"name": "换行符",
"symbol": "\\\\n"
},
{
"id": 2,
"name": "中文句号",
"symbol": "。"
},
{
"id": 3,
"name": "英文句号",
"symbol": "."
},
{
"id": 4,
"name": "中文叹号",
"symbol": "！"
},
{
"id": 5,
"name": "英文叹号",
"symbol": "!"
},
{
"id": 6,
"name": "中文问号",
"symbol": "？"
},
{
"id": 7,
"name": "英文问号",
"symbol": "?"
},
{
"id": 8,
"name": "中文分号",
"symbol": "；"
},
{
"id": 9,
"name": "英文分号",
"symbol": ";"
},
{
"id": 10,
"name": "中文省略号",
"symbol": "……"
},
{
"id": 11,
"name": "英文省略号",
"symbol": "..."
}
]',1,'','2025-07-24 15:02:38','2025-07-24 15:02:38'),
	 (1787,'WORKFLOW_NODE_TEMPLATE_PRE','1,2','基础节点','{
"aliasName": "数据库",
"idType": "database",
"data": {
"outputs": [
{
"id": "",
"name": "isSuccess",
"nameErrMsg": "",
"schema": {
"default": "SQL语句执行状态标识，成功true，失败false",
"type": "boolean"
}
},
{
"id": "",
"name": "message",
"nameErrMsg": "",
"schema": {
"default": "失败原因",
"type": "string"
}
},
{
"id": "",
"name": "outputList",
"nameErrMsg": "",
"schema": {
"default": "执行结果",
"type": "array-object"
}
}
],
"references": [],
"allowInputReference": true,
"inputs": [
{
"schema": {
"type": "string",
"value": {
"type": "ref",
"content": {}
}
},
"name": "input",
"id": ""
}
],
"icon": "https://oss-beijing-m8.openstorage.cn/SparkBotDev/icon/user/sparkBot_1752568522509_database_icon.svg",
"allowOutputReference": true,
"nodeMeta": {
"aliasName": "数据库节点",
"nodeType": "基础节点"
},
"nodeParam": {
"mode": 0
}
},
"description": "支持用户自定义的SQL完成对数据库的增删改查操作",
"nodeType": "基础节点"
}',1,'数据库节点','2000-01-01 00:00:00','2025-07-16 14:41:05'),
	 (1789,'DB_TABLE_TEMPLATE','TB','数据库字段导入模版','https://oss-beijing-m8.openstorage.cn/SparkBotDev/sparkBot/DB_TABLE_导入模板.xlsx',1,NULL,'2025-07-10 10:50:48','2025-07-11 10:01:47'),
	 (1791,'WORKFLOW_NODE_TEMPLATE','1,2','基础节点','{
"aliasName": "数据库",
"idType": "database",
"data": {
"outputs": [
{
"id": "",
"name": "isSuccess",
"nameErrMsg": "",
"schema": {
"default": "SQL语句执行状态标识，成功true，失败false",
"type": "boolean"
}
},
{
"id": "",
"name": "message",
"nameErrMsg": "",
"schema": {
"default": "失败原因",
"type": "string"
}
},
{
"id": "",
"name": "outputList",
"nameErrMsg": "",
"schema": {
"default": "执行结果",
"type": "array-object"
}
}
],
"references": [],
"allowInputReference": true,
"inputs": [
{
"schema": {
"type": "string",
"value": {
"type": "ref",
"content": {}
}
},
"name": "input",
"id": ""
}
],
"icon": "https://oss-beijing-m8.openstorage.cn/SparkBotDev/icon/user/sparkBot_1752568522509_database_icon.svg",
"allowOutputReference": true,
"nodeMeta": {
"aliasName": "数据库节点",
"nodeType": "基础节点"
},
"nodeParam": {
"mode": 0
}
},
"description": "支持用户自定义的SQL完成对数据库的增删改查操作",
"nodeType": "基础节点"
}',1,'数据库节点','2000-01-01 00:00:00','2025-07-25 16:31:32'),
	 (1793,'EVAL_TASK_PROMPT','FIX','测评纬度优化prompt','#角色
你是一个提示词优化专家，本次仅针对单一维度" {{评估维度名称}}"对下列"原始提示词"进行分析和优化，帮助用户在该维度上提升提示的质量。

#原始提示词 
{{context}}

#请按照以下步骤思考： 
1、分析原提示中在“{{评估维度名称}}”方面的不足（例如：表达含糊不清、缺少必要信息等）。
2、可对原始提示词进行优化，如：细化措辞、补充示例、明确格式等，确保提示在该维度上更为突出（例如，更加清晰或更为完整）。
4、梳理提示词里对维度的评分标准，按4个等级维度描述。
**评分标准**  
   - 针对“{{评估维度名称}}”使用以下固定等级与分值，这一维度的四个等级描述，假设维度是“清晰度”：  
   | 等级   | 分值  | 描述                                   |
   | ------ | ----- | -------------------------------------  |
   | **好**   | 4 分   | 目标与指令一目了然，无任何歧义。|
   | **较好** | 3 分   | 大体清晰，仅有少量模糊之处，不影响理解。|
   | **一般** | 2 分   | 表达部分模糊，需要根据上下文猜测意图。|
   | **差**   | 1 分   | 指令含糊或前后矛盾，难以执行。|           

#输出格式：
"""
##角色 
你是一名对话流畅性的质量检查员，负责对"用户输入"和"回复文本"的质量进行评价。

##评估流程
1、检查语句是否通顺，是否存在语法错误（如搭配不当、成分残缺等）。
2、分析逻辑连贯性，判断段落间、句子间的衔接是否自然，是否存在话题跳跃或逻辑断层。
3、评估信息量是否适中，是否符合用户需求（如信息冗余或遗漏可能影响流畅性）。
##评分标准/*按markdown格式*/
| 等级   | 分值  | 描述                                   || ------ | ----- | -------------------------------------- || **好**   | 4 分   | 语句通顺、逻辑严谨、承接自然，信息量适中，整体对话如同人类交流般顺畅。 || **较好** | 3 分   | 基本流畅，仅有偶发小的语法或衔接瑕疵，不影响沟通效果。 || **一般** | 2 分   | 有若干语法或逻辑小错误，或衔接稍显生硬，但大体能理解意图。 || **差**   | 1 分   | 语法错误多、句式混乱、话题跳跃严重，严重妨碍对话连贯性。 |

##输出样例
{"Score":1,"Reason":"智能体的回复语气、用词和内容完全符合其19世纪维多利亚时代英国管家的角色设定；回复贴合用户积极的情绪方向，并通过礼貌的鼓励语言回应了用户的愉快心情。"}
"""
#输出要求：
- 全文聚焦 **“{{评估维度名称}}”**，无需关注其他维度。  
- 语言简洁分点，方便复制粘贴使用。  
-给出一份专注于“{{评估维度名称}}”的结构化、可直接使用的新版提示词。  
- 仅输出最终提示词优化后的结果，无须输出思考过程及优化建议
-按照"输出格式"进行输出，其中"输出样例"严格按json格式输出，score为得分，reason为得分原因。 ',1,'','2025-07-31 10:52:49','2025-07-31 10:52:49'),
	 (1795,'EVAL_TASK_PROMPT','JUDGE','评分维度评价prompt','#输入
你基于"智能体设定"，对"用户输入"的"回复文本"的进行{{评分维度}}评价。
智能体/工作流设定：{{system_prompt}}
用户输入：{{input}}
回复文本：{{output}}

#输出：
得分：一个数字，表示满足Prompt中评分标准的程度。得分范围从 4 分到 1分，分别为4分（好）、3分（较好）、一般（2分）、差（1）分。
原因：对得分的可读解释。你必须用一句话结束理由。
格式：严格按json格式输出，score为得分，reason为得分原因。
#输出格式  
{"Score":3,"Reason":"回复内容基本符合问题语境，但提及的次要案例未充分说明其与核心结论的关联性，导致局部逻辑稍显松散。"} ',1,'','2025-07-31 10:52:49','2025-07-31 10:52:49'),
	 (1797,'ICON','rag','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/rag/Personal@1x.png',1,'SparkDesk-RAG','2025-07-31 19:50:09','2025-10-11 09:58:30'),
	 (1799,'ICON','rag','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/rag/Spark@1x.png',1,'CBG-RAG','2025-07-31 19:50:09','2025-10-11 09:58:30'),
	 (1801,'ICON','rag','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/rag/Stellar@1x.png',1,'AIUI-RAG2','2025-07-31 19:50:09','2025-10-11 09:58:30'),
	 (1803,'SPECIAL_MODEL','10000013','xopgptoss20b','{
    "llmSource": 1,
    "llmId": 10000013,
    "id": 10000013,
    "name": "gpt-oss-20b",
    "patchId": "0",
    "domain": "xopgptoss20b",
    "serviceId": "xopgptoss20b",
    "modelType": 2,
    "isThink": true,
    "licChannel":"xopgptoss20b",
    "status": 1,
    "desc":"gpt-oss-20b 是 OpenAI gpt-oss 系列开源模型，含 21B 参数（3.6B 活跃），适用于低延迟、本地或专用场景，支持推理调节、消费级硬件微调及工具调用，需配合 harmony 格式。",
    "info": "gpt-oss-20b 是 OpenAI gpt-oss 系列开源模型，含 21B 参数（3.6B 活跃），适用于低延迟、本地或专用场景，支持推理调节、消费级硬件微调及工具调用，需配合 harmony 格式。",
    "icon": "https://oss-beijing-m8.openstorage.cn/atp/image/model/icon/openai.png",
    "tag":
    ["文本生成","多语言","MoE","深度思考","逻辑推理"],
    "url": "wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat",
    "modelId": 0
}',1,'','2000-01-01 00:00:00','2025-08-07 11:25:14'),
	 (1805,'SPECIAL_MODEL','10000014','xopgptoss120b','{
    "llmSource": 1,
    "llmId": 10000014,
    "id": 10000014,
    "name": "gpt-oss-120b",
    "patchId": "0",
    "domain": "xopgptoss120b",
    "serviceId": "xopgptoss120b",
    "modelType": 2,
    "licChannel":"xopgptoss120b",
    "status": 1,
    "isThink": true,
    "desc":"gpt-oss-120b 是 OpenAI gpt-oss 系列的开源模型，含 117B 参数（5.1B 活跃参数），采用 Apache 2.0 许可，支持推理强度调节、完整思维链、微调及工具调用，需配合 harmony 格式使用。",
    "info": "gpt-oss-120b 是 OpenAI gpt-oss 系列的开源模型，含 117B 参数（5.1B 活跃参数），采用 Apache 2.0 许可，支持推理强度调节、完整思维链、微调及工具调用，需配合 harmony 格式使用。",
    "icon": "https://oss-beijing-m8.openstorage.cn/atp/image/model/icon/openai.png",
    "tag":
    ["文本生成","多语言","MoE","深度思考","逻辑推理"],
    "url": "wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat",
    "modelId": 0
}',1,'','2000-01-01 00:00:00','2025-08-07 11:25:20'),
	 (1807,'SPECIAL_MODEL_CONFIG','10000013','xopgptoss20b','{
    "id": 2431162637211658,
    "name": "xopgptoss20b",
    "serviceId": "xopgptoss20b",
    "serverId": "xopgptoss20b",
    "domain": null,
    "patchId": "0",
    "type": 1,
    "config":
    {
        "serviceIdkeys":
        [
            "xopgptoss20b"
        ],
        "serviceBlock":
        {
            "xopgptoss20b":
            [
                {
                    "fields":
                    [
                        {
                            "constraintType": "range",
                            "default": 8192,
                            "constraintContent":
                            [
                                {
                                    "name": 1
                                },
                                {
                                    "name": 16384
                                }
                            ],
                            "name": "Max tokens",
                            "revealed": true,
                            "support": true,
                            "fieldType": "int",
                            "initialValue": 8192,
                            "key": "max_tokens",
                            "required": true,
                            "desc": "最大回复长度：最小值是1, 最大值是16384。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"
                        },
                        {
                            "constraintContent":
                            [
                                {
                                    "name": 0.1
                                },
                                {
                                    "name": 1.0
                                }
                            ],
                            "precision": 0.1,
                            "accuracy": 1,
                            "required": true,
                            "constraintType": "range",
                            "default": 0.5,
                            "name": "Temperature",
                            "revealed": true,
                            "step": 0.1,
                            "support": true,
                            "fieldType": "float",
                            "initialValue": 0.5,
                            "key": "temperature",
                            "desc": "核采样阈值：取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"
                        },
                        {
                            "constraintType": "range",
                            "default": 4,
                            "constraintContent":
                            [
                                {
                                    "name": 1
                                },
                                {
                                    "name": 6
                                }
                            ],
                            "name": "Top_k",
                            "revealed": true,
                            "support": true,
                            "fieldType": "int",
                            "initialValue": 4,
                            "key": "top_k",
                            "required": true,
                            "desc": "生成多样性：调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"
                        }
                    ],
                    "key": "generalv3"
                }
            ]
        },
        "featureBlock":
        {},
        "payloadBlock":
        {},
        "acceptBlock":
        {},
        "protocolType": 1,
        "serviceId": "xopgptoss20b",
        "multipleDialog": 1
    },
    "source": 1,
    "url": "wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat",
    "appId": null,
    "licChannel": "xopgptoss20b"
}',1,'亚谋理想项目测试使用','2000-01-01 00:00:00','2025-08-07 11:40:58'),
	 (1809,'SPECIAL_MODEL_CONFIG','10000014','xopgptoss120b','{
        "id": 2431162637211660,
        "name": "xopgptoss120b",
        "serviceId": "xopgptoss120b",
        "serverId": "xopgptoss120b",
        "domain": null,
        "patchId": "0",
        "type": 1,
        "config":
        {
            "serviceIdkeys":
            [
                "xopgptoss120b"
            ],
            "serviceBlock":
            {
                "xopgptoss120b":
                [
                    {
                        "fields":
                        [
                            {
                                "constraintType": "range",
                                "default": 8192,
                                "constraintContent":
                                [
                                    {
                                        "name": 1
                                    },
                                    {
                                        "name": 16384
                                    }
                                ],
                                "name": "Max tokens",
                                "revealed": true,
                                "support": true,
                                "fieldType": "int",
                                "initialValue": 8192,
                                "key": "max_tokens",
                                "required": true,
                                "desc": "最大回复长度：最小值是1, 最大值是16384。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"
                            },
                            {
                                "constraintContent":
                                [
                                    {
                                        "name": 0.1
                                    },
                                    {
                                        "name": 1.0
                                    }
                                ],
                                "precision": 0.1,
                                "accuracy": 1,
                                "required": true,
                                "constraintType": "range",
                                "default": 0.5,
                                "name": "Temperature",
                                "revealed": true,
                                "step": 0.1,
                                "support": true,
                                "fieldType": "float",
                                "initialValue": 0.5,
                                "key": "temperature",
                                "desc": "核采样阈值：取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"
                            },
                            {
                                "constraintType": "range",
                                "default": 4,
                                "constraintContent":
                                [
                                    {
                                        "name": 1
                                    },
                                    {
                                        "name": 6
                                    }
                                ],
                                "name": "Top_k",
                                "revealed": true,
                                "support": true,
                                "fieldType": "int",
                                "initialValue": 4,
                                "key": "top_k",
                                "required": true,
                                "desc": "生成多样性：调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"
                            }
                        ],
                        "key": "generalv3"
                    }
                ]
            },
            "featureBlock":
            {},
            "payloadBlock":
            {},
            "acceptBlock":
            {},
            "protocolType": 1,
            "serviceId": "xopgptoss120b",
            "multipleDialog": 1
        },
        "source": 1,
        "url": "wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat",
        "appId": null,
        "licChannel": "xopgptoss120b"
    }
',1,'亚谋理想项目测试使用','2000-01-01 00:00:00','2025-08-07 11:41:35'),
	 (1811,'SPACE_SWITCH_NODE','SPACE_SWITCH_NODE','空间节点开关','',1,NULL,'2025-07-10 10:50:48','2025-09-04 14:59:57'),
	 (1813,'SPECIAL_MODEL','10000015','xdeepseekv31','{
    "llmSource": 1,
    "llmId": 10000015,
    "id": 10000015,
    "name": "DeepSeek-V3.1",
    "patchId": "0",
    "domain": "xdeepseekv31",
    "serviceId": "xdeepseekv31",
    "modelType": 2,
    "licChannel": "xdeepseekv31",
    "status": 1,
    "isThink": false,
    "desc": "",
    "info": "",
    "icon": "https://oss-beijing-m8.openstorage.cn/atp/image/model/icon/deepseek.png",
    "tag":
    ["文本生成","工具调用","混合思考"],
    "url": "wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat",
    "modelId": 0
}',1,'','2000-01-01 00:00:00','2025-08-27 14:08:01'),
	 (1815,'SPECIAL_MODEL_CONFIG','10000015','xdeepseekv31','{
    "id": 2431162637211661,
    "name": "xdeepseekv31",
    "serviceId": "xdeepseekv31",
    "serverId": "xdeepseekv31",
    "domain": "xdeepseekv31",
    "patchId": "0",
    "type": 1,
    "config":
    {
        "serviceIdkeys":
        [
            "xdeepseekv31"
        ],
        "serviceBlock":
        {
            "xdeepseekv31":
            [
                {
                    "fields":
                    [
                        {
                            "constraintType": "range",
                            "default": 8192,
                            "constraintContent":
                            [
                                {
                                    "name": 1
                                },
                                {
                                    "name": 16384
                                }
                            ],
                            "name": "Max tokens",
                            "revealed": true,
                            "support": true,
                            "fieldType": "int",
                            "initialValue": 8192,
                            "key": "max_tokens",
                            "required": true,
                            "desc": "最大回复长度：最小值是1, 最大值是16384。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"
                        },
                        {
                            "constraintContent":
                            [
                                {
                                    "name": 0.1
                                },
                                {
                                    "name": 1.0
                                }
                            ],
                            "precision": 0.1,
                            "accuracy": 1,
                            "required": true,
                            "constraintType": "range",
                            "default": 0.5,
                            "name": "Temperature",
                            "revealed": true,
                            "step": 0.1,
                            "support": true,
                            "fieldType": "float",
                            "initialValue": 0.5,
                            "key": "temperature",
                            "desc": "核采样阈值：取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"
                        },
                        {
                            "constraintType": "range",
                            "default": 4,
                            "constraintContent":
                            [
                                {
                                    "name": 1
                                },
                                {
                                    "name": 6
                                }
                            ],
                            "name": "Top_k",
                            "revealed": true,
                            "support": true,
                            "fieldType": "int",
                            "initialValue": 4,
                            "key": "top_k",
                            "required": true,
                            "desc": "生成多样性：调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"
                        }
                    ],
                    "key": "generalv3"
                }
            ]
        },
        "featureBlock":
        {},
        "payloadBlock":
        {},
        "acceptBlock":
        {},
        "protocolType": 1,
        "serviceId": "xdeepseekv31",
        "multipleDialog": 1
    },
    "source": 1,
    "url": "wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat",
    "appId": null,
    "licChannel": "xdeepseekv31"
}',1,'亚谋理想项目测试使用','2000-01-01 00:00:00','2025-08-27 11:31:43'),
	 (1817,'MCP_MODEL_API_REFLECT','mcp','xdeepseekv31','https://maas-api.cn-huabei-1.xf-yun.com/v2',1,'','2000-01-01 00:00:00','2025-05-29 15:54:10'),
	 (1819,'NODE_PREFIX_MODEL','switch','应用大模型节点前缀配置','spark-llm,decision-making,extractor-parameter,agent,knowledge-pro-base,question-answer',1,NULL,'2025-07-10 10:50:48','2025-08-27 14:12:02'),
	 (1821,'DB_TABLE_RESERVED_KEYWORD','reserved_keyword','数据库关键字','all,analyse,analyze,and,any,array,as,asc,asymmetric,authorization,binary,both,case,cast,check,collate,collation,column,concurrently,constraint,create,cross,current_catalog,current_date,current_role,current_schema,current_time,current_timestamp,current_user,default,deferrable,desc,distinct,do,else,end,except,false,fetch,for,foreign,freeze,from,full,grant,group,having,ilike,in,initially,inner,intersect,into,is,isnull,join,lateral,leading,left,like,limit,localtime,localtimestamp,natural,not,notnull,null,offset,on,only,or,order,outer,overlaps,placing,primary,references,returning,right,select,session_user,similar,some,symmetric,table,tablesample,then,to,trailing,true,union,unique,user,using,variadic,verbose,when,where,window,with',1,NULL,'2025-07-10 10:50:48','2025-08-12 16:34:24'),
	 (1823,'WORKFLOW_NODE_TEMPLATE','1,2','工具','{
    "idType": "rpa",
    "nodeType": "基础节点",
    "aliasName": "RPA",
    "description": "调用RPA，可以指定RPA执行",
    "data":
    {
        "nodeMeta":
        {
            "nodeType": "工具",
            "aliasName": "RPA"
        },
        "inputs":
        [],
        "outputs":
        [],
        "nodeParam":
        {
            "projectId": "1965981379635499008",
            "header":
            {
                "apiKey": ""
            },
            "rpaParams":
            {
                "execPosition": "EXECUTOR"
            },
            "source": "xiaowu",
            "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png"
        },
        "references":
        [],
        "allowInputReference": true,
        "allowOutputReference": true,
        "icon": "http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/tool/rpa_icon.png"
    }
}',1,'RPA','2000-01-01 00:00:00','2025-10-11 14:45:16'),
	 (1824,'NODE_API_K_S','NODE','node判断是否需要apikey','node-start,node-end,text-joiner,node-variable',1,'','2000-01-01 00:00:00','2025-09-29 16:26:33'),
	 (1825,'ICON','rag','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/rag/20251011-140414.png',1,'Ragflow-RAG','2025-07-31 19:50:09','2025-10-11 14:06:20'),
	 (1826,'ICON','rpa_robot','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/tool/rpa_robot_icon.png',1,'','2025-07-31 19:50:09','2025-10-11 14:06:20');
COMMIT;

-- ----------------------------
-- Table structure for config_info_en
-- ----------------------------
DROP TABLE IF EXISTS `config_info_en`;
CREATE TABLE `config_info_en`
(
    `id`          bigint  NOT NULL AUTO_INCREMENT COMMENT 'Primary key, starting from 10000',
    `category`    varchar(64)   DEFAULT NULL COMMENT 'Configuration category',
    `code`        varchar(128)  DEFAULT NULL COMMENT 'Configuration code, key',
    `name`        varchar(255)  DEFAULT NULL COMMENT 'Configuration name',
    `value`       text COMMENT 'Configuration content, value',
    `is_valid`    tinyint NOT NULL COMMENT 'Whether effective, 0-invalid, 1-valid',
    `remarks`     varchar(1000) DEFAULT NULL COMMENT 'Remarks, comments',
    `create_time` datetime      DEFAULT '2000-01-01 00:00:00' COMMENT 'Creation time',
    `update_time` datetime      DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=1791 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Configuration table - EN';

-- ----------------------------
-- Records of config_info_en
-- ----------------------------
BEGIN;
INSERT INTO config_info_en (id,category,code,name,value,is_valid,remarks,create_time,update_time) VALUES
	 (1019,'DOCUMENT_LINK','1','SparkBotHelpDoc','https://experience.pro.iflyaicloud.com/aicloud-sparkbot-doc/',1,'你好','2023-08-17 00:00:00','2024-09-03 11:51:23'),
	 (1021,'COMPRESSED_FOLDER','1','SparkBotSDK','https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/sdk%E6%8E%A5%E5%85%A5%E8%AF%B4%E6%98%8E.zip',1,'','2000-01-01 00:00:00','2024-06-27 10:35:15'),
	 (1023,'SPARKBOT_CONFIG','1','SparkBotApi','{"sdkHtml":"<div className=\\"sdk-content\\">\\n      <p className=\\"title\\">Sparkbot接入文档</p>\\n      <h1>JS SDK</h1>\\n      <p>\\n        安装之前，请确保您已通过我们的平台注册或我们已为您提供了<b>AppId</b>。\\n        如果没有密钥，您将无法使用该SDK。\\n      </p>\\n      <hr></hr>\\n      <h2>JS SDK</h2>\\n      <p>\\n        要将 Sparkbot 与 JS SDK 一起使用，您需要在 HTML 文件中包含脚本标签。\\n      </p>\\n      <h3>浮动机器人</h3>\\n      <p style={{ margin: ''20px 0'' }}>\\n        浮动机器人非常简单。 只需将这 2 个脚本标签添加到您的 HTML 中即可。\\n      </p>\\n      <div className=\\"code-content\\">\\n        <div className=\\"code-container\\">\\n          <span className=\\"normal\\">&lt;</span>\\n          <span className=\\"tagColor\\">script&nbsp;</span>\\n          <span className=\\"light\\" style={{ whiteSpace: ''nowrap'' }}>\\n            src=''https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/Sparkbot.js''\\n            <span className=\\"normal\\">&gt;</span>\\n            <span className=\\"normal\\">&lt;/</span>\\n            <span className=\\"tagColor\\">script</span>\\n            <span className=\\"normal\\"> &gt;</span>\\n          </span>\\n          <br></br>\\n          <span className=\\"normal\\">&lt;</span>\\n          <span className=\\"tagColor\\">script</span>\\n          <span className=\\"normal\\"> &gt;</span>\\n          <br></br>\\n          <span style={{ marginLeft: 10 }}>Sparkbot</span>\\n          <span className=\\"normal\\">.</span>\\n          <span className=\\"tagColor\\">init</span>\\n          <span className=\\"normal\\">(&#123;</span>\\n          <br></br>\\n          <span className=\\"light\\" style={{ marginLeft: 20 }}>\\n            appId: ''您的appId'',\\n            <br></br>\\n            <span style={{ marginLeft: 20 }}>apiKey: ''您的apiKey'',</span>\\n            <br></br>\\n            <span style={{ marginLeft: 20 }}>apiSecret: ''您的apiSecret''</span>\\n            <br></br>\\n          </span>\\n          <span className=\\"normal\\" style={{ marginLeft: 10 }}>\\n            &#125;)\\n          </span>\\n          <br></br>\\n          <span className=\\"normal\\">&lt;/</span>\\n          <span className=\\"tagColor\\">script</span>\\n          <span className=\\"normal\\"> &gt;</span>\\n        </div>\\n      </div>\\n    </div>","sdkMd":"/pro-bucket/sparkBot/README.md"}',1,'','2000-01-01 00:00:00','2024-06-27 10:35:15'),
	 (1027,'FILE_MANAGE_CONFIG','','MAX_FOLDER_DEEP','5',1,'用于控制文件目录树的最大层级','2000-01-01 00:00:00','2024-06-27 10:35:15'),
	 (1029,'SPARKBOT_DEFAULT_APP','1','sparkbot默认应用','{
  "name": "SparkBot Default Application",
  "description": "Application created by default for SparkBot",
  "businessInfo": {
    "applyUserSource": 1,
    "applyUserCode": "system",
    "applyUserDepart": "AI Application Platform R&D Department",
    "groupName": "Core R&D Platform",
    "groupId": 1003,
    "productName": "AI Application Platform R&D Department",
    "productId": 10213
  },
  "isLocalAuth": 0
}',1,'','2000-01-01 00:00:00','2025-07-23 14:24:43'),
	 (1031,'SPARKBOT_DEFAULT_RELATION_CAPACITY','1','sparkbot应用默认关联的能力','{
  "largeModelId": 99,
  "name": "General Large Model",
  "type": 1
}',1,'','2000-01-01 00:00:00','2025-07-23 14:25:39'),
	 (1033,'SPARKBOT_DEFAULT_APPLY_INFO','1','外部用户Spartbot平台默认申请','{"account":"xxzhang23","accountName":"张想信","departmentInfo":"AI工程院飞云平台产品部","describe":"外部用户Spartbot平台默认申请","superiorInfo":"xxzhang23","largeModel":"通用大模型","domain":"general"}',1,'','2000-01-01 00:00:00','2023-12-05 20:32:40'),
	 (1035,'BOT_COUNT_LIMIT','1','10','The number of bots created by the user has reached the limit.',1,'','2000-01-01 00:00:00','2025-07-23 14:25:39'),
	 (1037,'TEXT_GENERATION_MODELS','1','spark','讯飞星火',1,'','2000-01-01 00:00:00','2023-12-10 14:40:57'),
	 (1039,'MODEL_DEFAULT_CONFIGS','spark','spark模型默认配置','[{"key":"temperature","nmae":"Randomness","min":0,"max":2,"default":1,"enabled":true},{"key":"max_tokens","nmae":"Response Token Limit","min":10,"max":1000,"default":256,"enabled":true}]',1,'','2000-01-01 00:00:00','2025-07-23 14:27:10'),
	 (1041,'DEFAULT_SLICE_RULES','1','默认切片规则','{"type":0,"seperator":["\\n"],"lengthRange":[16,1024]}',1,'','2000-01-01 00:00:00','2024-06-20 20:09:51'),
	 (1043,'CUSTOM_SLICE_RULES','1','自定义切片模板','{"type":1,"seperator":["\\n"],"lengthRange":[16,1024]}',1,'','2000-01-01 00:00:00','2024-06-20 20:09:54'),
	 (1045,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/common/emojiitem_00_10@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:14'),
	 (1047,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/common/emojiitem_00_11@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:14'),
	 (1049,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/common/emojiitem_00_12@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:14'),
	 (1051,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/common/emojiitem_00_13@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:14'),
	 (1053,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/common/emojiitem_00_14@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:14'),
	 (1055,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/common/emojiitem_00_15@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:15'),
	 (1057,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/common/emojiitem_00_16@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:15'),
	 (1059,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/common/emojiitem_00_17@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:15'),
	 (1061,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/common/emojiitem_00_18@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:15'),
	 (1063,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/common/emojiitem_00_19@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:15'),
	 (1065,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/common/emojiitem_00_1@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:15'),
	 (1067,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/common/emojiitem_00_20@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:15'),
	 (1069,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/common/emojiitem_00_21@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:15'),
	 (1071,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/common/emojiitem_00_22@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:15'),
	 (1073,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/common/emojiitem_00_23@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:15'),
	 (1075,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/common/emojiitem_00_24@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:15'),
	 (1077,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/common/emojiitem_00_25@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:15'),
	 (1079,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/common/emojiitem_00_26@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:15'),
	 (1081,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/common/emojiitem_00_27@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:15'),
	 (1083,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/common/emojiitem_00_28@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:16'),
	 (1085,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/common/emojiitem_00_29@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:16'),
	 (1087,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/common/emojiitem_00_2@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:16'),
	 (1089,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/common/emojiitem_00_30@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:16'),
	 (1091,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/common/emojiitem_00_31@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:16'),
	 (1093,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/common/emojiitem_00_32@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:16'),
	 (1095,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/common/emojiitem_00_33@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:16'),
	 (1097,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/common/emojiitem_00_34@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:16'),
	 (1099,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/common/emojiitem_00_35@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:16'),
	 (1101,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/common/emojiitem_00_36@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:16'),
	 (1103,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/common/emojiitem_00_37@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:16'),
	 (1105,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/common/emojiitem_00_38@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:16'),
	 (1107,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/common/emojiitem_00_39@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:16'),
	 (1109,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/common/emojiitem_00_3@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:17'),
	 (1111,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/common/emojiitem_00_40@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:17'),
	 (1113,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/common/emojiitem_00_41@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:17'),
	 (1115,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/common/emojiitem_00_42@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:17'),
	 (1117,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/common/emojiitem_00_4@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:17'),
	 (1119,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/common/emojiitem_00_5@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:17'),
	 (1121,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/common/emojiitem_00_6@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:17'),
	 (1123,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/common/emojiitem_00_7@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:17'),
	 (1125,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/common/emojiitem_00_8@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:17'),
	 (1127,'ICON','common','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/common/emojiitem_00_9@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:17'),
	 (1133,'ICON','sport','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/sport/emojiiteam_01_10@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:17'),
	 (1135,'ICON','sport','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/sport/emojiiteam_01_11@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:17'),
	 (1137,'ICON','sport','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/sport/emojiiteam_01_12@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:17'),
	 (1139,'ICON','sport','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/sport/emojiiteam_01_13@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:18'),
	 (1141,'ICON','sport','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/sport/emojiiteam_01_14@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:18'),
	 (1143,'ICON','sport','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/sport/emojiiteam_01_15@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:18'),
	 (1145,'ICON','sport','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/sport/emojiiteam_01_1@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:18'),
	 (1147,'ICON','sport','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/sport/emojiiteam_01_2@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:18'),
	 (1149,'ICON','sport','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/sport/emojiiteam_01_3@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:18'),
	 (1151,'ICON','sport','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/sport/emojiiteam_01_4@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:18'),
	 (1153,'ICON','sport','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/sport/emojiiteam_01_5@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:18'),
	 (1155,'ICON','sport','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/sport/emojiiteam_01_6@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:18'),
	 (1157,'ICON','sport','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/sport/emojiiteam_01_7@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:18'),
	 (1159,'ICON','sport','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/sport/emojiiteam_01_8@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:18'),
	 (1161,'ICON','sport','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/sport/emojiiteam_01_9@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:18'),
	 (1163,'ICON','plant','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/plant/emojiiteam_02_10@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:18'),
	 (1165,'ICON','plant','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/plant/emojiiteam_02_11@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:19'),
	 (1167,'ICON','plant','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/plant/emojiiteam_02_12@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:19'),
	 (1169,'ICON','plant','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/plant/emojiiteam_02_13@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:19'),
	 (1171,'ICON','plant','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/plant/emojiiteam_02_14@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:19'),
	 (1173,'ICON','plant','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/plant/emojiiteam_02_15@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:19'),
	 (1175,'ICON','plant','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/plant/emojiiteam_02_1@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:19'),
	 (1177,'ICON','plant','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/plant/emojiiteam_02_2@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:19'),
	 (1179,'ICON','plant','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/plant/emojiiteam_02_3@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:19'),
	 (1181,'ICON','plant','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/plant/emojiiteam_02_4@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:19'),
	 (1183,'ICON','plant','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/plant/emojiiteam_02_5@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:19'),
	 (1185,'ICON','plant','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/plant/emojiiteam_02_6@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:19'),
	 (1187,'ICON','plant','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/plant/emojiiteam_02_7@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:19'),
	 (1189,'ICON','plant','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/plant/emojiiteam_02_8@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:19'),
	 (1191,'ICON','plant','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/plant/emojiiteam_02_9@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:20'),
	 (1193,'ICON','explore','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/explore/emojiitem_03_10@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:20'),
	 (1195,'ICON','explore','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/explore/emojiitem_03_11@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:20'),
	 (1197,'ICON','explore','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/explore/emojiitem_03_12@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:20'),
	 (1199,'ICON','explore','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/explore/emojiitem_03_13@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:20'),
	 (1201,'ICON','explore','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/explore/emojiitem_03_14@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:20'),
	 (1203,'ICON','explore','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/explore/emojiitem_03_15@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:20'),
	 (1205,'ICON','explore','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/explore/emojiitem_03_1@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:20'),
	 (1207,'ICON','explore','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/explore/emojiitem_03_2@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:20'),
	 (1209,'ICON','explore','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/explore/emojiitem_03_3@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:20'),
	 (1211,'ICON','explore','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/explore/emojiitem_03_4@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:20'),
	 (1213,'ICON','explore','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/explore/emojiitem_03_5@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:20'),
	 (1215,'ICON','explore','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/explore/emojiitem_03_6@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:20'),
	 (1217,'ICON','explore','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/explore/emojiitem_03_7@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:20'),
	 (1219,'ICON','explore','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/explore/emojiitem_03_8@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:21'),
	 (1221,'ICON','explore','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/explore/emojiitem_03_9@2x.png',1,'','2000-01-01 00:00:00','2023-12-26 20:02:21'),
	 (1223,'COLOR','1','#FFEAD5','',1,'','2000-01-01 00:00:00','2023-12-14 14:51:37'),
	 (1225,'COLOR','1','#E7FFD5','',1,'','2000-01-01 00:00:00','2023-12-14 14:51:46'),
	 (1227,'COLOR','1','#D5FFED','',1,'','2000-01-01 00:00:00','2023-12-14 14:51:46'),
	 (1229,'COLOR','1','#D5E8FF','',1,'','2000-01-01 00:00:00','2023-12-14 14:51:46'),
	 (1231,'COLOR','1','#DDD5FF','',1,'','2000-01-01 00:00:00','2023-12-14 14:51:46'),
	 (1233,'COLOR','1','#FFD5E2','',1,'','2000-01-01 00:00:00','2023-12-14 14:51:46'),
	 (1235,'COLOR','1','#DCDEE8','',1,'','2000-01-01 00:00:00','2023-12-14 14:51:46'),
	 (1237,'COLOR','1','#ECEEF6','',1,'','2000-01-01 00:00:00','2023-12-14 14:51:46'),
	 (1239,'DEFAULT_BOT_MODEL_CONFIG','1','默认模型配置','{"modelConfig":{"prePrompt":"","userInputForm":[],"speechToText":{"enabled":false},"suggestedQuestionsAfterAnswer":{"enabled":false},"retrieverResource":{"enabled":false},"conversationStarter":{"enabled":false,"openingRemark":""},"feedback":{"enabled":false,"like":{"enabled":false},"dislike":{"enabled":false}},"model":{"name":"spark_V3.5","model":"spark_V3.5","completionParams":{"maxTokens":512,"temperature":0.5}},"repoConfigs":{"topK":3,"scoreThreshold":0.3,"scoreThresholdEnabled":true,"reposet":[]}}}',1,'','2000-01-01 00:00:00','2024-04-25 15:36:43'),
	 (1243,'TOOL_ICON','tool','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/tool/tool01.png',1,'','2000-01-01 00:00:00','2024-01-23 17:42:52'),
	 (1245,'TOOL_ICON','tool','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/tool/tool02.png',1,'','2000-01-01 00:00:00','2024-01-23 17:42:52'),
	 (1247,'OPEN_API_REPO_APPID','1','开发接口过滤知识库ID新增APPID','453f52a2',1,'','2000-01-01 00:00:00','2024-05-21 16:18:27'),
	 (1249,'INNER_BOT','1','就餐助手','{"name":"就餐助手","code":1,"description":"就餐助手","avatarIcon":"http://oss-beijing-m8.openstorage.cn/SparkBotDev/icon/explore/emojiitem_03_9@2x.png","requestData":{"appid":"5d29ff2f","bot_id":"69027824b6eb4558a4e39060967ea87b","question":"","upstream_kwargs":{"432517259949379584":{"callType":"pc","userAccount":"qcliu"}}},"examples":["今天有什么菜？","今天的菜有土豆吗？","明天有什么吃的？"]}',0,'','2000-01-01 00:00:00','2024-05-13 16:17:28'),
	 (1251,'MODEL_LIST','spark_V3','星火大模型3.0','',1,'','2000-01-01 00:00:00','2024-04-18 15:30:31'),
	 (1253,'MODEL_LIST','spark_V3.5','星火大模型3.5','',1,'','2000-01-01 00:00:00','2024-04-18 15:30:23'),
	 (1255,'INNER_BOT','2','生活助手','{
  "name": "Life Assistant",
  "code": 2,
  "description": "Life Assistant",
  "avatarIcon": "http://oss-beijing-m8.openstorage.cn/SparkBotDev/icon/explore/emojiitem_03_9@2x.png",
  "requestData": {
    "appid": "5d29ff2f",
    "bot_id": "ae43a8b628d343d89f1cef5c4c0248a7",
    "question": "",
    "upstream_kwargs": {
      "420914424866541568": {
        "callType": "pc",
        "userAccount": "qcliu"
      }
    }
  },
  "examples": [
    "Help me find scenic spots in Anhui",
    "Check the weather for tomorrow",
    "How much is the high-speed train to Nanjing"
  ]
}',1,'','2000-01-01 00:00:00','2025-07-23 14:28:22'),
	 (1257,'INNER_BOT','3','工作助手','{"name":"工作助手","code":3,"description":"工作助手","avatarIcon":"http://oss-beijing-m8.openstorage.cn/SparkBotDev/icon/explore/emojiitem_03_9@2x.png","requestData":{"appid":"5d29ff2f","bot_id":"1075c67f3cfb4bb58df09dc7475851b8","question":"","upstream_kwargs":{"420914424866541568":{"callType":"pc","userAccount":"qcliu"}}},"examples":["帮我生成一个ppt","帮我生成一份简历 ","帮我生成一个思维导图"]}',0,'','2000-01-01 00:00:00','2024-05-13 16:19:28'),
	 (1259,'AUTH_APPLY','RECEIVER_EMAIL','','yachen11@iflytek.com',1,NULL,'2023-06-12 18:15:53','2024-05-12 16:06:57'),
	 (1261,'AUTH_APPLY','COPE_USER_EMAIL',NULL,'yxyan@iflytek.com,leifang10@iflytek.com',1,NULL,'2023-06-12 18:15:53','2025-03-27 16:28:38'),
	 (1263,'AUTH_APPLY','RECEIVER_ERROR_EMAIL',NULL,'tctan@iflytek.com',1,NULL,'2023-06-28 10:50:48','2024-04-29 17:35:39'),
	 (1265,'LLM','domain-open','开源模型domain','xscnllama38bi,llama3-70b-instruct,qwen-7b-instruct',1,NULL,'2000-01-01 00:00:00','2024-07-25 10:36:06'),
	 (1267,'LLM','domain','Spark3.5 Max','generalv3.5',1,'bm3.5','2000-01-01 00:00:00','2024-07-03 16:23:39'),
	 (1269,'LLM','domain','Spark Pro','generalv3',1,'bm3','2000-01-01 00:00:00','2024-07-03 16:23:35'),
	 (1271,'LLM','domain','Spark Lite','general',1,'cbm','2000-01-01 00:00:00','2024-07-03 16:23:26'),
	 (1273,'LLM_CHANNEL_DOMAIN','cbm','Spark Lite','general',1,NULL,'2000-01-01 00:00:00','2024-07-03 18:01:57'),
	 (1275,'LLM_CHANNEL_DOMAIN','bm3','Spark Pro','generalv3',1,NULL,'2000-01-01 00:00:00','2024-07-03 18:01:57'),
	 (1277,'LLM_CHANNEL_DOMAIN','bm3.5','Spark3.5 Max','generalv3.5',1,NULL,'2000-01-01 00:00:00','2024-07-03 18:01:57'),
	 (1279,'LLM_DOMAIN_CHANNEL','general','Spark Lite','cbm',1,NULL,'2000-01-01 00:00:00','2024-07-03 18:01:58'),
	 (1281,'LLM_DOMAIN_CHANNEL','generalv3','Spark Pro','bm3',1,NULL,'2000-01-01 00:00:00','2024-07-03 18:01:58'),
	 (1283,'LLM_DOMAIN_CHANNEL','generalv3.5','Spark3.5 Max','bm3.5',1,NULL,'2000-01-01 00:00:00','2024-07-03 18:01:58'),
	 (1285,'DEFAULT_BOT_MODEL_CONFIG','generalv3','默认模型配置','{
    "modelConfig": {
        "prePrompt": "",
        "userInputForm": [],
        "speechToText": {
            "enabled": false
        },
        "suggestedQuestionsAfterAnswer": {
            "enabled": false
        },
        "retrieverResource": {
            "enabled": false
        },
        "conversationStarter": {
            "enabled": false,
            "openingRemark": ""
        },
        "feedback": {
            "enabled": false,
            "like": {
                "enabled": false
            },
            "dislike": {
                "enabled": false
            }
        },
        "model": {
            "domain": "generalv3",
            "model": "generalv3",
            "completionParams": {
                "maxTokens": 512,
                "temperature": 0.5,
                "topK": 1
            },
            "api": "wss://spark-api.xf-yun.com/v3.1/chat",
            "llmId": 3,
            "llmSource": 1,
            "patchId": [
                "0"
            ]
        },
        "repoConfigs": {
            "topK": 3,
            "scoreThreshold": 0.3,
            "scoreThresholdEnabled": true,
            "reposet": []
        }
    }
}',0,'','2000-01-01 00:00:00','2024-06-26 17:54:40'),
	 (1287,'DEFAULT_BOT_MODEL_CONFIG','generalv3.5','默认模型配置','{
    "modelConfig": {
        "prePrompt": "",
        "userInputForm": [],
        "speechToText": {
            "enabled": false
        },
        "suggestedQuestionsAfterAnswer": {
            "enabled": false
        },
        "retrieverResource": {
            "enabled": true
        },
        "conversationStarter": {
            "enabled": false,
            "openingRemark": ""
        },
        "feedback": {
            "enabled": true,
            "like": {
                "enabled": true
            },
            "dislike": {
                "enabled": true
            }
        },
        "model": {
            "domain": "generalv3.5",
            "model": "generalv3.5",
            "completionParams": {
                "maxTokens": 512,
                "temperature": 0.5,
                "topK": 1
            },
            "api": "wss://spark-api.xf-yun.com/v3.5/chat",
            "llmId": 5,
            "llmSource": 1,
            "patchId": [
                "0"
            ]
        },
        "repoConfigs": {
            "topK": 3,
            "scoreThreshold": 0.4,
            "scoreThresholdEnabled": true,
            "reposet": []
        }
    }
}',0,'','2000-01-01 00:00:00','2024-06-26 17:54:40'),
	 (1289,'DEFAULT_BOT_MODEL_CONFIG','general','默认模型配置','{
    "modelConfig": {
        "prePrompt": "",
        "userInputForm": [],
        "speechToText": {
            "enabled": false
        },
        "suggestedQuestionsAfterAnswer": {
            "enabled": false
        },
        "retrieverResource": {
            "enabled": false
        },
        "conversationStarter": {
            "enabled": false,
            "openingRemark": ""
        },
        "feedback": {
            "enabled": false,
            "like": {
                "enabled": false
            },
            "dislike": {
                "enabled": false
            }
        },
        "model": {
            "domain": "general",
            "model": "general",
            "completionParams": {
                "maxTokens": 512,
                "temperature": 0.5,
                "topK": 1
            },
            "api": "wss://spark-api.xf-yun.com/v1.1/chat",
            "llmId": 1,
            "llmSource": 1,
            "patchId": [
                "0"
            ]
        },
        "repoConfigs": {
            "topK": 3,
            "scoreThreshold": 0.3,
            "scoreThresholdEnabled": true,
            "reposet": []
        }
    }
}',0,'','2000-01-01 00:00:00','2024-06-26 17:54:40'),
	 (1291,'TEMPLATE','prompt-enhance','1','You are a prompt optimization expert. You will be given the name and a brief description of an assistant. Based on this information, you need to generate an appropriate role description, detailed skill explanation, and related constraints for the assistant, outputting in Markdown format.

You should organize the output using the following structure:
````````````````````````````````````````````````markdown
## Role
You are a [assistant''s role], [assistant''s role description].

## Skills
1. [Skill 1 description]:
  - [Specific detail about skill 1].
  - [Specific detail about skill 1].
2. [Skill 2 description]:
  - [Specific detail about skill 2].
  - [Specific detail about skill 2].

## Limitations
- [Limitation 1 description].
- [Limitation 2 description].
````````````````````````````````````````````````

Here are some examples:

Example 1:
Input:
Assistant Name: Financial Analysis Assistant
Assistant Description: 1. Analyze the latest annual financial reports of listed companies; 2. Fetch the latest news of listed companies;

Output:
````````````````````````````````````````````````markdown
## Role
You are a financial analyst who leverages the latest information and data to analyze the financial health, market trends, and industry dynamics of companies to help clients make informed investment decisions.

## Skills
1. Analyze the latest annual financial reports of listed companies:
  - Use financial analysis tools and techniques to examine and interpret company financial statements in detail.
  - Assess the company’s financial health, including revenue, profit, balance sheet, cash flow, etc.
  - Analyze financial indicators such as profitability, solvency, turnover rates to evaluate performance and risk.
  - Compare the company’s performance with industry peers to gauge relative competitiveness.
2. Fetch the latest news of listed companies:
  - Use news sources and databases to regularly gather the latest news and announcements.
  - Analyze potential impacts of news on stock prices and investor sentiment.
  - Track major events like M&A, product launches, executive changes, and their implications on future prospects.
  - Combine financial and news analysis to provide comprehensive evaluations and investment suggestions.

## Limitations
- Only discuss topics related to financial analysis; decline unrelated questions.
- All output must strictly follow the given structure format.
- Analysis content must not exceed 100 words.
````````````````````````````````````````````````

Example 2:
Input:
Assistant Name: Frontend Development Assistant
Assistant Description: Your role is frontend development. You can help convert images into HTML pages, using Tailwind CSS for styling and Ant Design for UI components.

Output:
````````````````````````````````````````````````markdown
## Role
You are a frontend engineer capable of building websites and applications using HTML, CSS, and JavaScript.

## Skills
1. Convert images into HTML pages:
  - When users want to convert an image into an HTML page, you can build the page using HTML and CSS based on the image and user requirements.
  - Use Tailwind CSS to simplify styling, and Ant Design library to offer rich UI components.
  - Provide the completed page code for deployment or local preview.

2. Offer frontend development advice and assistance:
  - Provide helpful suggestions and support based on user inquiries related to frontend development.
  - Support HTML, CSS, JavaScript topics, as well as frontend tools and workflows.

## Limitations
- Only discuss frontend-related content; decline unrelated topics.
- All output must strictly follow the required structure format.
````````````````````````````````````````````````

Input:
Assistant Name: {assistant_name}
Assistant Description: {assistant_description}

Output:
',1,NULL,'2000-01-01 00:00:00','2025-07-23 14:31:33'),
	 (1293,'TEMPLATE','next-question-advice','1','You now need to generate three possible follow-up questions that a user might ask based on the given question. The response format should be a JSON array. Below are some example questions and answers:

Question: I’m hungry
Answer: [‘Are there any restaurants nearby?’, ‘Recommend something delicious.’, ‘Suggest some local snacks.’]

Now, based on the following question, provide an answer:
Question: {q}
Answer:',1,NULL,'2000-01-01 00:00:00','2025-07-23 14:32:21'),
	 (1295,'LLM','domain-filter','货架过滤器-domain维度','general,generalv3,generalv3.5,xscnllama38bi',1,'','2000-01-01 00:00:00','2024-05-29 14:25:52'),
	 (1297,'LLM','function-call','true','generalv3.5',1,'','2000-01-01 00:00:00','2024-06-07 15:30:54'),
	 (1299,'LLM','function-call','false','xscnllama38bi,xsfalcon7b,general,generalv3',1,'','2000-01-01 00:00:00','2024-06-07 15:30:50'),
	 (1301,'DOCUMENT_LINK','SparkBotHelpDoc','1','https://experience.pro.iflyaicloud.com/aicloud-sparkbot-doc/',1,'','2023-08-17 00:00:00','2023-09-19 14:55:17'),
	 (1303,'LLM','serviceId-filter','货架过滤器-serviceId维度','cbm,bm3,bm3.5,xscnllama38bi,xsfalcon7b,xsc4aicr35b',1,'','2000-01-01 00:00:00','2024-06-22 14:43:24'),
	 (1305,'SPECIAL_USER','1','特殊用户，目前包括段明，豪哥，天诚','1909,2229,1695',1,NULL,'2000-01-01 00:00:00','2024-06-27 10:35:20'),
	 (1307,'SPECIAL_MODEL','10000001','llama3-70b-instruct','{"llmSource":1,"llmId":10000001,"name":"llama3-70b-instruct","patchId":"0","domain":"llama3-70b-instruct","serviceId":"llama3-70b-instruct","status":1,"info":"","icon":"","tag":[],"url":"abc","modelId":0}',0,NULL,'2000-01-01 00:00:00','2025-03-24 19:52:28'),
	 (1309,'LLM','question-type','','general,generalv3',1,'','2000-01-01 00:00:00','2024-06-13 19:25:39'),
	 (1311,'PROMPT','judge-is-bot-create','判断是否是创建bot的prompt','system_template = """You are a bot creation decision assistant. Based on the user''s input, you need to determine whether the user intends to create or declare a bot assistant. The output format is as follows:
{
    "isCreateBot": "true/false"
}

Here are some examples:
Example 1:
Input:
You are a poster generation assistant.

Based on the above input, determine whether to create a bot:
{
    "isCreateBot": "true"
}

Example 2:
Input:
Hello

Based on the above input, determine whether to create a bot:
{
    "isCreateBot": "false"
}

Example 3:
Input:
You are a weather query assistant and can help me check the weather.

Based on the above input, determine whether to create a bot:
{
    "isCreateBot": "true"
}

Example 4:
Input:
Help me create a frontend development assistant.

Based on the above input, determine whether to create a bot:
{
    "isCreateBot": "true"
}
"""
human_template = f"""
Input:
{content}

Based on the above input, determine whether to create or declare a bot assistant:
"""',1,NULL,'2000-01-01 00:00:00','2025-07-23 14:33:24'),
	 (1313,'PROMPT','bot-name-desc','','You are a name and description generation assistant. You will receive a user-provided description of an assistant. Based on this information, you need to generate an appropriate name and role description for the assistant. The output format should be a standard JSON structure:
{
  "name": "Assistant''s Name",
  "desc": "Assistant''s Description"
}

Here are some examples:

Example 1:
Input:
You are a poster generation assistant.

Based on the above input, generate a name and role description:
{
  "name": "Poster Generation Assistant",
  "desc": "The Poster Generation Assistant can quickly generate various styles and themes of posters based on user needs and preferences. Whether it''s for business ads, event promotion, or personal use, this assistant provides satisfactory solutions."
}

Example 2:
Input:
You are a weather query assistant that can check the weather for a specified city on a specific date.

Based on the above input, generate a name and role description:
{
  "name": "Weather Query Assistant",
  "desc": "The Weather Query Assistant can accurately retrieve weather information for a specified city and date. Just enter the city name and date, and it will provide detailed weather forecasts."
}


Example 3:
Input:
Create a frontend development assistant.

Based on the above input, generate a name and role description:
{
  "name": "Frontend Development Assistant",
  "desc": "An assistant specialized in supporting frontend development, helping users with issues related to HTML, CSS, JavaScript, and more."
}

Input:
{content}

Based on the above input, generate a name and role description:
',1,NULL,'2000-01-01 00:00:00','2025-07-23 14:35:09'),
	 (1315,'PROMPT','bot-name-desc-prompt','','You are an assistant for name generation, description generation, and prompt optimization. You will receive a user-provided description of an assistant. Based on this information, you need to generate a suitable name, role description, and a Markdown-formatted prompt that includes the role, detailed skills, and related limitations. The output format should be a standard JSON structure:
{
    "name": "Assistant''s Name",
    "desc": "Assistant''s Description",
    "prompt": "````````````````````````````````````````````````markdown
## Role
You are a [assistant''s role], [assistant''s role description].

## Skills
1. [Skill 1 description]:
  - [Specific detail about skill 1].
  - [Specific detail about skill 1].
2. [Skill 2 description]:
  - [Specific detail about skill 2].
  - [Specific detail about skill 2].

## Limitations
- [Limitation 1 description].
- [Limitation 2 description].
````````````````````````````````````````````````"
}

Here are some examples:

Example 1:
Input:
You are a financial analysis assistant, capable of analyzing the latest annual reports of listed companies and retrieving the latest news of listed companies.

Based on the above input, generate name, role description, and prompt:
{
    "name": "Financial Analysis Assistant",
    "desc": "The Financial Analysis Assistant focuses on analyzing the latest annual reports of listed companies and retrieving and organizing the latest news about them. Whether you''re an investor, analyst, or just interested in the financial market, this assistant provides valuable insights and in-depth analysis.",
    "prompt": "````````````````````````````````````````````````markdown
## Role
You are a financial analysis assistant, focused on providing the latest financial report analysis and news tracking of listed companies for investors, analysts, and those interested in financial markets. Through in-depth data analysis and market tracking, you help users make smarter investment decisions.

## Skills
1. Analyze the latest annual reports of listed companies:
  - Use professional financial analysis tools to interpret annual financial statements, including but not limited to income statements, balance sheets, and cash flow statements.
  - Evaluate profitability, capital structure, cash flow status, and financial health to identify potential risks and opportunities.
  - Compare the company’s performance with industry peers to assess its competitive position.
  - Provide development forecasts and suggestions based on financial data.
2. Retrieve and organize the latest news of listed companies:
  - Monitor and collect news from major sources, social media, and corporate announcements in real time.
  - Filter and organize key information, such as major events, management changes, product launches, and assess their impact on stock prices and market sentiment.
  - Combine financial report analysis and news to provide multi-angle insights.
  - Update regularly to ensure users get the latest market developments and company updates.

## Limitations
- Only provides information and analysis related to listed company financials and news; does not cover private companies or specific stock investment advice.
- All analysis is based on publicly available data and information; no insider or undisclosed data involved.
- Results are for reference only; users should make decisions based on their own judgment and risk tolerance.
````````````````````````````````````````````````"
}

Example 2:
Input:
You are a weather query assistant that can query the weather for a specified city on a specified date.

Based on the above input, generate name, role description, and prompt:
{
    "name": "Weather Query Assistant",
    "desc": "The Weather Query Assistant can accurately query the weather of a specified city on a given date. Just input the city and date, and the assistant will return detailed weather forecast information.",
    "prompt": "````````````````````````````````````````````````markdown
## Role
You are a weather query expert capable of providing accurate and detailed weather forecasts.

## Skills
1. Query the weather of a specific city on a specific date:
  - When the user provides a city and a date, you return detailed forecast information for that day.
  - Forecast includes temperature, humidity, wind speed, wind direction, precipitation probability, etc.
  - You can also provide sunrise and sunset times and moon phase info.
2. Analyze weather trends:
  - Analyze and predict the weather trend for the next few days based on historical and real-time data.
  - Provide clothing and travel advice to help users prepare accordingly.

## Limitations
- Only discuss weather-related content and reject unrelated topics.
- All output must follow the required structure and format.
- Can only provide weather forecasts up to a specific date, not beyond that range.
````````````````````````````````````````````````"
}


Example 3:
Input:
You are a frontend development assistant.

Based on the above input, generate name, role description, and prompt:
{
    "name": "Frontend Development Assistant",
    "desc": "An assistant dedicated to helping with frontend development tasks, capable of solving various frontend issues, including but not limited to HTML, CSS, and JavaScript.",
    "prompt": "````````````````````````````````````````````````markdown
## Role
You are a frontend development assistant who provides support and solutions for frontend developers. Whether it’s HTML, CSS, or JavaScript, you can offer professional guidance.

## Skills
1. HTML support:
  - When users encounter HTML issues, you provide detailed explanations and solutions.
  - Help users understand HTML basics such as tags, attributes, and document structure.
  - Offer info on new features in HTML5 and how to use them.
2. CSS support:
  - Provide support for CSS basics such as selectors, box models, and layout strategies.
  - Offer insights on CSS3 features and their usage.
3. JavaScript support:
  - Answer JavaScript-related questions involving variables, functions, objects, arrays, etc.
  - Provide guidance on advanced JavaScript topics such as closures, prototypes, and async programming.
4. Frontend tools support:
  - Offer guidance on using frontend tools like version control systems (e.g., Git), package managers (e.g., npm), and build tools (e.g., Webpack).

## Limitations
- Only discuss frontend development topics and reject unrelated issues.
- All output must strictly follow the given format and structure.
````````````````````````````````````````````````"
}

Input:
{content}

Based on the above input, generate the name, role description, and markdown-formatted prompt:',1,NULL,'2000-01-01 00:00:00','2025-07-23 14:39:26'),
	 (1317,'PROMPT','bot-prologue-question','','You are an assistant for generating opening lines and preset questions. Next, you will receive a description of a task assistant. You need to adopt the role described and, speaking from the assistant’s perspective, generate an appropriate opening line. At the same time, you should generate several likely questions that users might ask, from the user’s perspective. The output format must be a standard JSON structure:

{
    "prologue": "Opening line content",
    "question": ["Question 1", "Question 2", "Question 3"]
}

Below are some examples:

Example 1:
Input description:
# Role
You are a bot that can help users earn money from home by providing various income methods and strategies, helping users achieve financial freedom.

## Skills
### Skill 1: Provide ways to make money
1. When users need ways to make money, you can suggest methods suited to their interests, skills, and available time, such as online freelancing, content creation, and e-commerce.
2. You must explain the process, precautions, and earning potential of each method to help users make informed choices.
3. You can also provide personalized advice and guidance based on users’ needs and situations.

### Skill 2: Provide money-making tips
1. When users need tips, you can offer practical strategies like increasing efficiency, cutting costs, and boosting income.
2. Explain the steps and important points for each tip so users can apply them effectively.
3. Give tailored advice based on user context.

### Skill 3: Provide startup guidance
1. When users seek startup guidance, you can share fundamental knowledge and approaches, such as how to choose a business idea, draft a business plan, and raise funds.
2. Detail the steps and precautions for each method.
3. Provide personalized guidance to help users reach their entrepreneurial goals.

## Limitations
- Only discuss money-making topics. Refuse unrelated questions.
- Output must follow the required format strictly.

Generated based on the above input:
{
    "prologue": "Hi, I’m a bot that can help you make money from home. Nice to meet you.",
    "question": ["How can I use your service to earn money from home?", "What suggestions and tips do you offer for earning money at home?", "How does your service help me achieve financial freedom?"]
}

Example 2:
Input description:
# Role: Excel All-in-One Assistant
## Profile
- Version: 1.0
- Language: Chinese
- Description: I am an Excel all-in-one assistant, specializing in solving Excel-related issues and providing efficient data handling solutions.

## Features
- Data Handling: Proficient in filtering, sorting, merging, splitting, pivot tables, etc., to help users process large amounts of data quickly.
- Formula Application: Expert in Excel formulas and functions to support complex calculations and deliver accurate results.
- Data Visualization: Skilled in charting features to help users present data clearly and beautifully.
- Automation: Familiar with Excel macros and VBA programming to automate tasks and improve efficiency.

## User Guide
1. Data Handling:
   - Use filters to extract specific data quickly.
   - Sort data in ascending or descending order.
   - Merge and split cells.
   - Use pivot tables to summarize and analyze large datasets.

2. Formula Application:
   - Use common formulas like SUM, AVERAGE, MAX, MIN, etc.
   - Use logical functions like IF, AND, OR.
   - Use VLOOKUP and HLOOKUP for data lookup and matching.
   - Use COUNTIF and SUMIF for conditional counting and summation.

3. Data Visualization:
   - Choose suitable chart types like bar, line, pie, etc., to display data.
   - Style and layout charts for better readability.
   - Add labels and legends to enhance chart clarity.

4. Automation:
   - Use macro recording to automate task sequences.
   - Use VBA to write custom macros for more complex tasks.
   - Apply macros and VBA scripts to Excel workbooks for greater productivity and accuracy.

## Tips
- Learn shortcuts to improve efficiency.
- Always back up original data before processing large datasets.
- Master advanced Excel features for complex tasks.
- Save your files regularly to avoid data loss.

Generated based on the above input:
{
    "prologue": "Hello, I’m an Excel all-in-one assistant who can help you solve Excel-related problems and provide efficient data processing solutions.",
    "question": ["How can I quickly handle large datasets?", "How do I perform complex calculations and analysis using Excel?", "How can I display data clearly and create beautiful charts?"]
}

You must follow the format above to output results.

Input description:
{content}

Based on the above input description, generate the opening line and preset questions:',1,NULL,'2000-01-01 00:00:00','2025-07-23 14:42:24'),
	 (1319,'INNER_BOT','interact','交互式创建','{
  "name": "Meal Assistant",
  "code": 1,
  "description": "Meal Assistant",
  "avatarIcon": "http://oss-beijing-m8.openstorage.cn/SparkBotDev/icon/explore/emojiitem_03_9@2x.png",
  "requestData": {
    "appid": "4d2e8665",
    "bot_id": "bedd1e25a11b41d487cc28f5de82695a",
    "question": "",
    "upstream_kwargs": {
      "420914424866541568": {
        "callType": "pc",
        "userAccount": "qcliu"
      }
    }
  },
  "examples": [
    "What dishes are available today?",
    "Are there potatoes on the menu today?",
    "What will be available to eat tomorrow?"
  ]
}',1,'','2000-01-01 00:00:00','2025-07-23 14:42:54'),
	 (1321,'DOCUMENT_LINK','ApiDoc','1','https://in.iflyaicloud.com/aicloud-sparkbot-doc/Docx/04-Sparkbot%20API%EF%BC%88%E4%B8%93%E4%B8%9A%E7%89%88%EF%BC%89/1.2.9_workflow_api.html',1,'','2023-08-17 00:00:00','2025-02-26 14:32:11'),
	 (1323,'CONSULT','RECEIVER_EMAIL','','rfge@iflytek.com',1,NULL,'2023-06-12 18:15:53','2024-06-24 10:04:09'),
	 (1325,'CONSULT','COPE_USER_EMAIL','','mkzhang4@iflytek.com,haojin@iflytek.com',1,NULL,'2023-06-12 18:15:53','2024-06-24 10:04:32'),
	 (1326,'TAG','BOT_TAGS','生活','',1,NULL,'2023-06-12 18:15:53','2024-06-07 16:59:24'),
	 (1327,'TAG','BOT_TAGS','教育','',1,NULL,'2023-06-12 18:15:53','2024-06-07 16:59:24'),
	 (1328,'TAG','TOOL_TAGS','生活','',0,NULL,'2023-06-12 18:15:53','2024-06-13 23:29:11'),
	 (1329,'TAG','TOOL_TAGS','旅行','',0,NULL,'2023-06-12 18:15:53','2024-06-13 23:29:11'),
	 (1331,'PROMPT','bot-name-desc-response','','system_template = """You are a bot creation inquiry assistant. You will receive user instructions for creating a bot. Based on this information, you need to generate the assistant''s name, description, and a reply to the user. The output format is as follows:
{
    "name": "Assistant Name",
    "description": "Description of the assistant",
    "response": "Reply to the user, ask whether the proposed name and description are acceptable, and then ask if the user wants to proceed with creating the bot."
}

Here are some examples:
Example 1:
Input:
Create a PPT generation assistant

Output:
{
    "name": "PPT Magic Assistant",
    "description": "This is a bot that helps you generate PPTs",
    "response": "Sure! I have a suggestion for this new bot.
Name: PPT Magic Assistant
Description: This is a bot that helps you generate PPTs.
If you agree with this name and description, I’ll start creating the bot, which will take about 30 seconds. Would you like to proceed with creating the PPT Magic Assistant?"
}

Example 2:
Input:
Create a weather query assistant

Output:
{
    "name": "Weather Buddy",
    "description": "A bot that provides accurate weather information for you",
    "response": "Sure! How about calling it ''Weather Buddy'', and the description could be ''A bot that provides accurate weather information for you''? Does that name and description work for you? If yes, I’ll begin creating the bot, which takes about 30 seconds. Shall I go ahead and create this ''Weather Buddy'' bot for you?"
}

Example 3:
Input:
Create an article generation assistant

Output:
{
    "name": "Creative Writer Star",
    "description": "An intelligent assistant that can quickly generate various types of articles",
    "response": "We could name it ''Creative Writer Star'', and the description could be ''An intelligent assistant that can quickly generate various types of articles''. Do you think this name and description match your needs? If so, I’ll proceed to create this ''Creative Writer Star'' bot, which will take around 30 seconds. Do you confirm creating this bot?"
}
"""

human_template = f"""
Input:
{content}

Output:
"""',1,NULL,'2000-01-01 00:00:00','2025-07-23 14:43:33'),
	 (1333,'PROMPT','judge-confirm-create-bot','','system_template = """You are a bot creation intent detection assistant. Based on the conversation history, you need to determine whether the user''s latest intent is to create or declare a bot assistant. The output format is as follows:
{
    "isCreateBot": "true/false"
}

Here are some examples:
Example 1:
Input:
history:
{"role": "assistant", "content": "Sure! I have a suggestion for your new bot.
Name: Code Elf
Description: This is a bot that assists you in writing code.
If you agree with this name and description, I''ll start creating the bot. Just note that the process takes about 30 seconds. Do you confirm creating this Code Elf bot?"}
{"role": "user", "content": "Hello"}

Determine from the above input whether to create the bot:
{
    "isCreateBot": "false"
}

Example 2:
Input:
history:
{"role": "assistant", "content": "Sure! How about calling it ''Weather Buddy'', described as ''a bot that provides you with real-time weather information''? Do you like the name and description? If yes, I''ll start creating it. It takes about 30 seconds."}
{"role": "user", "content": "Create"}

Determine from the above input whether to create the bot:
{
    "isCreateBot": "true"
}

Example 3:
Input:
history:
{"role": "assistant", "content": "Sure! I have a suggestion for this new bot.
Name: PPT Creation Elf
Description: This is a bot that helps you generate PPTs.
If you agree with the name and description, I''ll start creating the bot. The process will take about 30 seconds. Do you confirm creating the PPT Creation Elf bot?"}
{"role": "user", "content": "No"}

Determine from the above input whether to create the bot:
{
    "isCreateBot": "false"
}

Example 4:
Input:
history:
{"role": "assistant", "content": "Sure! I have an idea for this bot.
Name: Travel Info Expert
Description: A bot that can help you query all kinds of tourist attraction information.
Do you think the name and description are acceptable? If yes, I’ll begin creating it."}
{"role": "user", "content": "Okay"}

Determine from the above input whether to create the bot:
{
    "isCreateBot": "true"
}
"""

human_template = f"""
Input:
history:
{{"role": "assistant", "content": {assistant_content}}}
{{"role": "user", "content": {user_content}}}

Determine from the above input whether to create or declare a bot assistant:
"""',1,NULL,'2000-01-01 00:00:00','2025-07-23 14:44:13'),
	 (1335,'PROMPT','do-not-create-bot','','system_template = """You are a bot creation decision assistant. Based on the conversation history, you need to determine whether the user''s latest intent is to stop creating the bot assistant or if they are dissatisfied with the proposed name and description. The output format is as follows:
{
    "doNotCreateBot": "true/false",
    "response": "Respond to the user based on their intent"
}

Here are some examples:
Example 1:
Input:
history:
{"role": "assistant", "content": "Sure! I have a suggestion for your new bot.
Name: Code Elf
Description: This is a bot that helps you write code.
If you agree with this name and description, I''ll start creating the bot. Just note that the process takes about 30 seconds. Do you confirm creating this Code Elf bot?"}
{"role": "user", "content": "Hello"}

Output:
{
    "doNotCreateBot": "true",
    "response": "Hello! Is there anything I can help you with?"
}

Example 2:
Input:
history:
{"role": "assistant", "content": "Sure! How about calling it ''Weather Buddy'', described as ''a bot that provides you with real-time weather information''? Do you like the name and description? If yes, I’ll start creating the bot—it’ll take around 30 seconds."}
{"role": "user", "content": "Do not create"}

Output:
{
    "doNotCreateBot": "true",
    "response": "Okay. If you want to create a bot later, feel free to let me know anytime."
}

Example 3:
Input:
history:
{"role": "assistant", "content": "Sure! I have a suggestion for this new bot.
Name: PPT Creation Elf
Description: This is a bot that helps you generate PPTs.
If you agree with this name and description, I''ll start creating the bot. The process will take about 30 seconds. Do you confirm creating the PPT Creation Elf bot?"}
{"role": "user", "content": "Not acceptable"}

Output:
{
    "doNotCreateBot": "false",
    "response": "What are your specific requirements for the bot''s name and description?"
}
"""

human_template = f"""
Input:
history:
{{"role": "assistant", "content": {assistant_content}}}
{{"role": "user", "content": {user_content}}}

Output:
"""',1,NULL,'2000-01-01 00:00:00','2025-07-23 14:51:18'),
	 (1337,'PROMPT','update-name-desc-response','','system_template = """You are a bot creation inquiry assistant. You will receive the original assistant name and description, as well as the user''s modification request. Based on this information, you need to update the assistant''s name and description and generate a reply to the user. The output format is as follows:
{
    "name": "Assistant Name",
    "description": "Description of the assistant",
    "response": "Reply to the user, then ask whether the name and description are acceptable, and finally ask if the user wants to create this bot"
}

Here are some examples:
Example 1:
Input:
{
    "name": "Frontend Helper",
    "description": "This is a bot that can solve frontend-related problems and provide technical support.",
    "requirement": "Change the name to Frontend Master"
}

Output:
{
    "name": "Frontend Master",
    "description": "A master capable of handling all kinds of frontend tasks proficiently",
    "response": "How about changing the description to ''A master capable of handling all kinds of frontend tasks proficiently''? Does that sound good? If so, I’ll create the bot for you."
}

Example 2:
Input:
{
    "name": "Antique Appraiser",
    "description": "This is a bot that can help you identify antiques and provide related knowledge.",
    "requirement": "I want to name it Antique Expert"
}

Output:
{
    "name": "Antique Expert",
    "description": "A bot that professionally appraises antiques and provides detailed analysis",
    "response": "We could go with the description ''A bot that professionally appraises antiques and provides detailed analysis''. Are you happy with this name and description? If so, I’ll go ahead and create the bot."
}

Example 3:
Input:
{
    "name": "Antique Expert",
    "description": "A bot that professionally appraises antiques and provides detailed analysis",
    "requirement": "I want the description to be more detailed"
}

Output:
{
    "name": "Antique Expert",
    "description": "This is a bot that uses professional knowledge and extensive experience to accurately appraise various antiques and provide detailed analysis, offering you reliable evaluation results and comprehensive explanations of antique knowledge.",
    "response": "Name: Antique Expert\\nDescription: This is a bot that uses professional knowledge and extensive experience to accurately appraise various antiques and provide detailed analysis, offering you reliable evaluation results and comprehensive explanations of antique knowledge.\\nAre you satisfied with this name and description? If so, I will create this bot for you."
}
"""

human_template = f"""
Input:
{{
    "name": {name},
    "description": {description},
    "requirement": {content}
}}

Output:
"""',1,NULL,'2000-01-01 00:00:00','2025-07-23 14:51:48'),
	 (1339,'PROMPT','prologue','开场白生成','You are an assistant for generating opening lines. You will receive a description of a task assistant. Based on the role described, you need to generate an opening line as if you are the assistant.

Here are some examples:

Example 1:  
Input Description:  
Name: Work-from-Home Earnings Bot  
Description: A bot that helps users make money from home by providing various earning methods and strategies to achieve financial freedom.

Opening Line Generated Based on the Above:  
Hello, I’m a bot that can help you make money from home. I can offer various ways and strategies to help you achieve financial freedom. Nice to meet you.

Example 2:  
Input Description:  
Name: Excel All-in-One Assistant  
Description: Solves Excel-related issues and provides efficient data processing solutions.

Opening Line Generated Based on the Above:  
Hello, I’m an Excel All-in-One Assistant. I can help you solve Excel-related issues and offer efficient data processing solutions.

You must follow the format above to generate the output.

Input Description:  
Name: {name}  
Description: {desc}

Generate the opening line based on the input description:',1,NULL,'2000-01-01 00:00:00','2025-07-23 14:52:11'),
	 (1341,'LLM_FILTER','plan','大模型过滤器','generalv3,generalv3.5,4.0Ultra,pro-128k',0,'','2000-01-01 00:00:00','2025-04-29 10:04:05'),
	 (1345,'TAG','TOOL_TAGS','Transportation and Travel','',1,NULL,'2024-06-26 09:54:25','2025-07-23 14:54:03'),
	 (1347,'TAG','TOOL_TAGS','Leisure and Entertainment',NULL,1,NULL,'2024-06-26 09:54:25','2025-07-23 14:54:03'),
	 (1349,'TAG','TOOL_TAGS','Medical and Health',NULL,1,NULL,'2024-06-26 09:54:25','2025-07-23 14:54:03'),
	 (1351,'TAG','TOOL_TAGS','Film and Music',NULL,1,NULL,'2024-06-26 09:54:25','2025-07-23 14:54:03'),
	 (1353,'TAG','TOOL_TAGS','Education and Encyclopedia  ',NULL,1,NULL,'2024-06-26 09:54:25','2025-07-23 14:54:03'),
	 (1355,'TAG','TOOL_TAGS','News and Information ',NULL,1,NULL,'2024-06-26 09:54:25','2025-07-23 14:54:03'),
	 (1357,'TAG','TOOL_TAGS','Mother and Child',NULL,1,NULL,'2024-06-26 09:54:25','2025-07-23 14:54:03'),
	 (1359,'TAG','TOOL_TAGS','Daily Life Essentials',NULL,1,NULL,'2024-06-26 09:54:25','2025-07-23 14:54:03'),
	 (1361,'TAG','TOOL_TAGS','Finance and Investment',NULL,1,NULL,'2024-06-26 09:54:25','2025-07-23 14:54:03'),
	 (1363,'SPECIAL_MODEL_CONFIG','10000001','llama3-70b-instruct','{"patchId":null,"domain":"llama3-70b-instruct","appId":null,"name":"llama3-70b-instruct","id":10000001,"source":1,"serviceId":"llama3-70b-instruct","type":1,"serverId":"llama3-70b-instruct","config":{"serviceIdkeys":["bm3.5"],"serviceBlock":{"bm3.5":[{"fields":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"回答的tokens的最大长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"max_tokens","required":true,"desc":"最小值是1, 最大值是8192"},{"standard":true,"constraintContent":[{"name":0},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"从k个中随机选择一个(非等概率)","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"top_k","required":true,"desc":"最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"key":"generalv3"}]},"featureBlock":{},"payloadBlock":{},"acceptBlock":{},"protocolType":1,"serviceId":"bm3.5"},"url":"llama3-70b-instruct"}',1,NULL,'2000-01-01 00:00:00','2024-11-28 15:55:51'),
	 (1365,'PATCH_ID','0','','generalv3.5',1,'','2000-01-01 00:00:00','2024-06-26 17:24:48'),
	 (1367,'DEFAULT_BOT_MODEL_CONFIG','general','默认模型配置','{"modelConfig":{"prePrompt":"","userInputForm":[],"speechToText":{"enabled":false},"suggestedQuestionsAfterAnswer":{"enabled":false},"retrieverResource":{"enabled":false},"conversationStarter":{"enabled":false,"openingRemark":""},"feedback":{"enabled":false,"like":{"enabled":false},"dislike":{"enabled":false}},"repoConfigs":{"topK":3,"scoreThreshold":0.3,"scoreThresholdEnabled":true,"reposet":[]},"models":{"plan":{"domain":"general","model":"general","completionParams":{"maxTokens":512,"temperature":0.5,"topK":1},"api":"wss://spark-api.xf-yun.com/v1.1/chat","llmId":1,"llmSource":1,"serviceId":"cbm"},"summary":{"domain":"general","model":"general","completionParams":{"maxTokens":512,"temperature":0.5,"topK":1},"api":"wss://spark-api.xf-yun.com/v1.1/chat","llmId":1,"llmSource":1,"serviceId":"cbm"}}}}',1,'','2000-01-01 00:00:00','2024-07-11 14:41:38'),
	 (1369,'DEFAULT_BOT_MODEL_CONFIG','generalv3','默认模型配置','{"modelConfig":{"prePrompt":"","userInputForm":[],"speechToText":{"enabled":false},"suggestedQuestionsAfterAnswer":{"enabled":false},"retrieverResource":{"enabled":false},"conversationStarter":{"enabled":false,"openingRemark":""},"feedback":{"enabled":false,"like":{"enabled":false},"dislike":{"enabled":false}},"models":{"plan":{"domain":"generalv3","model":"generalv3","completionParams":{"maxTokens":512,"temperature":0.5,"topK":1},"api":"wss://spark-api.xf-yun.com/v3.1/chat","llmId":3,"llmSource":1,"serviceId":"bm3"},"summary":{"domain":"generalv3","model":"generalv3","completionParams":{"maxTokens":512,"temperature":0.5,"topK":1},"api":"wss://spark-api.xf-yun.com/v3.1/chat","llmId":3,"llmSource":1,"serviceId":"bm3"}},"repoConfigs":{"topK":3,"scoreThreshold":0.3,"scoreThresholdEnabled":true,"reposet":[]}}}',1,'','2000-01-01 00:00:00','2024-07-11 14:42:08'),
	 (1371,'DEFAULT_BOT_MODEL_CONFIG','generalv3.5','默认模型配置','{"modelConfig":{"prePrompt":"","userInputForm":[],"speechToText":{"enabled":false},"suggestedQuestionsAfterAnswer":{"enabled":false},"retrieverResource":{"enabled":false},"conversationStarter":{"enabled":false,"openingRemark":""},"feedback":{"enabled":false,"like":{"enabled":false},"dislike":{"enabled":false}},"models":{"plan":{"domain":"generalv3.5","model":"generalv3.5","completionParams":{"maxTokens":512,"temperature":0.5,"topK":1},"api":"wss://spark-api.xf-yun.com/v3.5/chat","llmId":5,"llmSource":1,"patchId":["0"],"serviceId":"bm3.5"},"summary":{"domain":"generalv3.5","model":"generalv3.5","completionParams":{"maxTokens":512,"temperature":0.5,"topK":1},"api":"wss://spark-api.xf-yun.com/v3.5/chat","llmId":5,"llmSource":1,"patchId":["0"],"serviceId":"bm3.5"}},"repoConfigs":{"topK":3,"scoreThreshold":0.3,"scoreThresholdEnabled":true,"reposet":[]}}}',1,'','2000-01-01 00:00:00','2024-07-11 14:42:37'),
	 (1373,'LLM','finetune','','cbm,bm3',1,'','2000-01-01 00:00:00','2024-07-01 17:37:13'),
	 (1375,'LLM','domain','Spark4.0 Ultra','4.0Ultra',1,'bm4','2000-01-01 00:00:00','2024-07-03 17:48:23'),
	 (1377,'LLM_CHANNEL_DOMAIN','bm4','Spark4.0 Ultra','4.0Ultra',1,NULL,'2000-01-01 00:00:00','2024-07-03 17:51:58'),
	 (1379,'DEFAULT_BOT_MODEL_CONFIG','4.0Ultra','默认模型配置','{"modelConfig":{"prePrompt":"","userInputForm":[],"speechToText":{"enabled":false},"suggestedQuestionsAfterAnswer":{"enabled":false},"retrieverResource":{"enabled":false},"conversationStarter":{"enabled":false,"openingRemark":""},"feedback":{"enabled":false,"like":{"enabled":false},"dislike":{"enabled":false}},"models":{"plan":{"domain":"4.0Ultra","model":"4.0Ultra","completionParams":{"maxTokens":512,"temperature":0.5,"topK":1},"api":"wss://spark-api.xf-yun.com/v4.0/chat","llmId":110,"llmSource":1,"patchId":["0"],"serviceId":"bm4"},"summary":{"domain":"4.0Ultra","model":"4.0Ultra","completionParams":{"maxTokens":512,"temperature":0.5,"topK":1},"api":"wss://spark-api.xf-yun.com/v4.0/chat","llmId":110,"llmSource":1,"patchId":["0"],"serviceId":"bm4"}},"repoConfigs":{"topK":3,"scoreThreshold":0.3,"scoreThresholdEnabled":true,"reposet":[]}}}',1,'','2000-01-01 00:00:00','2024-07-11 14:43:02'),
	 (1381,'LLM_DOMAIN_CHANNEL','4.0Ultra','Spark4.0 Ultra','bm4',1,NULL,'2000-01-01 00:00:00','2024-07-03 17:52:00'),
	 (1383,'LLM_FILTER','plan','大模型过滤器','xdeepseekr1,xdeepseekv3,x1,xop3qwen30b,xop3qwen235b,bm4',1,'bm3,bm3.5,bm4,pro-128k,xqwen257bchat,xqwen72bchat,xqwen257bchat,xsparkprox,xdeepseekr1,xdeepseekv3','2000-01-01 00:00:00','2025-05-21 15:37:39'),
	 (1385,'LLM_FILTER','summary','大模型过滤器','xdeepseekr1,xdeepseekv3,x1,xop3qwen30b,xop3qwen235b,bm4',1,'bm3,bm3.5,bm4,pro-128k,xqwen257bchat,xqwen72bchat,xqwen257bchat,xsparkprox,xdeepseekr1,xdeepseekv3','2000-01-01 00:00:00','2025-05-21 15:37:40'),
	 (1387,'LLM','base-model','cbm','general',1,'Spark Lite','2000-01-01 00:00:00','2024-07-08 11:05:19'),
	 (1389,'LLM','base-model','bm3','generalv3',1,'Spark Pro','2000-01-01 00:00:00','2024-07-08 11:06:14'),
	 (1391,'LLM','base-model','bm3.5','generalv3.5',1,'Spark Max','2000-01-01 00:00:00','2024-07-08 11:06:19'),
	 (1393,'LLM','base-model','bm4','4.0Ultra',1,'Spark4.0 Ultra','2000-01-01 00:00:00','2024-07-08 11:06:09'),
	 (1395,'SPECIAL_MODEL','10000002','qwen-7b-instruct','{"llmSource":1,"llmId":10000002,"name":"qwen-7b-instruct","patchId":"0","domain":"qwen-7b-instruct","serviceId":"qwen-7b-instruct","status":1,"info":"","icon":"","tag":[],"url":"abc","modelId":0}',0,NULL,'2000-01-01 00:00:00','2025-03-24 19:52:28'),
	 (1397,'SPECIAL_MODEL_CONFIG','10000002','qwen-7b-instruct','{"patchId":null,"domain":"qwen-7b-instruct","appId":null,"name":"qwen-7b-instruct","id":10000002,"source":1,"serviceId":"qwen-7b-instruct","type":1,"serverId":"qwen-7b-instruct","config":{"serviceIdkeys":["bm3.5"],"serviceBlock":{"bm3.5":[{"fields":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"最大回复长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"max_tokens","required":true,"desc":"最小值是1, 最大值是8192。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"},{"standard":true,"constraintContent":[{"name":0},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"生成多样性","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"top_k","required":true,"desc":"\\"调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"key":"generalv3"}]},"featureBlock":{},"payloadBlock":{},"acceptBlock":{},"protocolType":1,"serviceId":"bm3.5"},"url":"qwen-7b-instruct"}',1,NULL,'2000-01-01 00:00:00','2024-11-28 15:56:36'),
	 (1399,'LLM_SCENE_FILTER','workflow','iflyaicloud','lmg5gtbs0,lmyvosz36,lm0dy3kv0,lm479a5b8,lme990528,lmxa5e22s,lmt4do9o3,lm1evo7j,lmy3b394q,lmt2br78l,lm4rar7p2,lmt2br78l,lm4onxj7h,lme693475,lmbXtIcNp,lm27ebHkj,lm9ze3hwc',1,NULL,'2000-01-01 00:00:00','2025-02-27 19:15:13'),
	 (1401,'gemma','url',NULL,'1',0,NULL,'2000-01-01 00:00:00','2024-11-21 16:48:20'),
	 (1403,'display','0828',NULL,'0',1,NULL,'2000-01-01 00:00:00','2024-08-26 20:34:56'),
	 (1405,'EFFECT_EVAL','base-model-list-filter','1','gemma_2b_chat,gemma2_9b_it',1,NULL,'2000-01-01 00:00:00','2024-09-10 16:09:15'),
	 (1407,'DOCUMENT_LINK','eval-set-template','1','https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/%E6%A8%A1%E7%89%88.csv',1,'','2023-08-17 00:00:00','2024-08-27 11:13:38'),
	 (1409,'MODEL_TRAIN_TYPE','2423718913705984','gemma_2b','0',1,NULL,'2000-01-01 00:00:00','2024-09-11 16:41:20'),
	 (1411,'MODEL_TRAIN_TYPE','2425335862888448','gemma_9b','1',1,NULL,'2000-01-01 00:00:00','2024-09-11 16:41:20'),
	 (1413,'SPECIAL_MODEL','10000003','xqwen257bchat','{"llmSource":1,"llmId":10000003,"name":"xqwen257bchat","patchId":"0","domain":"xqwen257bchat","serviceId":"xqwen257bchat","status":1,"info":"","icon":"","tag":[],"url":"wss://xingchen-api.cn-huabei-1.xf-yun.com/v1.1/chat","modelId":0}',0,'','2000-01-01 00:00:00','2025-03-24 19:52:28'),
	 (1415,'SPECIAL_MODEL_CONFIG','10000003','xqwen257bchat','{"patchId":null,"domain":"xqwen257bchat","appId":null,"name":"xqwen257bchat","id":127,"source":1,"serviceId":"xqwen257bchat","type":1,"serverId":"xqwen257bchat","config":{"serviceIdkeys":["xqwen257bchat"],"serviceBlock":{"xqwen257bchat":[{"fields":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"最大回复长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"max_tokens","required":true,"desc":"最小值是1, 最大值是8192。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"},{"standard":true,"constraintContent":[{"name":0},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"生成多样性","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"top_k","required":true,"desc":"\\"调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"xqwen257bchat","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"xqwen257bchat","required":true,"key":"domain","desc":""}],"key":"xqwen257bchat"}]},"featureBlock":{},"payloadBlock":{},"acceptBlock":{},"protocolType":1,"serviceId":"xqwen257bchat"},"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat"}',1,'','2000-01-01 00:00:00','2024-12-11 11:17:01'),
	 (1417,'SPECIAL_MODEL','10000004','xqwen72bchat','{"llmSource":1,"llmId":10000004,"name":"xqwen72bchat","patchId":"0","domain":"xqwen72bchat","serviceId":"xqwen72bchat","status":1,"info":"","icon":"","tag":[],"url":"wss://xingchen-api.cn-huabei-1.xf-yun.com/v1.1/chat","modelId":0}',0,'','2000-01-01 00:00:00','2024-10-15 15:44:09'),
	 (1419,'SPECIAL_MODEL_CONFIG','10000004','xqwen72bchat','{"patchId":null,"domain":"xqwen72bchat","appId":null,"name":"xqwen72bchat","id":125,"source":1,"serviceId":"xqwen72bchat","type":1,"serverId":"xqwen72bchat","config":{"serviceIdkeys":["xqwen72bchat"],"serviceBlock":{"xqwen72bchat":[{"fields":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"最大回复长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"max_tokens","required":true,"desc":"最小值是1, 最大值是8192。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"},{"standard":true,"constraintContent":[{"name":0},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"生成多样性","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"top_k","required":true,"desc":"\\"调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"xqwen72bchat","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"xqwen72bchat","required":true,"key":"domain","desc":""}],"key":"xqwen72bchat"}]},"featureBlock":{},"payloadBlock":{},"acceptBlock":{},"protocolType":1,"serviceId":"xqwen72bchat"},"url":"wss://xingchen-api.cn-huabei-1.xf-yun.com/v1.1/chat"}',0,'','2000-01-01 00:00:00','2024-11-28 16:00:00'),
	 (1421,'WORKFLOW_NODE_TEMPLATE','1,2','固定节点','{
    "idType": "node-start",
    "type": "开始节点",
    "position":
    {
        "x": 100,
        "y": 300
    },
    "data":
    {
        "label": "Start",
        "description": "The starting node of the workflow, used to define the business variable information required for process invocation.",
        "nodeMeta":
        {
            "nodeType": "基础节点",
            "aliasName": "开始节点"
        },
        "inputs":
        [],
        "outputs":
        [
            {
                "id": "",
                "name": "AGENT_USER_INPUT",
                "deleteDisabled": true,
                "required": true,
                "schema":
                {
                    "type": "string",
                    "default": "User input of the current conversation round"
                }
            }
        ],
        "nodeParam":
        {},
        "allowInputReference": false,
        "allowOutputReference": true,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png"
    }
}',1,'开始节点','2000-01-01 00:00:00','2025-07-28 10:25:46'),
	 (1423,'WORKFLOW_NODE_TEMPLATE','1,2','固定节点','{
    "idType": "node-end",
    "type": "结束节点",
    "position":
    {
        "x": 1000,
        "y": 300
    },
    "data":
    {
        "label": "End",
        "description": "The end node of the workflow, used to output the final result after the workflow execution.",
        "nodeMeta":
        {
            "nodeType": "基础节点",
            "aliasName": "结束节点"
        },
        "inputs":
        [
            {
                "id": "",
                "name": "output",
                "schema":
                {
                    "type": "string",
                    "value":
                    {
                        "type": "ref",
                        "content":
                        {}
                    }
                }
            }
        ],
        "outputs":
        [],
        "nodeParam":
        {
            "outputMode": 1,
            "template": "",
            "streamOutput": true
        },
        "references":
        [],
        "allowInputReference": true,
        "allowOutputReference": false,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png"
    }
}',1,'结束节点','2000-01-01 00:00:00','2025-07-28 10:25:46'),
	 (1425,'WORKFLOW_NODE_TEMPLATE','1,2','Basic Node','{
    "idType": "spark-llm",
    "nodeType": "基础节点",
    "aliasName": "Large Model",
    "description": "Based on the input prompt, the selected large language model will be invoked to respond accordingly.",
    "data": {
        "nodeMeta": {
            "nodeType": "Basic Node",
            "aliasName": "大模型"
        },
        "inputs": [
            {
                "id": "",
                "name": "input",
                "schema": {
                    "type": "string",
                    "value": {
                        "type": "ref",
                        "content": {}
                    }
                }
            }
        ],
        "outputs": [
            {
                "id": "",
                "name": "output",
                "schema": {
                    "type": "string",
                    "default": ""
                }
            }
        ],
        "nodeParam": {
            "maxTokens": 2048,
            "temperature": 0.5,
            "topK": 4,
            "auditing": "default",
            "domain": "4.0Ultra",
            "template": "",
            "model": "spark",
            "serviceId": "bm4",
            "respFormat": 0,
            "llmId": 110,
            "patchId": "0",
            "url": "wss://spark-api.xf-yun.com/v4.0/chat",
            "appId": "d1590f30",
            "uid": "2171",
            "enableChatHistoryV2": {
                "isEnabled": false,
                "rounds": 1
            }
        },
        "references": [],
        "allowInputReference": true,
        "allowOutputReference": true,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png"
    }
}',1,'大模型','2000-01-01 00:00:00','2025-07-28 10:18:24'),
	 (1427,'WORKFLOW_NODE_TEMPLATE','1,2','Basic Node','{
    "idType": "ifly-code",
    "nodeType": "Basic Node",
    "aliasName": "Code",
    "description": "Provides code development capability for developers, currently only supports Python language. Allows parameters to be passed in using defined variables, and the return statement is used to output the result of the function.",
    "data": {
        "nodeMeta": {
            "nodeType": "工具",
            "aliasName": "代码"
        },
        "inputs": [
            {
                "id": "",
                "name": "input",
                "schema": {
                    "type": "string",
                    "value": {
                        "type": "ref",
                        "content": {}
                    }
                }
            }
        ],
        "outputs": [
            {
                "id": "",
                "name": "key0",
                "schema": {
                    "type": "string",
                    "default": ""
                }
            },
            {
                "id": "",
                "name": "key1",
                "schema": {
                    "type": "array-string",
                    "default": ""
                }
            },
            {
                "id": "",
                "name": "key2",
                "schema": {
                    "type": "object",
                    "default": "",
                    "properties": [
                        {
                            "id": "",
                            "name": "key21",
                            "type": "string",
                            "default": "",
                            "required": true,
                            "nameErrMsg": ""
                        }
                    ]
                }
            }
        ],
        "nodeParam": {
            "code": "def main(input):\\n    ret = {\\n        \\"key0\\": input + \\"hello\\",\\n        \\"key1\\": [\\"hello\\", \\"world\\"],\\n        \\"key2\\": {\\"key21\\": \\"hi\\"}\\n    }\\n    return ret"
        },
        "references": [],
        "allowInputReference": true,
        "allowOutputReference": true,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png"
    }
}',1,'代码','2000-01-01 00:00:00','2025-07-28 10:18:24'),
	 (1429,'WORKFLOW_NODE_TEMPLATE','1,2','Basic Node','{
    "idType": "knowledge-base",
    "nodeType": "Basic Node",
    "aliasName": "Knowledge Base",
    "description": "Calls the knowledge base and allows specifying a knowledge repository for information retrieval and response.",
    "data": {
        "nodeMeta": {
            "nodeType": "工具",
            "aliasName": "知识库"
        },
        "inputs": [
            {
                "id": "",
                "name": "query",
                "schema": {
                    "type": "string",
                    "value": {
                        "type": "ref",
                        "content": {}
                    }
                }
            }
        ],
        "outputs": [
            {
                "id": "",
                "name": "results",
                "schema": {
                    "type": "array-object",
                    "properties": [
                        {
                            "id": "",
                            "name": "score",
                            "type": "number",
                            "default": "",
                            "required": true,
                            "nameErrMsg": ""
                        },
                        {
                            "id": "",
                            "name": "docId",
                            "type": "string",
                            "default": "",
                            "required": true,
                            "nameErrMsg": ""
                        },
                        {
                            "id": "",
                            "name": "title",
                            "type": "string",
                            "default": "",
                            "required": true,
                            "nameErrMsg": ""
                        },
                        {
                            "id": "",
                            "name": "content",
                            "type": "string",
                            "default": "",
                            "required": true,
                            "nameErrMsg": ""
                        },
                        {
                            "id": "",
                            "name": "context",
                            "type": "string",
                            "default": "",
                            "required": true,
                            "nameErrMsg": ""
                        },
                        {
                            "id": "",
                            "name": "references",
                            "type": "object",
                            "default": "",
                            "required": true,
                            "nameErrMsg": ""
                        }
                    ]
                },
                "required": true,
                "nameErrMsg": ""
            }
        ],
        "nodeParam": {
            "repoId": [],
            "repoList": [],
            "topN": 3
        },
        "references": [],
        "allowInputReference": true,
        "allowOutputReference": true,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/knowledgeIcon.png"
    }
}',1,'知识库','2000-01-01 00:00:00','2025-07-28 10:18:24'),
	 (1431,'WORKFLOW_NODE_TEMPLATE','1,2','Tool','{
    "idType": "flow",
    "nodeType": "Tool",
    "aliasName": "Workflow",
    "description": "Quickly integrate published workflows for efficient reuse of existing capabilities.",
    "data": {
        "nodeMeta": {
            "nodeType": "工具",
            "aliasName": "工作流"
        },
        "inputs": [],
        "outputs": [],
        "nodeParam": {
            "appId": "",
            "flowId": "",
            "uid": ""
        },
        "references": [],
        "allowInputReference": true,
        "allowOutputReference": true,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/flow-icon.png"
    }
}',1,'工作流','2000-01-01 00:00:00','2025-07-28 10:18:24'),
	 (1433,'WORKFLOW_NODE_TEMPLATE','1,2','Logic','{
    "idType": "decision-making",
    "nodeType": "Basic Node",
    "aliasName": "Decision",
    "description": "Determine the subsequent logic path based on input parameters and the specified intents.",
    "data": {
        "nodeMeta": {
            "nodeType": "基础节点",
            "aliasName": "决策"
        },
        "nodeParam": {
            "maxTokens": 2048,
            "temperature": 0.5,
            "topK": 4,
            "auditing": "default",
            "domain": "4.0Ultra",
            "llmId": 110,
            "enableChatHistoryV2": {
                "isEnabled": false,
                "rounds": 1
            },
            "uid": "2171",
            "intentChains": [
                {
                    "intentType": 2,
                    "name": "",
                    "description": "",
                    "id": "intent-one-of::4724514d-ffc8-4412-bf7f-13cc3375110d"
                },
                {
                    "intentType": 1,
                    "name": "default",
                    "description": "Default intent",
                    "id": "intent-one-of::506841e4-3f6c-40b1-a804-dc5ffe723b34"
                }
            ],
            "reasonMode": 1,
            "model": "spark",
            "useFunctionCall": true,
            "serviceId": "bm4",
            "promptPrefix": "",
            "patchId": "0",
            "url": "wss://spark-api.xf-yun.com/v4.0/chat",
            "appId": "d1590f30"
        },
        "inputs": [
            {
                "id": "",
                "name": "Query",
                "schema": {
                    "type": "string",
                    "value": {
                        "type": "ref",
                        "content": {}
                    }
                }
            }
        ],
        "outputs": [
            {
                "id": "",
                "name": "class_name",
                "schema": {
                    "type": "string",
                    "default": ""
                }
            }
        ],
        "references": [],
        "allowInputReference": true,
        "allowOutputReference": true,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/designMakeIcon.png"
    }
}',1,'决策','2000-01-01 00:00:00','2025-07-28 10:18:24'),
	 (1435,'WORKFLOW_NODE_TEMPLATE','1,2','Logic','{
    "idType": "if-else",
    "nodeType": "Branch",
    "aliasName": "Branch",
    "description": "Determine the branch path based on the defined conditions",
    "data": {
        "nodeMeta": {
            "nodeType": "分支器",
            "aliasName": "分支器"
        },
        "nodeParam": {
            "cases": [
                {
                    "id": "branch_one_of::",
                    "level": 1,
                    "logicalOperator": "and",
                    "conditions": [
                        {
                            "id": "",
                            "leftVarIndex": null,
                            "rightVarIndex": null,
                            "compareOperator": null
                        }
                    ]
                },
                {
                    "id": "branch_one_of::",
                    "level": 999,
                    "logicalOperator": "and",
                    "conditions": []
                }
            ]
        },
        "inputs": [
            {
                "id": "",
                "name": "input",
                "schema": {
                    "type": "string",
                    "value": {
                        "type": "ref",
                        "content": {
                            "nodeId": "",
                            "name": ""
                        }
                    }
                }
            },
            {
                "id": "",
                "name": "input1",
                "schema": {
                    "type": "string",
                    "value": {
                        "type": "ref",
                        "content": {
                            "nodeId": "",
                            "name": ""
                        }
                    }
                }
            }
        ],
        "outputs": [],
        "references": [],
        "allowInputReference": true,
        "allowOutputReference": false,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/if-else-node-icon.png"
    }
}',1,'分支器','2000-01-01 00:00:00','2025-07-28 10:18:24'),
	 (1437,'WORKFLOW_NODE_TEMPLATE','1,2','Logic','{
    "idType": "iteration",
    "nodeType": "Basic Node",
    "aliasName": "Iteration",
    "description": "This node is used to handle loop logic and supports only one level of nesting",
    "data": {
        "nodeMeta": {
            "nodeType": "Basic Node",
            "aliasName": "Iteration"
        },
        "nodeParam": {},
        "inputs": [
            {
                "id": "",
                "name": "input",
                "schema": {
                    "type": "",
                    "value": {
                        "type": "ref",
                        "content": {}
                    }
                }
            }
        ],
        "outputs": [
            {
                "id": "",
                "name": "output",
                "schema": {
                    "type": "array-string",
                    "default": ""
                }
            }
        ],
        "iteratorNodes": [],
        "iteratorEdges": [],
        "references": [],
        "allowInputReference": true,
        "allowOutputReference": true,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/iteration-icon.png"
    }
}',1,'迭代','2000-01-01 00:00:00','2025-07-28 10:18:24'),
	 (1439,'WORKFLOW_NODE_TEMPLATE','1,2','Transformation','{
    "idType": "node-variable",
    "nodeType": "Basic Node",
    "aliasName": "Variable Storage",
    "description": "Allows setting multiple variables for long-term data storage, which remains effective and updates persistently",
    "data": {
        "nodeMeta": {
            "nodeType": "基础节点",
            "aliasName": "变量存储器"
        },
        "nodeParam": {
            "method": "set"
        },
        "inputs": [
            {
                "id": "",
                "name": "input",
                "schema": {
                    "type": "string",
                    "value": {
                        "type": "ref",
                        "content": {}
                    }
                }
            }
        ],
        "outputs": [],
        "references": [],
        "allowInputReference": true,
        "allowOutputReference": true,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png"
    }
}',1,'变量存储器','2000-01-01 00:00:00','2025-07-28 10:18:24'),
	 (1441,'WORKFLOW_NODE_TEMPLATE','1,2','Transformation','{
    "idType": "extractor-parameter",
    "nodeType": "Basic Node",
    "aliasName": "Variable Extractor",
    "description": "Extracts natural language content from the output of the previous node based on variable extraction descriptions",
    "data": {
        "nodeMeta": {
            "nodeType": "基础节点",
            "aliasName": "变量提取器"
        },
        "nodeParam": {
            "maxTokens": 2048,
            "temperature": 0.5,
            "topK": 4,
            "auditing": "default",
            "domain": "4.0Ultra",
            "llmId": 110,
            "model": "spark",
            "serviceId": "bm4",
            "patchId": "0",
            "url": "wss://spark-api.xf-yun.com/v4.0/chat",
            "appId": "d1590f30",
            "uid": "2171",
            "reasonMode": 1
        },
        "inputs": [
            {
                "id": "",
                "name": "input",
                "schema": {
                    "type": "string",
                    "value": {
                        "type": "ref",
                        "content": {}
                    }
                }
            }
        ],
        "outputs": [
            {
                "id": "",
                "name": "output",
                "schema": {
                    "type": "string",
                    "description": ""
                },
                "required": true
            }
        ],
        "references": [],
        "allowInputReference": true,
        "allowOutputReference": true,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-extractor-icon.png"
    }
}',1,'变量提取器','2000-01-01 00:00:00','2025-07-28 10:18:24'),
	 (1443,'WORKFLOW_NODE_TEMPLATE','1,2','Transformation','{
    "idType": "text-joiner",
    "nodeType": "Tool",
    "aliasName": "Text Processing Node",
    "description": "Used to process multiple string variables according to specified formatting rules",
    "data": {
        "nodeMeta": 
        {
            "nodeType": "工具",
            "aliasName": "文本拼接"
        },
        "nodeParam": {
            "prompt": ""
        },
        "inputs": [
            {
                "id": "",
                "name": "input",
                "schema": {
                    "type": "string",
                    "value": {
                        "type": "ref",
                        "content": {}
                    }
                }
            }
        ],
        "outputs": [
            {
                "id": "",
                "name": "output",
                "schema": {
                    "type": "string"
                }
            }
        ],
        "references": [],
        "allowInputReference": true,
        "allowOutputReference": true,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/text-splicing-icon.png"
    }
}',1,'文本处理节点','2000-01-01 00:00:00','2025-07-28 10:18:24'),
	 (1445,'WORKFLOW_NODE_TEMPLATE','1,2','Other','{
    "idType": "message",
    "nodeType": "Basic Node",
    "aliasName": "Message",
    "description": "Used to output intermediate results during workflow execution",
    "data": {
        "nodeMeta": {
            "nodeType": "基础节点",
            "aliasName": "消息"
        },
        "nodeParam": {
            "template": "",
            "startFrameEnabled": false
        },
        "inputs": [
            {
                "id": "",
                "name": "input",
                "schema": {
                    "type": "string",
                    "value": {
                        "type": "ref",
                        "content": {}
                    }
                }
            }
        ],
        "outputs": [
            {
                "id": "",
                "name": "output_m",
                "schema": {
                    "type": "string"
                }
            }
        ],
        "references": [],
        "allowInputReference": true,
        "allowOutputReference": false,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/message-node-icon.png"
    }
}',1,'消息','2000-01-01 00:00:00','2025-07-28 10:18:24'),
	 (1447,'WORKFLOW_NODE_TEMPLATE','1,2','Tool','{
    "idType": "plugin",
    "nodeType": "Tool",
    "aliasName": "Tool",
    "description": "Quickly acquire skills by integrating external tools to meet user needs",
    "data": {
        "nodeMeta": {
            "nodeType": "工具",
            "aliasName": "工具"
        },
        "inputs": [],
        "outputs": [],
        "nodeParam": {
            "appId": "4eea957b",
            "code": ""
        },
        "references": [],
        "allowInputReference": true,
        "allowOutputReference": true,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png"
    }
}',1,'工具','2000-01-01 00:00:00','2025-07-28 10:18:24'),
	 (1449,'LLM_SCENE_FILTER','workflow','xfyun','lmg5gtbs0,lmyvosz36,lm0dy3kv0,lme990528,lm4onxj7h,lmbXtIcNp,lm27ebHkj,lm9ze3hwc',1,'','2000-01-01 00:00:00','2025-02-27 19:15:13'),
	 (1451,'PROMPT','ai-code','create','## Role
You are a Python engineer. Based on the user''s requirements and the rules and constraints below, generate a complete Python code snippet.

## Dependency Constraints
The following are unsupported Python dependencies. Do not use packages outside of this list.

[List remains the same...]

## Rules
1. The user''s original code must strictly comply with the provided list of parameter variables (parameter names, types, and quantity), and the required function name.
2. Input parameters must match the names and types in the provided list;
3. The output return value must be of type dict. If the user defines specific return field names, use them strictly. Otherwise, the default field name should be ````````output````````.
4. Add comments after imports to describe the function''s purpose and parameter definitions. Only provide the code.

## Function Name:
main

## Parameter Variable List (name: variable name, type: data type):
{var}

## User Requirement:
{prompt}

## Notes
1. Only implement the function logic; generate the code only.
2. Do not include test code, example code, or ````````__main__```````` blocks.

## Please return a code block directly without using markdown format.',1,'','2000-01-01 00:00:00','2025-07-23 14:54:52'),
	 (1453,'PROMPT','ai-code','update','## Role
You are a Python engineer. Based on the user''s code and the rules and constraints below, optimize the user''s code.

## Dependency Constraints
The following are unsupported Python dependencies. Do not use packages outside of this list.

[List remains unchanged...]

## Rules
1. The user''s original code must strictly comply with the provided parameter variable list (parameter names, types, and quantity), and the required function name.
2. Input parameters must match the names and types in the provided list;
3. The return type of the output must be a dict. If the user defines specific return field names, follow them exactly. Otherwise, the default return field should be named ````````output````````.
4. Add comments after import statements describing the function purpose and parameter definitions. Please provide the code directly.

## Function Name:
main

## Parameter Variable List (name: noun, type: data type):
{var}

## User Original Code:
{code}

## User Requirement:
{prompt}

## Notes
1. Optimize the user-provided code according to the conditions above;
2. Do not include test code, sample code, or ````````__main__```````` block;

## Please return a code block directly, do not return markdown format.',1,'','2000-01-01 00:00:00','2025-07-23 14:55:38'),
	 (1455,'PROMPT','ai-code','fix','## Role
You are a Python engineer. Based on the user''s original code and the error message, return a corrected code block.

## Function Name:
main

## Parameter Variable List (name: variable name, type: data type, value: value):
{var}

## User Original Code:
{code}

## Error Message from User''s Code Execution:
{errMsg}

## Notes
Only modify the part indicated in the error message; do not change other parts of the code.

## Please return a code block directly.',1,'','2000-01-01 00:00:00','2025-07-23 14:55:38'),
	 (1457,'WORKFLOW','python-dependency','代码执行器py依赖','{
    "anyio": "3.7.1",
    "argon2-cffi": "23.1.0",
    "argon2-cffi-bindings": "21.2.0",
    "asttokens": "2.4.1",
    "attrs": "23.1.0",
    "Babel": "2.13.1",
    "backcall": "0.2.0",
    "beautifulsoup4": "4.12.2",
    "bleach": "6.1.0",
    "boltons": "23.0.0",
    "Brotli": "1.1.0",
    "certifi": "2023.11.17",
    "cffi": "1.16.0",
    "charset-normalizer": "3.3.2",
    "colorama": "0.4.6",
    "comm": "0.1.4",
    "conda": "23.3.1",
    "conda-package-handling": "2.2.0",
    "conda_package_streaming": "0.9.0",
    "cryptography": "39.0.0",
    "cycler": "0.12.1",
    "debugpy": "1.8.0",
    "decorator": "5.1.1",
    "defusedxml": "0.7.1",
    "dill": "0.3.5",
    "entrypoints": "0.4",
    "et-xmlfile": "1.1.0",
    "exceptiongroup": "1.2.0",
    "executing": "2.0.1",
    "fastjsonschema": "2.19.0",
    "gensim": "4.1.0",
    "gmpy2": "2.1.2",
    "idna": "3.4",
    "importlib-metadata": "6.8.0",
    "importlib-resources": "6.1.1",
    "ipykernel": "6.26.0",
    "ipython": "8.12.2",
    "ipython-genutils": "0.2.0",
    "jedi": "0.19.1",
    "Jinja2": "3.1.2",
    "joblib": "1.3.2",
    "json5": "0.9.14",
    "jsonpatch": "1.33",
    "jsonpointer": "2.4",
    "jsonschema": "4.20.0",
    "jsonschema-specifications": "2023.11.1",
    "jupyter_client": "8.6.0",
    "jupyter_core": "5.1.3",
    "jupyter-server": "1.24.0",
    "jupyterlab": "3.4.8",
    "jupyterlab_pygments": "0.3.0",
    "jupyterlab_server": "2.25.2",
    "kiwisolver": "1.4.5",
    "libmambapy": "1.2.0",
    "lxml": "4.9.2",
    "mamba": "1.2.0",
    "MarkupSafe": "2.1.3",
    "matplotlib": "3.4.3",
    "matplotlib-inline": "0.1.6",
    "matplotlib-venn": "0.11.6",
    "mistune": "3.0.2",
    "mpmath": "1.3.0",
    "nbclassic": "0.4.5",
    "nbclient": "0.8.0",
    "nbconvert": "7.11.0",
    "nbformat": "5.9.2",
    "nest-asyncio": "1.5.8",
    "notebook": "6.5.1",
    "notebook_shim": "0.2.3",
    "numpy": "1.21.2",
    "numpy-financial": "1.0.0",
    "olefile": "0.46",
    "openpyxl": "3.0.10",
    "packaging": "23.2",
    "pandas": "1.3.2",
    "pandocfilters": "1.5.0",
    "parso": "0.8.3",
    "patsy": "0.5.4",
    "pexpect": "4.8.0",
    "pickleshare": "0.7.5",
    "Pillow": "8.4.0",
    "pip": "23.3.1",
    "pkgutil_resolve_name": "1.3.10",
    "platformdirs": "4.0.0",
    "pluggy": "1.3.0",
    "prometheus-client": "0.19.0",
    "prompt-toolkit": "3.0.41",
    "psutil": "5.9.5",
    "ptyprocess": "0.7.0",
    "pure-eval": "0.2.2",
    "pycosat": "0.6.6",
    "pycparser": "2.21",
    "Pygments": "2.17.2",
    "pyOpenSSL": "23.2.0",
    "pyparsing": "3.1.1",
    "PyPDF2": "1.28.6",
    "PyQt5": "5.15.4",
    "PyQt5-sip": "12.9.0",
    "PySocks": "1.7.1",
    "python-dateutil": "2.8.2",
    "python-docx": "0.8.11",
    "python-pptx": "1.0.2",
    "pytz": "2023.3.post1",
    "pyzmq": "25.1.1",
    "referencing": "0.31.0",
    "requests": "2.31.0",
    "rpds-py": "0.13.1",
    "ruamel.yaml": "0.17.40",
    "ruamel.yaml.clib": "0.2.7",
    "scikit-learn": "1.0",
    "scipy": "1.7.1",
    "seaborn": "0.11.2",
    "Send2Trash": "1.8.2",
    "setuptools": "59.8.0",
    "sip": "6.5.1",
    "six": "1.16.0",
    "smart-open": "6.4.0",
    "sniffio": "1.3.0",
    "soupsieve": "2.5",
    "stack-data": "0.6.2",
    "statsmodels": "0.13.5",
    "sympy": "1.8",
    "terminado": "0.18.0",
    "threadpoolctl": "3.2.0",
    "tinycss2": "1.2.1",
    "toml": "0.10.2",
    "tomli": "2.0.1",
    "toolz": "0.12.0",
    "tornado": "6.3.3",
    "tqdm": "4.66.1",
    "traitlets": "5.9.0",
    "typing_extensions": "4.8.0",
    "urllib3": "2.1.0",
    "wcwidth": "0.2.12",
    "webencodings": "0.5.1",
    "websocket-client": "1.6.4",
    "wheel": "0.41.3",
    "zipp": "3.17.0",
    "zstandard": "0.22.0"
}',1,'','2000-01-01 00:00:00','2025-07-10 15:47:31'),
	 (1458,'TEMPLATE','node','','[
    {
        "idType": "spark-llm",
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png",
        "name": "Large Model",
        "markdown": "## Purpose\\nBased on the input prompt, invoke the selected large model to respond accordingly.\\n## Example\\n### Input\\n| Parameter Name | Parameter Value |\\n|----------------|----------------------|\\n| input (reference) | Start-query |\\n## Prompt\\nYou are a super-intelligent travel planner who is very good at identifying various travel needs from the user''s input information and organizing and outputting them. Your task now is to carefully analyze and understand the user''s input information strictly according to the following definitions and rules, and output a user travel requirement profile that includes: [Destination], [Number of Days], [Travel Companions], [Preferences], and [Travel Date]\\n### Output\\n| Variable Name | Variable Value |\\n|--------------|----------------|\\n| output (String) | 🌟Dear friend, I got your travel request! I understand you are planning an exciting 3-day trip to Hefei 😃. Please wait a moment while I generate your itinerary. Let me briefly introduce the destination: Hefei, with many must-visit attractions... (rest omitted for brevity)."
    },
    {
        "idType": "ifly-code",
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png",
        "name": "Code",
        "markdown": "## Purpose\\nProvides code capabilities for developers, currently only supports Python. Allows passing variables defined in the node as parameters, and returns a result via return statement.\\n## Example\\n### Input\\n| Parameter Name | Parameter Value |\\n|----------------|----------------------|\\n| location (reference) | Code-location |\\n| person (reference) | Code-person |\\n| day (reference) | Code-day |\\n## Code\\nasync def main(args: Args) -> Output: \\n    params = args.params\\n    ret: Output = {\\"ret\\": params[''location''] + params[''person''] + params[''day''] + '' travel guide''}\\n    return ret\\n### Output\\n| Variable Name | Variable Value |\\n|----------------|----------------|\\n| ret (String) | Hefei 5 people 3 days travel guide |"
    },
    {
        "idType": "knowledge-base",
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/knowledgeIcon.png",
        "name": "Knowledge Base",
        "markdown": "## Purpose\\nCalls a knowledge base, and can specify the base for retrieval and response.\\n## Example\\n### Input\\n| Parameter Name | Parameter Value |\\n|----------------|----------------------|\\n| Query (String) (reference) | Large Model-output |\\n## Knowledge Base\\nNational Gourmet Encyclopedia\\n### Output\\n| Variable Name | Variable Value |\\n|----------------|----------------|\\n| OutputList (Array<Object>) | Top 10 Hefei dishes: Cao Cao Chicken, Luzhou Roast Duck, Feidong Mudfish Pot, Sesame Cakes, Twisted Dough, Sesame Cookies, Duck Oil Biscuits, Feixi Old Hen Soup, Feixi Intestine Pot, Zhipengshan Stewed Goose |"
    },
    {
        "idType": "plugin",
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png",
        "name": "Tool",
        "image": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/template/node-tool.png",
        "markdown": "## Purpose\\nQuickly access external tools to meet user needs.\\n## Example\\n### Input\\n| Parameter Name | Parameter Value |\\n|----------------|----------------------|\\n| query (reference) [e.g., for Bing search tool, ''query'' is required] | Code-Food-result |\\n### Output\\n| Variable Name | Variable Value |\\n|----------------|----------------|\\n| result (String) | Hefei food, Hefei food guide, Hefei food recommendation - MFW Luzhou Roast Duck restaurant, Old Xiang Chicken, Liu Hongsheng Wonton in Chicken Broth... |"
    },
    {
        "idType": "flow",
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/flow-icon.png",
        "name": "Workflow",
        "markdown": "## Purpose\\nThe large model decides the subsequent flow direction based on node input and prompt content.\\n## Example\\n### Input\\n| Parameter Name | Parameter Value |\\n|----------------|----------------------|\\n| location (reference) [required] | Variable Extractor-location |\\n| data (reference) [required] | Variable Extractor-data |\\n### Output\\n| Variable Name | Variable Value |\\n|----------------|----------------|\\n| output (String) | Weather in Hefei today is cloudy, 27℃~33℃, northeast wind force 5-6... |"
    },
    {
        "idType": "decision-making",
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/designMakeIcon.png",
        "name": "Decision",
        "markdown": "## Purpose\\nThe large model decides which branch to take based on input and prompt.\\n## Example\\n### Input\\n| Parameter Name | Parameter Value |\\n|----------------|----------------------|\\n| guide (reference) | Code-guide |\\n| food (reference) | Code-food |\\n| hotel (reference) | Code-hotel |\\n## Prompt\\nBased on guide {{guide}}, food preference {{food}}, and hotel location {{hotel}}, decide which intent to follow\\n## Intents\\n- Travel guide\\n- Food recommendation\\n- Hotel recommendation\\n- Other"
    },
    {
        "idType": "if-else",
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/if-else-node-icon.png",
        "name": "Branch",
        "markdown": "## Purpose\\nDirect flow based on specified conditions\\n## Example\\n### Input\\n| Condition |\\n|-----------|\\n| Condition 1: ''Start-query'' contains travel or guide. Otherwise: default branch |"
    },
    {
        "idType": "iteration",
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/iteration-icon.png",
        "name": "Iteration",
        "image": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/template/node-iteration.png",
        "markdown": "## Purpose\\nHandle loop logic, supports only one level of nesting\\n## Example\\n### Input\\n| Parameter Name | Parameter Value |\\n|----------------|----------------------|\\n| locations (Array) | Code-locations |\\n### Output\\n| Variable Name | Variable Value |\\n|----------------|----------------|\\n| outputList (Array) | [{\\"Hefei Travel Guide\\"}, {\\"Nanjing Travel Guide\\"}, {\\"Shanghai Travel Guide\\"}] |"
    },
    {
        "idType": "node-variable",
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png",
        "name": "Variable Storage",
        "image": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/template/node-var-storage.png",
        "markdown": "## Purpose\\nDefine multiple variables that persist during multi-turn conversations. Cleared on new chat or chat history deletion.\\n## Example\\n### Input\\n| Parameter Name | Parameter Value |\\n|----------------|----------------------|\\n| question | Start-query |"
    },
    {
        "idType": "extractor-parameter",
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-extractor-icon.png",
        "name": "Variable Extractor",
        "image": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/template/node-var-extractor.png",
        "markdown": "## Purpose\\nExtract variables from natural language based on defined descriptions\\n## Example\\n### Input\\n| Parameter Name | Parameter Value |\\n|----------------|----------------------|\\n| location | Extract location from question |\\n| day | Extract number of days from question |\\n| person | Extract number of people from question |\\n| data | Extract date from question |"
    },
    {
        "idType": "message",
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/message-node-icon.png",
        "name": "Message",
        "image": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/template/node-message.png",
        "markdown": "## Purpose\\nOutput intermediate results during workflow\\n## Example\\n### Input\\n| Parameter Name | Parameter Value |\\n|----------------|----------------------|\\n| result (reference) | Large Model-output |\\n| result1 (reference) | Large Model-output1 |\\n### Output\\n| Variable Name | Variable Value |\\n|----------------|----------------|\\n| Large Model-output | Response: Two solutions for your question: Option 1: {{result}}, Option 2: {{result1}} |"
    },
    {
        "idType": "text-joiner",
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/text-splicing-icon.png",
        "name": "Text Joiner",
        "image": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/template/node-text-joiner.png",
        "markdown": "## Purpose\\nUse {{variableName}} to reference defined variables, concatenate according to rules\\n## Example\\n### Input\\n| Parameter Name | Parameter Value |\\n|----------------|----------------------|\\n| age (input) | 18 |\\n| name (input) | Xiaoming |\\n## Rule\\nI am {{name}}, I am {{age}} years old.\\n### Output\\n| Variable Name | Variable Value |\\n|----------------|----------------|\\n| output (String) | I am Xiaoming, I am 18 years old. |"
    },
    {
        "idType": "agent",
        "name": "Agent Intelligent Decision",
        "icon": "https://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/agent.png",
        "markdown": "## Purpose\\nIntelligently dispatch tools based on selected strategy. Also invokes large model with prompt to generate output.\\n## Example\\n### Input\\n| Parameter Name | Parameter Value |\\n|----------------|----------------------|\\n| Input | Start/AGENT_USER_INPUT |\\n## Agent Strategy\\nReAct strategy helps large models perform structured reasoning and decision-making.\\n## Tool List\\nSupports up to 30 published tools or MCPs.\\n## Custom MCP Server\\nAllows setting up to 3 custom MCP servers.\\n## Prompt Sections\\n- Role Setting (optional)\\n- Thought Process (optional)\\n- User Query (required)\\n## Max Rounds\\nMaximum is 100, default is 10.\\n### Output\\n| Parameter Name | Parameter Value | Description |\\n|----------------|------------------|-------------|\\n| Reasoning | String | Model''s thought process |\\n| Output | String | Model''s final response |"
    },
    {
        "idType": "knowledge-pro-base",
        "name": "Knowledge Base Pro",
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/knowledgeIcon.png",
        "markdown": "## Purpose\\nIn complex scenarios, use intelligent strategy to query knowledge base and generate summaries.\\n## Answer Mode\\nSelect large model to split queries and summarize results.\\n## Strategies\\nAgentic RAG – decomposes complex questions into sub-questions.\\nLong RAG – handles long document understanding.\\n### Input\\n| Parameter Name | Parameter Value | Description |\\n|----------------|------------------|-------------|\\n| query | String | User input |\\n## Knowledge Base\\nSelect database and set parameters. When split into multiple sub-questions, final recall count = top k ✖ number of sub-questions.\\n## Answer Rules\\nOptional. e.g., “If no answer found, say ''I don''t know.''”\\n### Output\\n| Parameter Name | Parameter Value | Description |\\n|----------------|------------------|-------------|\\n| Reasoning | String | Model''s thought process |\\n| Output | String | Final answer |\\n| result | Array<Object> | Retrieved results |"
    },
    {
        "idType": "question-answer",
        "name": "Q&A",
        "icon": "https://oss-beijing-m8.openstorage.cn/SparkBot/test4/answer-new2.png",
        "markdown": "## Purpose\\nAsk the user a question mid-workflow. Supports both predefined options and open-ended replies.\\n## Example 1 (Option Reply)\\n| Parameter Name | Parameter Value |\\n|----------------|------------------|\\n| Input | Start/AGENT_USER_INPUT |\\n| Question | Traveling is a great idea! Do you have a destination in mind? |\\n| Answer Mode | Option Reply |\\n| Options | A: Nature B: Culture C: Urban |\\n### Output\\n| Parameter Name | Parameter Value | Description |\\n|----------------|------------------|-------------|\\n| query | String | Question asked |\\n| id | String | Option ID |\\n| content | String | User''s response |\\n---\\n## Example 2 (Direct Reply)\\n| Parameter Name | Parameter Value |\\n|----------------|------------------|\\n| Input | Start/AGENT_USER_INPUT |\\n| Question | Where would you like to go? Type? Time? Budget? |\\n| Answer Mode | Direct Reply |\\n### Output\\n| Parameter Name | Parameter Value | Description |\\n|----------------|------------------|-------------|\\n| query | String | Question asked |\\n| content | String | User''s response |\\n### Parameter Extraction\\n| Parameter Name | Parameter Value | Description | Default | Required |\\n|----------------|------------------|-------------|---------|----------|\\n| city | String | Location | -- | Yes |\\n| type | String | Destination type | -- | Yes |\\n| time | Number | Duration | -- | Yes |\\n| budget | String | Budget | -- | Yes |"
    },
    {
        "idType": "database",
        "name": "Database",
        "icon": "https://oss-beijing-m8.openstorage.cn/SparkBotDev/icon/user/sparkBot_1752568522509_database_icon.svg",
        "markdown": "## Purpose\\nThis node can connect to a specified database and perform common operations such as insert, query, update, and delete, enabling dynamic data management.\\n\\n## Example\\n\\n### Input\\n\\n| Parameter Name | Value |\\n|----------------|--------------------------------------------------|\\n| Input          | Start/AGENT_USER_INPUT                          |\\n\\n### Output\\n\\n| Parameter Name | Value   | Description                                  |\\n|----------------|---------|----------------------------------------------|\\n| isSuccess      | Boolean | SQL execution status, true if successful, false otherwise |\\n| message        | String  | Reason for failure                           |\\n| outputList     | (Array<Object>) | Execution result                      |\\n"
    }
]',1,'','2000-01-01 00:00:00','2025-07-30 17:59:02'),
	 (1459,'WORKFLOW_CHANNEL','api','API','发布为API',1,'完成配置后，即可接入到个人应用中使用。','2000-01-01 00:00:00','2025-01-06 17:02:30'),
	 (1460,'SPECIAL_USER','workflow-all-view',NULL,'100000039012',1,NULL,'2000-01-01 00:00:00','2024-12-03 19:16:07'),
	 (1461,'WORKFLOW_CHANNEL','ixf-personal','i讯飞-个人版','发布至新版本i讯飞中',0,'无需审核，个人版本仅供个人使用和对话，无法分享给他人，也无法拉入群内。','2000-01-01 00:00:00','2024-12-19 11:10:51'),
	 (1463,'WORKFLOW_CHANNEL','ixf-team','i讯飞-团队版','发布至新版本i讯飞中',0,'需要经过审核，团队版本支持分享给他人使用，支持拉入群内使用。','2000-01-01 00:00:00','2024-12-19 11:10:51'),
	 (1465,'WORKFLOW_CHANNEL','aiui','交互链路','发布至AIUI智能体平台',1,'发布并审核通过后，即可在aiui平台进行配置。','2000-01-01 00:00:00','2024-12-13 10:15:09'),
	 (1467,'WORKFLOW_CHANNEL','sparkdesk','星火Desk/APP','发布至讯飞星火desk，以及星火app（App、网页版）',0,'发布并审核通过后，即可在星火desk和星火App体验该智能体。','2000-01-01 00:00:00','2024-12-19 11:10:51'),
	 (1469,'WORKFLOW_CHANNEL','square','工作流广场','发布至星辰工作流广场',1,'发布成功后，用户即可在广场使用。','2000-01-01 00:00:00','2025-03-24 17:50:37'),
	 (1470,'SWITCH','EvalTaskStatusGetJob','0','0',1,'1','2000-01-01 00:00:00','2025-01-08 11:41:09'),
	 (1472,'PROMPT','new-intent','','### Job Responsibility Description
You are a text classification engine. You need to analyze text data and, based on the user input and the category descriptions, carefully determine the appropriate category.

### Task
Your task is to assign only one category to the input text, and the output should contain only that one category. In addition, you should extract keywords related to the classification from the text. If there is no relevance at all, the keyword list can be empty.

### Input Format
The input text is stored in the variable ````````input_text````````. The categories are listed in the variable ````````Categories````````, and each contains the fields ````````category_id````````, ````````category_name````````, and ````````category_desc````````. Think carefully and follow the category descriptions strictly to improve classification accuracy.

### History Memory
This is the conversation history between the human and the assistant, enclosed in <histories></histories> XML tags.
<histories>
</histories>

### Constraints
Do not include anything other than the JSON array in your response.

### Output Format
json{"category_name": ""}

### The following is the text data to be analyzed
$coreText',1,'新决策节点的prompt','2000-01-01 00:00:00','2025-07-23 15:22:26'),
	 (1473,'LLM_WORKFLOW_FILTER','iflyaicloud','null','lmg5gtbs0,lmyvosz36,lm0dy3kv0,lme990528,lm479a5b8,lmt4do9o3',0,'','2000-01-01 00:00:00','2025-03-24 19:39:30'),
	 (1475,'LLM_WORKFLOW_FILTER','xfyun','null','lmg5gtbs0,lmyvosz36,lm0dy3kv0,lm9ze3hwc',0,'','2000-01-01 00:00:00','2025-03-24 19:39:30'),
	 (1477,'LLM_WORKFLOW_FILTER','iflyaicloud','spark-llm','lmg5gtbs0,lmyvosz36,lm0dy3kv0,lme990528,lme693475,lmbXtIcNp,lm27ebHkj,lm9ze3hwc,lm4onxj7h,lmt2br78l,lm4rar7p2',0,'','2000-01-01 00:00:00','2025-03-24 19:39:30'),
	 (1479,'LLM_WORKFLOW_FILTER','iflyaicloud','decision-making','lmg5gtbs0,lmyvosz36,lm0dy3kv0,lme990528,lm479a5b8,lme693475,lmt4do9o3,lmt4do9o3',0,'','2000-01-01 00:00:00','2025-03-24 19:39:29'),
	 (1481,'LLM_WORKFLOW_FILTER','iflyaicloud','extractor-parameter','lmg5gtbs0,lmyvosz36,lm0dy3kv0,lmt4do9o3',0,'','2000-01-01 00:00:00','2025-03-24 19:39:29'),
	 (1483,'LLM_WORKFLOW_FILTER','xfyun','extractor-parameter','lmg5gtbs0,lmyvosz36,lm0dy3kv0,lm9ze3hwc,lmbXtIcNp,lm27ebHkj',0,'','2000-01-01 00:00:00','2025-03-24 19:39:29'),
	 (1485,'LLM_WORKFLOW_FILTER','xfyun','decision-making','lmg5gtbs0,lmyvosz36,lm0dy3kv0,lm9ze3hwc,lmbXtIcNp,lm27ebHkj',0,'','2000-01-01 00:00:00','2025-03-24 19:39:29'),
	 (1487,'LLM_WORKFLOW_FILTER','xfyun','spark-llm','lmg5gtbs0,lmyvosz36,lm0dy3kv0,lm9ze3hwc,lmbXtIcNp,lm27ebHkj,dsv3t128k,xsp8f70988f',0,'','2000-01-01 00:00:00','2025-06-12 09:31:23'),
	 (1488,'WORKFLOW_NODE_TEMPLATE_PRE','1,2','固定节点','{
    "idType": "node-start",
    "type": "开始节点",
    "position":
    {
        "x": 100,
        "y": 300
    },
    "data":
    {
        "label": "Start",
        "description": "The starting node of the workflow, used to define the business variable information required for process invocation.",
        "nodeMeta":
        {
            "nodeType": "基础节点",
            "aliasName": "开始节点"
        },
        "inputs":
        [],
        "outputs":
        [
            {
                "id": "",
                "name": "AGENT_USER_INPUT",
                "deleteDisabled": true,
                "required": true,
                "schema":
                {
                    "type": "string",
                    "default": "User input of the current conversation round"
                }
            }
        ],
        "nodeParam":
        {},
        "allowInputReference": false,
        "allowOutputReference": true,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png"
    }
}',1,'开始节点','2000-01-01 00:00:00','2025-07-25 17:17:17'),
	 (1490,'WORKFLOW_NODE_TEMPLATE_PRE','1,2','固定节点','{
    "idType": "node-end",
    "type": "结束节点",
    "position":
    {
        "x": 1000,
        "y": 300
    },
    "data":
    {
        "label": "End",
        "description": "The end node of the workflow, used to output the final result after the workflow execution.",
        "nodeMeta":
        {
            "nodeType": "基础节点",
            "aliasName": "结束节点"
        },
        "inputs":
        [
            {
                "id": "",
                "name": "output",
                "schema":
                {
                    "type": "string",
                    "value":
                    {
                        "type": "ref",
                        "content":
                        {}
                    }
                }
            }
        ],
        "outputs":
        [],
        "nodeParam":
        {
            "outputMode": 1,
            "template": "",
            "streamOutput": true
        },
        "references":
        [],
        "allowInputReference": true,
        "allowOutputReference": false,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png"
    }
}',1,'结束节点','2000-01-01 00:00:00','2025-07-25 17:17:44'),
	 (1492,'WORKFLOW_NODE_TEMPLATE_PRE','1,2','基础节点','{
    "idType": "spark-llm",
    "nodeType": "基础节点",
    "aliasName": "Large Model",
    "description": "Based on the input prompt, the selected large language model will be invoked to respond accordingly.",
    "data": {
        "nodeMeta": {
            "nodeType": "Basic Node",
            "aliasName": "大模型"
        },
        "inputs": [
            {
                "id": "",
                "name": "input",
                "schema": {
                    "type": "string",
                    "value": {
                        "type": "ref",
                        "content": {}
                    }
                }
            }
        ],
        "outputs": [
            {
                "id": "",
                "name": "output",
                "schema": {
                    "type": "string",
                    "default": ""
                }
            }
        ],
        "nodeParam": {
            "maxTokens": 2048,
            "temperature": 0.5,
            "topK": 4,
            "auditing": "default",
            "domain": "4.0Ultra",
            "template": "",
            "model": "spark",
            "serviceId": "bm4",
            "respFormat": 0,
            "llmId": 110,
            "patchId": "0",
            "url": "wss://spark-api.xf-yun.com/v4.0/chat",
            "appId": "d1590f30",
            "uid": "2171",
            "enableChatHistoryV2": {
                "isEnabled": false,
                "rounds": 1
            }
        },
        "references": [],
        "allowInputReference": true,
        "allowOutputReference": true,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png"
    }
}',1,'大模型','2000-01-01 00:00:00','2025-07-25 16:57:52'),
	 (1494,'WORKFLOW_NODE_TEMPLATE_PRE','1,2','基础节点','{
    "idType": "ifly-code",
    "nodeType": "Basic Node",
    "aliasName": "Code",
    "description": "Provides code development capability for developers, currently only supports Python language. Allows parameters to be passed in using defined variables, and the return statement is used to output the result of the function.",
    "data": {
        "nodeMeta": {
            "nodeType": "工具",
            "aliasName": "代码"
        },
        "inputs": [
            {
                "id": "",
                "name": "input",
                "schema": {
                    "type": "string",
                    "value": {
                        "type": "ref",
                        "content": {}
                    }
                }
            }
        ],
        "outputs": [
            {
                "id": "",
                "name": "key0",
                "schema": {
                    "type": "string",
                    "default": ""
                }
            },
            {
                "id": "",
                "name": "key1",
                "schema": {
                    "type": "array-string",
                    "default": ""
                }
            },
            {
                "id": "",
                "name": "key2",
                "schema": {
                    "type": "object",
                    "default": "",
                    "properties": [
                        {
                            "id": "",
                            "name": "key21",
                            "type": "string",
                            "default": "",
                            "required": true,
                            "nameErrMsg": ""
                        }
                    ]
                }
            }
        ],
        "nodeParam": {
            "code": "def main(input):\\n    ret = {\\n        \\"key0\\": input + \\"hello\\",\\n        \\"key1\\": [\\"hello\\", \\"world\\"],\\n        \\"key2\\": {\\"key21\\": \\"hi\\"}\\n    }\\n    return ret"
        },
        "references": [],
        "allowInputReference": true,
        "allowOutputReference": true,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png"
    }
}',1,'代码','2000-01-01 00:00:00','2025-07-25 16:57:52'),
	 (1496,'WORKFLOW_NODE_TEMPLATE_PRE','1,2','基础节点','{
    "idType": "knowledge-base",
    "nodeType": "Basic Node",
    "aliasName": "Knowledge Base",
    "description": "Calls the knowledge base and allows specifying a knowledge repository for information retrieval and response.",
    "data": {
        "nodeMeta": {
            "nodeType": "工具",
            "aliasName": "知识库"
        },
        "inputs": [
            {
                "id": "",
                "name": "query",
                "schema": {
                    "type": "string",
                    "value": {
                        "type": "ref",
                        "content": {}
                    }
                }
            }
        ],
        "outputs": [
            {
                "id": "",
                "name": "results",
                "schema": {
                    "type": "array-object",
                    "properties": [
                        {
                            "id": "",
                            "name": "score",
                            "type": "number",
                            "default": "",
                            "required": true,
                            "nameErrMsg": ""
                        },
                        {
                            "id": "",
                            "name": "docId",
                            "type": "string",
                            "default": "",
                            "required": true,
                            "nameErrMsg": ""
                        },
                        {
                            "id": "",
                            "name": "title",
                            "type": "string",
                            "default": "",
                            "required": true,
                            "nameErrMsg": ""
                        },
                        {
                            "id": "",
                            "name": "content",
                            "type": "string",
                            "default": "",
                            "required": true,
                            "nameErrMsg": ""
                        },
                        {
                            "id": "",
                            "name": "context",
                            "type": "string",
                            "default": "",
                            "required": true,
                            "nameErrMsg": ""
                        },
                        {
                            "id": "",
                            "name": "references",
                            "type": "object",
                            "default": "",
                            "required": true,
                            "nameErrMsg": ""
                        }
                    ]
                },
                "required": true,
                "nameErrMsg": ""
            }
        ],
        "nodeParam": {
            "repoId": [],
            "repoList": [],
            "topN": 3
        },
        "references": [],
        "allowInputReference": true,
        "allowOutputReference": true,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/knowledgeIcon.png"
    }
}',1,'知识库','2000-01-01 00:00:00','2025-07-25 16:57:52'),
	 (1498,'WORKFLOW_NODE_TEMPLATE_PRE','1,2','工具','{
    "idType": "plugin",
    "nodeType": "Tool",
    "aliasName": "Tool",
    "description": "Quickly acquire skills by integrating external tools to meet user needs",
    "data": {
        "nodeMeta": {
            "nodeType": "工具",
            "aliasName": "工具"
        },
        "inputs": [],
        "outputs": [],
        "nodeParam": {
            "appId": "4eea957b",
            "code": ""
        },
        "references": [],
        "allowInputReference": true,
        "allowOutputReference": true,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png"
    }
}',1,'工具','2000-01-01 00:00:00','2025-07-25 16:57:52'),
	 (1500,'WORKFLOW_NODE_TEMPLATE_PRE','1,2','工具','{
    "idType": "flow",
    "nodeType": "Tool",
    "aliasName": "Workflow",
    "description": "Quickly integrate published workflows for efficient reuse of existing capabilities.",
    "data": {
        "nodeMeta": {
            "nodeType": "工具",
            "aliasName": "工作流"
        },
        "inputs": [],
        "outputs": [],
        "nodeParam": {
            "appId": "",
            "flowId": "",
            "uid": ""
        },
        "references": [],
        "allowInputReference": true,
        "allowOutputReference": true,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/flow-icon.png"
    }
}',1,'工作流','2000-01-01 00:00:00','2025-07-25 16:57:52'),
	 (1502,'WORKFLOW_NODE_TEMPLATE_PRE','1,2','逻辑','{
    "idType": "decision-making",
    "nodeType": "Basic Node",
    "aliasName": "Decision",
    "description": "Determine the subsequent logic path based on input parameters and the specified intents.",
    "data": {
        "nodeMeta": {
            "nodeType": "基础节点",
            "aliasName": "决策"
        },
        "nodeParam": {
            "maxTokens": 2048,
            "temperature": 0.5,
            "topK": 4,
            "auditing": "default",
            "domain": "4.0Ultra",
            "llmId": 110,
            "enableChatHistoryV2": {
                "isEnabled": false,
                "rounds": 1
            },
            "uid": "2171",
            "intentChains": [
                {
                    "intentType": 2,
                    "name": "",
                    "description": "",
                    "id": "intent-one-of::4724514d-ffc8-4412-bf7f-13cc3375110d"
                },
                {
                    "intentType": 1,
                    "name": "default",
                    "description": "Default intent",
                    "id": "intent-one-of::506841e4-3f6c-40b1-a804-dc5ffe723b34"
                }
            ],
            "reasonMode": 1,
            "model": "spark",
            "useFunctionCall": true,
            "serviceId": "bm4",
            "promptPrefix": "",
            "patchId": "0",
            "url": "wss://spark-api.xf-yun.com/v4.0/chat",
            "appId": "d1590f30"
        },
        "inputs": [
            {
                "id": "",
                "name": "Query",
                "schema": {
                    "type": "string",
                    "value": {
                        "type": "ref",
                        "content": {}
                    }
                }
            }
        ],
        "outputs": [
            {
                "id": "",
                "name": "class_name",
                "schema": {
                    "type": "string",
                    "default": ""
                }
            }
        ],
        "references": [],
        "allowInputReference": true,
        "allowOutputReference": true,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/designMakeIcon.png"
    }
}',1,'决策','2000-01-01 00:00:00','2025-07-25 16:57:52'),
	 (1504,'WORKFLOW_NODE_TEMPLATE_PRE','1,2','逻辑','{
    "idType": "if-else",
    "nodeType": "Branch",
    "aliasName": "Branch",
    "description": "Determine the branch path based on the defined conditions",
    "data": {
        "nodeMeta": {
            "nodeType": "分支器",
            "aliasName": "分支器"
        },
        "nodeParam": {
            "cases": [
                {
                    "id": "branch_one_of::",
                    "level": 1,
                    "logicalOperator": "and",
                    "conditions": [
                        {
                            "id": "",
                            "leftVarIndex": null,
                            "rightVarIndex": null,
                            "compareOperator": null
                        }
                    ]
                },
                {
                    "id": "branch_one_of::",
                    "level": 999,
                    "logicalOperator": "and",
                    "conditions": []
                }
            ]
        },
        "inputs": [
            {
                "id": "",
                "name": "input",
                "schema": {
                    "type": "string",
                    "value": {
                        "type": "ref",
                        "content": {
                            "nodeId": "",
                            "name": ""
                        }
                    }
                }
            },
            {
                "id": "",
                "name": "input1",
                "schema": {
                    "type": "string",
                    "value": {
                        "type": "ref",
                        "content": {
                            "nodeId": "",
                            "name": ""
                        }
                    }
                }
            }
        ],
        "outputs": [],
        "references": [],
        "allowInputReference": true,
        "allowOutputReference": false,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/if-else-node-icon.png"
    }
}',1,'分支器','2000-01-01 00:00:00','2025-07-25 16:57:52'),
	 (1506,'WORKFLOW_NODE_TEMPLATE_PRE','1,2','逻辑','{
    "idType": "iteration",
    "nodeType": "Basic Node",
    "aliasName": "Iteration",
    "description": "This node is used to handle loop logic and supports only one level of nesting",
    "data": {
        "nodeMeta": {
            "nodeType": "Basic Node",
            "aliasName": "Iteration"
        },
        "nodeParam": {},
        "inputs": [
            {
                "id": "",
                "name": "input",
                "schema": {
                    "type": "",
                    "value": {
                        "type": "ref",
                        "content": {}
                    }
                }
            }
        ],
        "outputs": [
            {
                "id": "",
                "name": "output",
                "schema": {
                    "type": "array-string",
                    "default": ""
                }
            }
        ],
        "iteratorNodes": [],
        "iteratorEdges": [],
        "references": [],
        "allowInputReference": true,
        "allowOutputReference": true,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/iteration-icon.png"
    }
}',1,'迭代','2000-01-01 00:00:00','2025-07-23 15:24:27'),
	 (1508,'WORKFLOW_NODE_TEMPLATE_PRE','1,2','转换','{
    "idType": "node-variable",
    "nodeType": "Basic Node",
    "aliasName": "Variable Storage",
    "description": "Allows setting multiple variables for long-term data storage, which remains effective and updates persistently",
    "data": {
        "nodeMeta": {
            "nodeType": "基础节点",
            "aliasName": "变量存储器"
        },
        "nodeParam": {
            "method": "set"
        },
        "inputs": [
            {
                "id": "",
                "name": "input",
                "schema": {
                    "type": "string",
                    "value": {
                        "type": "ref",
                        "content": {}
                    }
                }
            }
        ],
        "outputs": [],
        "references": [],
        "allowInputReference": true,
        "allowOutputReference": true,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png"
    }
}',1,'变量存储器','2000-01-01 00:00:00','2025-07-25 16:57:52'),
	 (1510,'WORKFLOW_NODE_TEMPLATE_PRE','1,2','转换','{
    "idType": "extractor-parameter",
    "nodeType": "Basic Node",
    "aliasName": "Variable Extractor",
    "description": "Extracts natural language content from the output of the previous node based on variable extraction descriptions",
    "data": {
        "nodeMeta": {
            "nodeType": "基础节点",
            "aliasName": "变量提取器"
        },
        "nodeParam": {
            "maxTokens": 2048,
            "temperature": 0.5,
            "topK": 4,
            "auditing": "default",
            "domain": "4.0Ultra",
            "llmId": 110,
            "model": "spark",
            "serviceId": "bm4",
            "patchId": "0",
            "url": "wss://spark-api.xf-yun.com/v4.0/chat",
            "appId": "d1590f30",
            "uid": "2171",
            "reasonMode": 1
        },
        "inputs": [
            {
                "id": "",
                "name": "input",
                "schema": {
                    "type": "string",
                    "value": {
                        "type": "ref",
                        "content": {}
                    }
                }
            }
        ],
        "outputs": [
            {
                "id": "",
                "name": "output",
                "schema": {
                    "type": "string",
                    "description": ""
                },
                "required": true
            }
        ],
        "references": [],
        "allowInputReference": true,
        "allowOutputReference": true,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-extractor-icon.png"
    }
}',1,'变量提取器','2000-01-01 00:00:00','2025-07-25 16:57:52'),
	 (1512,'WORKFLOW_NODE_TEMPLATE_PRE','1,2','转换','{
    "idType": "text-joiner",
    "nodeType": "Tool",
    "aliasName": "Text Processing Node",
    "description": "Used to process multiple string variables according to specified formatting rules",
    "data": {
        "nodeMeta": 
        {
            "nodeType": "工具",
            "aliasName": "文本拼接"
        },
        "nodeParam": {
            "prompt": ""
        },
        "inputs": [
            {
                "id": "",
                "name": "input",
                "schema": {
                    "type": "string",
                    "value": {
                        "type": "ref",
                        "content": {}
                    }
                }
            }
        ],
        "outputs": [
            {
                "id": "",
                "name": "output",
                "schema": {
                    "type": "string"
                }
            }
        ],
        "references": [],
        "allowInputReference": true,
        "allowOutputReference": true,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/text-splicing-icon.png"
    }
}',1,'文本处理节点','2000-01-01 00:00:00','2025-07-25 16:57:52'),
	 (1514,'WORKFLOW_NODE_TEMPLATE_PRE','1,2','其他','{
    "idType": "message",
    "nodeType": "Basic Node",
    "aliasName": "Message",
    "description": "Used to output intermediate results during workflow execution",
    "data": {
        "nodeMeta": {
            "nodeType": "基础节点",
            "aliasName": "消息"
        },
        "nodeParam": {
            "template": "",
            "startFrameEnabled": false
        },
        "inputs": [
            {
                "id": "",
                "name": "input",
                "schema": {
                    "type": "string",
                    "value": {
                        "type": "ref",
                        "content": {}
                    }
                }
            }
        ],
        "outputs": [
            {
                "id": "",
                "name": "output_m",
                "schema": {
                    "type": "string"
                }
            }
        ],
        "references": [],
        "allowInputReference": true,
        "allowOutputReference": false,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/message-node-icon.png"
    }
}',1,'消息','2000-01-01 00:00:00','2025-07-25 16:57:52'),
	 (1516,'mingduan','1',NULL,'http://maas-api.cn-huabei-1.xf-yun.com/v1',1,'https://spark-api-open.xf-yun.com/v2','2000-01-01 00:00:00','2025-04-18 17:49:46'),
	 (1517,'AI_CODE','DS_V3_domain','1','xdeepseekv3',1,NULL,'2000-01-01 00:00:00','2025-03-13 09:36:01'),
	 (1519,'AI_CODE','DS_V3_url','1','wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat',1,NULL,'2000-01-01 00:00:00','2025-03-13 09:36:01'),
	 (1520,'LLM','base-model','xdeepseekr1','xdeepseekr1',1,'DeepSeek-R1','2000-01-01 00:00:00',NULL),
	 (1522,'LLM','base-model','xdeepseekv3','xdeepseekv3',1,'DeepSeek-V3','2000-01-01 00:00:00','2024-07-08 11:06:09'),
	 (1524,'TAG','FLOW_TAGS','交通出行','travel',1,'交通出行','2025-03-10 10:00:00','2025-03-11 10:28:36'),
	 (1526,'TAG','FLOW_TAGS','休闲娱乐','recreation',1,'休闲娱乐','2025-03-10 10:00:00','2025-03-11 10:28:36'),
	 (1528,'TAG','FLOW_TAGS','医药健康','medicine',1,'医药健康','2025-03-10 10:00:00','2025-03-11 10:28:36'),
	 (1530,'TAG','FLOW_TAGS','影视音乐','film-music',1,'影视音乐','2025-03-10 10:00:00','2025-03-11 10:28:36'),
	 (1532,'TAG','FLOW_TAGS','教育百科','educationEncyclopedia',1,'教育百科','2025-03-10 10:00:00','2025-03-11 10:28:36'),
	 (1534,'TAG','FLOW_TAGS','新闻资讯','news',1,'新闻资讯','2025-03-10 10:00:00','2025-03-11 10:28:36'),
	 (1536,'TAG','FLOW_TAGS','母婴儿童','mother-to-child',1,'母婴儿童','2025-03-10 10:00:00','2025-03-11 10:28:36'),
	 (1538,'TAG','FLOW_TAGS','生活常用','daily-life',1,'生活常用','2025-03-10 10:00:00','2025-03-11 10:28:36'),
	 (1540,'TAG','FLOW_TAGS','金融理财','financialPlanning',1,'金融理财','2025-03-10 10:00:00','2025-03-11 10:28:36'),
	 (1542,'LLM_WORKFLOW_FILTER_PRE','xfyun','spark-llm','bm3,bm3.5,bm4,pro-128k,xgemma29bit,xaipersonality,xdeepseekv3,xdeepseekr1,image_understanding,x1,xop3qwen30b,xop3qwen235b,xop3qwen14b,xop3qwen8b',1,'','2000-01-01 00:00:00','2025-06-16 15:29:43'),
	 (1544,'LLM_WORKFLOW_FILTER_PRE','xfyun','decision-making','bm3,bm3.5,bm4',1,'','2000-01-01 00:00:00','2025-03-24 14:54:14'),
	 (1546,'LLM_WORKFLOW_FILTER_PRE','xfyun','extractor-parameter','bm3,bm3.5,bm4',1,'','2000-01-01 00:00:00','2025-03-24 14:54:14'),
	 (1548,'LLM_WORKFLOW_FILTER_PRE','iflyaicloud','extractor-parameter','bm3,bm3.5,bm4,xdeepseekv3,xdeepseekr1',1,'','2000-01-01 00:00:00','2025-03-24 14:54:14'),
	 (1549,'LLM_WORKFLOW_FILTER','iflyaicloud','agent','xdeepseekv3,xdeepseekr1,x1,xop3qwen30b,xop3qwen235b',1,'','2000-01-01 00:00:00','2025-06-10 17:16:48'),
	 (1550,'LLM_WORKFLOW_FILTER_PRE','iflyaicloud','decision-making','bm3,bm3.5,bm4,pro-128k,xgemma29bit,xaipersonality,xqwen257bchat,xdeepseekv3,xdeepseekr1',1,'','2000-01-01 00:00:00','2025-03-24 14:54:13'),
	 (1551,'LLM_WORKFLOW_FILTER','xfyun','agent','xdeepseekv3,xdeepseekr1,x1,xop3qwen30b,xop3qwen235b,xdsv3t128k',1,'','2000-01-01 00:00:00','2025-06-16 10:07:13'),
	 (1552,'LLM_WORKFLOW_FILTER_PRE','iflyaicloud','spark-llm','bm3,bm3.5,bm4,pro-128k,xgemma29bit,xaipersonality,xdeepseekv3,xdeepseekr1,image_understanding,x1,xop3qwen30b,xop3qwen235b',1,'','2000-01-01 00:00:00','2025-04-29 09:44:50'),
	 (1553,'WORKFLOW_NODE_TEMPLATE_PRE','1,2','逻辑','{
    "aliasName": "Agent Intelligent Decision",
    "idType": "agent",
    "data":
    {
        "outputs":
        [
            {
                "id": "",
                "customParameterType": "deepseekr1",
                "name": "REASONING_CONTENT",
                "nameErrMsg": "",
                "schema":
                {
                    "default": "Model reasoning process",
                    "type": "string"
                }
            },
            {
                "id": "",
                "name": "output",
                "nameErrMsg": "",
                "schema":
                {
                    "default": "",
                    "type": "string"
                }
            }
        ],
        "references":
        [],
        "allowInputReference": true,
        "inputs":
        [
            {
                "schema":
                {
                    "type": "string",
                    "value":
                    {
                        "type": "ref",
                        "content":
                        {}
                    }
                },
                "name": "input",
                "id": ""
            }
        ],
        "icon": "https://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/agent.png",
        "allowOutputReference": true,
        "nodeMeta":
        {
            "aliasName": "智能体节点",
            "nodeType": "Agent节点"
        },
        "nodeParam":
        {
            "appId": "",
            "serviceId": "xdeepseekv3",
            "enableChatHistoryV2":
            {
                "isEnabled": false,
                "rounds": 1
            },
            "modelConfig":
            {
                "domain": "xdeepseekv3",
                "api": "wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat",
                "agentStrategy": 1
            },
            "instruction":
            {
                "reasoning": "",
                "answer": "",
                "query": ""
            },
            "plugin":
            {
                "tools":
                [],
                "toolsList":
                [],
                "mcpServerIds":
                [],
                "mcpServerUrls":
                [],
                "workflowIds":
                []
            },
            "maxLoopCount": 10
        }
    },
    "description": "According to task requirements, realize intelligent scheduling of large models by selecting an appropriate tool list",
    "nodeType": "Basic Node"
}',1,'agent','2000-01-01 00:00:00','2025-07-25 16:57:52'),
	 (1554,'LLM_WORKFLOW_FILTER_PRE','xfyun','null','bm3,bm3.5,bm4,pro-128k,xgemma29bit,xaipersonality,xdeepseekv3,xdeepseekr1,image_understanding',1,'','2000-01-01 00:00:00','2025-03-24 14:54:13'),
	 (1555,'WORKFLOW_CHANNEL','mcp','MCP Server','发布为MCP Server',1,'发布成功后即可在工作流编排时调用，并在agent决策节点工具列表查看','2000-01-01 00:00:00','2025-04-09 14:15:54'),
	 (1556,'LLM_WORKFLOW_FILTER_PRE','iflyaicloud','null','bm3,bm3.5,bm4,pro-128k,xgemma29bit,xaipersonality,xdeepseekv3,xdeepseekr1,image_understanding',1,'','2000-01-01 00:00:00','2025-03-24 14:54:13'),
	 (1557,'WORKFLOW_AGENT_STRATEGY','agentStrategy','ReACT (支持MCP Tools)','Structured reasoning and decision-making process to guide large models in completing complex tasks',1,'1','2000-01-01 00:00:00','2025-07-23 15:26:20'),
	 (1558,'LLM_WORKFLOW_FILTER','iflyaicloud','null','bm3,bm3.5,bm4,pro-128k,xgemma29bit,xaipersonality,xdeepseekv3,xdeepseekr1,image_understanding,image_understandingv3',1,'','2000-01-01 00:00:00','2025-05-21 15:57:20'),
	 (1559,'MCP_MODEL_API_REFLECT','mcp','xdeepseekv3','https://maas-api.cn-huabei-1.xf-yun.com/v2',1,'','2000-01-01 00:00:00','2025-05-29 15:54:10'),
	 (1560,'LLM_WORKFLOW_FILTER','xfyun','null','bm3,bm3.5,bm4,pro-128k,xgemma29bit,xaipersonality,xdeepseekv3,xdeepseekr1,image_understanding,image_understandingv3',1,'','2000-01-01 00:00:00','2025-05-21 15:57:20'),
	 (1561,'MCP_MODEL_API_REFLECT','mcp','xdeepseekr1','https://maas-api.cn-huabei-1.xf-yun.com/v2',1,'','2000-01-01 00:00:00','2025-05-29 15:54:10'),
	 (1562,'LLM_WORKFLOW_FILTER','iflyaicloud','spark-llm','patch,cbm,bm3,bm3.5,bm4,pro-128k,xgemma29bit,xaipersonality,xdeepseekv3,xdeepseekr1,image_understanding,image_understandingv3,xsqwen2d53b,xdeepseekv32,x1,xop3qwen30b,xop3qwen235b,xdeepseekr1qwen14b,xdeepseekr1qwen32b,xsp8f70988f,xqwen257bchat,xdsv3t128k,dsv3t128k',1,'','2000-01-01 00:00:00','2025-06-26 17:53:25'),
	 (1563,'MCP_SERVER_URL_PREFIX','mcp','https://xingchen-api.xf-yun.com/mcp/xingchen/flow/{0}/sse','',1,'','2000-01-01 00:00:00','2025-04-09 15:04:01'),
	 (1564,'LLM_WORKFLOW_FILTER','iflyaicloud','decision-making','patch,cbm,bm3,bm3.5,bm4,pro-128k,xgemma29bit,xaipersonality,xqwen257bchat,xdeepseekv3,xdeepseekr1',1,'','2000-01-01 00:00:00','2025-04-18 16:43:33'),
	 (1566,'LLM_WORKFLOW_FILTER','iflyaicloud','extractor-parameter','bm3,bm3.5,bm4,xdeepseekv3,xdeepseekr1,xsqwen2d53b,pro-128k',1,'','2000-01-01 00:00:00','2025-03-24 20:03:45'),
	 (1568,'LLM_WORKFLOW_FILTER','xfyun','extractor-parameter','bm3,bm3.5,bm4',1,'','2000-01-01 00:00:00','2025-03-24 19:39:29'),
	 (1570,'LLM_WORKFLOW_FILTER','xfyun','decision-making','bm3,bm3.5,bm4,pro-128k,xgemma29bit,xaipersonality,xdeepseekv3,xdeepseekr1,image_understanding,image_understandingv3',1,'','2000-01-01 00:00:00','2025-07-17 11:47:09'),
	 (1571,'LLM_WORKFLOW_FILTER','xingchen','model_square','bm3,bm3.5,bm4,pro-128k,xgemma29bit,xaipersonality,xdeepseekv3,xdeepseekr1,image_understanding,image_understandingv3,xdeepseekv32,x1,xop3qwen30b,xop3qwen235b,,xdeepseekr1qwen14b,xdeepseekr1qwen32b',1,'','2000-01-01 00:00:00','2025-07-09 14:38:46'),
	 (1572,'LLM_WORKFLOW_FILTER','xfyun','spark-llm','bm3,bm3.5,bm4,pro-128k,xgemma29bit,xaipersonality,xdeepseekv3,xdeepseekr1,image_understanding,image_understandingv3,xdeepseekv32,x1,xop3qwen30b,xop3qwen235b,xdeepseekr1qwen14b,xdeepseekr1qwen32b,xsp8f70988f,xqwen257bchat,xop3qwen14b,xop3qwen8b,xdsv3t128k,dsv3t128k',1,'','2000-01-01 00:00:00','2025-06-26 17:49:40'),
	 (1574,'LLM_WORKFLOW_FILTER_PRE','iflyaicloud','agent','xdeepseekv3,xdeepseekr1,x1,xop3qwen30b,xop3qwen235b,xdsv3t128k',1,'','2000-01-01 00:00:00','2025-06-10 17:11:32'),
	 (1576,'LLM_WORKFLOW_FILTER_PRE','xfyun','agent','xdeepseekv3,xdeepseekr1,x1,xop3qwen30b,xop3qwen235b,xdsv3t128k',1,'','2000-01-01 00:00:00','2025-06-10 17:11:32'),
	 (1577,'LLM_WORKFLOW_MODEL_FILTER','think','思考模型','x1,xdeepseekr1,xop3qwen30b,xop3qwen235b',1,'','2000-01-01 00:00:00','2025-04-29 09:46:35'),
	 (1578,'WORKFLOW_NODE_TEMPLATE','1,2','Logic','{
    "aliasName": "Agent Intelligent Decision",
    "idType": "agent",
    "data":
    {
        "outputs":
        [
            {
                "id": "",
                "customParameterType": "deepseekr1",
                "name": "REASONING_CONTENT",
                "nameErrMsg": "",
                "schema":
                {
                    "default": "Model reasoning process",
                    "type": "string"
                }
            },
            {
                "id": "",
                "name": "output",
                "nameErrMsg": "",
                "schema":
                {
                    "default": "",
                    "type": "string"
                }
            }
        ],
        "references":
        [],
        "allowInputReference": true,
        "inputs":
        [
            {
                "schema":
                {
                    "type": "string",
                    "value":
                    {
                        "type": "ref",
                        "content":
                        {}
                    }
                },
                "name": "input",
                "id": ""
            }
        ],
        "icon": "https://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/agent.png",
        "allowOutputReference": true,
        "nodeMeta":
        {
            "aliasName": "智能体节点",
            "nodeType": "Agent节点"
        },
        "nodeParam":
        {
            "appId": "",
            "serviceId": "xdeepseekv3",
            "enableChatHistoryV2":
            {
                "isEnabled": false,
                "rounds": 1
            },
            "modelConfig":
            {
                "domain": "xdeepseekv3",
                "api": "wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat",
                "agentStrategy": 1
            },
            "instruction":
            {
                "reasoning": "",
                "answer": "",
                "query": ""
            },
            "plugin":
            {
                "tools":
                [],
                "toolsList":
                [],
                "mcpServerIds":
                [],
                "mcpServerUrls":
                [],
                "workflowIds":
                []
            },
            "maxLoopCount": 10
        }
    },
    "description": "According to task requirements, realize intelligent scheduling of large models by selecting an appropriate tool list",
    "nodeType": "Basic Node"
}',1,'agent','2000-01-01 00:00:00','2025-07-28 10:18:24'),
	 (1580,'LLM_FILTER','summary_agent','大模型agent过滤器','xdeepseekr1,xdeepseekv3,x1,xop3qwen30b,xop3qwen235b',1,'bm3,bm3.5,bm4,pro-128k,xqwen257bchat,xqwen72bchat,xqwen257bchat,xsparkprox,xdeepseekr1,xdeepseekv3','2000-01-01 00:00:00','2025-05-12 10:38:48'),
	 (1582,'LLM_FILTER_PRE','summary_agent','大模型agent过滤器','xdeepseekr1,xdeepseekv3,x1,xop3qwen30b,xop3qwen235b,bm4',1,'bm3,bm3.5,bm4,pro-128k,xqwen257bchat,xqwen72bchat,xqwen257bchat,xsparkprox,xdeepseekr1,xdeepseekv3','2000-01-01 00:00:00','2025-05-21 15:34:23'),
	 (1583,'TAG','TOOL_TAGS_V2','Plugin',NULL,1,'1537','2025-04-01 17:51:32','2025-07-28 10:38:59'),
	 (1585,'TAG','TOOL_TAGS_V2','文档处理',NULL,0,NULL,'2025-04-01 17:51:32','2025-04-24 20:52:33'),
	 (1587,'TAG','TOOL_TAGS_V2','信息检索',NULL,0,NULL,'2025-04-01 17:51:32','2025-04-24 20:52:33'),
	 (1589,'TAG','TOOL_TAGS_V2','实用工具',NULL,0,NULL,'2025-04-01 17:51:32','2025-04-24 20:52:33'),
	 (1591,'TAG','TOOL_TAGS_V2','生活娱乐',NULL,0,NULL,'2025-04-01 17:51:32','2025-04-24 20:52:33'),
	 (1593,'TAG','TOOL_TAGS_V2','MCP Tools',NULL,1,'','2025-04-01 17:51:32','2025-07-31 11:45:28'),
	 (1595,'LLM_WORKFLOW_FILTER_PRE','xingchen','model_square','bm3,bm3.5,bm4,pro-128k,xgemma29bit,xaipersonality,xdeepseekv3,xdeepseekr1,image_understanding,xopqwenqwq32b,xdeepseekv32,x1,xop3qwen30b,xop3qwen235b',1,'','2000-01-01 00:00:00','2025-04-29 09:44:50'),
	 (1597,'LLM_WORKFLOW_FILTER','self-model','控制自定义模型适配节点','spark-llm,decision-making',1,'','2000-01-01 00:00:00','2025-06-05 16:31:53'),
	 (1599,'MULTI_ROUNDS_ALIAS_NAME','MUTI_ROUNDS_ALIAS_NAME','多轮对话支持节点','decision-making,spark-llm,agent',1,'','2000-01-01 00:00:00','2025-07-23 15:32:21'),
	 (1601,'MODEL_SECRET_KEY','public_key','公钥','MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAh3iFD+BIGlCY083ItUwJFscMyept2dVl3Zs7/S6V+NnreiUJtjkAsok++eL5BYr9Jz5KULnpQv47tPhqAJd+xxzWZRfNVABHnox61GWlqqgWogbcPZWP/rzGt6c2jOkgbUVdCU7gc+EfKKZ5Fq99A5c6vDQi5u9GozElf2VnLKrH+u0tRpmrQDNSSfW0ifxUNGTvat6cJOIGRC4iUqdI+S3d3BSJEZ9VOAuAs1xmLTZciVkmSM+/bCEfdhChAh1wfpBMOb8Lu2JUXf3tfjZtNOXWRRw70NQu9Xmn3RE0ajZDODLg+xqJ3AR3fgAhunHT8W6d/PVHSM1cFUFap4P4IQIDAQAB',1,'','2000-01-01 00:00:00','2025-04-15 11:57:22'),
	 (1603,'MODEL_SECRET_KEY','private_key','私钥','MIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQCHeIUP4EgaUJjTzci1TAkWxwzJ6m3Z1WXdmzv9LpX42et6JQm2OQCyiT754vkFiv0nPkpQuelC/ju0+GoAl37HHNZlF81UAEeejHrUZaWqqBaiBtw9lY/+vMa3pzaM6SBtRV0JTuBz4R8opnkWr30Dlzq8NCLm70ajMSV/ZWcsqsf67S1GmatAM1JJ9bSJ/FQ0ZO9q3pwk4gZELiJSp0j5Ld3cFIkRn1U4C4CzXGYtNlyJWSZIz79sIR92EKECHXB+kEw5vwu7YlRd/e1+Nm005dZFHDvQ1C71eafdETRqNkM4MuD7GoncBHd+ACG6cdPxbp389UdIzVwVQVqng/ghAgMBAAECggEAVF/Z8ENuZQVhyjlXEqPi3U7oRjI+bPgeU+HFgTEssyt3IEJFRDtIleopURXup2cjuPdw7cp83/7cTSCTVP8GNRle5uPmPLVX5gX00qjkf9/lCNFhBvJKFwyYb/YzYZwpWCVlhtCbt1C1SWo17M0r/bqJGIMYYeERi76mbixIEGb60mCOPyj3tZfTCXzeSaZqgEV+9SjpgBcUj0/NSn1nxOZ8SeESQHrkz+ZfUZ/VDxdICW2Hy0hGJfaR9VZHGlVnabbtreUni5JDMf7o6xSPKvThp2rIIQd4H1PLRMFeWprigQ+6vfxeMHnyS5ggag5wGclFAargqAXq0WFO3xxoSQKBgQDbAt+T0jjHvv6d/924JiJf9awoGQ6Xjbu2z2xVNHg32Hew+u+0CiRsmo1nMMS//JxieNjSRWT6SJ482xAXgmGsdBKrSf+G5s3RpBCLDOYAvx67XmxB86CCpXVwomejGCZhdD4Vm2sB68ansbW1/y2Z2UHAG6wbsC7llzrxXvwAbwKBgQCeWbVDqLCSbsHgkn7LMPVCozH0GICQN92d5oyc8veZFa8uXq7fVIpELXv/S1TDVcpwEbIUnQycFRgj/si3QPZyIAAsKf6tx8MKy+BYm81eJqc0AuUc8wrmSJdcEOBDSaZvNMVX+bmqQItDTSJ+rv5fC8+zhv+gNRH+4cuOPxC4bwKBgA4/2ZwciWU1oAtXom1gzcvAiDrzpmdl6VizljDVAR1hECiLqxzjrAsE4z5bhfGX1fTyN+k2aqN+Jg1/k0R0TzaRNsW+QsncKngBXLIvXKefx7gZJKIF3+OgMEvrxSJvZ8/faEqvmf6+AGbYwSHeQHFKGWUOZ9xFUkfN1x/tNigxAoGAXtLffhWtLvMOPHndXbYCmJX7Wu21Ryd9GYou1+mTJWPb1Iu0cl5AshT+tOEacCKWqEegeUGWhH0JSLzQ2xQWwD6ze77mGJCQFo4B2W3rLB8/byDwrEZKV55OrT4Z3ZFkDiHurwEHEpG2E2ZEatJF1wrOpPYJa5l8HkJ+T78qNxcCgYBZbJJFCL7buF5ZO6dhZVMSLlERL0q5XKbCWXe/987g2fMfi7t6UrQAQ6zxvqBFrapodcsGjxbeXerJzNHqkQ4fySHZ8qeiwSlx8tCbBiO0PR7pY4mlXratJjpHvQbs1yXUcGZ3obyuK1Oe+sa+jYJC54UVz08g2+nGiQGho5x1FQ==',1,'','2000-01-01 00:00:00','2025-04-15 11:57:22'),
	 (1605,'SPARK_PRO_QR_CODE','qr','二维码','https://oss-beijing-m8.openstorage.cn/SparkBot/test4/weichat_qr.jpeg',1,NULL,'2025-04-01 17:51:32','2025-06-05 17:07:41'),
	 (1607,'MCP_MODEL_API_REFLECT','mcp','xop3qwen30b','https://maas-api.cn-huabei-1.xf-yun.com/v2',1,'','2000-01-01 00:00:00','2025-05-29 15:54:10'),
	 (1609,'MCP_MODEL_API_REFLECT','mcp','xop3qwen235b','https://maas-api.cn-huabei-1.xf-yun.com/v2',1,'','2000-01-01 00:00:00','2025-05-29 15:54:11'),
	 (1611,'LLM_WORKFLOW_MODEL_FILTER','multiMode','多模态模型','image_understandingv3,image_understanding',1,'','2000-01-01 00:00:00','2025-03-12 15:45:05'),
	 (1613,'PERSONAL_MODEL','20000001','imagev3','{
    "llmSource": 1,
    "llmId": 10000005,
    "name": "图像理解V3",
    "patchId": "0",
    "domain": "imagev3",
    "serviceId": "image_understandingv3",
    "status": 1,
    "info": "{\\"conc\\":2,\\"domain\\":\\"generalv3.5\\",\\"expireTs\\":\\"2025-05-31\\",\\"qps\\":2,\\"tokensPreDay\\":1000,\\"tokensTotal\\":1000,\\"llmServiceId\\":\\"bm3.5\\"}"
    "info": "",
    "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/aicloud/llm/resource/image/model/icon_iflyspark_96.png",
    "tag":
    [],
    "url": "wss://spark-api.cn-huabei-1.xf-yun.com/v2.1/image",
    "modelId": 0,
    "isThink":false,
    "multiMode":true
}',1,'','2000-01-01 00:00:00','2025-05-08 15:04:22'),
	 (1615,'WORKFLOW_KNOWLEDGE_PRO_STRATEGY','knowledgeProStrategy','Agentic RAG','Applicable to scenarios involving complex problems, proficient in breaking down complex issues into multiple sub-problems for retrieval.',1,'1','2000-01-01 00:00:00','2025-07-23 15:32:56'),
	 (1617,'WORKFLOW_KNOWLEDGE_PRO_STRATEGY','knowledgeProStrategy','Long RAG','Applicable to tasks involving understanding and generation of long document content.',1,'2','2000-01-01 00:00:00','2025-07-23 15:33:13'),
	 (1621,'LLM_WORKFLOW_FILTER_PRE','xfyun','knowledge-pro-base','xdeepseekv3',1,'','2000-01-01 00:00:00','2025-05-21 15:11:12'),
	 (1623,'LLM_WORKFLOW_FILTER_PRE','iflyaicloud','knowledge-pro-base','xdeepseekv3',1,'','2000-01-01 00:00:00','2025-05-21 15:11:12'),
	 (1627,'LLM_WORKFLOW_FILTER_PRE','iflyaicloud','question-answer','bm3,bm3.5,bm4,pro-128k,xgemma29bit,xaipersonality,xdeepseekv3,xdeepseekr1,image_understanding,image_understandingv3,xopqwenqwq32b,xdeepseekv32,x1,deepseek-ollama',1,'','2000-01-01 00:00:00','2025-05-21 10:30:36'),
	 (1629,'LLM_WORKFLOW_FILTER_PRE','xfyun','question-answer','bm3,bm3.5,bm4,pro-128k,xgemma29bit,xaipersonality,xdeepseekv3,xdeepseekr1,image_understanding,image_understandingv3,xopqwenqwq32b,xdeepseekv32,x1,deepseek-ollama',1,'','2000-01-01 00:00:00','2025-05-21 10:30:36'),
	 (1631,'LLM_WORKFLOW_FILTER','iflyaicloud','question-answer','bm3,bm3.5,bm4,pro-128k,xgemma29bit,xaipersonality,xdeepseekv3,xdeepseekr1,image_understanding,image_understandingv3,xopqwenqwq32b,xdeepseekv32,x1,deepseek-ollama',1,'','2000-01-01 00:00:00','2025-05-21 10:30:36'),
	 (1633,'LLM_WORKFLOW_FILTER','xfyun','question-answer','bm3,bm3.5,bm4,pro-128k,xgemma29bit,xaipersonality,xdeepseekv3,xdeepseekr1,image_understanding,image_understandingv3,xopqwenqwq32b,xdeepseekv32,x1,deepseek-ollama',1,'','2000-01-01 00:00:00','2025-05-21 10:30:36'),
	 (1635,'LLM_WORKFLOW_FILTER','xfyun','knowledge-pro-base','xdeepseekv3',1,'','2000-01-01 00:00:00','2025-05-16 15:10:15'),
	 (1637,'LLM_WORKFLOW_FILTER','iflyaicloud','knowledge-pro-base','xdeepseekv3',1,'','2000-01-01 00:00:00','2025-05-16 15:10:15'),
	 (1639,'WORKFLOW_NODE_TEMPLATE_PRE','1,2','基础节点','{
    "aliasName": "Knowledge Base Pro",
    "idType": "knowledge-pro-base",
    "data":
    {
        "outputs":
        [
            {
                "id": "52f0819d-e403-43e1-85d3-50519ccfcbcf",
                "name": "output",
                "schema":
                {
                    "type": "string",
                    "default": ""
                },
                "required": false,
                "nameErrMsg": ""
            },
            {
                "id": "87247b70-f05c-4125-a416-e2c41be2e1c1",
                "name": "result",
                "schema":
                {
                    "type": "array-object",
                    "default": "",
                    "properties":
                    [
                        {
                            "id": "a9db3a72-abb2-4512-a598-13b8294fce60",
                            "name": "source_id",
                            "type": "string",
                            "default": "",
                            "required": false,
                            "nameErrMsg": ""
                        },
                        {
                            "id": "c1711905-9f7e-4408-918e-33d57d39f9bc",
                            "name": "chunk",
                            "type": "array-object",
                            "default": "",
                            "required": false,
                            "nameErrMsg": "",
                            "properties":
                            [
                                {
                                    "id": "b8b50110-2abc-4732-9c96-6f3b7bad9259",
                                    "name": "chunk_context",
                                    "type": "string",
                                    "default": "",
                                    "required": false,
                                    "nameErrMsg": ""
                                },
                                {
                                    "id": "95ffea3c-4008-4df8-84a8-013079e72276",
                                    "name": "score",
                                    "type": "number",
                                    "default": "",
                                    "required": false,
                                    "nameErrMsg": "",
                                    "properties":
                                    []
                                }
                            ]
                        }
                    ]
                },
                "required": false,
                "nameErrMsg": ""
            }
        ],
        "references":
        [],
        "allowInputReference": true,
        "inputs":
        [
            {
                "schema":
                {
                    "type": "string",
                    "value":
                    {
                        "type": "ref",
                        "content":
                        {}
                    }
                },
                "name": "query",
                "id": ""
            }
        ],
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/knowledgeIcon.png",
        "allowOutputReference": true,
        "nodeMeta":
        {
            "aliasName": "知识库 Pro",
            "nodeType": "工具"
        },
        "nodeParam":
        {
            "repoTopK": 3,
            "topK": 4,
            "repoIds":
            [],
            "repoList":
            [],
            "ragType": 1,
            "url": "https://maas-api.cn-huabei-1.xf-yun.com/v2",
            "domain": "xdeepseekv3",
            "temperature": 0.5,
            "maxTokens": 2048,
            "model": "xdeepseekv3",
            "llmId": 141,
            "serviceId": "xdeepseekv3",
            "answerRole": "",
            "repoType": 1
        }
    },
    "description": "Invoke the knowledge base through intelligent strategy, supporting designated knowledge bases for retrieval and summarization response.",
    "nodeType": "Basic Node"
}',1,'知识库pro节点','2000-01-01 00:00:00','2025-07-25 16:58:05'),
	 (1641,'mingduan','x1','x1','https://spark-api-open.xf-yun.com/v2',1,'','2000-01-01 00:00:00','2025-05-21 14:50:16'),
	 (1643,'mingduan','bm4','bm4','https://spark-api-open.xf-yun.com/v1',1,'','2000-01-01 00:00:00','2025-05-21 14:50:16'),
	 (1645,'mingduan','AK:SK','','x1,bm4',1,'https://spark-api-open.xf-yun.com/v2','2000-01-01 00:00:00','2025-05-21 15:42:44'),
	 (1647,'MODEL_URL_CONFIG','Agent节点','https://maas-api.cn-huabei-1.xf-yun.com/v2','xdeepseekv3,xdeepseekr1,xop3qwen30b,xop3qwen235b',1,'','2000-01-01 00:00:00','2025-05-29 15:35:31'),
	 (1649,'WORKFLOW_NODE_TEMPLATE','1,2','Basic Node','{
    "aliasName": "Knowledge Base Pro",
    "idType": "knowledge-pro-base",
    "data":
    {
        "outputs":
        [
            {
                "id": "52f0819d-e403-43e1-85d3-50519ccfcbcf",
                "name": "output",
                "schema":
                {
                    "type": "string",
                    "default": ""
                },
                "required": false,
                "nameErrMsg": ""
            },
            {
                "id": "87247b70-f05c-4125-a416-e2c41be2e1c1",
                "name": "result",
                "schema":
                {
                    "type": "array-object",
                    "default": "",
                    "properties":
                    [
                        {
                            "id": "a9db3a72-abb2-4512-a598-13b8294fce60",
                            "name": "source_id",
                            "type": "string",
                            "default": "",
                            "required": false,
                            "nameErrMsg": ""
                        },
                        {
                            "id": "c1711905-9f7e-4408-918e-33d57d39f9bc",
                            "name": "chunk",
                            "type": "array-object",
                            "default": "",
                            "required": false,
                            "nameErrMsg": "",
                            "properties":
                            [
                                {
                                    "id": "b8b50110-2abc-4732-9c96-6f3b7bad9259",
                                    "name": "chunk_context",
                                    "type": "string",
                                    "default": "",
                                    "required": false,
                                    "nameErrMsg": ""
                                },
                                {
                                    "id": "95ffea3c-4008-4df8-84a8-013079e72276",
                                    "name": "score",
                                    "type": "number",
                                    "default": "",
                                    "required": false,
                                    "nameErrMsg": "",
                                    "properties":
                                    []
                                }
                            ]
                        }
                    ]
                },
                "required": false,
                "nameErrMsg": ""
            }
        ],
        "references":
        [],
        "allowInputReference": true,
        "inputs":
        [
            {
                "schema":
                {
                    "type": "string",
                    "value":
                    {
                        "type": "ref",
                        "content":
                        {}
                    }
                },
                "name": "query",
                "id": ""
            }
        ],
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/knowledgeIcon.png",
        "allowOutputReference": true,
        "nodeMeta":
        {
            "aliasName": "知识库 Pro",
            "nodeType": "工具"
        },
        "nodeParam":
        {
            "repoTopK": 3,
            "topK": 4,
            "repoIds":
            [],
            "repoList":
            [],
            "ragType": 1,
            "url": "https://maas-api.cn-huabei-1.xf-yun.com/v2",
            "domain": "xdeepseekv3",
            "temperature": 0.5,
            "maxTokens": 2048,
            "model": "xdeepseekv3",
            "llmId": 141,
            "serviceId": "xdeepseekv3",
            "answerRole": "",
            "repoType": 1
        }
    },
    "description": "Invoke the knowledge base through intelligent strategy, supporting designated knowledge bases for retrieval and summarization response.",
    "nodeType": "Basic Node"
}',1,'知识库pro节点','2000-01-01 00:00:00','2025-07-28 10:18:24'),
	 (1651,'WORKFLOW_NODE_TEMPLATE_INNER','1,2','固定节点','{
  "idType": "node-start",
  "type": "Start Node",
  "position": {
    "x": 100,
    "y": 300
  },
  "data": {
    "label": "Start",
    "description": "The starting node of the workflow, used to define the business variable information required for process invocation.",
    "nodeMeta": {
      "nodeType": "Basic Node",
      "aliasName": "Start Node"
    },
    "inputs": [],
    "outputs": [
      {
        "id": "",
        "name": "AGENT_USER_INPUT",
        "deleteDisabled": true,
        "required": true,
        "schema": {
          "type": "string",
          "default": "User input of the current conversation round"
        }
      }
    ],
    "nodeParam": {},
    "allowInputReference": false,
    "allowOutputReference": true,
    "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png"
  }
}',1,'开始节点','2000-01-01 00:00:00','2025-07-23 15:36:49'),
	 (1653,'WORKFLOW_NODE_TEMPLATE_INNER','1,2','固定节点','{
  "idType": "node-end",
  "type": "End Node",
  "position": {
    "x": 1000,
    "y": 300
  },
  "data": {
    "label": "End",
    "description": "The end node of the workflow, used to output the final result after the workflow execution.",
    "nodeMeta": {
      "nodeType": "Basic Node",
      "aliasName": "End Node"
    },
    "inputs": [
      {
        "id": "",
        "name": "output",
        "schema": {
          "type": "string",
          "value": {
            "type": "ref",
            "content": {}
          }
        }
      }
    ],
    "outputs": [],
    "nodeParam": {
      "outputMode": 1,
      "template": "",
      "streamOutput": true
    },
    "references": [],
    "allowInputReference": true,
    "allowOutputReference": false,
    "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png"
  }
}',1,'结束节点','2000-01-01 00:00:00','2025-07-23 15:36:49'),
	 (1655,'WORKFLOW_NODE_TEMPLATE_INNER','1,2','基础节点','{
    "idType": "spark-llm",
    "nodeType": "Basic Node",
    "aliasName": "Large Model",
    "description": "Based on the input prompt, the selected large language model will be invoked to respond accordingly.",
    "data": {
        "nodeMeta": {
            "nodeType": "Basic Node",
            "aliasName": "Large Model"
        },
        "inputs": [
            {
                "id": "",
                "name": "input",
                "schema": {
                    "type": "string",
                    "value": {
                        "type": "ref",
                        "content": {}
                    }
                }
            }
        ],
        "outputs": [
            {
                "id": "",
                "name": "output",
                "schema": {
                    "type": "string",
                    "default": ""
                }
            }
        ],
        "nodeParam": {
            "maxTokens": 2048,
            "temperature": 0.5,
            "topK": 4,
            "auditing": "default",
            "domain": "4.0Ultra",
            "template": "",
            "model": "spark",
            "serviceId": "bm4",
            "respFormat": 0,
            "llmId": 110,
            "patchId": "0",
            "url": "wss://spark-api.xf-yun.com/v4.0/chat",
            "appId": "d1590f30",
            "uid": "2171",
            "enableChatHistoryV2": {
                "isEnabled": false,
                "rounds": 1
            }
        },
        "references": [],
        "allowInputReference": true,
        "allowOutputReference": true,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png"
    }
}',1,'大模型','2000-01-01 00:00:00','2025-07-23 15:36:50'),
	 (1657,'WORKFLOW_NODE_TEMPLATE_INNER','1,2','基础节点','{
    "idType": "ifly-code",
    "nodeType": "Basic Node",
    "aliasName": "Code",
    "description": "Provides code development capability for developers, currently only supports Python language. Allows parameters to be passed in using defined variables, and the return statement is used to output the result of the function.",
    "data": {
        "nodeMeta": {
            "nodeType": "Tool",
            "aliasName": "Code"
        },
        "inputs": [
            {
                "id": "",
                "name": "input",
                "schema": {
                    "type": "string",
                    "value": {
                        "type": "ref",
                        "content": {}
                    }
                }
            }
        ],
        "outputs": [
            {
                "id": "",
                "name": "key0",
                "schema": {
                    "type": "string",
                    "default": ""
                }
            },
            {
                "id": "",
                "name": "key1",
                "schema": {
                    "type": "array-string",
                    "default": ""
                }
            },
            {
                "id": "",
                "name": "key2",
                "schema": {
                    "type": "object",
                    "default": "",
                    "properties": [
                        {
                            "id": "",
                            "name": "key21",
                            "type": "string",
                            "default": "",
                            "required": true,
                            "nameErrMsg": ""
                        }
                    ]
                }
            }
        ],
        "nodeParam": {
            "code": "def main(input):\\n    ret = {\\n        \\"key0\\": input + \\"hello\\",\\n        \\"key1\\": [\\"hello\\", \\"world\\"],\\n        \\"key2\\": {\\"key21\\": \\"hi\\"}\\n    }\\n    return ret"
        },
        "references": [],
        "allowInputReference": true,
        "allowOutputReference": true,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png"
    }
}',1,'代码','2000-01-01 00:00:00','2025-07-23 15:36:50'),
	 (1659,'WORKFLOW_NODE_TEMPLATE_INNER','1,2','基础节点','{
    "idType": "knowledge-base",
    "nodeType": "Basic Node",
    "aliasName": "Knowledge Base",
    "description": "Calls the knowledge base and allows specifying a knowledge repository for information retrieval and response.",
    "data": {
        "nodeMeta": {
            "nodeType": "Tool",
            "aliasName": "Knowledge Base"
        },
        "inputs": [
            {
                "id": "",
                "name": "query",
                "schema": {
                    "type": "string",
                    "value": {
                        "type": "ref",
                        "content": {}
                    }
                }
            }
        ],
        "outputs": [
            {
                "id": "",
                "name": "results",
                "schema": {
                    "type": "array-object",
                    "properties": [
                        {
                            "id": "",
                            "name": "score",
                            "type": "number",
                            "default": "",
                            "required": true,
                            "nameErrMsg": ""
                        },
                        {
                            "id": "",
                            "name": "docId",
                            "type": "string",
                            "default": "",
                            "required": true,
                            "nameErrMsg": ""
                        },
                        {
                            "id": "",
                            "name": "title",
                            "type": "string",
                            "default": "",
                            "required": true,
                            "nameErrMsg": ""
                        },
                        {
                            "id": "",
                            "name": "content",
                            "type": "string",
                            "default": "",
                            "required": true,
                            "nameErrMsg": ""
                        },
                        {
                            "id": "",
                            "name": "context",
                            "type": "string",
                            "default": "",
                            "required": true,
                            "nameErrMsg": ""
                        },
                        {
                            "id": "",
                            "name": "references",
                            "type": "object",
                            "default": "",
                            "required": true,
                            "nameErrMsg": ""
                        }
                    ]
                },
                "required": true,
                "nameErrMsg": ""
            }
        ],
        "nodeParam": {
            "repoId": [],
            "repoList": [],
            "topN": 3
        },
        "references": [],
        "allowInputReference": true,
        "allowOutputReference": true,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/knowledgeIcon.png"
    }
}',1,'知识库','2000-01-01 00:00:00','2025-07-23 15:36:50'),
	 (1661,'WORKFLOW_NODE_TEMPLATE_INNER','1,2','工具','{
    "idType": "flow",
    "nodeType": "Tool",
    "aliasName": "Workflow",
    "description": "Quickly integrate published workflows for efficient reuse of existing capabilities.",
    "data": {
        "nodeMeta": {
            "nodeType": "Tool",
            "aliasName": "Workflow"
        },
        "inputs": [],
        "outputs": [],
        "nodeParam": {
            "appId": "",
            "flowId": "",
            "uid": ""
        },
        "references": [],
        "allowInputReference": true,
        "allowOutputReference": true,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/flow-icon.png"
    }
}',1,'工作流','2000-01-01 00:00:00','2025-07-23 15:36:50'),
	 (1663,'WORKFLOW_NODE_TEMPLATE_INNER','1,2','逻辑','{
    "idType": "decision-making",
    "nodeType": "Basic Node",
    "aliasName": "Decision",
    "description": "Determine the subsequent logic path based on input parameters and the specified intents.",
    "data": {
        "nodeMeta": {
            "nodeType": "Basic Node",
            "aliasName": "Decision"
        },
        "nodeParam": {
            "maxTokens": 2048,
            "temperature": 0.5,
            "topK": 4,
            "auditing": "default",
            "domain": "4.0Ultra",
            "llmId": 110,
            "enableChatHistoryV2": {
                "isEnabled": false,
                "rounds": 1
            },
            "uid": "2171",
            "intentChains": [
                {
                    "intentType": 2,
                    "name": "",
                    "description": "",
                    "id": "intent-one-of::4724514d-ffc8-4412-bf7f-13cc3375110d"
                },
                {
                    "intentType": 1,
                    "name": "default",
                    "description": "Default intent",
                    "id": "intent-one-of::506841e4-3f6c-40b1-a804-dc5ffe723b34"
                }
            ],
            "reasonMode": 1,
            "model": "spark",
            "useFunctionCall": true,
            "serviceId": "bm4",
            "promptPrefix": "",
            "patchId": "0",
            "url": "wss://spark-api.xf-yun.com/v4.0/chat",
            "appId": "d1590f30"
        },
        "inputs": [
            {
                "id": "",
                "name": "Query",
                "schema": {
                    "type": "string",
                    "value": {
                        "type": "ref",
                        "content": {}
                    }
                }
            }
        ],
        "outputs": [
            {
                "id": "",
                "name": "class_name",
                "schema": {
                    "type": "string",
                    "default": ""
                }
            }
        ],
        "references": [],
        "allowInputReference": true,
        "allowOutputReference": true,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/designMakeIcon.png"
    }
}',1,'决策','2000-01-01 00:00:00','2025-07-23 15:45:05'),
	 (1665,'WORKFLOW_NODE_TEMPLATE_INNER','1,2','逻辑','{
    "idType": "if-else",
    "nodeType": "Branch",
    "aliasName": "Branch",
    "description": "Determine the branch path based on the defined conditions",
    "data": {
        "nodeMeta": {
            "nodeType": "Branch",
            "aliasName": "Branch"
        },
        "nodeParam": {
            "cases": [
                {
                    "id": "branch_one_of::",
                    "level": 1,
                    "logicalOperator": "and",
                    "conditions": [
                        {
                            "id": "",
                            "leftVarIndex": null,
                            "rightVarIndex": null,
                            "compareOperator": null
                        }
                    ]
                },
                {
                    "id": "branch_one_of::",
                    "level": 999,
                    "logicalOperator": "and",
                    "conditions": []
                }
            ]
        },
        "inputs": [
            {
                "id": "",
                "name": "input",
                "schema": {
                    "type": "string",
                    "value": {
                        "type": "ref",
                        "content": {
                            "nodeId": "",
                            "name": ""
                        }
                    }
                }
            },
            {
                "id": "",
                "name": "input1",
                "schema": {
                    "type": "string",
                    "value": {
                        "type": "ref",
                        "content": {
                            "nodeId": "",
                            "name": ""
                        }
                    }
                }
            }
        ],
        "outputs": [],
        "references": [],
        "allowInputReference": true,
        "allowOutputReference": false,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/if-else-node-icon.png"
    }
}',1,'分支器','2000-01-01 00:00:00','2025-07-23 15:45:05'),
	 (1667,'WORKFLOW_NODE_TEMPLATE_INNER','1,2','逻辑','{
    "idType": "iteration",
    "nodeType": "Basic Node",
    "aliasName": "Iteration",
    "description": "This node is used to handle loop logic and supports only one level of nesting",
    "data": {
        "nodeMeta": {
            "nodeType": "Basic Node",
            "aliasName": "Iteration"
        },
        "nodeParam": {},
        "inputs": [
            {
                "id": "",
                "name": "input",
                "schema": {
                    "type": "",
                    "value": {
                        "type": "ref",
                        "content": {}
                    }
                }
            }
        ],
        "outputs": [
            {
                "id": "",
                "name": "output",
                "schema": {
                    "type": "array-string",
                    "default": ""
                }
            }
        ],
        "iteratorNodes": [],
        "iteratorEdges": [],
        "references": [],
        "allowInputReference": true,
        "allowOutputReference": true,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/iteration-icon.png"
    }
}',1,'迭代','2000-01-01 00:00:00','2025-07-23 15:45:05'),
	 (1669,'WORKFLOW_NODE_TEMPLATE_INNER','1,2','转换','{
    "idType": "node-variable",
    "nodeType": "Basic Node",
    "aliasName": "Variable Storage",
    "description": "Allows setting multiple variables for long-term data storage, which remains effective and updates persistently",
    "data": {
        "nodeMeta": {
            "nodeType": "Basic Node",
            "aliasName": "Variable Storage"
        },
        "nodeParam": {
            "method": "set"
        },
        "inputs": [
            {
                "id": "",
                "name": "input",
                "schema": {
                    "type": "string",
                    "value": {
                        "type": "ref",
                        "content": {}
                    }
                }
            }
        ],
        "outputs": [],
        "references": [],
        "allowInputReference": true,
        "allowOutputReference": true,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png"
    }
}',1,'变量存储器','2000-01-01 00:00:00','2025-07-23 15:45:05'),
	 (1671,'WORKFLOW_NODE_TEMPLATE_INNER','1,2','转换','{
    "idType": "extractor-parameter",
    "nodeType": "Basic Node",
    "aliasName": "Variable Extractor",
    "description": "Extracts natural language content from the output of the previous node based on variable extraction descriptions",
    "data": {
        "nodeMeta": {
            "nodeType": "Basic Node",
            "aliasName": "Variable Extractor"
        },
        "nodeParam": {
            "maxTokens": 2048,
            "temperature": 0.5,
            "topK": 4,
            "auditing": "default",
            "domain": "4.0Ultra",
            "llmId": 110,
            "model": "spark",
            "serviceId": "bm4",
            "patchId": "0",
            "url": "wss://spark-api.xf-yun.com/v4.0/chat",
            "appId": "d1590f30",
            "uid": "2171",
            "reasonMode": 1
        },
        "inputs": [
            {
                "id": "",
                "name": "input",
                "schema": {
                    "type": "string",
                    "value": {
                        "type": "ref",
                        "content": {}
                    }
                }
            }
        ],
        "outputs": [
            {
                "id": "",
                "name": "output",
                "schema": {
                    "type": "string",
                    "description": ""
                },
                "required": true
            }
        ],
        "references": [],
        "allowInputReference": true,
        "allowOutputReference": true,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-extractor-icon.png"
    }
}',1,'变量提取器','2000-01-01 00:00:00','2025-07-23 15:45:05'),
	 (1673,'WORKFLOW_NODE_TEMPLATE_INNER','1,2','转换','{
    "idType": "text-joiner",
    "nodeType": "Tool",
    "aliasName": "Text Processing Node",
    "description": "Used to process multiple string variables according to specified formatting rules",
    "data": {
        "nodeMeta": {
            "nodeType": "Tool",
            "aliasName": "Text Joiner"
        },
        "nodeParam": {
            "prompt": ""
        },
        "inputs": [
            {
                "id": "",
                "name": "input",
                "schema": {
                    "type": "string",
                    "value": {
                        "type": "ref",
                        "content": {}
                    }
                }
            }
        ],
        "outputs": [
            {
                "id": "",
                "name": "output",
                "schema": {
                    "type": "string"
                }
            }
        ],
        "references": [],
        "allowInputReference": true,
        "allowOutputReference": true,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/text-splicing-icon.png"
    }
}',1,'文本处理节点','2000-01-01 00:00:00','2025-07-23 15:45:05'),
	 (1675,'WORKFLOW_NODE_TEMPLATE_INNER','1,2','其他','{
    "idType": "message",
    "nodeType": "Basic Node",
    "aliasName": "Message",
    "description": "Used to output intermediate results during workflow execution",
    "data": {
        "nodeMeta": {
            "nodeType": "Basic Node",
            "aliasName": "Message"
        },
        "nodeParam": {
            "template": "",
            "startFrameEnabled": false
        },
        "inputs": [
            {
                "id": "",
                "name": "input",
                "schema": {
                    "type": "string",
                    "value": {
                        "type": "ref",
                        "content": {}
                    }
                }
            }
        ],
        "outputs": [
            {
                "id": "",
                "name": "output_m",
                "schema": {
                    "type": "string"
                }
            }
        ],
        "references": [],
        "allowInputReference": true,
        "allowOutputReference": false,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/message-node-icon.png"
    }
}',1,'消息','2000-01-01 00:00:00','2025-07-23 15:45:06'),
	 (1677,'WORKFLOW_NODE_TEMPLATE_INNER','1,2','工具','{
    "idType": "plugin",
    "nodeType": "Tool",
    "aliasName": "Tool",
    "description": "Quickly acquire skills by integrating external tools to meet user needs",
    "data": {
        "nodeMeta": {
            "nodeType": "Tool",
            "aliasName": "Tool"
        },
        "inputs": [],
        "outputs": [],
        "nodeParam": {
            "appId": "4eea957b",
            "code": ""
        },
        "references": [],
        "allowInputReference": true,
        "allowOutputReference": true,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png"
    }
}',1,'工具','2000-01-01 00:00:00','2025-07-23 15:45:06'),
	 (1679,'WORKFLOW_NODE_TEMPLATE_INNER','1,2','逻辑','{
  "aliasName": "Agent Intelligent Decision",
  "idType": "agent",
  "data": {
    "outputs": [
      {
        "id": "",
        "customParameterType": "deepseekr1",
        "name": "REASONING_CONTENT",
        "nameErrMsg": "",
        "schema": {
          "default": "Model reasoning process",
          "type": "string"
        }
      },
      {
        "id": "",
        "name": "output",
        "nameErrMsg": "",
        "schema": {
          "default": "",
          "type": "string"
        }
      }
    ],
    "references": [],
    "allowInputReference": true,
    "inputs": [
      {
        "schema": {
          "type": "string",
          "value": {
            "type": "ref",
            "content": {}
          }
        },
        "name": "input",
        "id": ""
      }
    ],
    "icon": "https://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/agent.png",
    "allowOutputReference": true,
    "nodeMeta": {
      "aliasName": "Agent Node",
      "nodeType": "Agent Node"
    },
    "nodeParam": {
      "appId": "",
      "serviceId": "xdeepseekv3",
      "enableChatHistoryV2": {
        "isEnabled": false,
        "rounds": 1
      },
      "modelConfig": {
        "domain": "xdeepseekv3",
        "api": "wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat",
        "agentStrategy": 1
      },
      "instruction": {
        "reasoning": "",
        "answer": "",
        "query": ""
      },
      "plugin": {
        "tools": [],
        "toolsList": [],
        "mcpServerIds": [],
        "mcpServerUrls": [],
        "workflowIds": []
      },
      "maxLoopCount": 10
    }
  },
  "description": "According to task requirements, realize intelligent scheduling of large models by selecting an appropriate tool list",
  "nodeType": "Basic Node"
}',1,'agent','2000-01-01 00:00:00','2025-07-23 15:45:06'),
	 (1681,'WORKFLOW_NODE_TEMPLATE_INNER_PRE','1,2','固定节点','{
  "idType": "node-start",
  "type": "Start Node",
  "position": {
    "x": 100,
    "y": 300
  },
  "data": {
    "label": "Start",
    "description": "The starting node of the workflow, used to define the business variable information required for process invocation.",
    "nodeMeta": {
      "nodeType": "Basic Node",
      "aliasName": "Start Node"
    },
    "inputs": [],
    "outputs": [
      {
        "id": "",
        "name": "AGENT_USER_INPUT",
        "deleteDisabled": true,
        "required": true,
        "schema": {
          "type": "string",
          "default": "User input of the current conversation round"
        }
      }
    ],
    "nodeParam": {},
    "allowInputReference": false,
    "allowOutputReference": true,
    "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png"
  }
}',1,'开始节点','2000-01-01 00:00:00','2025-07-23 15:36:49'),
	 (1683,'WORKFLOW_NODE_TEMPLATE_INNER_PRE','1,2','固定节点','{
  "idType": "node-end",
  "type": "End Node",
  "position": {
    "x": 1000,
    "y": 300
  },
  "data": {
    "label": "End",
    "description": "The end node of the workflow, used to output the final result after the workflow execution.",
    "nodeMeta": {
      "nodeType": "Basic Node",
      "aliasName": "End Node"
    },
    "inputs": [
      {
        "id": "",
        "name": "output",
        "schema": {
          "type": "string",
          "value": {
            "type": "ref",
            "content": {}
          }
        }
      }
    ],
    "outputs": [],
    "nodeParam": {
      "outputMode": 1,
      "template": "",
      "streamOutput": true
    },
    "references": [],
    "allowInputReference": true,
    "allowOutputReference": false,
    "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png"
  }
}',1,'结束节点','2000-01-01 00:00:00','2025-07-23 15:36:49'),
	 (1685,'WORKFLOW_NODE_TEMPLATE_INNER_PRE','1,2','基础节点','{
    "idType": "spark-llm",
    "nodeType": "Basic Node",
    "aliasName": "Large Model",
    "description": "Based on the input prompt, the selected large language model will be invoked to respond accordingly.",
    "data": {
        "nodeMeta": {
            "nodeType": "Basic Node",
            "aliasName": "Large Model"
        },
        "inputs": [
            {
                "id": "",
                "name": "input",
                "schema": {
                    "type": "string",
                    "value": {
                        "type": "ref",
                        "content": {}
                    }
                }
            }
        ],
        "outputs": [
            {
                "id": "",
                "name": "output",
                "schema": {
                    "type": "string",
                    "default": ""
                }
            }
        ],
        "nodeParam": {
            "maxTokens": 2048,
            "temperature": 0.5,
            "topK": 4,
            "auditing": "default",
            "domain": "4.0Ultra",
            "template": "",
            "model": "spark",
            "serviceId": "bm4",
            "respFormat": 0,
            "llmId": 110,
            "patchId": "0",
            "url": "wss://spark-api.xf-yun.com/v4.0/chat",
            "appId": "d1590f30",
            "uid": "2171",
            "enableChatHistoryV2": {
                "isEnabled": false,
                "rounds": 1
            }
        },
        "references": [],
        "allowInputReference": true,
        "allowOutputReference": true,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png"
    }
}',1,'大模型','2000-01-01 00:00:00','2025-07-23 15:36:49'),
	 (1687,'WORKFLOW_NODE_TEMPLATE_INNER_PRE','1,2','基础节点','{
    "idType": "ifly-code",
    "nodeType": "Basic Node",
    "aliasName": "Code",
    "description": "Provides code development capability for developers, currently only supports Python language. Allows parameters to be passed in using defined variables, and the return statement is used to output the result of the function.",
    "data": {
        "nodeMeta": {
            "nodeType": "Tool",
            "aliasName": "Code"
        },
        "inputs": [
            {
                "id": "",
                "name": "input",
                "schema": {
                    "type": "string",
                    "value": {
                        "type": "ref",
                        "content": {}
                    }
                }
            }
        ],
        "outputs": [
            {
                "id": "",
                "name": "key0",
                "schema": {
                    "type": "string",
                    "default": ""
                }
            },
            {
                "id": "",
                "name": "key1",
                "schema": {
                    "type": "array-string",
                    "default": ""
                }
            },
            {
                "id": "",
                "name": "key2",
                "schema": {
                    "type": "object",
                    "default": "",
                    "properties": [
                        {
                            "id": "",
                            "name": "key21",
                            "type": "string",
                            "default": "",
                            "required": true,
                            "nameErrMsg": ""
                        }
                    ]
                }
            }
        ],
        "nodeParam": {
            "code": "def main(input):\\n    ret = {\\n        \\"key0\\": input + \\"hello\\",\\n        \\"key1\\": [\\"hello\\", \\"world\\"],\\n        \\"key2\\": {\\"key21\\": \\"hi\\"}\\n    }\\n    return ret"
        },
        "references": [],
        "allowInputReference": true,
        "allowOutputReference": true,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png"
    }
}',1,'代码','2000-01-01 00:00:00','2025-07-23 15:36:49'),
	 (1689,'WORKFLOW_NODE_TEMPLATE_INNER_PRE','1,2','基础节点','{
    "idType": "knowledge-base",
    "nodeType": "Basic Node",
    "aliasName": "Knowledge Base",
    "description": "Calls the knowledge base and allows specifying a knowledge repository for information retrieval and response.",
    "data": {
        "nodeMeta": {
            "nodeType": "Tool",
            "aliasName": "Knowledge Base"
        },
        "inputs": [
            {
                "id": "",
                "name": "query",
                "schema": {
                    "type": "string",
                    "value": {
                        "type": "ref",
                        "content": {}
                    }
                }
            }
        ],
        "outputs": [
            {
                "id": "",
                "name": "results",
                "schema": {
                    "type": "array-object",
                    "properties": [
                        {
                            "id": "",
                            "name": "score",
                            "type": "number",
                            "default": "",
                            "required": true,
                            "nameErrMsg": ""
                        },
                        {
                            "id": "",
                            "name": "docId",
                            "type": "string",
                            "default": "",
                            "required": true,
                            "nameErrMsg": ""
                        },
                        {
                            "id": "",
                            "name": "title",
                            "type": "string",
                            "default": "",
                            "required": true,
                            "nameErrMsg": ""
                        },
                        {
                            "id": "",
                            "name": "content",
                            "type": "string",
                            "default": "",
                            "required": true,
                            "nameErrMsg": ""
                        },
                        {
                            "id": "",
                            "name": "context",
                            "type": "string",
                            "default": "",
                            "required": true,
                            "nameErrMsg": ""
                        },
                        {
                            "id": "",
                            "name": "references",
                            "type": "object",
                            "default": "",
                            "required": true,
                            "nameErrMsg": ""
                        }
                    ]
                },
                "required": true,
                "nameErrMsg": ""
            }
        ],
        "nodeParam": {
            "repoId": [],
            "repoList": [],
            "topN": 3
        },
        "references": [],
        "allowInputReference": true,
        "allowOutputReference": true,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/knowledgeIcon.png"
    }
}',1,'知识库','2000-01-01 00:00:00','2025-07-23 15:36:49'),
	 (1691,'WORKFLOW_NODE_TEMPLATE_INNER_PRE','1,2','工具','{
    "idType": "plugin",
    "nodeType": "Tool",
    "aliasName": "Tool",
    "description": "Quickly acquire skills by integrating external tools to meet user needs",
    "data": {
        "nodeMeta": {
            "nodeType": "Tool",
            "aliasName": "Tool"
        },
        "inputs": [],
        "outputs": [],
        "nodeParam": {
            "appId": "4eea957b",
            "code": ""
        },
        "references": [],
        "allowInputReference": true,
        "allowOutputReference": true,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png"
    }
}',1,'工具','2000-01-01 00:00:00','2025-07-23 15:45:05'),
	 (1693,'WORKFLOW_NODE_TEMPLATE_INNER_PRE','1,2','工具','{
    "idType": "flow",
    "nodeType": "Tool",
    "aliasName": "Workflow",
    "description": "Quickly integrate published workflows for efficient reuse of existing capabilities.",
    "data": {
        "nodeMeta": {
            "nodeType": "Tool",
            "aliasName": "Workflow"
        },
        "inputs": [],
        "outputs": [],
        "nodeParam": {
            "appId": "",
            "flowId": "",
            "uid": ""
        },
        "references": [],
        "allowInputReference": true,
        "allowOutputReference": true,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/flow-icon.png"
    }
}',1,'工作流','2000-01-01 00:00:00','2025-07-23 15:36:49'),
	 (1695,'WORKFLOW_NODE_TEMPLATE_INNER_PRE','1,2','逻辑','{
    "idType": "decision-making",
    "nodeType": "Basic Node",
    "aliasName": "Decision",
    "description": "Determine the subsequent logic path based on input parameters and the specified intents.",
    "data": {
        "nodeMeta": {
            "nodeType": "Basic Node",
            "aliasName": "Decision"
        },
        "nodeParam": {
            "maxTokens": 2048,
            "temperature": 0.5,
            "topK": 4,
            "auditing": "default",
            "domain": "4.0Ultra",
            "llmId": 110,
            "enableChatHistoryV2": {
                "isEnabled": false,
                "rounds": 1
            },
            "uid": "2171",
            "intentChains": [
                {
                    "intentType": 2,
                    "name": "",
                    "description": "",
                    "id": "intent-one-of::4724514d-ffc8-4412-bf7f-13cc3375110d"
                },
                {
                    "intentType": 1,
                    "name": "default",
                    "description": "Default intent",
                    "id": "intent-one-of::506841e4-3f6c-40b1-a804-dc5ffe723b34"
                }
            ],
            "reasonMode": 1,
            "model": "spark",
            "useFunctionCall": true,
            "serviceId": "bm4",
            "promptPrefix": "",
            "patchId": "0",
            "url": "wss://spark-api.xf-yun.com/v4.0/chat",
            "appId": "d1590f30"
        },
        "inputs": [
            {
                "id": "",
                "name": "Query",
                "schema": {
                    "type": "string",
                    "value": {
                        "type": "ref",
                        "content": {}
                    }
                }
            }
        ],
        "outputs": [
            {
                "id": "",
                "name": "class_name",
                "schema": {
                    "type": "string",
                    "default": ""
                }
            }
        ],
        "references": [],
        "allowInputReference": true,
        "allowOutputReference": true,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/designMakeIcon.png"
    }
}',1,'决策','2000-01-01 00:00:00','2025-07-23 15:45:05'),
	 (1697,'WORKFLOW_NODE_TEMPLATE_INNER_PRE','1,2','逻辑','{
    "idType": "if-else",
    "nodeType": "Branch",
    "aliasName": "Branch",
    "description": "Determine the branch path based on the defined conditions",
    "data": {
        "nodeMeta": {
            "nodeType": "Branch",
            "aliasName": "Branch"
        },
        "nodeParam": {
            "cases": [
                {
                    "id": "branch_one_of::",
                    "level": 1,
                    "logicalOperator": "and",
                    "conditions": [
                        {
                            "id": "",
                            "leftVarIndex": null,
                            "rightVarIndex": null,
                            "compareOperator": null
                        }
                    ]
                },
                {
                    "id": "branch_one_of::",
                    "level": 999,
                    "logicalOperator": "and",
                    "conditions": []
                }
            ]
        },
        "inputs": [
            {
                "id": "",
                "name": "input",
                "schema": {
                    "type": "string",
                    "value": {
                        "type": "ref",
                        "content": {
                            "nodeId": "",
                            "name": ""
                        }
                    }
                }
            },
            {
                "id": "",
                "name": "input1",
                "schema": {
                    "type": "string",
                    "value": {
                        "type": "ref",
                        "content": {
                            "nodeId": "",
                            "name": ""
                        }
                    }
                }
            }
        ],
        "outputs": [],
        "references": [],
        "allowInputReference": true,
        "allowOutputReference": false,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/if-else-node-icon.png"
    }
}',1,'分支器','2000-01-01 00:00:00','2025-07-23 15:45:05'),
	 (1699,'WORKFLOW_NODE_TEMPLATE_INNER_PRE','1,2','逻辑','{
    "idType": "iteration",
    "nodeType": "Basic Node",
    "aliasName": "Iteration",
    "description": "This node is used to handle loop logic and supports only one level of nesting",
    "data": {
        "nodeMeta": {
            "nodeType": "Basic Node",
            "aliasName": "Iteration"
        },
        "nodeParam": {},
        "inputs": [
            {
                "id": "",
                "name": "input",
                "schema": {
                    "type": "",
                    "value": {
                        "type": "ref",
                        "content": {}
                    }
                }
            }
        ],
        "outputs": [
            {
                "id": "",
                "name": "output",
                "schema": {
                    "type": "array-string",
                    "default": ""
                }
            }
        ],
        "iteratorNodes": [],
        "iteratorEdges": [],
        "references": [],
        "allowInputReference": true,
        "allowOutputReference": true,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/iteration-icon.png"
    }
}',1,'迭代','2000-01-01 00:00:00','2025-07-23 15:45:05'),
	 (1701,'WORKFLOW_NODE_TEMPLATE_INNER_PRE','1,2','转换','{
    "idType": "node-variable",
    "nodeType": "Basic Node",
    "aliasName": "Variable Storage",
    "description": "Allows setting multiple variables for long-term data storage, which remains effective and updates persistently",
    "data": {
        "nodeMeta": {
            "nodeType": "Basic Node",
            "aliasName": "Variable Storage"
        },
        "nodeParam": {
            "method": "set"
        },
        "inputs": [
            {
                "id": "",
                "name": "input",
                "schema": {
                    "type": "string",
                    "value": {
                        "type": "ref",
                        "content": {}
                    }
                }
            }
        ],
        "outputs": [],
        "references": [],
        "allowInputReference": true,
        "allowOutputReference": true,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png"
    }
}',1,'变量存储器','2000-01-01 00:00:00','2025-07-23 15:45:05'),
	 (1703,'WORKFLOW_NODE_TEMPLATE_INNER_PRE','1,2','转换','{
    "idType": "extractor-parameter",
    "nodeType": "Basic Node",
    "aliasName": "Variable Extractor",
    "description": "Extracts natural language content from the output of the previous node based on variable extraction descriptions",
    "data": {
        "nodeMeta": {
            "nodeType": "Basic Node",
            "aliasName": "Variable Extractor"
        },
        "nodeParam": {
            "maxTokens": 2048,
            "temperature": 0.5,
            "topK": 4,
            "auditing": "default",
            "domain": "4.0Ultra",
            "llmId": 110,
            "model": "spark",
            "serviceId": "bm4",
            "patchId": "0",
            "url": "wss://spark-api.xf-yun.com/v4.0/chat",
            "appId": "d1590f30",
            "uid": "2171",
            "reasonMode": 1
        },
        "inputs": [
            {
                "id": "",
                "name": "input",
                "schema": {
                    "type": "string",
                    "value": {
                        "type": "ref",
                        "content": {}
                    }
                }
            }
        ],
        "outputs": [
            {
                "id": "",
                "name": "output",
                "schema": {
                    "type": "string",
                    "description": ""
                },
                "required": true
            }
        ],
        "references": [],
        "allowInputReference": true,
        "allowOutputReference": true,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-extractor-icon.png"
    }
}',1,'变量提取器','2000-01-01 00:00:00','2025-07-23 15:45:05'),
	 (1705,'WORKFLOW_NODE_TEMPLATE_INNER_PRE','1,2','转换','{
    "idType": "text-joiner",
    "nodeType": "Tool",
    "aliasName": "Text Processing Node",
    "description": "Used to process multiple string variables according to specified formatting rules",
    "data": {
        "nodeMeta": {
            "nodeType": "Tool",
            "aliasName": "Text Joiner"
        },
        "nodeParam": {
            "prompt": ""
        },
        "inputs": [
            {
                "id": "",
                "name": "input",
                "schema": {
                    "type": "string",
                    "value": {
                        "type": "ref",
                        "content": {}
                    }
                }
            }
        ],
        "outputs": [
            {
                "id": "",
                "name": "output",
                "schema": {
                    "type": "string"
                }
            }
        ],
        "references": [],
        "allowInputReference": true,
        "allowOutputReference": true,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/text-splicing-icon.png"
    }
}',1,'文本处理节点','2000-01-01 00:00:00','2025-07-23 15:45:05'),
	 (1707,'WORKFLOW_NODE_TEMPLATE_INNER_PRE','1,2','其他','{
    "idType": "message",
    "nodeType": "Basic Node",
    "aliasName": "Message",
    "description": "Used to output intermediate results during workflow execution",
    "data": {
        "nodeMeta": {
            "nodeType": "Basic Node",
            "aliasName": "Message"
        },
        "nodeParam": {
            "template": "",
            "startFrameEnabled": false
        },
        "inputs": [
            {
                "id": "",
                "name": "input",
                "schema": {
                    "type": "string",
                    "value": {
                        "type": "ref",
                        "content": {}
                    }
                }
            }
        ],
        "outputs": [
            {
                "id": "",
                "name": "output_m",
                "schema": {
                    "type": "string"
                }
            }
        ],
        "references": [],
        "allowInputReference": true,
        "allowOutputReference": false,
        "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/message-node-icon.png"
    }
}',1,'消息','2000-01-01 00:00:00','2025-07-23 15:45:05'),
	 (1709,'WORKFLOW_NODE_TEMPLATE_INNER_PRE','1,2','逻辑','{
  "aliasName": "Agent Intelligent Decision",
  "idType": "agent",
  "data": {
    "outputs": [
      {
        "id": "",
        "customParameterType": "deepseekr1",
        "name": "REASONING_CONTENT",
        "nameErrMsg": "",
        "schema": {
          "default": "Model reasoning process",
          "type": "string"
        }
      },
      {
        "id": "",
        "name": "output",
        "nameErrMsg": "",
        "schema": {
          "default": "",
          "type": "string"
        }
      }
    ],
    "references": [],
    "allowInputReference": true,
    "inputs": [
      {
        "schema": {
          "type": "string",
          "value": {
            "type": "ref",
            "content": {}
          }
        },
        "name": "input",
        "id": ""
      }
    ],
    "icon": "https://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/agent.png",
    "allowOutputReference": true,
    "nodeMeta": {
      "aliasName": "Agent Node",
      "nodeType": "Agent Node"
    },
    "nodeParam": {
      "appId": "",
      "serviceId": "xdeepseekv3",
      "enableChatHistoryV2": {
        "isEnabled": false,
        "rounds": 1
      },
      "modelConfig": {
        "domain": "xdeepseekv3",
        "api": "wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat",
        "agentStrategy": 1
      },
      "instruction": {
        "reasoning": "",
        "answer": "",
        "query": ""
      },
      "plugin": {
        "tools": [],
        "toolsList": [],
        "mcpServerIds": [],
        "mcpServerUrls": [],
        "workflowIds": []
      },
      "maxLoopCount": 10
    }
  },
  "description": "According to task requirements, realize intelligent scheduling of large models by selecting an appropriate tool list",
  "nodeType": "Basic Node"
}',1,'agent','2000-01-01 00:00:00','2025-07-23 15:45:05'),
	 (1711,'SPECIAL_MODEL','10000012','dsv3t128k','{
    "llmSource": 1,
    "llmId": 10000012,
    "id": 10000012,
    "name": "星火128k",
    "patchId": "0",
    "domain": "xdsv3t128k",
    "modelType": 2,
    "licChannel":"xdsv3t128k",
    "serviceId": "xdsv3t128k",
    "status": 1,
    "info": "",
    "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/aicloud/llm/resource/image/model/icon_iflyspark_96.png",
    "tag":
    [],
    "url": "wss://maas-long-context-api.cn-huabei-1.xf-yun.com/v1.1/chat",
    "modelId": 0
}',1,'','2000-01-01 00:00:00','2025-07-09 14:31:21'),
	 (1713,'SPECIAL_MODEL_CONFIG','10000012','dsv3t128k','{
        "id": 2431162637211654,
        "name": "DeepSeek-V3",
        "serviceId": "xdsv3t128k",
        "serverId": "xdsv3t128k",
        "domain": null,
        "patchId": "0",
        "type": 1,
        "config":
        {
            "serviceIdkeys":
            [
                "xdsv3t128k"
            ],
            "serviceBlock":
            {
                "xdsv3t128k":
                [
                    {
                        "fields":
                        [
                            {
                                "constraintType": "range",
                                "default": 8192,
                                "constraintContent":
                                [
                                    {
                                        "name": 1
                                    },
                                    {
                                        "name": 65535
                                    }
                                ],
                                "name": "Max tokens",
                                "revealed": true,
                                "support": true,
                                "fieldType": "int",
                                "initialValue": 65535,
                                "key": "max_tokens",
                                "required": true,
                                "desc": "最大回复长度：最小值是1, 最大值是65535。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"
                            },
                            {
                                "constraintContent":
                                [
                                    {
                                        "name": 0.1
                                    },
                                    {
                                        "name": 1.0
                                    }
                                ],
                                "precision": 0.1,
                                "accuracy": 1,
                                "required": true,
                                "constraintType": "range",
                                "default": 0.5,
                                "name": "Temperature",
                                "revealed": true,
                                "step": 0.1,
                                "support": true,
                                "fieldType": "float",
                                "initialValue": 0.5,
                                "key": "temperature",
                                "desc": "核采样阈值：取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"
                            },
                            {
                                "constraintType": "range",
                                "default": 4,
                                "constraintContent":
                                [
                                    {
                                        "name": 1
                                    },
                                    {
                                        "name": 6
                                    }
                                ],
                                "name": "Top_k",
                                "revealed": true,
                                "support": true,
                                "fieldType": "int",
                                "initialValue": 4,
                                "key": "top_k",
                                "required": true,
                                "desc": "生成多样性：调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"
                            },
                            {
                                "constraintType": "switch",
                                "default": false,
                                "constraintContent":
                                [
                                    {
                                        "name": "关",
                                        "label": "关",
                                        "value": true,
                                        "desc": "关"
                                    },
                                    {
                                        "name": "开",
                                        "label": "开",
                                        "value": false,
                                        "desc": "开"
                                    }
                                ],
                                "name": "联网搜索",
                                "revealed": true,
                                "support": true,
                                "fieldType": "boolean",
                                "initialValue": false,
                                "key": "search_disable",
                                "required": false,
                                "desc": "开启联网搜索，默认关闭。"
                            },
                            {
                                "constraintType": "enum",
                                "default": "force",
                                "constraintContent":
                                [
                                    {
                                        "name": "自动",
                                        "label": "default",
                                        "value": "auto",
                                        "desc": "自动判断是否需要搜索"
                                    },
                                    {
                                        "name": "强制开启",
                                        "label": "default",
                                        "value": "force",
                                        "desc": "强制开启搜索"
                                    }
                                ],
                                "name": "搜索模式",
                                "revealed": false,
                                "support": true,
                                "fieldType": "string",
                                "initialValue": "force",
                                "key": "search_mod",
                                "required": false,
                                "desc": "联网搜索的模式，默认自动判断。"
                            },
                            {
                                "constraintType": "enum",
                                "default": false,
                                "constraintContent":
                                [
                                    {
                                        "name": "开",
                                        "label": "default",
                                        "value": true,
                                        "desc": "开"
                                    },
                                    {
                                        "name": "关",
                                        "label": "default",
                                        "value": false,
                                        "desc": "关"
                                    }
                                ],
                                "name": "展示溯源信息",
                                "revealed": false,
                                "support": true,
                                "fieldType": "boolean",
                                "initialValue": false,
                                "key": "show_ref_label",
                                "required": false,
                                "desc": "开启联网搜索后在结果中展示搜索溯源信息，默认关闭。"
                            }
                        ],
                        "key": "generalv3"
                    }
                ]
            },
            "featureBlock":
            {},
            "payloadBlock":
            {},
            "acceptBlock":
            {},
            "protocolType": 1,
            "serviceId": "dsv3t128k",
            "multipleDialog": 1
        },
        "source": 2,
        "url": "wss://maas-long-context-api.cn-huabei-1.xf-yun.com/v1.1/chat",
        "appId": null,
        "licChannel": "xdsv3t128k"
    }
',1,'','2000-01-01 00:00:00','2025-06-26 17:39:30'),
	 (1715,'SELF_MODEL_COMMON_CONFIG','config','自定义模型公共配置','{
    "config":
    [
        {
            "standard": true,
            "constraintType": "range",
            "default": 2048,
            "constraintContent":
            [
                {
                    "name": 1
                },
                {
                    "name": 8192
                }
            ],
            "name": "最大回复长度",
            "fieldType": "int",
            "initialValue": 2048,
            "key": "maxTokens",
            "required": true
        },
        {
            "standard": true,
            "constraintContent":
            [
                {
                    "name": 0
                },
                {
                    "name": 1
                }
            ],
            "precision": 0.1,
            "required": true,
            "constraintType": "range",
            "default": 0.5,
            "name": "核采样阈值",
            "fieldType": "float",
            "initialValue": 0.5,
            "key": "temperature"
        },
        {
            "standard": true,
            "constraintType": "range",
            "default": 4,
            "constraintContent":
            [
                {
                    "name": 1
                },
                {
                    "name": 6
                }
            ],
            "name": "生成多样性",
            "fieldType": "int",
            "initialValue": 4,
            "key": "topK",
            "required": true
        }
    ]
}',1,'','2000-01-01 00:00:00','2025-06-05 19:15:55'),
	 (1717,'WORKFLOW_NODE_TEMPLATE_PRE','1,2','基础节点','{
  "aliasName": "Question and Answer Node",
  "idType": "question-answer",
  "data": {
    "outputs": [
      {
        "schema": {
          "default": "",
          "type": "string",
          "description": "The question content of this node"
        },
        "name": "query",
        "id": "",
        "required": true
      },
      {
        "schema": {
          "default": "",
          "type": "string",
          "description": "User reply content"
        },
        "name": "content",
        "id": "",
        "required": true
      }
    ],
    "references": [],
    "allowInputReference": true,
    "inputs": [
      {
        "schema": {
          "type": "string",
          "value": {
            "type": "ref",
            "content": {}
          }
        },
        "name": "input",
        "id": ""
      }
    ],
    "icon": "https://oss-beijing-m8.openstorage.cn/SparkBot/test4/answer-new2.png",
    "allowOutputReference": true,
    "nodeMeta": {
            "aliasName": "问答节点",
            "nodeType": "基础节点"
        },
    "nodeParam": {
      "question": "",
      "timeout": 3,
      "needReply": false,
      "answerType": "direct",
      "directAnswer": {
        "handleResponse": false,
        "maxRetryCounts": 2
      },
      "optionAnswer": [
        {
          "id": "option-one-of::01a35034-8e7a-4a84-83ee-c51d4cbe2660",
          "name": "A",
          "type": 2,
          "content": "",
          "content_type": "string"
        },
        {
          "id": "option-one-of::1df8b2ac-c228-4195-8978-54f87b1bdbb9",
          "name": "B",
          "type": 2,
          "content": "",
          "content_type": "string"
        },
        {
          "id": "option-one-of::646527fa-a9eb-4216-a324-95fc5601d2bf",
          "name": "default",
          "type": 1,
          "content": "",
          "content_type": "string"
        }
      ],
      "url": "wss://spark-api.xf-yun.com/v4.0/chat",
      "domain": "4.0Ultra",
      "appId": "d1590f30",
      "maxTokens": 2048,
      "temperature": 0.5,
      "topK": 4,
      "model": "spark",
      "llmId": 110,
      "serviceId": "bm4"
    }
  },
  "description": "This node supports asking questions to the user, receiving user responses, and outputting the reply content and extracted information",
  "nodeType": "Basic Node"
}',1,'问答节点','2000-01-01 00:00:00','2025-07-25 16:58:05'),
	 (1719,'SPARK_PRO_QR_CODE','qr_feishu','飞书二维码','https://oss-beijing-m8.openstorage.cn/SparkBot/test4/feishu_qr.jpeg',1,NULL,'2025-04-01 17:51:32','2025-06-05 16:46:35'),
	 (1723,'SPECIAL_MODEL','10000006','xdsv3t128k','{
    "llmSource": 1,
    "llmId": 10000006,
    "id": 10000006,
    "name": "xdsv3t128k",
    "patchId": "0",
    "domain": "xdsv3t128k",
    "serviceId": "xdsv3t128k",
    "status": 1,
    "modelType": 2,
    "licChannel":"xdsv3t128k",
    "info": "",
    "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/aicloud/llm/resource/image/model/icon_iflyspark_96.png",
    "tag":
    [],
    "url": "https://maas-api.cn-huabei-1.xf-yun.com/v2",
    "modelId": 0
}',1,'','2000-01-01 00:00:00','2025-07-09 14:31:21'),
	 (1725,'SPECIAL_MODEL_CONFIG','10000006','xdsv3t128k','{
        "id": 2431162637211655,
        "name": "xdsv3t128k",
        "serviceId": "xdsv3t128k",
        "serverId": "xdsv3t128k",
        "domain": null,
        "patchId": "0",
        "type": 1,
        "config":
        {
            "serviceIdkeys":
            [
                "xdsv3t128k"
            ],
            "serviceBlock":
            {
                "xdsv3t128k":
                [
                    {
                        "fields":
                        [
                            {
                                "constraintType": "range",
                                "default": 8192,
                                "constraintContent":
                                [
                                    {
                                        "name": 1
                                    },
                                    {
                                        "name": 65535
                                    }
                                ],
                                "name": "Max tokens",
                                "revealed": true,
                                "support": true,
                                "fieldType": "int",
                                "initialValue": 8192,
                                "key": "max_tokens",
                                "required": true,
                                "desc": "最大回复长度：最小值是1, 最大值是16384。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"
                            },
                            {
                                "constraintContent":
                                [
                                    {
                                        "name": 0.1
                                    },
                                    {
                                        "name": 1.0
                                    }
                                ],
                                "precision": 0.1,
                                "accuracy": 1,
                                "required": true,
                                "constraintType": "range",
                                "default": 0.5,
                                "name": "Temperature",
                                "revealed": true,
                                "step": 0.1,
                                "support": true,
                                "fieldType": "float",
                                "initialValue": 0.5,
                                "key": "temperature",
                                "desc": "核采样阈值：取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"
                            },
                            {
                                "constraintType": "range",
                                "default": 4,
                                "constraintContent":
                                [
                                    {
                                        "name": 1
                                    },
                                    {
                                        "name": 6
                                    }
                                ],
                                "name": "Top_k",
                                "revealed": true,
                                "support": true,
                                "fieldType": "int",
                                "initialValue": 4,
                                "key": "top_k",
                                "required": true,
                                "desc": "生成多样性：调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"
                            },
                            {
                                "constraintType": "switch",
                                "default": false,
                                "constraintContent":
                                [
                                    {
                                        "name": "关",
                                        "label": "关",
                                        "value": true,
                                        "desc": "关"
                                    },
                                    {
                                        "name": "开",
                                        "label": "开",
                                        "value": false,
                                        "desc": "开"
                                    }
                                ],
                                "name": "联网搜索",
                                "revealed": true,
                                "support": true,
                                "fieldType": "boolean",
                                "initialValue": false,
                                "key": "search_disable",
                                "required": false,
                                "desc": "开启联网搜索，默认关闭。"
                            },
                            {
                                "constraintType": "enum",
                                "default": "force",
                                "constraintContent":
                                [
                                    {
                                        "name": "自动",
                                        "label": "default",
                                        "value": "auto",
                                        "desc": "自动判断是否需要搜索"
                                    },
                                    {
                                        "name": "强制开启",
                                        "label": "default",
                                        "value": "force",
                                        "desc": "强制开启搜索"
                                    }
                                ],
                                "name": "搜索模式",
                                "revealed": false,
                                "support": true,
                                "fieldType": "string",
                                "initialValue": "force",
                                "key": "search_mod",
                                "required": false,
                                "desc": "联网搜索的模式，默认自动判断。"
                            },
                            {
                                "constraintType": "enum",
                                "default": false,
                                "constraintContent":
                                [
                                    {
                                        "name": "开",
                                        "label": "default",
                                        "value": true,
                                        "desc": "开"
                                    },
                                    {
                                        "name": "关",
                                        "label": "default",
                                        "value": false,
                                        "desc": "关"
                                    }
                                ],
                                "name": "展示溯源信息",
                                "revealed": false,
                                "support": true,
                                "fieldType": "boolean",
                                "initialValue": false,
                                "key": "show_ref_label",
                                "required": false,
                                "desc": "开启联网搜索后在结果中展示搜索溯源信息，默认关闭。"
                            }
                        ],
                        "key": "generalv3"
                    }
                ]
            },
            "featureBlock":
            {},
            "payloadBlock":
            {},
            "acceptBlock":
            {},
            "protocolType": 1,
            "serviceId": "xdsv3t128k",
            "multipleDialog": 1
        },
        "source": 1,
        "url": "https://maas-api.cn-huabei-1.xf-yun.com/v2",
        "appId": null,
        "licChannel": "xdsv3t128k"
    }
',1,'','2000-01-01 00:00:00','2025-06-26 17:40:19'),
	 (1731,'MCP_MODEL_API_REFLECT','mcp','x1','https://spark-api-open.xf-yun.com/v2',1,'','2000-01-01 00:00:00','2025-06-10 17:52:48'),
	 (1735,'IP_BLACK_LIST','ip_balck_list','ip黑名单','0.0.0.0,127.0.0.1,localhost',1,NULL,'2022-06-10 00:00:00','2025-06-10 10:49:44'),
	 (1737,'NETWORK_SEGMENT_BLACK_LIST','network_segment_balck_list','网段黑名单','192.168.0.0/16,172.16.0.0/12,10.0.0.0/8,100.64.0.0/10',1,NULL,'2022-06-10 00:00:00','2025-06-10 10:41:51'),
	 (1739,'DOMAIN_BLACK_LIST','domain_balck_list','域名黑名单','cloud.iflytek.com,monojson.com,ssrf.security.private,ssrf-prod.security.private',1,NULL,'2022-06-10 00:00:00','2025-06-13 10:39:27'),
	 (1743,'WORKFLOW_NODE_TEMPLATE','1,2','Basic Node','{
  "aliasName": "Question and Answer Node",
  "idType": "question-answer",
  "data": {
    "outputs": [
      {
        "schema": {
          "default": "",
          "type": "string",
          "description": "The question content of this node"
        },
        "name": "query",
        "id": "",
        "required": true
      },
      {
        "schema": {
          "default": "",
          "type": "string",
          "description": "User reply content"
        },
        "name": "content",
        "id": "",
        "required": true
      }
    ],
    "references": [],
    "allowInputReference": true,
    "inputs": [
      {
        "schema": {
          "type": "string",
          "value": {
            "type": "ref",
            "content": {}
          }
        },
        "name": "input",
        "id": ""
      }
    ],
    "icon": "https://oss-beijing-m8.openstorage.cn/SparkBot/test4/answer-new2.png",
    "allowOutputReference": true,
    "nodeMeta": {
            "aliasName": "问答节点",
            "nodeType": "基础节点"
        },
    "nodeParam": {
      "question": "",
      "timeout": 3,
      "needReply": false,
      "answerType": "direct",
      "directAnswer": {
        "handleResponse": false,
        "maxRetryCounts": 2
      },
      "optionAnswer": [
        {
          "id": "option-one-of::01a35034-8e7a-4a84-83ee-c51d4cbe2660",
          "name": "A",
          "type": 2,
          "content": "",
          "content_type": "string"
        },
        {
          "id": "option-one-of::1df8b2ac-c228-4195-8978-54f87b1bdbb9",
          "name": "B",
          "type": 2,
          "content": "",
          "content_type": "string"
        },
        {
          "id": "option-one-of::646527fa-a9eb-4216-a324-95fc5601d2bf",
          "name": "default",
          "type": 1,
          "content": "",
          "content_type": "string"
        }
      ],
      "url": "wss://spark-api.xf-yun.com/v4.0/chat",
      "domain": "4.0Ultra",
      "appId": "d1590f30",
      "maxTokens": 2048,
      "temperature": 0.5,
      "topK": 4,
      "model": "spark",
      "llmId": 110,
      "serviceId": "bm4"
    }
  },
  "description": "This node supports asking questions to the user, receiving user responses, and outputting the reply content and extracted information",
  "nodeType": "Basic Node"
}',1,'问答节点','2000-01-01 00:00:00','2025-07-28 10:18:24'),
	 (1745,'SPECIAL_MODEL','10000007','xsp8f70988f','{
    "llmSource": 1,
    "llmId": 10000007,
    "id": 10000007,
    "name": "智能硬件专有2.6B模型",
    "patchId": "0",
    "domain": "xsp8f70988f",
    "serviceId": "xsp8f70988f",
    "modelType": 2,
    "licChannel":"xsp8f70988f",
    "status": 1,
    "info": "假设你是一个智能交互助手，基于用户的输入文本，解析其中语义，抽取关键信息，以json格式生成结构化的语义内容。我的输入是：请调小空气净化器的湿度到1",
    "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/aicloud/llm/resource/image/model/icon_iflyspark_96.png",
    "tag":
    [],
    "url": "wss://xingchen-api.cn-huabei-1.xf-yun.com/v1.1/chat",
    "modelId": 0
}',1,'','2000-01-01 00:00:00','2025-07-09 14:31:21'),
	 (1747,'SPECIAL_MODEL_CONFIG','10000007','xsp8f70988f','{
        "id": 2431162637211656,
        "name": "xsp8f70988f",
        "serviceId": "xsp8f70988f",
        "serverId": "xsp8f70988f",
        "domain": null,
        "patchId": "0",
        "type": 1,
        "config":
        {
            "serviceIdkeys":
            [
                "xsp8f70988f"
            ],
            "serviceBlock":
            {
                "xsp8f70988f":
                [
                    {
                        "fields":
                        [
                            {
                                "constraintType": "range",
                                "default": 8192,
                                "constraintContent":
                                [
                                    {
                                        "name": 1
                                    },
                                    {
                                        "name": 16384
                                    }
                                ],
                                "name": "Max tokens",
                                "revealed": true,
                                "support": true,
                                "fieldType": "int",
                                "initialValue": 8192,
                                "key": "max_tokens",
                                "required": true,
                                "desc": "最大回复长度：最小值是1, 最大值是16384。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"
                            },
                            {
                                "constraintContent":
                                [
                                    {
                                        "name": 0.1
                                    },
                                    {
                                        "name": 1.0
                                    }
                                ],
                                "precision": 0.1,
                                "accuracy": 1,
                                "required": true,
                                "constraintType": "range",
                                "default": 0.5,
                                "name": "Temperature",
                                "revealed": true,
                                "step": 0.1,
                                "support": true,
                                "fieldType": "float",
                                "initialValue": 0.5,
                                "key": "temperature",
                                "desc": "核采样阈值：取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"
                            },
                            {
                                "constraintType": "range",
                                "default": 4,
                                "constraintContent":
                                [
                                    {
                                        "name": 1
                                    },
                                    {
                                        "name": 6
                                    }
                                ],
                                "name": "Top_k",
                                "revealed": true,
                                "support": true,
                                "fieldType": "int",
                                "initialValue": 4,
                                "key": "top_k",
                                "required": true,
                                "desc": "生成多样性：调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"
                            },
                            {
                                "constraintType": "switch",
                                "default": false,
                                "constraintContent":
                                [
                                    {
                                        "name": "关",
                                        "label": "关",
                                        "value": true,
                                        "desc": "关"
                                    },
                                    {
                                        "name": "开",
                                        "label": "开",
                                        "value": false,
                                        "desc": "开"
                                    }
                                ],
                                "name": "联网搜索",
                                "revealed": true,
                                "support": true,
                                "fieldType": "boolean",
                                "initialValue": false,
                                "key": "search_disable",
                                "required": false,
                                "desc": "开启联网搜索，默认关闭。"
                            },
                            {
                                "constraintType": "enum",
                                "default": "force",
                                "constraintContent":
                                [
                                    {
                                        "name": "自动",
                                        "label": "default",
                                        "value": "auto",
                                        "desc": "自动判断是否需要搜索"
                                    },
                                    {
                                        "name": "强制开启",
                                        "label": "default",
                                        "value": "force",
                                        "desc": "强制开启搜索"
                                    }
                                ],
                                "name": "搜索模式",
                                "revealed": false,
                                "support": true,
                                "fieldType": "string",
                                "initialValue": "force",
                                "key": "search_mod",
                                "required": false,
                                "desc": "联网搜索的模式，默认自动判断。"
                            },
                            {
                                "constraintType": "enum",
                                "default": false,
                                "constraintContent":
                                [
                                    {
                                        "name": "开",
                                        "label": "default",
                                        "value": true,
                                        "desc": "开"
                                    },
                                    {
                                        "name": "关",
                                        "label": "default",
                                        "value": false,
                                        "desc": "关"
                                    }
                                ],
                                "name": "展示溯源信息",
                                "revealed": false,
                                "support": true,
                                "fieldType": "boolean",
                                "initialValue": false,
                                "key": "show_ref_label",
                                "required": false,
                                "desc": "开启联网搜索后在结果中展示搜索溯源信息，默认关闭。"
                            }
                        ],
                        "key": "generalv3"
                    }
                ]
            },
            "featureBlock":
            {},
            "payloadBlock":
            {},
            "acceptBlock":
            {},
            "protocolType": 1,
            "serviceId": "xdsv3t128k",
            "multipleDialog": 1
        },
        "source": 1,
        "url": "https://maas-api.cn-huabei-1.xf-yun.com/v1",
        "appId": null,
        "licChannel": "xsp8f70988f"
    }
',1,'','2000-01-01 00:00:00','2025-06-12 09:36:51'),
	 (1749,'SPECIAL_MODEL','10000008','xqwen257bchat','{
    "llmSource": 1,
    "llmId": 10000008,
    "id": 10000008,
    "name": "xqwen257bchat",
    "patchId": "0",
    "domain": "xqwen257bchat",
    "serviceId": "xqwen257bchat",
    "modelType": 2,
    "licChannel":"xqwen257bchat",
    "status": 1,
    "info": "",
    "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/aicloud/llm/resource/image/model/icon_iflyspark_96.png",
    "tag":
    [],
    "url": "wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat",
    "modelId": 0
}',1,'','2000-01-01 00:00:00','2025-07-09 14:31:21'),
	 (1751,'SPECIAL_MODEL_CONFIG','10000008','xqwen257bchat','{
        "id": 2431162637211657,
        "name": "xqwen257bchat",
        "serviceId": "xqwen257bchat",
        "serverId": "xqwen257bchat",
        "domain": null,
        "patchId": "0",
        "type": 1,
        "config":
        {
            "serviceIdkeys":
            [
                "xqwen257bchat"
            ],
            "serviceBlock":
            {
                "xqwen257bchat":
                [
                    {
                        "fields":
                        [
                            {
                                "constraintType": "range",
                                "default": 8192,
                                "constraintContent":
                                [
                                    {
                                        "name": 1
                                    },
                                    {
                                        "name": 16384
                                    }
                                ],
                                "name": "Max tokens",
                                "revealed": true,
                                "support": true,
                                "fieldType": "int",
                                "initialValue": 8192,
                                "key": "max_tokens",
                                "required": true,
                                "desc": "最大回复长度：最小值是1, 最大值是16384。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"
                            },
                            {
                                "constraintContent":
                                [
                                    {
                                        "name": 0.1
                                    },
                                    {
                                        "name": 1.0
                                    }
                                ],
                                "precision": 0.1,
                                "accuracy": 1,
                                "required": true,
                                "constraintType": "range",
                                "default": 0.5,
                                "name": "Temperature",
                                "revealed": true,
                                "step": 0.1,
                                "support": true,
                                "fieldType": "float",
                                "initialValue": 0.5,
                                "key": "temperature",
                                "desc": "核采样阈值：取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"
                            },
                            {
                                "constraintType": "range",
                                "default": 4,
                                "constraintContent":
                                [
                                    {
                                        "name": 1
                                    },
                                    {
                                        "name": 6
                                    }
                                ],
                                "name": "Top_k",
                                "revealed": true,
                                "support": true,
                                "fieldType": "int",
                                "initialValue": 4,
                                "key": "top_k",
                                "required": true,
                                "desc": "生成多样性：调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"
                            },
                            {
                                "constraintType": "switch",
                                "default": false,
                                "constraintContent":
                                [
                                    {
                                        "name": "关",
                                        "label": "关",
                                        "value": true,
                                        "desc": "关"
                                    },
                                    {
                                        "name": "开",
                                        "label": "开",
                                        "value": false,
                                        "desc": "开"
                                    }
                                ],
                                "name": "联网搜索",
                                "revealed": true,
                                "support": true,
                                "fieldType": "boolean",
                                "initialValue": false,
                                "key": "search_disable",
                                "required": false,
                                "desc": "开启联网搜索，默认关闭。"
                            },
                            {
                                "constraintType": "enum",
                                "default": "force",
                                "constraintContent":
                                [
                                    {
                                        "name": "自动",
                                        "label": "default",
                                        "value": "auto",
                                        "desc": "自动判断是否需要搜索"
                                    },
                                    {
                                        "name": "强制开启",
                                        "label": "default",
                                        "value": "force",
                                        "desc": "强制开启搜索"
                                    }
                                ],
                                "name": "搜索模式",
                                "revealed": false,
                                "support": true,
                                "fieldType": "string",
                                "initialValue": "force",
                                "key": "search_mod",
                                "required": false,
                                "desc": "联网搜索的模式，默认自动判断。"
                            },
                            {
                                "constraintType": "enum",
                                "default": false,
                                "constraintContent":
                                [
                                    {
                                        "name": "开",
                                        "label": "default",
                                        "value": true,
                                        "desc": "开"
                                    },
                                    {
                                        "name": "关",
                                        "label": "default",
                                        "value": false,
                                        "desc": "关"
                                    }
                                ],
                                "name": "展示溯源信息",
                                "revealed": false,
                                "support": true,
                                "fieldType": "boolean",
                                "initialValue": false,
                                "key": "show_ref_label",
                                "required": false,
                                "desc": "开启联网搜索后在结果中展示搜索溯源信息，默认关闭。"
                            }
                        ],
                        "key": "generalv3"
                    }
                ]
            },
            "featureBlock":
            {},
            "payloadBlock":
            {},
            "acceptBlock":
            {},
            "protocolType": 1,
            "serviceId": "xdsv3t128k",
            "multipleDialog": 1
        },
        "source": 1,
        "url": "wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat",
        "appId": null,
        "licChannel": "xqwen257bchat"
    }
',1,'','2000-01-01 00:00:00','2025-06-12 09:36:51'),
	 (1753,'SPECIAL_MODEL','10000009','xop3qwen8b','{
    "llmSource": 1,
    "llmId": 10000009,
    "id": 10000009,
    "name": "xop3qwen8b",
    "patchId": "0",
    "domain": "xop3qwen8b",
    "serviceId": "xop3qwen8b",
    "modelType": 2,
    "licChannel":"xop3qwen8b",
    "status": 1,
    "info": "",
    "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/aicloud/llm/resource/image/model/icon_iflyspark_96.png",
    "tag":
    [],
    "url": "wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat",
    "modelId": 0
}',1,'亚谋理想项目测试使用','2000-01-01 00:00:00','2025-07-09 14:31:21'),
	 (1755,'SPECIAL_MODEL','10000010','xop3qwen14b','{
    "llmSource": 1,
    "llmId": 10000010,
    "id": 10000010,
    "name": "xop3qwen14b",
    "patchId": "0",
    "domain": "xop3qwen14b",
    "serviceId": "xop3qwen14b",
    "modelType": 2,
    "licChannel":"xop3qwen14b",
    "status": 1,
    "info": "",
    "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/aicloud/llm/resource/image/model/icon_iflyspark_96.png",
    "tag":
    [],
    "url": "wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat",
    "modelId": 0
}',1,'亚谋理想项目测试使用','2000-01-01 00:00:00','2025-07-09 14:31:21'),
	 (1757,'SPECIAL_MODEL_CONFIG','10000009','xop3qwen8b','{
        "id": 2431162637211657,
        "name": "xop3qwen8b",
        "serviceId": "xop3qwen8b",
        "serverId": "xop3qwen8b",
        "domain": null,
        "patchId": "0",
        "type": 1,
        "config":
        {
            "serviceIdkeys":
            [
                "xop3qwen8b"
            ],
            "serviceBlock":
            {
                "xop3qwen8b":
                [
                    {
                        "fields":
                        [
                            {
                                "constraintType": "range",
                                "default": 8192,
                                "constraintContent":
                                [
                                    {
                                        "name": 1
                                    },
                                    {
                                        "name": 16384
                                    }
                                ],
                                "name": "Max tokens",
                                "revealed": true,
                                "support": true,
                                "fieldType": "int",
                                "initialValue": 8192,
                                "key": "max_tokens",
                                "required": true,
                                "desc": "最大回复长度：最小值是1, 最大值是16384。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"
                            },
                            {
                                "constraintContent":
                                [
                                    {
                                        "name": 0.1
                                    },
                                    {
                                        "name": 1.0
                                    }
                                ],
                                "precision": 0.1,
                                "accuracy": 1,
                                "required": true,
                                "constraintType": "range",
                                "default": 0.5,
                                "name": "Temperature",
                                "revealed": true,
                                "step": 0.1,
                                "support": true,
                                "fieldType": "float",
                                "initialValue": 0.5,
                                "key": "temperature",
                                "desc": "核采样阈值：取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"
                            },
                            {
                                "constraintType": "range",
                                "default": 4,
                                "constraintContent":
                                [
                                    {
                                        "name": 1
                                    },
                                    {
                                        "name": 6
                                    }
                                ],
                                "name": "Top_k",
                                "revealed": true,
                                "support": true,
                                "fieldType": "int",
                                "initialValue": 4,
                                "key": "top_k",
                                "required": true,
                                "desc": "生成多样性：调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"
                            },
                            {
                                "constraintType": "switch",
                                "default": false,
                                "constraintContent":
                                [
                                    {
                                        "name": "关",
                                        "label": "关",
                                        "value": true,
                                        "desc": "关"
                                    },
                                    {
                                        "name": "开",
                                        "label": "开",
                                        "value": false,
                                        "desc": "开"
                                    }
                                ],
                                "name": "联网搜索",
                                "revealed": true,
                                "support": true,
                                "fieldType": "boolean",
                                "initialValue": false,
                                "key": "search_disable",
                                "required": false,
                                "desc": "开启联网搜索，默认关闭。"
                            },
                            {
                                "constraintType": "enum",
                                "default": "force",
                                "constraintContent":
                                [
                                    {
                                        "name": "自动",
                                        "label": "default",
                                        "value": "auto",
                                        "desc": "自动判断是否需要搜索"
                                    },
                                    {
                                        "name": "强制开启",
                                        "label": "default",
                                        "value": "force",
                                        "desc": "强制开启搜索"
                                    }
                                ],
                                "name": "搜索模式",
                                "revealed": false,
                                "support": true,
                                "fieldType": "string",
                                "initialValue": "force",
                                "key": "search_mod",
                                "required": false,
                                "desc": "联网搜索的模式，默认自动判断。"
                            },
                            {
                                "constraintType": "enum",
                                "default": false,
                                "constraintContent":
                                [
                                    {
                                        "name": "开",
                                        "label": "default",
                                        "value": true,
                                        "desc": "开"
                                    },
                                    {
                                        "name": "关",
                                        "label": "default",
                                        "value": false,
                                        "desc": "关"
                                    }
                                ],
                                "name": "展示溯源信息",
                                "revealed": false,
                                "support": true,
                                "fieldType": "boolean",
                                "initialValue": false,
                                "key": "show_ref_label",
                                "required": false,
                                "desc": "开启联网搜索后在结果中展示搜索溯源信息，默认关闭。"
                            }
                        ],
                        "key": "generalv3"
                    }
                ]
            },
            "featureBlock":
            {},
            "payloadBlock":
            {},
            "acceptBlock":
            {},
            "protocolType": 1,
            "serviceId": "xop3qwen8b",
            "multipleDialog": 1
        },
        "source": 1,
        "url": "wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat",
        "appId": null,
        "licChannel": "xop3qwen8b"
    }
',1,'亚谋理想项目测试使用','2000-01-01 00:00:00','2025-06-16 15:27:55'),
	 (1759,'SPECIAL_MODEL_CONFIG','10000010','xop3qwen14b','{
        "id": 2431162637211657,
        "name": "xop3qwen14b",
        "serviceId": "xop3qwen14b",
        "serverId": "xop3qwen14b",
        "domain": null,
        "patchId": "0",
        "type": 1,
        "config":
        {
            "serviceIdkeys":
            [
                "xop3qwen14b"
            ],
            "serviceBlock":
            {
                "xop3qwen14b":
                [
                    {
                        "fields":
                        [
                            {
                                "constraintType": "range",
                                "default": 8192,
                                "constraintContent":
                                [
                                    {
                                        "name": 1
                                    },
                                    {
                                        "name": 16384
                                    }
                                ],
                                "name": "Max tokens",
                                "revealed": true,
                                "support": true,
                                "fieldType": "int",
                                "initialValue": 8192,
                                "key": "max_tokens",
                                "required": true,
                                "desc": "最大回复长度：最小值是1, 最大值是16384。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"
                            },
                            {
                                "constraintContent":
                                [
                                    {
                                        "name": 0.1
                                    },
                                    {
                                        "name": 1.0
                                    }
                                ],
                                "precision": 0.1,
                                "accuracy": 1,
                                "required": true,
                                "constraintType": "range",
                                "default": 0.5,
                                "name": "Temperature",
                                "revealed": true,
                                "step": 0.1,
                                "support": true,
                                "fieldType": "float",
                                "initialValue": 0.5,
                                "key": "temperature",
                                "desc": "核采样阈值：取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"
                            },
                            {
                                "constraintType": "range",
                                "default": 4,
                                "constraintContent":
                                [
                                    {
                                        "name": 1
                                    },
                                    {
                                        "name": 6
                                    }
                                ],
                                "name": "Top_k",
                                "revealed": true,
                                "support": true,
                                "fieldType": "int",
                                "initialValue": 4,
                                "key": "top_k",
                                "required": true,
                                "desc": "生成多样性：调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"
                            },
                            {
                                "constraintType": "switch",
                                "default": false,
                                "constraintContent":
                                [
                                    {
                                        "name": "关",
                                        "label": "关",
                                        "value": true,
                                        "desc": "关"
                                    },
                                    {
                                        "name": "开",
                                        "label": "开",
                                        "value": false,
                                        "desc": "开"
                                    }
                                ],
                                "name": "联网搜索",
                                "revealed": true,
                                "support": true,
                                "fieldType": "boolean",
                                "initialValue": false,
                                "key": "search_disable",
                                "required": false,
                                "desc": "开启联网搜索，默认关闭。"
                            },
                            {
                                "constraintType": "enum",
                                "default": "force",
                                "constraintContent":
                                [
                                    {
                                        "name": "自动",
                                        "label": "default",
                                        "value": "auto",
                                        "desc": "自动判断是否需要搜索"
                                    },
                                    {
                                        "name": "强制开启",
                                        "label": "default",
                                        "value": "force",
                                        "desc": "强制开启搜索"
                                    }
                                ],
                                "name": "搜索模式",
                                "revealed": false,
                                "support": true,
                                "fieldType": "string",
                                "initialValue": "force",
                                "key": "search_mod",
                                "required": false,
                                "desc": "联网搜索的模式，默认自动判断。"
                            },
                            {
                                "constraintType": "enum",
                                "default": false,
                                "constraintContent":
                                [
                                    {
                                        "name": "开",
                                        "label": "default",
                                        "value": true,
                                        "desc": "开"
                                    },
                                    {
                                        "name": "关",
                                        "label": "default",
                                        "value": false,
                                        "desc": "关"
                                    }
                                ],
                                "name": "展示溯源信息",
                                "revealed": false,
                                "support": true,
                                "fieldType": "boolean",
                                "initialValue": false,
                                "key": "show_ref_label",
                                "required": false,
                                "desc": "开启联网搜索后在结果中展示搜索溯源信息，默认关闭。"
                            }
                        ],
                        "key": "generalv3"
                    }
                ]
            },
            "featureBlock":
            {},
            "payloadBlock":
            {},
            "acceptBlock":
            {},
            "protocolType": 1,
            "serviceId": "xop3qwen14b",
            "multipleDialog": 1
        },
        "source": 1,
        "url": "wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat",
        "appId": null,
        "licChannel": "xop3qwen14b"
    }
',1,'亚谋理想项目测试使用','2000-01-01 00:00:00','2025-06-16 15:27:55'),
	 (1761,'SPECIAL_MODEL','10000011','image_understandingv3','{
    "llmSource": 1,
    "llmId": 10000005,
    "name": "图像理解V3",
    "patchId": "0",
    "domain": "imagev3",
    "serviceId": "image_understandingv3",
    "status": 1,
    "info": "{\\"conc\\":2,\\"domain\\":\\"generalv3.5\\",\\"expireTs\\":\\"2025-05-31\\",\\"qps\\":2,\\"tokensPreDay\\":1000,\\"tokensTotal\\":1000,\\"llmServiceId\\":\\"bm3.5\\"}"
    "info": "",
    "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/aicloud/llm/resource/image/model/icon_iflyspark_96.png",
    "tag":
    [],
    "url": "wss://spark-api.cn-huabei-1.xf-yun.com/v2.1/image",
    "modelId": 0,
    "isThink":false,
    "multiMode":true
}',0,'亚谋理想项目测试使用','2000-01-01 00:00:00','2025-07-08 17:25:54'),
	 (1763,'SPECIAL_MODEL_CONFIG','10000011','image_understandingv3','{
        "id": 2431162637211660,
        "name": "image_understandingv3",
        "serviceId": "image_understandingv3",
        "serverId": "image_understandingv3",
        "domain": null,
        "patchId": "0",
        "type": 1,
        "config":
        {
            "serviceIdkeys":
            [
                "image_understandingv3"
            ],
            "serviceBlock":
            {
                "image_understandingv3":
                [
                    {
                        "fields":
                        [
                            {
                                "constraintType": "range",
                                "default": 8192,
                                "constraintContent":
                                [
                                    {
                                        "name": 1
                                    },
                                    {
                                        "name": 16384
                                    }
                                ],
                                "name": "Max tokens",
                                "revealed": true,
                                "support": true,
                                "fieldType": "int",
                                "initialValue": 8192,
                                "key": "max_tokens",
                                "required": true,
                                "desc": "最大回复长度：最小值是1, 最大值是16384。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"
                            },
                            {
                                "constraintContent":
                                [
                                    {
                                        "name": 0.1
                                    },
                                    {
                                        "name": 1.0
                                    }
                                ],
                                "precision": 0.1,
                                "accuracy": 1,
                                "required": true,
                                "constraintType": "range",
                                "default": 0.5,
                                "name": "Temperature",
                                "revealed": true,
                                "step": 0.1,
                                "support": true,
                                "fieldType": "float",
                                "initialValue": 0.5,
                                "key": "temperature",
                                "desc": "核采样阈值：取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"
                            },
                            {
                                "constraintType": "range",
                                "default": 4,
                                "constraintContent":
                                [
                                    {
                                        "name": 1
                                    },
                                    {
                                        "name": 6
                                    }
                                ],
                                "name": "Top_k",
                                "revealed": true,
                                "support": true,
                                "fieldType": "int",
                                "initialValue": 4,
                                "key": "top_k",
                                "required": true,
                                "desc": "生成多样性：调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"
                            },
                            {
                                "constraintType": "switch",
                                "default": false,
                                "constraintContent":
                                [
                                    {
                                        "name": "关",
                                        "label": "关",
                                        "value": true,
                                        "desc": "关"
                                    },
                                    {
                                        "name": "开",
                                        "label": "开",
                                        "value": false,
                                        "desc": "开"
                                    }
                                ],
                                "name": "联网搜索",
                                "revealed": true,
                                "support": true,
                                "fieldType": "boolean",
                                "initialValue": false,
                                "key": "search_disable",
                                "required": false,
                                "desc": "开启联网搜索，默认关闭。"
                            },
                            {
                                "constraintType": "enum",
                                "default": "force",
                                "constraintContent":
                                [
                                    {
                                        "name": "自动",
                                        "label": "default",
                                        "value": "auto",
                                        "desc": "自动判断是否需要搜索"
                                    },
                                    {
                                        "name": "强制开启",
                                        "label": "default",
                                        "value": "force",
                                        "desc": "强制开启搜索"
                                    }
                                ],
                                "name": "搜索模式",
                                "revealed": false,
                                "support": true,
                                "fieldType": "string",
                                "initialValue": "force",
                                "key": "search_mod",
                                "required": false,
                                "desc": "联网搜索的模式，默认自动判断。"
                            },
                            {
                                "constraintType": "enum",
                                "default": false,
                                "constraintContent":
                                [
                                    {
                                        "name": "开",
                                        "label": "default",
                                        "value": true,
                                        "desc": "开"
                                    },
                                    {
                                        "name": "关",
                                        "label": "default",
                                        "value": false,
                                        "desc": "关"
                                    }
                                ],
                                "name": "展示溯源信息",
                                "revealed": false,
                                "support": true,
                                "fieldType": "boolean",
                                "initialValue": false,
                                "key": "show_ref_label",
                                "required": false,
                                "desc": "开启联网搜索后在结果中展示搜索溯源信息，默认关闭。"
                            }
                        ],
                        "key": "generalv3"
                    }
                ]
            },
            "featureBlock":
            {},
            "payloadBlock":
            {},
            "acceptBlock":
            {},
            "protocolType": 1,
            "serviceId": "image_understandingv3",
            "multipleDialog": 1
        },
        "source": 1,
        "url": "wss://spark-api.cn-huabei-1.xf-yun.com/v2.1/image",
        "appId": null,
        "licChannel": "image_understandingv3"
    }
',1,'亚谋理想项目测试使用','2000-01-01 00:00:00','2025-06-16 15:27:55'),
	 (1765,'DEFAULT_SLICE_RULES_CBG','1','CBG默认切片规则','{"type":0,"seperator":["\\n"],"lengthRange":[256,1024]}',1,'','2025-06-18 17:21:37','2025-06-18 17:21:44'),
	 (1767,'CUSTOM_SLICE_RULES_CBG','1','CBG自定义切片模板','{"type":1,"seperator":["\\n"],"lengthRange":[16,1024]}',1,'','2025-06-18 17:21:42','2025-08-14 17:27:21'),
	 (1769,'DEFAULT_SLICE_RULES_SPARK','1','Spark默认切片规则','{"type":0,"seperator":["\\n"],"lengthRange":[16,1024]}',1,'','2025-06-18 17:21:41','2025-06-18 17:21:46'),
	 (1771,'CUSTOM_SLICE_RULES_SPARK','1','Spark自定义切片模板','{"type":1,"seperator":["\\n"],"lengthRange":[16,1024]}',1,'','2025-06-18 17:21:43','2025-06-18 17:21:47'),
	 (1773,'DEFAULT_SLICE_RULES_AIUI','1','AIUI默认切片规则','{"type":0,"seperator":["\\n"],"lengthRange":[16,1024]}',1,'','2025-07-03 15:18:40','2025-07-03 15:18:40'),
	 (1775,'CUSTOM_SLICE_RULES_AIUI','1','AIUI自定义切片模板','{"type":1,"seperator":["\\n"],"lengthRange":[16,1024]}',1,'','2025-07-03 15:18:40','2025-07-03 15:18:40'),
	 (1777,'WORKFLOW_INIT_DATA','workflow','工作流初始化data','{
    "nodes":
    [
        {
            "data":
            {
                "allowInputReference": false,
                "allowOutputReference": true,
                "description": "The start node of the workflow, used to define the business variables required for process invocation.",
                "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png",
                "inputs":
                [],
                "label": "Start",
                "nodeMeta":
                {
                    "aliasName": "开始节点",
                    "nodeType": "基础节点"
                },
                "nodeParam":
                {},
                "outputs":
                [
                    {
                        "deleteDisabled": true,
                        "id": "0918514b-72a8-4646-8dd9-ff4a8fc26d44",
                        "name": "AGENT_USER_INPUT",
                        "required": true,
                        "schema":
                        {
                            "default": "User''s input in the current round of conversation",
                            "type": "string"
                        }
                    }
                ],
                "status": "",
                "updatable": false
            },
            "dragging": false,
            "height": 256,
            "id": "node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783",
            "position":
            {
                "x": -25.109019607843152,
                "y": 521.7086666666667
            },
            "positionAbsolute":
            {
                "x": -25.109019607843152,
                "y": 521.7086666666667
            },
            "selected": false,
            "type": "开始节点",
            "width": 658
        },
        {
            "data":
            {
                "allowInputReference": true,
                "allowOutputReference": false,
                "description": "The end node of the workflow, used to output the final result after the workflow execution.",
                "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png",
                "inputs":
                [
                    {
                        "id": "82de2b42-a059-4c98-bffb-b6b4800fcac9",
                        "name": "output",
                        "schema":
                        {
                            "type": "string",
                            "value":
                            {
                                "content":
                                {},
                                "type": "ref"
                            }
                        }
                    }
                ],
                "label": "End",
                "nodeMeta":
                {
                    "aliasName": "结束节点",
                    "nodeType": "基础节点"
                },
                "nodeParam":
                {
                    "template": "",
                    "streamOutput": true,
                    "outputMode": 1
                },
                "outputs":
                [],
                "references":
                [],
                "status": "",
                "updatable": false
            },
            "dragging": false,
            "height": 617,
            "id": "node-end::cda617af-551e-462e-b3b8-3bb9a041bf88",
            "position":
            {
                "x": 886.8833333333332,
                "y": 343.91588235294114
            },
            "positionAbsolute":
            {
                "x": 886.8833333333332,
                "y": 343.91588235294114
            },
            "selected": true,
            "type": "结束节点",
            "width": 408
        }
    ],
    "edges":
    []
}',1,NULL,'2022-06-10 00:00:00','2025-07-29 15:14:22'),
	 (1779,'DOMAIN_WHITE_LIST','domain_white_list','域名白名单','inner-sparklinkthirdapi.aipaasapi.cn,agentbuilder.aipaasapi.cn,dx-cbm-ocp-agg-search-inner.xf-yun.com,dx-cbm-ocp-gateway.xf-yun.com,xingchen-agent-mcp.aicp.private,dx-spark-agentbuilder.aicp.private,vmselect.huabei.xf-yun.com,pre-agentbuilder.aipaasapi.cn',1,NULL,'2022-06-10 00:00:00','2025-07-21 17:01:46'),
	 (1780,'WORKFLOW_NODE_TEMPLATE','1,2','Basic Node','{
  "aliasName": "Database",
  "idType": "database",
  "data": {
    "outputs": [
      {
        "id": "",
        "name": "isSuccess",
        "nameErrMsg": "",
        "schema": {
          "default": "SQL statement execution status indicator, true for success, false for failure",
          "type": "boolean"
        }
      },
      {
        "id": "",
        "name": "message",
        "nameErrMsg": "",
        "schema": {
          "default": "Failure reason",
          "type": "string"
        }
      },
      {
        "id": "",
        "name": "outputList",
        "nameErrMsg": "",
        "schema": {
          "default": "Execution result",
          "type": "array-object"
        }
      }
    ],
    "references": [],
    "allowInputReference": true,
    "inputs": [
      {
        "schema": {
          "type": "string",
          "value": {
            "type": "ref",
            "content": {}
          }
        },
        "name": "input",
        "id": ""
      }
    ],
    "icon": "https://oss-beijing-m8.openstorage.cn/SparkBotDev/icon/user/sparkBot_1752568522509_database_icon.svg",
    "allowOutputReference": true,
    "nodeMeta": {
        "aliasName": "数据库节点",
        "nodeType": "基础节点"
      },
    "nodeParam": {
      "mode": 0
    }
  },
  "description": "Supports user-defined SQL for performing database operations such as insert, delete, update, and query",
  "nodeType": "Basic Node"
}',1,'数据库节点','2000-01-01 00:00:00','2025-07-28 10:18:24'),
	 (1781,'WORKFLOW_NODE_TEMPLATE_PRE','1,2','基础节点','{
  "aliasName": "Database",
  "idType": "database",
  "data": {
    "outputs": [
      {
        "id": "",
        "name": "isSuccess",
        "nameErrMsg": "",
        "schema": {
          "default": "SQL statement execution status indicator, true for success, false for failure",
          "type": "boolean"
        }
      },
      {
        "id": "",
        "name": "message",
        "nameErrMsg": "",
        "schema": {
          "default": "Failure reason",
          "type": "string"
        }
      },
      {
        "id": "",
        "name": "outputList",
        "nameErrMsg": "",
        "schema": {
          "default": "Execution result",
          "type": "array-object"
        }
      }
    ],
    "references": [],
    "allowInputReference": true,
    "inputs": [
      {
        "schema": {
          "type": "string",
          "value": {
            "type": "ref",
            "content": {}
          }
        },
        "name": "input",
        "id": ""
      }
    ],
    "icon": "https://oss-beijing-m8.openstorage.cn/SparkBotDev/icon/user/sparkBot_1752568522509_database_icon.svg",
    "allowOutputReference": true,
    "nodeMeta": {
        "aliasName": "数据库节点",
        "nodeType": "基础节点"
      },
    "nodeParam": {
      "mode": 0
    }
  },
  "description": "Supports user-defined SQL for performing database operations such as insert, delete, update, and query",
  "nodeType": "Basic Node"
}',1,'数据库节点','2000-01-01 00:00:00','2025-07-25 16:55:31'),
	 (1782,'DB_TABLE_TEMPLATE','TB','数据库字段导入模版','https://oss-beijing-m8.openstorage.cn/SparkBotDev/sparkBot/DB_TABLE_IMPORT_TEMPLATE_en.xlsx',1,NULL,'2025-07-10 10:50:48','2025-07-31 19:59:04'),
	 (1783,'ICON','rag','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/rag/Personal_en@1x.png',1,'SparkDesk-RAG','2025-07-31 10:53:21','2025-07-31 19:49:25'),
	 (1784,'ICON','rag','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/rag/Spark_en@1x.png',1,'CBG-RAG','2025-07-31 10:53:21','2025-07-31 19:49:25'),
	 (1785,'ICON','rag','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/rag/Stellar_en@1x.png',1,'AIUI-RAG2','2025-07-31 10:53:21','2025-07-31 19:49:25'),
	 (1786,'EVAL_TASK_PROMPT','FIX','测评纬度优化prompt','# Role  
You are a prompt optimization expert, and your task is to analyze and optimize the following "original prompt" specifically for the single dimension of "{{评估维度名称}}", helping the user improve the prompt''s quality in that dimension.

# Original Prompt  
{{context}}

# Please follow these steps:  
1. Analyze the weaknesses of the original prompt in terms of “{{Evaluation Dimension Name}}” (e.g., vague expression, lack of necessary information).  
2. Optimize the original prompt if needed, such as refining wording, adding examples, clarifying format, etc., to ensure the prompt stands out in this dimension (e.g., more clear or more complete).  
3. Provide scoring criteria for this dimension with descriptions for all four levels.

**Scoring Criteria**  
Use the following fixed levels and scores for the dimension of “{{Evaluation Dimension Name}}”. Suppose the dimension is “Clarity”:  
| Level  | Score | Description                                     |
|--------|-------|-------------------------------------------------|
| **Good**    | 4     | Goal and instructions are perfectly clear with no ambiguity. |
| **Fairly Good** | 3     | Mostly clear with minor ambiguity that does not affect understanding. |
| **Average** | 2     | Somewhat vague, requires contextual guessing to understand intent. |
| **Poor**    | 1     | Ambiguous or contradictory instructions that are difficult to execute. |

# Output Format:  
"""
## Role  
You are a quality inspector of dialogue fluency, responsible for evaluating the quality of "user input" and "response text".

## Evaluation Process  
1. Check whether the sentences are smooth and free of grammatical errors (e.g., mismatched phrases, incomplete components).  
2. Analyze logical coherence to judge whether the transitions between paragraphs or sentences are natural, and whether there are any abrupt topic shifts or logical gaps.  
3. Evaluate whether the amount of information is appropriate and meets the user''s needs (e.g., redundant or missing information may affect fluency).

## Scoring Criteria  
| Level  | Score | Description                                                                 |
|--------|-------|------------------------------------------------------------------------------|
| **Good**    | 4     | Smooth sentences, rigorous logic, natural transitions, appropriate information, overall dialogue as smooth as human conversation. |
| **Fairly Good** | 3     | Basically fluent, with only occasional minor grammatical or transitional issues, no effect on communication. |
| **Average** | 2     | Some grammatical or logical errors, or slightly awkward transitions, but the main intent is understandable. |
| **Poor**    | 1     | Many grammar errors, confusing sentence structure, serious topic jumps, severely affecting conversation coherence. |

## Output Example  
{"Score":1,"Reason":"The assistant''s tone, wording, and content fully match its role as a Victorian-era English butler from the 19th century. The reply aligns with the user''s positive emotion and responds with polite, encouraging language."}
"""

# Output Requirements:  
- Focus entirely on **“{{Evaluation Dimension Name}}”** only, ignore all other dimensions.  
- Use concise, bullet-point style language for easy copying.  
- Provide a revised prompt focused on “{{Evaluation Dimension Name}}” that is structured and ready for direct use.  
- Only output the final optimized prompt result, no need to explain the thought process or optimization reasoning.  
- Follow the "Output Format" structure strictly, and ensure the "Output Example" is in valid JSON format with score and reason fields.',1,'','2025-07-31 10:52:49','2025-07-31 15:08:34'),
	 (1787,'EVAL_TASK_PROMPT','JUDGE','评分维度评价prompt','# Input  
You are to evaluate the "response text" based on the "user input" and "agent/workflow setting" along the dimension of "{{Evaluation Dimension}}".  
Agent/Workflow Setting: {{system_prompt}}  
User Input: {{input}}  
Response Text: {{output}}

# Output:  
Score: A number indicating how well the response meets the criteria defined in the prompt. The score ranges from 4 to 1, corresponding to 4 (Good), 3 (Fairly Good), 2 (Average), and 1 (Poor).  
Reason: A readable explanation for the given score. The reason must end with a complete sentence.  
Format: Strictly output in JSON format, with "Score" for the rating and "Reason" for the explanation.

# Output Format  
{"Score":3,"Reason":"The response generally aligns with the question context, but the mentioned secondary example fails to clearly support the main conclusion, causing minor logical looseness."}',1,'','2025-07-31 10:52:49','2025-07-31 15:07:50'),
	 (1788,'CUSTOM_SLICE_SEPERATORS_AIUI','1','AIUI自定义分隔符','[
    {
        "id": 1,
        "name": "Line break",
        "symbol": "\\\\n"
    },
    {
        "id": 2,
        "name": "Chinese period",
        "symbol": "。"
    },
    {
        "id": 3,
        "name": "English period",
        "symbol": "."
    },
    {
        "id": 4,
        "name": "Chinese exclamation mark",
        "symbol": "！"
    },
    {
        "id": 5,
        "name": "English exclamation mark",
        "symbol": "!"
    },
    {
        "id": 6,
        "name": "Chinese question mark",
        "symbol": "？"
    },
    {
        "id": 7,
        "name": "English question mark",
        "symbol": "?"
    },
    {
        "id": 8,
        "name": "Chinese semicolon",
        "symbol": "；"
    },
    {
        "id": 9,
        "name": "English semicolon",
        "symbol": ";"
    },
    {
        "id": 10,
        "name": "Chinese ellipsis",
        "symbol": "……"
    },
    {
        "id": 11,
        "name": "English ellipsis",
        "symbol": "..."
    }
]',1,'','2025-07-31 15:31:10','2025-07-31 15:31:23'),
	 (1789,'CUSTOM_SLICE_SEPERATORS_CBG','1','CBG自定义分隔符','[
    {
        "id": 1,
        "name": "Line break",
        "symbol": "\\\\n"
    },
    {
        "id": 2,
        "name": "Chinese period",
        "symbol": "。"
    },
    {
        "id": 3,
        "name": "English period",
        "symbol": "."
    },
    {
        "id": 4,
        "name": "Chinese exclamation mark",
        "symbol": "！"
    },
    {
        "id": 5,
        "name": "English exclamation mark",
        "symbol": "!"
    },
    {
        "id": 6,
        "name": "Chinese question mark",
        "symbol": "？"
    },
    {
        "id": 7,
        "name": "English question mark",
        "symbol": "?"
    },
    {
        "id": 8,
        "name": "Chinese semicolon",
        "symbol": "；"
    },
    {
        "id": 9,
        "name": "English semicolon",
        "symbol": ";"
    },
    {
        "id": 10,
        "name": "Chinese ellipsis",
        "symbol": "……"
    },
    {
        "id": 11,
        "name": "English ellipsis",
        "symbol": "..."
    }
]',1,'','2025-07-31 15:31:15','2025-07-31 15:31:22'),
	 (1790,'CUSTOM_SLICE_SEPERATORS_SPARK','1','SPARK自定义分隔符','[
    {
        "id": 1,
        "name": "Line break",
        "symbol": "\\\\n"
    },
    {
        "id": 2,
        "name": "Chinese period",
        "symbol": "。"
    },
    {
        "id": 3,
        "name": "English period",
        "symbol": "."
    },
    {
        "id": 4,
        "name": "Chinese exclamation mark",
        "symbol": "！"
    },
    {
        "id": 5,
        "name": "English exclamation mark",
        "symbol": "!"
    },
    {
        "id": 6,
        "name": "Chinese question mark",
        "symbol": "？"
    },
    {
        "id": 7,
        "name": "English question mark",
        "symbol": "?"
    },
    {
        "id": 8,
        "name": "Chinese semicolon",
        "symbol": "；"
    },
    {
        "id": 9,
        "name": "English semicolon",
        "symbol": ";"
    },
    {
        "id": 10,
        "name": "Chinese ellipsis",
        "symbol": "……"
    },
    {
        "id": 11,
        "name": "English ellipsis",
        "symbol": "..."
    }
]',1,'','2025-07-31 15:31:21','2025-07-31 15:31:25'),
	 (1791,'ICON','rag','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/rag/20251011-140414.png',1,'Ragflow-RAG','2025-07-31 19:50:09','2025-10-11 14:06:20'),
	 (1792,'ICON','rpa_robot','http://oss-beijing-m8.openstorage.cn/SparkBotProd/','icon/tool/rpa_robot_icon.png',1,'','2025-07-31 19:50:09','2025-10-11 14:06:20'),
	 (1793,'WORKFLOW_NODE_TEMPLATE','1,2','工具','{
    "idType": "rpa",
    "nodeType": "基础节点",
    "aliasName": "RPA",
    "description": "调用RPA，可以指定RPA执行",
    "data":
    {
        "nodeMeta":
        {
            "nodeType": "工具",
            "aliasName": "RPA"
        },
        "inputs":
        [],
        "outputs":
        [],
        "nodeParam":
        {
            "projectId": "1965981379635499008",
            "header":
            {
                "apiKey": ""
            },
            "rpaParams":
            {
                "execPosition": "EXECUTOR"
            },
            "source": "xiaowu",
            "icon": "https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png"
        },
        "references":
        [],
        "allowInputReference": true,
        "allowOutputReference": true,
        "icon": "http://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/tool/rpa_icon.png"
    }
}',1,'RPA','2000-01-01 00:00:00','2025-10-11 14:45:16');

COMMIT;

-- ----------------------------
-- Table structure for core_system_error_code
-- ----------------------------
DROP TABLE IF EXISTS `core_system_error_code`;
CREATE TABLE `core_system_error_code`
(
    `id`         int          NOT NULL AUTO_INCREMENT,
    `error_code` int          NOT NULL,
    `error_msg`  varchar(100) NOT NULL,
    PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=1841 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for create_bot_context
-- ----------------------------
DROP TABLE IF EXISTS `create_bot_context`;
CREATE TABLE `create_bot_context`
(
    `chat_id`      varchar(255) NOT NULL,
    `step`         tinyint  DEFAULT NULL,
    `biz_data`     json     DEFAULT NULL,
    `create_time`  datetime DEFAULT NULL,
    `update_time`  datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
    `chat_history` text,
    PRIMARY KEY (`chat_id`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci ROW_FORMAT=DYNAMIC;

-- ----------------------------
-- Table structure for custom_vcn
-- ----------------------------
DROP TABLE IF EXISTS `custom_vcn`;
CREATE TABLE `custom_vcn`
(
    `id`          bigint NOT NULL AUTO_INCREMENT,
    `uid`         bigint                                                        DEFAULT NULL,
    `name`        varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci  DEFAULT NULL,
    `status`      tinyint                                                       DEFAULT NULL COMMENT '0: deleted, 1: training, 2: training successful, 3: training failed, 4: training not started',
    `vcn_code`    varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT 'Voice library VCN code',
    `try_vcn_url` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT 'Voice sample audio URL',
    `task_id`     bigint                                                        DEFAULT NULL COMMENT 'Primary key ID of custom_vcn_task',
    `vcn_task_id` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT 'Audio task ID',
    `sex`         tinyint                                                       DEFAULT NULL,
    `create_time` datetime                                                      DEFAULT NULL,
    `update_time` datetime                                                      DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
    `share`       tinyint                                                       DEFAULT '0' COMMENT 'Whether from sharing: 0 no, 1 yes',
    `agent_id`    bigint                                                        DEFAULT NULL COMMENT 'Primary key ID of speaker personality table',
    PRIMARY KEY (`id`),
    KEY           `idx_agent_id` (`agent_id`),
    KEY           `idx_task_id` (`task_id`),
    KEY           `idx_uid` (`uid`),
    KEY           `idx_vcn_code` (`vcn_code`),
    KEY           `idx_vcn_task_id` (`vcn_task_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Store user-trained personalized speakers';

-- ----------------------------
-- Table structure for dataset_file
-- ----------------------------
DROP TABLE IF EXISTS `dataset_file`;
CREATE TABLE `dataset_file`
(
    `id`            bigint        NOT NULL AUTO_INCREMENT COMMENT 'File ID',
    `dataset_id`    bigint        NOT NULL COMMENT 'Dataset ID',
    `dataset_index` varchar(255)           DEFAULT NULL COMMENT 'Dataset index',
    `name`          varchar(128)  NOT NULL COMMENT 'File name',
    `doc_type`      varchar(32)   NOT NULL COMMENT 'File type',
    `doc_url`       varchar(2048) NOT NULL COMMENT 'File URL',
    `s3_url`        varchar(2048)          DEFAULT NULL COMMENT 'S3 file URL',
    `para_count`    int                    DEFAULT NULL COMMENT 'Paragraph count',
    `char_count`    int                    DEFAULT NULL COMMENT 'Character count',
    `status`        tinyint       NOT NULL DEFAULT '0' COMMENT 'Status: -1 deleted, 0 unprocessed, 1 processing, 2 completed, 3 failed',
    `create_time`   datetime               DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time`   datetime               DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    PRIMARY KEY (`id`),
    KEY             `idx_dataset_id` (`dataset_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Private dataset file table';

-- ----------------------------
-- Table structure for dataset_info
-- ----------------------------
DROP TABLE IF EXISTS `dataset_info`;
CREATE TABLE `dataset_info`
(
    `id`          bigint       NOT NULL AUTO_INCREMENT COMMENT 'Dataset ID',
    `uid`         varchar(128) NOT NULL COMMENT 'User ID',
    `name`        varchar(128) NOT NULL COMMENT 'Dataset name',
    `description` varchar(256)          DEFAULT NULL COMMENT 'Dataset description',
    `file_num`    int                   DEFAULT NULL COMMENT 'File count',
    `status`      tinyint      NOT NULL DEFAULT '0' COMMENT 'Status: -1 deleted, 0 unprocessed, 1 processing, 2 completed, 3 failed',
    `create_time` datetime              DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time` datetime              DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    PRIMARY KEY (`id`),
    KEY           `idx_uid` (`uid`),
    KEY           `idx_create_time` (`create_time`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Private dataset information table';

-- ----------------------------
-- Table structure for db_info
-- ----------------------------
DROP TABLE IF EXISTS `db_info`;
CREATE TABLE `db_info`
(
    `id`           bigint       NOT NULL AUTO_INCREMENT,
    `app_id`       varchar(100) NOT NULL,
    `uid`          varchar(100) NOT NULL COMMENT 'User ID',
    `db_id`        bigint                DEFAULT NULL COMMENT 'Core system database primary key ID',
    `name`         varchar(100) NOT NULL COMMENT 'Database name',
    `description`  varchar(255)          DEFAULT NULL COMMENT 'Description',
    `avatar_icon`  varchar(255)          DEFAULT NULL COMMENT 'Icon',
    `avatar_color` varchar(255)          DEFAULT NULL,
    `deleted`      tinyint      NOT NULL DEFAULT '0',
    `create_time`  datetime     NOT NULL,
    `update_time`  datetime              DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
    `space_id`     bigint                DEFAULT NULL COMMENT 'Space ID',
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Database information table';

-- ----------------------------
-- Table structure for db_table
-- ----------------------------
DROP TABLE IF EXISTS `db_table`;
CREATE TABLE `db_table`
(
    `id`          bigint       NOT NULL AUTO_INCREMENT,
    `db_id`       bigint       NOT NULL COMMENT 'Database primary key ID',
    `name`        varchar(100) NOT NULL,
    `description` varchar(255)          DEFAULT NULL,
    `deleted`     tinyint      NOT NULL DEFAULT '0',
    `create_time` datetime     NOT NULL,
    `update_time` datetime              DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for db_table_field
-- ----------------------------
DROP TABLE IF EXISTS `db_table_field`;
CREATE TABLE `db_table_field`
(
    `id`            bigint       NOT NULL AUTO_INCREMENT,
    `tb_id`         bigint       NOT NULL COMMENT 'Table primary key ID',
    `name`          varchar(100) NOT NULL,
    `type`          varchar(100) NOT NULL,
    `description`   varchar(100)          DEFAULT NULL,
    `default_value` varchar(100)          DEFAULT NULL,
    `is_required`   tinyint      NOT NULL DEFAULT '0',
    `is_system`     tinyint      NOT NULL DEFAULT '0',
    `create_time`   datetime     NOT NULL,
    `update_time`   datetime     NOT NULL ON UPDATE CURRENT_TIMESTAMP,
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Table fields';

-- ----------------------------
-- Table structure for exclude_appid_flowId
-- ----------------------------
DROP TABLE IF EXISTS `exclude_appid_flowId`;
CREATE TABLE `exclude_appid_flowId`
(
    `id`      int NOT NULL AUTO_INCREMENT,
    `app_id`  varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL,
    `flow_id` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL,
    PRIMARY KEY (`id`),
    KEY       `exclude_appid_flowId_app_id_IDX` (`app_id`) USING BTREE,
    KEY       `exclude_appid_flowId_flow_id_IDX` (`flow_id`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for extract_knowledge_task
-- ----------------------------
DROP TABLE IF EXISTS `extract_knowledge_task`;
CREATE TABLE `extract_knowledge_task`
(
    `id`          bigint NOT NULL AUTO_INCREMENT COMMENT 'Primary key',
    `file_id`     bigint       DEFAULT NULL COMMENT 'File ID',
    `task_id`     varchar(64)  DEFAULT NULL COMMENT 'Task ID',
    `status`      int          DEFAULT '0' COMMENT '0: default, 1: success, 2: failed',
    `reason`      text,
    `user_id`     varchar(128) DEFAULT NULL COMMENT 'User ID',
    `create_time` timestamp NULL DEFAULT NULL COMMENT 'Creation time',
    `update_time` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    `task_status` int          DEFAULT NULL COMMENT 'Task execution status: 0 start parsing, 1 parsing completed, 2 start embedding, 3 embedding completed',
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- ----------------------------
-- Table structure for feedback_info
-- ----------------------------
DROP TABLE IF EXISTS `feedback_info`;
CREATE TABLE `feedback_info`
(
    `id`          bigint NOT NULL AUTO_INCREMENT,
    `app_id`      varchar(255)  DEFAULT NULL,
    `sub`         varchar(255)  DEFAULT NULL,
    `uid`         varchar(128)  DEFAULT NULL,
    `chat_id`     varchar(128)  DEFAULT NULL,
    `sid`         varchar(128)  DEFAULT NULL,
    `bot_id`      varchar(128)  DEFAULT NULL,
    `flow_id`     varchar(128)  DEFAULT NULL,
    `question`    text,
    `answer`      text,
    `action`      varchar(255)  DEFAULT NULL,
    `reason`      varchar(255)  DEFAULT NULL,
    `remark`      varchar(1200) DEFAULT NULL,
    `create_time` datetime      DEFAULT NULL,
    PRIMARY KEY (`id`) USING BTREE,
    KEY           `app_id` (`app_id`),
    KEY           `uid` (`uid`),
    KEY           `sid` (`sid`),
    KEY           `bot_id` (`bot_id`),
    KEY           `flow_id` (`flow_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci ROW_FORMAT=DYNAMIC;

-- ----------------------------
-- Table structure for file_directory_tree
-- ----------------------------
DROP TABLE IF EXISTS `file_directory_tree`;
CREATE TABLE `file_directory_tree`
(
    `id`          bigint NOT NULL AUTO_INCREMENT COMMENT 'Primary key for directory',
    `name`        varchar(255) DEFAULT NULL COMMENT 'Directory name',
    `parent_id`   bigint       DEFAULT NULL COMMENT 'Parent directory ID, -1 for root directory',
    `is_file`     tinyint(1) DEFAULT '0' COMMENT 'Whether it is a file, 0 for false (default folder), 1 for true (file)',
    `app_id`      varchar(10)  DEFAULT NULL COMMENT 'Associated app ID',
    `file_id`     bigint       DEFAULT NULL COMMENT 'Associated file ID, only when is_file is 1',
    `comment`     varchar(255) DEFAULT NULL COMMENT 'Remarks, changes can be synced here',
    `create_time` timestamp NULL DEFAULT NULL COMMENT 'Creation time',
    `update_time` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    `hit_count`   int          DEFAULT '0' COMMENT 'Hit count',
    `status`      tinyint(1) DEFAULT '0' COMMENT 'Status: 0 slice state, 1 embedding state',
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- ----------------------------
-- Table structure for file_info
-- ----------------------------
DROP TABLE IF EXISTS `file_info`;
CREATE TABLE `file_info`
(
    `id`          bigint    NOT NULL AUTO_INCREMENT,
    `app_id`      varchar(10)        DEFAULT NULL,
    `name`        varchar(128)       DEFAULT NULL,
    `address`     varchar(255)       DEFAULT NULL,
    `size`        bigint             DEFAULT NULL,
    `type`        varchar(64)        DEFAULT NULL,
    `create_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    `source_id`   varchar(255)       DEFAULT NULL,
    `status`      int                DEFAULT NULL,
    PRIMARY KEY (`id`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci ROW_FORMAT=DYNAMIC;

-- ----------------------------
-- Table structure for file_info_v2
-- ----------------------------
DROP TABLE IF EXISTS `file_info_v2`;
CREATE TABLE `file_info_v2`
(
    `id`                   bigint      NOT NULL AUTO_INCREMENT,
    `repo_id`              bigint      NOT NULL COMMENT 'Identifies the folder to which the file belongs',
    `uuid`                 varchar(64)          DEFAULT NULL,
    `uid`                  varchar(255)         DEFAULT NULL COMMENT 'User ID',
    `name`                 varchar(512)         DEFAULT NULL COMMENT 'File name',
    `address`              varchar(255)         DEFAULT NULL COMMENT 'File storage address',
    `size`                 bigint               DEFAULT NULL COMMENT 'File size',
    `char_count`           bigint               DEFAULT NULL COMMENT 'File character length',
    `type`                 varchar(64)          DEFAULT NULL COMMENT 'File type',
    `status`               int                  DEFAULT NULL COMMENT 'File build status: -1 uploaded, 0 parsing, 1 parse failed, 2 parse success, 3 embedding, 4 embed failed, 5 embed success',
    `enabled`              int                  DEFAULT '0' COMMENT '0: disabled, 1: enabled',
    `slice_config`         varchar(500)         DEFAULT NULL COMMENT 'Latest slice configuration',
    `current_slice_config` varchar(500)         DEFAULT NULL COMMENT 'Currently effective slice configuration',
    `pid`                  bigint               DEFAULT '-1' COMMENT 'Identifies the folder to which the file belongs',
    `reason`               text COMMENT 'Failure reason',
    `create_time`          timestamp   NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time`          timestamp   NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    `source`               varchar(64) NOT NULL DEFAULT 'AIUI-RAG2' COMMENT 'Data source',
    `space_id`             bigint               DEFAULT NULL COMMENT 'Team space ID',
    `last_uuid`            varchar(100)         DEFAULT NULL COMMENT 'UUID generated by CBG parsing, used for preview, updated to uuid after embedding',
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- ----------------------------
-- Table structure for fine_tune_task
-- ----------------------------
DROP TABLE IF EXISTS `fine_tune_task`;
CREATE TABLE `fine_tune_task`
(
    `id`                    bigint   NOT NULL AUTO_INCREMENT,
    `optimize_task_id`      bigint   NOT NULL,
    `dataset_id`            bigint   NOT NULL,
    `model_id`              bigint   NOT NULL,
    `fine_tune_task_id`     bigint   NOT NULL,
    `fine_tune_task_remark` varchar(1024) DEFAULT NULL,
    `create_time`           datetime NOT NULL,
    `update_time`           datetime NOT NULL ON UPDATE CURRENT_TIMESTAMP,
    `base_model_id`         bigint        DEFAULT NULL,
    `server_name`           varchar(255)  DEFAULT NULL,
    `optimize_node`         text,
    `status`                tinyint       DEFAULT '1',
    `server_id`             bigint        DEFAULT NULL,
    `server_status`         tinyint       DEFAULT '0',
    PRIMARY KEY (`id`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci ROW_FORMAT=DYNAMIC;

-- ----------------------------
-- Table structure for flow_db_rel
-- ----------------------------
DROP TABLE IF EXISTS `flow_db_rel`;
CREATE TABLE `flow_db_rel`
(
    `id`          bigint       NOT NULL AUTO_INCREMENT,
    `flow_id`     varchar(100) NOT NULL,
    `db_id`       varchar(100) NOT NULL,
    `tb_id`       bigint DEFAULT NULL,
    `create_time` datetime     NOT NULL,
    `update_time` datetime     NOT NULL,
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for flow_protocol_temp
-- ----------------------------
DROP TABLE IF EXISTS `flow_protocol_temp`;
CREATE TABLE `flow_protocol_temp`
(
    `flow_id`      varchar(255) NOT NULL,
    `created_time` datetime     NOT NULL,
    `biz_protocol` mediumtext   NOT NULL,
    `sys_protocol` mediumtext
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for flow_release_aiui_info
-- ----------------------------
DROP TABLE IF EXISTS `flow_release_aiui_info`;
CREATE TABLE `flow_release_aiui_info`
(
    `id`   int unsigned NOT NULL AUTO_INCREMENT,
    `data` text NOT NULL,
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for flow_release_channel
-- ----------------------------
DROP TABLE IF EXISTS `flow_release_channel`;
CREATE TABLE `flow_release_channel`
(
    `flow_id`     varchar(255) NOT NULL,
    `create_time` datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP,
    `update_time` datetime              DEFAULT CURRENT_TIMESTAMP,
    `channel`     varchar(255) NOT NULL,
    `info_id`     bigint                DEFAULT NULL,
    `status`      tinyint               DEFAULT '0' COMMENT '0=not published, 1=published',
    `id`          bigint       NOT NULL AUTO_INCREMENT,
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for flow_repo_rel
-- ----------------------------
DROP TABLE IF EXISTS `flow_repo_rel`;
CREATE TABLE `flow_repo_rel`
(
    `flow_id`     varchar(255) NOT NULL,
    `repo_id`     varchar(255) NOT NULL,
    `create_time` datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for flow_tool_rel
-- ----------------------------
DROP TABLE IF EXISTS `flow_tool_rel`;
CREATE TABLE `flow_tool_rel`
(
    `flow_id`     varchar(255) NOT NULL,
    `tool_id`     varchar(255) NOT NULL,
    `create_time` datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP,
    `version`     varchar(100)          DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for group_tag
-- ----------------------------
DROP TABLE IF EXISTS `group_tag`;
CREATE TABLE `group_tag`
(
    `id`          bigint    NOT NULL AUTO_INCREMENT,
    `uid`         varchar(128)       DEFAULT NULL COMMENT 'User ID',
    `name`        varchar(64)        DEFAULT NULL COMMENT 'Tag name',
    `create_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Tag creation time',
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- ----------------------------
-- Table structure for group_user
-- ----------------------------
DROP TABLE IF EXISTS `group_user`;
CREATE TABLE `group_user`
(
    `id`          bigint    NOT NULL AUTO_INCREMENT,
    `uid`         varchar(128)       DEFAULT NULL COMMENT 'User ID',
    `user_id`     varchar(128)       DEFAULT NULL COMMENT 'Tag name',
    `tag_id`      bigint             DEFAULT NULL COMMENT 'Associated tag',
    `create_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Tag creation time',
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- ----------------------------
-- Table structure for group_visibility
-- ----------------------------
DROP TABLE IF EXISTS `group_visibility`;
CREATE TABLE `group_visibility`
(
    `id`          bigint    NOT NULL AUTO_INCREMENT,
    `uid`         varchar(128)       DEFAULT NULL,
    `type`        int                DEFAULT NULL COMMENT 'Type: 1 knowledge base, 2 tools',
    `user_id`     varchar(128)       DEFAULT NULL,
    `relation_id` varchar(200)       DEFAULT NULL COMMENT 'Used to isolate tags between different entities',
    `create_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    `space_id`    bigint             DEFAULT NULL COMMENT 'Team space ID',
    PRIMARY KEY (`id`),
    KEY           `type_rel_idx` (`type`,`relation_id`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- ----------------------------
-- Table structure for hit_test_history
-- ----------------------------
DROP TABLE IF EXISTS `hit_test_history`;
CREATE TABLE `hit_test_history`
(
    `id`          bigint       NOT NULL AUTO_INCREMENT,
    `user_id`     varchar(128) NOT NULL DEFAULT '-999' COMMENT 'Knowledge base ID',
    `repo_id`     bigint       NOT NULL COMMENT 'Knowledge base ID',
    `query`       text         NOT NULL COMMENT 'Query string',
    `create_time` timestamp NULL DEFAULT NULL,
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- ----------------------------
-- Table structure for knowledge
-- ----------------------------
DROP TABLE IF EXISTS `knowledge`;
CREATE TABLE `knowledge`
(
    `id`               varchar(64) NOT NULL COMMENT 'Primary key ID',
    `file_id`          varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci  DEFAULT NULL COMMENT 'User ID',
    `content`          text,
    `char_count`       varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL,
    `name`             varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL,
    `description`      varchar(512) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL,
    `enabled`          bit(1)                                                        DEFAULT b'0',
    `source`           bit(1)                                                        DEFAULT b'1',
    `test_hit_count`   bigint                                                        DEFAULT NULL,
    `dialog_hit_count` bigint                                                        DEFAULT NULL,
    `core_repo_name`   text CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci,
    `deleted`          bit(1)      NOT NULL                                          DEFAULT b'0',
    `created_at`       datetime    NOT NULL,
    `updated_at`       datetime                                                      DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
    PRIMARY KEY (`id`),
    KEY                `flow_id` (`char_count`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for maas_template
-- ----------------------------
DROP TABLE IF EXISTS `maas_template`;
CREATE TABLE `maas_template`
(
    `id`             bigint   NOT NULL AUTO_INCREMENT,
    `core_abilities` json                                                           DEFAULT NULL,
    `core_scenarios` json                                                           DEFAULT NULL,
    `is_act`         tinyint                                                        DEFAULT NULL,
    `maas_id`        bigint                                                         DEFAULT NULL,
    `subtitle`       varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci  DEFAULT NULL,
    `title`          varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci  DEFAULT NULL,
    `bot_id`         int                                                            DEFAULT NULL,
    `cover_url`      varchar(2048) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL,
    `group_id`       bigint                                                         DEFAULT NULL,
    `order_index`    int                                                            DEFAULT NULL,
    `create_time`    datetime NOT NULL                                              DEFAULT CURRENT_TIMESTAMP,
    `update_time`    datetime NOT NULL                                              DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Workflow assistant template configuration';

-- ----------------------------
-- Table structure for mcp_data
-- ----------------------------
DROP TABLE IF EXISTS `mcp_data`;
CREATE TABLE `mcp_data`
(
    `id`           bigint                                                        NOT NULL AUTO_INCREMENT COMMENT 'Primary key ID',
    `bot_id`       bigint                                                        NOT NULL COMMENT 'Agent ID',
    `uid`          bigint                                                        NOT NULL COMMENT 'User ID',
    `space_id`     bigint                                                                 DEFAULT NULL COMMENT 'Space ID, NULL for personal agents',
    `server_name`  varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT 'MCP server name',
    `description`  text CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci COMMENT 'MCP server description',
    `content`      longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci COMMENT 'MCP server content configuration',
    `icon`         varchar(1024) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci         DEFAULT NULL COMMENT 'MCP server icon URL',
    `server_url`   varchar(1024) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci         DEFAULT NULL COMMENT 'MCP server address',
    `args`         json                                                                   DEFAULT NULL COMMENT 'MCP service parameter configuration, stored in JSON format',
    `version_name` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci          DEFAULT NULL COMMENT 'Associated agent version name',
    `released`     tinyint                                                       NOT NULL DEFAULT '1' COMMENT 'Release status: 0=not published, 1=published',
    `is_delete`    tinyint                                                       NOT NULL DEFAULT '0' COMMENT 'Whether deleted: 0=not deleted, 1=deleted',
    `create_time`  datetime                                                      NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time`  datetime                                                      NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    PRIMARY KEY (`id`),
    UNIQUE KEY `uk_bot_id_version` (`bot_id`,`version_name`),
    KEY            `idx_uid` (`uid`),
    KEY            `idx_space_id` (`space_id`),
    KEY            `idx_bot_id` (`bot_id`),
    KEY            `idx_released` (`released`),
    KEY            `idx_create_time` (`create_time`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='MCP data table';

-- ----------------------------
-- Table structure for mcp_tool_config
-- ----------------------------
DROP TABLE IF EXISTS `mcp_tool_config`;
CREATE TABLE `mcp_tool_config`
(
    `id`          bigint       NOT NULL AUTO_INCREMENT,
    `mcp_id`      varchar(255)          DEFAULT NULL COMMENT 'mcp id',
    `server_id`   varchar(255)          DEFAULT NULL COMMENT 'ID returned by link',
    `sort_link`   varchar(1024)         DEFAULT NULL COMMENT 'Short link',
    `uid`         varchar(128) NOT NULL COMMENT 'User ID',
    `type`        varchar(255)          DEFAULT NULL COMMENT 'MCP tool type',
    `content`     text COMMENT 'Details',
    `is_deleted`  bit(1)       NOT NULL DEFAULT b'0' COMMENT 'Whether deleted: 0 not deleted, 1 deleted',
    `create_time` datetime              DEFAULT NULL,
    `update_time` datetime              DEFAULT NULL,
    `parameters`  text COMMENT 'History parameters',
    `customize`   bit(1)                DEFAULT NULL COMMENT 'Whether custom parameters exist',
    PRIMARY KEY (`id`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 ROW_FORMAT=DYNAMIC;

-- ----------------------------
-- Table structure for model
-- ----------------------------
DROP TABLE IF EXISTS `model`;
CREATE TABLE `model`
(
    `id`                bigint       NOT NULL AUTO_INCREMENT COMMENT 'Shelf model ID',
    `name`              varchar(255)          DEFAULT NULL COMMENT 'Model name',
    `desc`              varchar(1024)         DEFAULT NULL COMMENT 'Model description, text description below model plaza card and name',
    `source`            int                   DEFAULT NULL COMMENT 'Model source: 1 self-developed, 2 open source, 3 third party',
    `uid`               varchar(128) NOT NULL COMMENT 'User ID',
    `type`              int                   DEFAULT NULL COMMENT 'Model type: 1 text interaction, 2 voice, 3 interaction, 4 multimodal',
    `url`               varchar(255)          DEFAULT NULL COMMENT 'Model call address',
    `domain`            varchar(100)          DEFAULT NULL COMMENT 'model',
    `api_key`           varchar(255)          DEFAULT NULL,
    `sub_type`          bigint                DEFAULT NULL COMMENT 'Model subtype: 1 image generation, 2 image understanding, 3 super-human synthesis, 4 image classification',
    `content`           text COMMENT 'Model details text',
    `is_deleted`        bit(1)       NOT NULL DEFAULT b'0' COMMENT 'Whether deleted: 0 not deleted, 1 deleted',
    `image_url`         varchar(255)          DEFAULT NULL,
    `doc_url`           varchar(255)          DEFAULT NULL,
    `remark`            varchar(255)          DEFAULT NULL,
    `sort`              int                   DEFAULT '0' COMMENT 'Sort order',
    `channel`           varchar(255)          DEFAULT '0' COMMENT 'Model channel',
    `tag`               varchar(255)          DEFAULT NULL COMMENT 'Tag',
    `color`             varchar(100)          DEFAULT NULL COMMENT 'Color',
    `create_time`       datetime              DEFAULT NULL,
    `update_time`       datetime              DEFAULT NULL,
    `config`            text COMMENT 'Model configuration',
    `space_id`          bigint                DEFAULT NULL COMMENT 'Space ID',
    `enable`            bit(1)                DEFAULT b'1' COMMENT 'Whether enabled',
    `status`            int                   DEFAULT NULL,
    `accelerator_count` int                   DEFAULT NULL COMMENT 'Performance configuration',
    `replica_count`     int                   DEFAULT NULL COMMENT 'Replica configuration',
    `model_path`        varchar(100)          DEFAULT NULL,
    PRIMARY KEY (`id`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 ROW_FORMAT=DYNAMIC;

-- ----------------------------
-- Table structure for model_category
-- ----------------------------
DROP TABLE IF EXISTS `model_category`;
CREATE TABLE `model_category`
(
    `id`          bigint       NOT NULL AUTO_INCREMENT,
    `pid`         bigint       NOT NULL,
    `key`         varchar(100) NOT NULL DEFAULT '',
    `name`        varchar(255) NOT NULL,
    `is_delete`   tinyint unsigned NOT NULL DEFAULT '0',
    `create_time` datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP,
    `update_time` datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    `sort_order`  int          NOT NULL DEFAULT '0' COMMENT 'Sort order',
    PRIMARY KEY (`id`) USING BTREE,
    KEY           `idx_key_pid_delete` (`key`,`pid`,`is_delete`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci ROW_FORMAT=DYNAMIC;

-- ----------------------------
-- Table structure for model_category_rel
-- ----------------------------
DROP TABLE IF EXISTS `model_category_rel`;
CREATE TABLE `model_category_rel`
(
    `id`          bigint   NOT NULL AUTO_INCREMENT,
    `model_id`    bigint   NOT NULL,
    `category_id` bigint   NOT NULL,
    `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
    `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    PRIMARY KEY (`id`),
    UNIQUE KEY `uk_model_id_category_id` (`model_id`,`category_id`),
    KEY           `idx_category` (`category_id`),
    KEY           `idx_model` (`model_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for model_common
-- ----------------------------
DROP TABLE IF EXISTS `model_common`;
CREATE TABLE `model_common`
(
    `id`             bigint       NOT NULL AUTO_INCREMENT,
    `name`           varchar(128) NOT NULL DEFAULT '',
    `desc`           varchar(500)          DEFAULT NULL COMMENT 'Description',
    `intro`          varchar(255) NOT NULL DEFAULT '' COMMENT 'Introduction',
    `user_name`      varchar(64)  NOT NULL DEFAULT '' COMMENT 'User name',
    `user_avatar`    varchar(255) NOT NULL DEFAULT '' COMMENT 'User avatar',
    `service_id`     varchar(128) NOT NULL DEFAULT '',
    `server_id`      varchar(128) NOT NULL DEFAULT '',
    `domain`         varchar(128) NOT NULL DEFAULT '',
    `lic_channel`    varchar(128) NOT NULL DEFAULT '',
    `llm_source`     varchar(128) NOT NULL DEFAULT '',
    `url`            varchar(128) NOT NULL DEFAULT '',
    `model_type`     tinyint      NOT NULL DEFAULT '0',
    `type`           tinyint      NOT NULL DEFAULT '0',
    `source`         tinyint      NOT NULL DEFAULT '0',
    `is_think`       tinyint      NOT NULL DEFAULT '0',
    `multi_mode`     tinyint      NOT NULL DEFAULT '0',
    `is_delete`      tinyint      NOT NULL DEFAULT '0',
    `create_by`      bigint       NOT NULL DEFAULT '0',
    `create_time`    datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP,
    `update_by`      bigint       NOT NULL DEFAULT '0',
    `update_time`    datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    `uid`            varchar(128)          DEFAULT NULL COMMENT 'User control ID',
    `disclaimer`     varchar(2048)         DEFAULT '' COMMENT 'Disclaimer',
    `config`         text COMMENT 'Model configuration information',
    `shelf_status`   int                   DEFAULT '0' COMMENT 'Shelf status: 0 on shelf, 1 pending removal, 2 removed',
    `shelf_off_time` datetime              DEFAULT NULL COMMENT 'Removal time',
    `http_url`       varchar(100)          DEFAULT NULL COMMENT 'HTTP address',
    PRIMARY KEY (`id`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci ROW_FORMAT=DYNAMIC;

-- ----------------------------
-- Table structure for model_custom_category
-- ----------------------------
DROP TABLE IF EXISTS `model_custom_category`;
CREATE TABLE `model_custom_category`
(
    `id`           bigint       NOT NULL AUTO_INCREMENT,
    `owner_uid`    varchar(128) NOT NULL COMMENT 'Creator',
    `key`          varchar(100) NOT NULL DEFAULT '' COMMENT 'model_category / scene',
    `name`         varchar(255) NOT NULL,
    `pid`          bigint                DEFAULT NULL COMMENT 'Optional: attach to an official node',
    `normalized`   varchar(255) GENERATED ALWAYS AS (lower(trim(`name`))) VIRTUAL,
    `audit_status` tinyint unsigned NOT NULL DEFAULT '1' COMMENT '1=effective, 0=blocked, 2=pending review',
    `is_delete`    tinyint unsigned NOT NULL DEFAULT '0',
    `create_time`  datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP,
    `update_time`  datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    PRIMARY KEY (`id`),
    KEY            `idx_key_status` (`key`,`audit_status`),
    KEY            `idx_owner` (`owner_uid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for model_custom_category_rel
-- ----------------------------
DROP TABLE IF EXISTS `model_custom_category_rel`;
CREATE TABLE `model_custom_category_rel`
(
    `id`          bigint   NOT NULL AUTO_INCREMENT,
    `model_id`    bigint   NOT NULL,
    `custom_id`   bigint   NOT NULL,
    `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
    `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    PRIMARY KEY (`id`),
    UNIQUE KEY `uk_model_custom` (`model_id`,`custom_id`),
    KEY           `idx_custom` (`custom_id`),
    CONSTRAINT `fk_rel_custom` FOREIGN KEY (`custom_id`) REFERENCES `model_custom_category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for model_list_config
-- ----------------------------
DROP TABLE IF EXISTS `model_list_config`;
CREATE TABLE `model_list_config`
(
    `id`            int unsigned NOT NULL AUTO_INCREMENT,
    `create_time`   timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
    `node_type`     varchar(255)       DEFAULT NULL,
    `name`          varchar(255)       DEFAULT NULL,
    `description`   varchar(255)       DEFAULT NULL,
    `tag`           varchar(255)       DEFAULT NULL,
    `deleted`       bit(1)             DEFAULT b'0',
    `base_model_id` bigint             DEFAULT NULL,
    `recommended`   bit(1)             DEFAULT b'0',
    `domain`        varchar(255)       DEFAULT NULL,
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for node_info
-- ----------------------------
DROP TABLE IF EXISTS `node_info`;
CREATE TABLE `node_info`
(
    `id`                   bigint NOT NULL AUTO_INCREMENT,
    `app_id`               varchar(255) DEFAULT NULL,
    `bot_id`               varchar(255) DEFAULT NULL,
    `flow_id`              varchar(255) DEFAULT NULL,
    `sub`                  varchar(255) DEFAULT NULL,
    `caller`               varchar(255) DEFAULT NULL,
    `sid`                  varchar(255) DEFAULT NULL,
    `node_id`              varchar(255) DEFAULT NULL,
    `node_name`            varchar(255) DEFAULT NULL,
    `node_type`            varchar(255) DEFAULT NULL,
    `running_status`       bit(1)       DEFAULT NULL COMMENT 'Node running status',
    `node_input`           text COMMENT 'Input',
    `node_output`          text COMMENT 'Output',
    `config`               text COMMENT 'Node configuration information',
    `llm_output`           text COMMENT 'Large model output',
    `domain`               varchar(255) DEFAULT NULL,
    `cost_time`            int          DEFAULT NULL COMMENT 'Cost time',
    `first_cost_time`      int          DEFAULT NULL COMMENT 'First frame cost time',
    `node_first_cost_time` float        DEFAULT NULL COMMENT 'Node execution first frame cost time',
    `next_log_ids`         text COMMENT 'Next execution node running ID',
    `token`                int          DEFAULT NULL COMMENT 'Token consumption',
    `create_time`          datetime     DEFAULT NULL,
    PRIMARY KEY (`id`),
    KEY                    `app_id` (`app_id`),
    KEY                    `bot_id` (`bot_id`),
    KEY                    `flow_id` (`flow_id`),
    KEY                    `sid` (`sid`),
    KEY                    `node_id` (`node_id`),
    KEY                    `domain` (`domain`),
    KEY                    `create_time` (`create_time`),
    KEY                    `token` (`token`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for notifications
-- ----------------------------
DROP TABLE IF EXISTS `notifications`;
CREATE TABLE `notifications`
(
    `id`            bigint unsigned NOT NULL AUTO_INCREMENT COMMENT 'Auto-increment ID',
    `type`          varchar(16) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci  NOT NULL COMMENT 'Message type (personal, broadcast, system, promotion)',
    `title`         varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT 'Message title',
    `body`          text CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci COMMENT 'Message body',
    `template_code` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci  DEFAULT NULL COMMENT 'Template code for special rendering on client side',
    `payload`       json                                                          DEFAULT NULL COMMENT 'Message payload, JSON format, carries additional business data',
    `creator_uid`   varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT 'Creator ID, e.g. system administrator',
    `created_at`    datetime(3) NOT NULL DEFAULT CURRENT_TIMESTAMP(3) COMMENT 'Creation time',
    `expire_at`     datetime(3) DEFAULT NULL COMMENT 'Expiration time, can be used for automatic cleanup tasks',
    `meta`          json                                                          DEFAULT NULL COMMENT 'Metadata, JSON format, stores other additional information',
    PRIMARY KEY (`id`),
    KEY             `idx_type_created` (`type`,`created_at` DESC),
    KEY             `idx_expire` (`expire_at`),
    KEY             `idx_creator` (`creator_uid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='General message table';

-- ----------------------------
-- Table structure for preview_knowledge
-- ----------------------------
DROP TABLE IF EXISTS `preview_knowledge`;
CREATE TABLE `preview_knowledge`
(
    `id`         varchar(64) NOT NULL COMMENT 'Primary key ID',
    `file_id`    varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci  DEFAULT NULL COMMENT 'User ID',
    `content`    text,
    `char_count` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL,
    `deleted`    bit(1)      NOT NULL                                          DEFAULT b'0',
    `created_at` datetime    NOT NULL,
    `updated_at` datetime                                                      DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
    PRIMARY KEY (`id`),
    KEY          `flow_id` (`char_count`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for prompt_template
-- ----------------------------
DROP TABLE IF EXISTS `prompt_template`;
CREATE TABLE `prompt_template`
(
    `id`               bigint       NOT NULL AUTO_INCREMENT COMMENT 'Primary key',
    `uid`              varchar(128) NOT NULL COMMENT 'User ID, empty for official',
    `name`             varchar(255)          DEFAULT NULL COMMENT 'Name',
    `description`      text COMMENT 'Description',
    `deleted`          bit(1)       NOT NULL DEFAULT b'0' COMMENT 'Whether deleted',
    `prompt`           text COMMENT 'Role setting',
    `created_time`     datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP,
    `updated_time`     datetime              DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    `node_category`    int                   DEFAULT NULL COMMENT 'Node category: 1: agent node',
    `adaptation_model` text COMMENT 'Adaptation model, 1: deepseek v3',
    `max_loop_count`   bigint                DEFAULT NULL COMMENT 'Maximum loop count',
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for prompt_template_en
-- ----------------------------
DROP TABLE IF EXISTS `prompt_template_en`;
CREATE TABLE `prompt_template_en`
(
    `id`               bigint       NOT NULL AUTO_INCREMENT COMMENT 'Primary key',
    `uid`              varchar(128) NOT NULL COMMENT 'User ID, empty for official',
    `name`             varchar(255)          DEFAULT NULL COMMENT 'Name',
    `description`      text COMMENT 'Description',
    `deleted`          bit(1)       NOT NULL DEFAULT b'0' COMMENT 'Whether deleted',
    `prompt`           text COMMENT 'Role setting',
    `created_time`     datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP,
    `updated_time`     datetime              DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    `node_category`    int                   DEFAULT NULL COMMENT 'Node category: 1: agent node',
    `adaptation_model` text COMMENT 'Adaptation model, 1: deepseek v3',
    `max_loop_count`   bigint                DEFAULT NULL COMMENT 'Maximum loop count',
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for repo
-- ----------------------------
DROP TABLE IF EXISTS `repo`;
CREATE TABLE `repo`
(
    `id`             bigint      NOT NULL AUTO_INCREMENT COMMENT 'Primary key',
    `name`           varchar(64)          DEFAULT NULL COMMENT 'Robot name',
    `user_id`        varchar(128)         DEFAULT NULL,
    `app_id`         varchar(20)          DEFAULT NULL,
    `outer_repo_id`  varchar(50)          DEFAULT NULL,
    `core_repo_id`   varchar(50)          DEFAULT NULL,
    `description`    varchar(255)         DEFAULT NULL COMMENT 'Description',
    `icon`           varchar(255)         DEFAULT NULL COMMENT 'Avatar icon',
    `color`          varchar(10)          DEFAULT NULL,
    `status`         int                  DEFAULT '0' COMMENT '1: Created 2: Published 3: Offline 4: Deleted',
    `embedded_model` varchar(20)          DEFAULT NULL COMMENT 'Embedded model',
    `index_type`     int                  DEFAULT NULL COMMENT 'Index method 0: High quality 1: Low quality',
    `visibility`     int                  DEFAULT '0' COMMENT 'Visibility 0: Only visible to self 1: Visible to some users',
    `source`         int                  DEFAULT '0' COMMENT 'Source 0: Web created 1: API created',
    `enable_audit`   tinyint(1) DEFAULT '0' COMMENT 'Whether to enable content review 0: Disable 1: Enable (default)',
    `deleted`        tinyint(1) DEFAULT '0' COMMENT 'Whether deleted: 1-Deleted, 0-Not deleted',
    `create_time`    timestamp NULL DEFAULT NULL COMMENT 'Creation time',
    `update_time`    timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    `is_top`         bit(1)               DEFAULT b'0',
    `tag`            varchar(64) NOT NULL DEFAULT 'CBG-RAG' COMMENT 'Knowledge base type tag, CBG-RAG: CBG knowledge base, AIUI-RAG2: AIUI knowledge base',
    `space_id`       bigint               DEFAULT NULL COMMENT 'Team space ID',
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- ----------------------------
-- Table structure for req_knowledge_records
-- ----------------------------
DROP TABLE IF EXISTS `req_knowledge_records`;
CREATE TABLE `req_knowledge_records`
(
    `id`          bigint       NOT NULL AUTO_INCREMENT,
    `uid`         varchar(128) DEFAULT NULL,
    `req_id`      bigint        DEFAULT NULL COMMENT 'Primary key of user question, corresponding to primary key ID of user question table',
    `req_message` varchar(8000) DEFAULT NULL COMMENT 'User question content',
    `knowledge`   varchar(4096) DEFAULT NULL COMMENT 'Retrieved knowledge',
    `create_time` datetime      DEFAULT CURRENT_TIMESTAMP,
    `update_time` datetime      DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    `chat_id`     bigint        DEFAULT NULL COMMENT 'Chat window ID, chat_list primary key',
    PRIMARY KEY (`id`),
    KEY           `idx_uid_req` (`uid`,`req_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Knowledge retrieval result record table';

-- ----------------------------
-- Table structure for rpa_info
-- ----------------------------
DROP TABLE IF EXISTS `rpa_info`;
CREATE TABLE `rpa_info` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT 'Primary key',
  `category` varchar(64) DEFAULT NULL COMMENT 'RPA category',
  `name` varchar(255) DEFAULT NULL COMMENT 'RPA name',
  `value` text COMMENT 'Configuration content',
  `is_deleted` tinyint DEFAULT '0' COMMENT 'Whether effective, 0-invalid, 1-valid',
  `remarks` varchar(1000) DEFAULT NULL COMMENT 'Notes, remarks',
  `icon` varchar(150) DEFAULT NULL,
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
  `update_time` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
  `path` varchar(100) DEFAULT NULL COMMENT '平台官网地址',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=1001 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='RPA configuration table';

INSERT INTO rpa_info (category, name, value, is_deleted, remarks, icon, create_time, update_time, `path`) VALUES('xiaowu', '晓悟RPA', '[
    {
        "key": "API KEY",
        "name": "apiKey",
        "desc": "鉴权token key",
        "type":"string",
        "required":true
    }
]', 0, '晓悟RPA基于科大讯飞的AI+RPA技术，提供超过300个预置自动化原子能力，并以此为基础构建了流程自动化开发平台。该平台具备零基础开发特性，用户可通过无代码拖拽方式，灵活调用原子能力与场景化组件，快速完成业务机器人的搭建。', 'https://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/icon_xiaowu.png', '2025-09-23 11:07:51', '2025-09-26 16:57:59', 'https://www.iflyrpa.com/');

-- ----------------------------
-- Table structure for rpa_user_assistant
-- ----------------------------
DROP TABLE IF EXISTS `rpa_user_assistant`;
CREATE TABLE `rpa_user_assistant`
(
    `id`             bigint                                                       NOT NULL AUTO_INCREMENT COMMENT 'Primary key',
    `user_id`        varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT 'Belonging user ID',
    `platform_id`    bigint                                                       NOT NULL COMMENT 'rpa_info.id (Platform definition)',
    `assistant_name` varchar(128)                                                 NOT NULL COMMENT 'Assistant name (unique under same user)',
    `status`         tinyint                                                      NOT NULL DEFAULT '1' COMMENT 'Status: 1-enable, 0-disable',
    `remarks`        varchar(1000)                                                         DEFAULT NULL COMMENT 'Notes, remarks',
    `icon`           varchar(100)                                                          DEFAULT NULL,
    `robot_count`    int                                                                   DEFAULT NULL,
    `space_id`       bigint                                                                DEFAULT NULL,
    `create_time`    datetime                                                     NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time`    datetime                                                     NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    PRIMARY KEY (`id`),
    UNIQUE KEY `uk_user_assistant_name` (`user_id`,`assistant_name`),
    KEY              `idx_user` (`user_id`),
    KEY              `fk_rpa_platform` (`platform_id`),
    CONSTRAINT `fk_rpa_platform` FOREIGN KEY (`platform_id`) REFERENCES `rpa_info` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='User-level RPA assistant main table';

-- ----------------------------
-- Table structure for rpa_user_assistant_field
-- ----------------------------
DROP TABLE IF EXISTS `rpa_user_assistant_field`;
CREATE TABLE `rpa_user_assistant_field`
(
    `id`           bigint       NOT NULL AUTO_INCREMENT COMMENT 'Primary key',
    `assistant_id` bigint       NOT NULL COMMENT 'rpa_user_assistant.id',
    `field_key`    varchar(128) NOT NULL COMMENT 'Field key (consistent with rpa_info.value[].name, such as apiKey)',
    `field_name`   varchar(255)          DEFAULT NULL COMMENT 'Field readable name (such as API KEY), redundant for audit convenience',
    `field_value`  text         NOT NULL COMMENT 'Field plain text value (not encrypted)',
    `create_time`  datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP,
    `update_time`  datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    PRIMARY KEY (`id`),
    UNIQUE KEY `uk_assistant_field` (`assistant_id`,`field_key`),
    KEY            `idx_assistant` (`assistant_id`),
    CONSTRAINT `fk_assistant_field` FOREIGN KEY (`assistant_id`) REFERENCES `rpa_user_assistant` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='User RPA assistant field table (plain text)';

-- ----------------------------
-- Table structure for share_chat
-- ----------------------------
DROP TABLE IF EXISTS `share_chat`;
CREATE TABLE `share_chat`
(
    `id`                 bigint NOT NULL AUTO_INCREMENT COMMENT 'Corresponding to share_key of chat_share_content',
    `uid`                varchar(128)    DEFAULT NULL COMMENT 'Sharing user UID',
    `url_key`            varchar(64)     DEFAULT NULL COMMENT 'Include key parameter in frontend URL to prevent scraping',
    `chat_id`            bigint          DEFAULT NULL COMMENT 'Primary key of shared conversation chat_list',
    `bot_id`             bigint          DEFAULT '0' COMMENT 'Assistant ID in assistant mode, 0 for normal mode',
    `click_times`        int             DEFAULT '0' COMMENT 'Click count',
    `max_click_times`    int             DEFAULT '-1' COMMENT 'Redundant, can limit maximum click count, default -1 means unlimited',
    `url_status`         tinyint         DEFAULT '1' COMMENT 'Whether link is valid: 0 invalid, 1 valid',
    `create_time`        datetime        DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time`        datetime        DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    `enabled_plugin_ids` varchar(255)    DEFAULT '' COMMENT 'Currently enabled plugin IDs for this conversation list',
    `like_times`         int    NOT NULL DEFAULT '0' COMMENT 'Like count',
    `ip_location`        varchar(32)     DEFAULT '' COMMENT 'IP location when sharing',
    PRIMARY KEY (`id`),
    UNIQUE KEY `idx_url_key` (`url_key`) USING BTREE,
    KEY                  `idx_bot_id` (`bot_id`),
    KEY                  `idx_enabled_plugin_ids` (`enabled_plugin_ids`),
    KEY                  `idx_create_time` (`create_time`),
    KEY                  `idx_uid` (`uid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Conversation sharing information index table';

-- ----------------------------
-- Table structure for share_qa
-- ----------------------------
DROP TABLE IF EXISTS `share_qa`;
CREATE TABLE `share_qa`
(
    `id`            bigint NOT NULL AUTO_INCREMENT,
    `uid`           varchar(128)  DEFAULT NULL COMMENT 'User ID',
    `share_chat_id` bigint        DEFAULT NULL COMMENT 'Corresponding to primary key ID of share_chat',
    `message_q`     varchar(8000) DEFAULT NULL COMMENT 'Question content',
    `message_a`     mediumtext COMMENT 'Answer content',
    `sid`           varchar(128)  DEFAULT NULL COMMENT 'Answer SID',
    `show_status`   tinyint       DEFAULT '1' COMMENT 'Whether valid: 1 valid, 0 invalid',
    `create_time`   datetime      DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time`   datetime      DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    `req_id`        bigint        DEFAULT NULL COMMENT 'User question, chat_req_records primary key ID',
    `req_type`      tinyint       DEFAULT '0' COMMENT 'Multimodal question type',
    `req_url`       text COMMENT 'Multimodal question URL',
    `resp_id`       bigint        DEFAULT '0' COMMENT 'Primary key ID of answer table',
    `resp_type`     varchar(128)  DEFAULT NULL COMMENT 'Multimodal return type',
    `resp_url`      varchar(512)  DEFAULT NULL COMMENT 'Multimodal return URL',
    `chat_key`      varchar(64)   DEFAULT NULL COMMENT 'Identifier for direct conversation on sharing page, same function as chatId',
    PRIMARY KEY (`id`),
    KEY             `uin_uid_share-chat-id` (`uid`,`share_chat_id`),
    KEY             `idx_uid` (`uid`),
    KEY             `idx_resp_type` (`resp_type`),
    KEY             `idx_share_chat_id` (`share_chat_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Conversation sharing Q&A content table';

-- ----------------------------
-- Table structure for spark_bot
-- ----------------------------
DROP TABLE IF EXISTS `spark_bot`;
CREATE TABLE `spark_bot`
(
    `id`             bigint      NOT NULL AUTO_INCREMENT COMMENT 'Primary key',
    `uuid`           varchar(64)          DEFAULT NULL,
    `name`           varchar(64) NOT NULL COMMENT 'Robot name',
    `user_id`        varchar(20)          DEFAULT NULL,
    `app_id`         varchar(50) NOT NULL,
    `description`    varchar(255)         DEFAULT NULL COMMENT 'Description',
    `avatar_icon`    varchar(255)         DEFAULT NULL COMMENT 'Avatar icon',
    `color`          varchar(10)          DEFAULT NULL,
    `floating_icon`  varchar(255)         DEFAULT NULL COMMENT 'Floating window icon',
    `greeting`       varchar(128)         DEFAULT NULL COMMENT 'Greeting',
    `floated`        tinyint(1) DEFAULT '0' COMMENT 'Whether set as floating robot 0: not set, 1: set',
    `deleted`        tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Whether deleted: 1-deleted, 0-not deleted',
    `create_time`    timestamp NULL DEFAULT NULL COMMENT 'Creation time',
    `update_time`    timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    `recommend_ques` text,
    `is_public`      tinyint     NOT NULL DEFAULT '0' COMMENT 'Whether public bot: 0 no, 1 yes',
    `bot_tag`        varchar(100)         DEFAULT NULL COMMENT 'Bot tag',
    `user_count`     int                  DEFAULT '0' COMMENT 'User count',
    `dialog_count`   int                  DEFAULT '0' COMMENT 'Conversation count',
    `favorite_count` int                  DEFAULT '0' COMMENT 'Favorite count',
    `public_id`      bigint               DEFAULT NULL COMMENT 'Public bot ID',
    `app_updatable`  bit(1)               DEFAULT b'0',
    `top`            bit(1)               DEFAULT b'0',
    `eval_set_id`    bigint               DEFAULT NULL,
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for system_user
-- ----------------------------
DROP TABLE IF EXISTS `system_user`;
CREATE TABLE `system_user`
(
    `id`                bigint NOT NULL COMMENT 'User ID',
    `nickname`          varchar(20)  DEFAULT NULL COMMENT 'Username',
    `login`             varchar(20)  DEFAULT NULL COMMENT 'User login name',
    `email`             varchar(128) DEFAULT NULL COMMENT 'Email',
    `mobile`            varchar(20)  DEFAULT NULL COMMENT 'Mobile number',
    `last_login_time`   datetime     DEFAULT NULL COMMENT 'Last login time',
    `registration_time` datetime     DEFAULT NULL COMMENT 'Registration time',
    `create_time`       datetime     DEFAULT NULL COMMENT 'Creation time',
    `update_by`         bigint       DEFAULT NULL,
    `is_delete`         tinyint(1) DEFAULT '0' COMMENT 'Logical deletion, 0=not deleted, 1=deleted',
    `update_time`       datetime     DEFAULT NULL,
    `source`            tinyint      DEFAULT '1',
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for tag_info_v2
-- ----------------------------
DROP TABLE IF EXISTS `tag_info_v2`;
CREATE TABLE `tag_info_v2`
(
    `id`          bigint    NOT NULL AUTO_INCREMENT,
    `name`        varchar(64)        DEFAULT NULL COMMENT 'Tag name',
    `type`        int                DEFAULT NULL COMMENT 'Type 1: knowledge base, 2: folder, 3: file, 4: knowledge block',
    `relation_id` varchar(50)        DEFAULT NULL COMMENT 'Used to isolate tags between different entities',
    `create_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    `uid`         varchar(128)       DEFAULT NULL,
    `repo_id`     bigint             DEFAULT NULL,
    PRIMARY KEY (`id`),
    KEY           `type_rel_idx` (`type`,`relation_id`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- ----------------------------
-- Table structure for text_node_config
-- ----------------------------
DROP TABLE IF EXISTS `text_node_config`;
CREATE TABLE `text_node_config`
(
    `id`          bigint       NOT NULL AUTO_INCREMENT,
    `uid`         varchar(128) NOT NULL,
    `separator`   varchar(255)          DEFAULT NULL,
    `comment`     varchar(255)          DEFAULT NULL,
    `deleted`     bit(1)       NOT NULL DEFAULT b'0',
    `create_time` datetime              DEFAULT NULL,
    `update_time` datetime              DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for tool_box
-- ----------------------------
DROP TABLE IF EXISTS `tool_box`;
CREATE TABLE `tool_box`
(
    `id`              bigint  NOT NULL AUTO_INCREMENT COMMENT 'Primary key',
    `tool_id`         varchar(30)      DEFAULT NULL COMMENT 'Core system tool identifier',
    `name`            varchar(64)      DEFAULT NULL COMMENT 'Tool name',
    `description`     varchar(255)     DEFAULT NULL COMMENT 'Tool description',
    `icon`            varchar(255)     DEFAULT NULL COMMENT 'Avatar icon',
    `user_id`         varchar(256)     DEFAULT NULL COMMENT 'User ID',
    `app_id`          varchar(60)      DEFAULT NULL COMMENT 'appid',
    `end_point`       text COMMENT 'Request address',
    `method`          varchar(255)     DEFAULT NULL COMMENT 'Request method',
    `web_schema`      longtext COMMENT 'Web protocol',
    `schema`          longtext COMMENT 'Protocol',
    `visibility`      int              DEFAULT '0' COMMENT 'Visibility 0: only visible to self, 1: visible to some users',
    `deleted`         tinyint(1) DEFAULT '0' COMMENT 'Whether deleted: 1-deleted, 0-not deleted',
    `create_time`     timestamp NULL DEFAULT NULL COMMENT 'Creation time',
    `update_time`     timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Modification time',
    `is_public`       bit(1)           DEFAULT b'0',
    `favorite_count`  int              DEFAULT '0' COMMENT 'Favorite count',
    `usage_count`     int              DEFAULT '0' COMMENT 'Usage count',
    `tool_tag`        varchar(255)     DEFAULT NULL,
    `operation_id`    varchar(255)     DEFAULT NULL,
    `creation_method` tinyint          DEFAULT '0',
    `auth_type`       tinyint          DEFAULT '0',
    `auth_info`       varchar(1024)    DEFAULT NULL,
    `top`             int              DEFAULT '0',
    `source`          tinyint          DEFAULT '1',
    `display_source`  varchar(16)      DEFAULT '1,2',
    `avatar_color`    varchar(255)     DEFAULT NULL,
    `status`          tinyint NOT NULL DEFAULT '1' COMMENT 'Status 0: draft, 1: formal',
    `version`         varchar(100)     DEFAULT NULL,
    `temporary_data`  mediumtext COMMENT 'Plugin temporary data',
    `space_id`        bigint           DEFAULT NULL COMMENT 'Space ID',
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- ----------------------------
-- Table structure for tool_box_copy
-- ----------------------------
DROP TABLE IF EXISTS `tool_box_copy`;
CREATE TABLE `tool_box_copy`
(
    `id`              bigint NOT NULL AUTO_INCREMENT COMMENT 'Primary key',
    `tool_id`         varchar(30)   DEFAULT NULL COMMENT 'Core system tool identifier',
    `name`            varchar(64)   DEFAULT NULL COMMENT 'Tool name',
    `description`     varchar(255)  DEFAULT NULL COMMENT 'Tool description',
    `icon`            varchar(255)  DEFAULT NULL COMMENT 'Avatar icon',
    `user_id`         varchar(20)   DEFAULT NULL COMMENT 'User ID',
    `app_id`          varchar(60)   DEFAULT NULL COMMENT 'appid',
    `end_point`       text COMMENT 'Request address',
    `method`          varchar(255)  DEFAULT NULL COMMENT 'Request method',
    `web_schema`      longtext COMMENT 'Web protocol',
    `schema`          longtext COMMENT 'Protocol',
    `visibility`      int           DEFAULT '0' COMMENT 'Visibility 0: only visible to self, 1: visible to some users',
    `deleted`         tinyint(1) DEFAULT '0' COMMENT 'Whether deleted: 1-deleted, 0-not deleted',
    `create_time`     timestamp NULL DEFAULT NULL COMMENT 'Creation time',
    `update_time`     timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Modification time',
    `is_public`       bit(1)        DEFAULT b'0',
    `favorite_count`  int           DEFAULT '0' COMMENT 'Favorite count',
    `usage_count`     int           DEFAULT '0' COMMENT 'Usage count',
    `tool_tag`        varchar(255)  DEFAULT NULL,
    `operation_id`    varchar(255)  DEFAULT NULL,
    `creation_method` tinyint       DEFAULT '0',
    `auth_type`       tinyint       DEFAULT '0',
    `auth_info`       varchar(1024) DEFAULT NULL,
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- ----------------------------
-- Table structure for tool_box_feedback
-- ----------------------------
DROP TABLE IF EXISTS `tool_box_feedback`;
CREATE TABLE `tool_box_feedback`
(
    `id`          bigint       NOT NULL AUTO_INCREMENT,
    `user_id`     varchar(100) NOT NULL COMMENT 'User ID',
    `tool_id`     varchar(100)          DEFAULT NULL COMMENT 'Tool ID',
    `name`        varchar(100)          DEFAULT NULL COMMENT 'Tool name',
    `remark`      varchar(1000)         DEFAULT NULL COMMENT 'Feedback content',
    `create_time` datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP,
    `update_time` datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP,
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for tool_box_heat_value
-- ----------------------------
DROP TABLE IF EXISTS `tool_box_heat_value`;
CREATE TABLE `tool_box_heat_value`
(
    `id`         int NOT NULL AUTO_INCREMENT,
    `tool_name`  varchar(100) DEFAULT NULL,
    `heat_value` int          DEFAULT NULL,
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for tool_box_operate_history
-- ----------------------------
DROP TABLE IF EXISTS `tool_box_operate_history`;
CREATE TABLE `tool_box_operate_history`
(
    `id`          bigint       NOT NULL AUTO_INCREMENT,
    `tool_id`     varchar(100) NOT NULL COMMENT 'Plugin ID',
    `uid`         varchar(100) NOT NULL,
    `type`        tinyint      NOT NULL COMMENT '1:debug  2:workflow',
    `create_time` datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP,
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Plugin debug history';

-- ----------------------------
-- Table structure for train_set
-- ----------------------------
DROP TABLE IF EXISTS `train_set`;
CREATE TABLE `train_set`
(
    `id`               bigint       NOT NULL AUTO_INCREMENT,
    `uid`              varchar(128) NOT NULL,
    `name`             varchar(512) NOT NULL,
    `description`      varchar(1024)         DEFAULT NULL,
    `current_ver`      varchar(255)          DEFAULT NULL COMMENT 'Current version',
    `ver_count`        int                   DEFAULT '0' COMMENT 'Version count',
    `deleted`          bit(1)       NOT NULL DEFAULT b'0',
    `create_time`      datetime              DEFAULT NULL,
    `update_time`      datetime              DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
    `application_id`   bigint                DEFAULT NULL,
    `application_type` tinyint               DEFAULT NULL,
    `node_info`        varchar(1024)         DEFAULT NULL,
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for train_set_ver
-- ----------------------------
DROP TABLE IF EXISTS `train_set_ver`;
CREATE TABLE `train_set_ver`
(
    `id`           bigint       NOT NULL AUTO_INCREMENT,
    `train_set_id` bigint       NOT NULL,
    `ver`          varchar(255) NOT NULL COMMENT 'Version number',
    `filename`     varchar(512)          DEFAULT NULL COMMENT 'File name',
    `storage_addr` varchar(512)          DEFAULT NULL COMMENT 'File address',
    `deleted`      bit(1)       NOT NULL DEFAULT b'0',
    `create_time`  datetime     NOT NULL,
    `update_time`  datetime     NOT NULL,
    `description`  varchar(255)          DEFAULT NULL,
    `node_info`    varchar(1024)         DEFAULT NULL,
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for train_set_ver_data
-- ----------------------------
DROP TABLE IF EXISTS `train_set_ver_data`;
CREATE TABLE `train_set_ver_data`
(
    `id`               bigint   NOT NULL AUTO_INCREMENT,
    `train_set_ver_id` bigint   NOT NULL,
    `seq`              int           DEFAULT NULL,
    `question`         varchar(2048) DEFAULT NULL,
    `expected_answer`  varchar(5096) DEFAULT NULL,
    `sid`              varchar(256)  DEFAULT NULL,
    `create_time`      datetime NOT NULL,
    `deleted`          bit(1)        DEFAULT b'0',
    `source`           tinyint       DEFAULT '1' COMMENT '1=file, 2=online data',
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for untitled_table
-- ----------------------------
DROP TABLE IF EXISTS `untitled_table`;
CREATE TABLE `untitled_table`
(
    `id`            int unsigned NOT NULL AUTO_INCREMENT,
    `created_tme`   datetime NOT NULL                                             DEFAULT CURRENT_TIMESTAMP,
    `domain`        varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL,
    `baseModelId`   bigint                                                        DEFAULT NULL,
    `baseModelName` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL,
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for upload_doc_task
-- ----------------------------
DROP TABLE IF EXISTS `upload_doc_task`;
CREATE TABLE `upload_doc_task`
(
    `id`              bigint NOT NULL AUTO_INCREMENT COMMENT 'Primary key',
    `task_id`         varchar(64) DEFAULT NULL COMMENT 'Task ID',
    `extract_task_id` varchar(64) DEFAULT NULL COMMENT 'Knowledge extraction task ID',
    `file_id`         bigint      DEFAULT NULL COMMENT 'File ID',
    `bot_id`          bigint      DEFAULT NULL COMMENT 'botID',
    `repo_id`         varchar(64) DEFAULT NULL COMMENT 'Knowledge base ID',
    `step`            int         DEFAULT NULL COMMENT 'Processing steps 0: upload file, 1: parse file, 2: embed file, 3: bot bind knowledge base',
    `status`          int         DEFAULT '0' COMMENT '0: in progress, 1: success, 2: failed',
    `reason`          text,
    `app_id`          varchar(60) DEFAULT NULL COMMENT 'User ID',
    `create_time`     timestamp NULL DEFAULT NULL COMMENT 'Creation time',
    `update_time`     timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Modification time',
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- ----------------------------
-- Table structure for user_broadcast_read
-- ----------------------------
DROP TABLE IF EXISTS `user_broadcast_read`;
CREATE TABLE `user_broadcast_read`
(
    `id`              bigint unsigned NOT NULL AUTO_INCREMENT COMMENT 'Auto-increment ID',
    `receiver_uid`    varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT 'User ID',
    `notification_id` bigint unsigned NOT NULL COMMENT 'Associated broadcast notification ID (notifications.id)',
    `read_at`         datetime(3) NOT NULL DEFAULT CURRENT_TIMESTAMP(3) COMMENT 'Read time',
    PRIMARY KEY (`id`),
    KEY               `idx_receiver_uid` (`receiver_uid`),
    KEY               `idx_notification` (`notification_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='User broadcast message read status table';

-- ----------------------------
-- Table structure for user_favorite_bot
-- ----------------------------
DROP TABLE IF EXISTS `user_favorite_bot`;
CREATE TABLE `user_favorite_bot`
(
    `id`           bigint    NOT NULL AUTO_INCREMENT,
    `user_id`      bigint    NOT NULL,
    `bot_id`       bigint    NOT NULL,
    `created_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
    `use_flag`     tinyint            DEFAULT '0',
    `is_deleted`   tinyint            DEFAULT '0',
    PRIMARY KEY (`id`),
    KEY            `idx_user_favorite_bot_user_id` (`user_id`),
    KEY            `idx_user_favorite_bot_bot_id` (`bot_id`),
    CONSTRAINT `user_favorite_bot_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `system_user` (`id`),
    CONSTRAINT `user_favorite_bot_ibfk_2` FOREIGN KEY (`bot_id`) REFERENCES `spark_bot` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for user_favorite_tool
-- ----------------------------
DROP TABLE IF EXISTS `user_favorite_tool`;
CREATE TABLE `user_favorite_tool`
(
    `id`             bigint       NOT NULL AUTO_INCREMENT,
    `user_id`        varchar(128) NOT NULL,
    `tool_id`        bigint       NOT NULL,
    `tool_flag_id`   varchar(30)           DEFAULT NULL,
    `created_time`   timestamp    NOT NULL DEFAULT CURRENT_TIMESTAMP,
    `is_deleted`     tinyint               DEFAULT '0',
    `use_flag`       tinyint               DEFAULT '0' COMMENT 'Usage flag',
    `mcp_tool_id`    varchar(100)          DEFAULT NULL,
    `plugin_tool_id` varchar(100)          DEFAULT NULL,
    PRIMARY KEY (`id`),
    KEY              `idx_user_favorite_tool_user_id` (`user_id`),
    KEY              `idx_user_favorite_tool_tool_id` (`tool_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for user_info
-- ----------------------------
DROP TABLE IF EXISTS `user_info`;
CREATE TABLE `user_info`
(
    `id`             bigint NOT NULL AUTO_INCREMENT COMMENT 'Non-business primary key',
    `uid`            varchar(128)                                                  DEFAULT NULL COMMENT 'UID',
    `username`       varchar(255)                                                  DEFAULT NULL COMMENT 'Username',
    `avatar`         varchar(512)                                                  DEFAULT NULL COMMENT 'Avatar',
    `nickname`       varchar(255)                                                  DEFAULT NULL COMMENT 'User nickname',
    `mobile`         varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT 'Mobile number',
    `account_status` tinyint                                                       DEFAULT '0' COMMENT 'Activation status: 0 inactive, 1 active, 2 frozen',
    `enterprise_service_type` int                                                  DEFAULT '0' COMMENT 'Enterprise service type: 0 none, 1 team, 2 enterprise',
    `user_agreement` tinyint                                                       DEFAULT '0' COMMENT 'Whether agreed to user agreement: 0 not agreed, 1 agreed',
    `deleted`        tinyint                                                       DEFAULT '0' COMMENT 'Logical deletion flag: 0 not deleted, 1 deleted',
    `create_time`    datetime                                                      DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time`    datetime                                                      DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    PRIMARY KEY (`id`),
    UNIQUE KEY `uid_unique_index` (`uid`),
    KEY              `idx_create_time` (`create_time`),
    KEY              `index_mobile` (`mobile`),
    KEY              `idx_username` (`username`),
    KEY              `idx_nickname` (`nickname`),
    KEY              `idx_deleted` (`deleted`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='User information table';

-- ----------------------------
-- Table structure for user_lang_chain_info
-- ----------------------------
DROP TABLE IF EXISTS `user_lang_chain_info`;
CREATE TABLE `user_lang_chain_info`
(
    `id`                  bigint                                                        NOT NULL AUTO_INCREMENT COMMENT 'Non-business primary key',
    `bot_id`              int                                                           NOT NULL COMMENT 'Agent ID',
    `name`                varchar(255) DEFAULT NULL COMMENT 'LangChain name',
    `desc`                text COMMENT 'Agent description',
    `open`                json         DEFAULT NULL COMMENT 'Open configuration information, including nodes and edges',
    `gcy`                 json         DEFAULT NULL COMMENT 'GCY configuration information, including virtual nodes and edges',
    `uid`                 varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT 'User ID',
    `flow_id`             varchar(64)  DEFAULT NULL COMMENT 'Process ID',
    `space_id`            bigint       DEFAULT NULL,
    `maas_id`             bigint       DEFAULT NULL COMMENT 'Group ID',
    `bot_name`            varchar(255) DEFAULT NULL COMMENT 'Agent name',
    `extra_inputs`        json         DEFAULT NULL COMMENT 'Extra input items',
    `extra_inputs_config` json         DEFAULT NULL COMMENT 'Multi-file parameters',
    `create_time`         datetime     DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time`         datetime     DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    PRIMARY KEY (`id`),
    KEY                   `idx_bot_id` (`bot_id`),
    KEY                   `idx_uid` (`uid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Workflow configuration table';

-- ----------------------------
-- Table structure for user_lang_chain_log
-- ----------------------------
DROP TABLE IF EXISTS `user_lang_chain_log`;
CREATE TABLE `user_lang_chain_log`
(
    `id`          bigint   NOT NULL AUTO_INCREMENT,
    `bot_id`      bigint                                                        DEFAULT NULL,
    `maas_id`     bigint                                                        DEFAULT NULL,
    `flow_id`     varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci  DEFAULT NULL,
    `uid`         varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL,
    `space_id`    bigint                                                        DEFAULT NULL,
    `create_time` datetime NOT NULL                                             DEFAULT CURRENT_TIMESTAMP,
    `update_time` datetime NOT NULL                                             DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    PRIMARY KEY (`id`),
    KEY           `idx_uid` (`uid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for user_notifications
-- ----------------------------
DROP TABLE IF EXISTS `user_notifications`;
CREATE TABLE `user_notifications`
(
    `id`              bigint unsigned NOT NULL AUTO_INCREMENT COMMENT 'Auto-increment ID',
    `notification_id` bigint unsigned NOT NULL COMMENT 'Associated notification ID (notifications.id)',
    `receiver_uid`    varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT 'Receiver user ID',
    `is_read`         tinyint                                                       NOT NULL DEFAULT '0' COMMENT 'Whether read (0=unread, 1=read)',
    `read_at`         datetime(3) DEFAULT NULL COMMENT 'Read time',
    `received_at`     datetime(3) NOT NULL DEFAULT CURRENT_TIMESTAMP(3) COMMENT 'Receive time',
    `extra`           json                                                                   DEFAULT NULL COMMENT 'Extra data, JSON format, for storing user-specific additional information',
    PRIMARY KEY (`id`),
    UNIQUE KEY `uniq_user_notification` (`notification_id`,`receiver_uid`),
    KEY               `idx_user_unread` (`receiver_uid`,`is_read`,`received_at` DESC),
    KEY               `idx_notification` (`notification_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='User personal message association table';

-- ----------------------------
-- Table structure for user_thread_pool_config
-- ----------------------------
DROP TABLE IF EXISTS `user_thread_pool_config`;
CREATE TABLE `user_thread_pool_config`
(
    `id`   bigint                                                        NOT NULL AUTO_INCREMENT,
    `uid`  varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT 'User ID',
    `size` int                                                           NOT NULL COMMENT 'Thread pool size',
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for vcn_info
-- ----------------------------
DROP TABLE IF EXISTS `vcn_info`;
CREATE TABLE `vcn_info`
(
    `id`          bigint NOT NULL AUTO_INCREMENT,
    `vcn`         varchar(255)  DEFAULT NULL,
    `name`        varchar(255)  DEFAULT NULL,
    `style`       varchar(255)  DEFAULT NULL,
    `emt`         varchar(255)  DEFAULT NULL,
    `image_url`   varchar(1024) DEFAULT NULL,
    `create_time` datetime      DEFAULT NULL,
    `valid`       bit(1)        DEFAULT NULL,
    PRIMARY KEY (`id`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci ROW_FORMAT=DYNAMIC;

-- ----------------------------
-- Table structure for voice_chat_personality_agent
-- ----------------------------
DROP TABLE IF EXISTS `voice_chat_personality_agent`;
CREATE TABLE `voice_chat_personality_agent`
(
    `id`                      bigint                                                       NOT NULL AUTO_INCREMENT,
    `uid`                     bigint                                                                DEFAULT NULL,
    `player_id`               varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci          DEFAULT '' COMMENT 'Role ID',
    `agent_id`                varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '' COMMENT 'Personality engine ID',
    `vcn_id`                  bigint                                                                DEFAULT NULL COMMENT 'Speaker ID',
    `agent_name`              varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci          DEFAULT '' COMMENT 'Personality name',
    `agent_type`              varchar(16) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci          DEFAULT '' COMMENT 'Personality type',
    `player_call`             varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci          DEFAULT '' COMMENT 'Personality addressing for user',
    `identity`                varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci         DEFAULT '' COMMENT 'Background',
    `personality_description` varchar(2000) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci        DEFAULT '' COMMENT 'Personality description',
    `image_url`               varchar(2250) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci        DEFAULT '' COMMENT 'Avatar address',
    `is_open`                 tinyint                                                               DEFAULT NULL COMMENT 'Whether enabled, 0-no, 1-yes',
    `is_del`                  tinyint                                                               DEFAULT NULL COMMENT 'Whether deleted, 0-no, 1-yes',
    `create_time`             datetime                                                              DEFAULT CURRENT_TIMESTAMP,
    `update_time`             datetime                                                              DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    `virtual_url`             varchar(2048) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci        DEFAULT NULL COMMENT 'Virtual character avatar',
    PRIMARY KEY (`id`),
    KEY                       `idx_agent_id` (`agent_id`),
    KEY                       `idx_agent_name` (`agent_name`),
    KEY                       `idx_uid` (`uid`),
    KEY                       `idx_vcn_id` (`vcn_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Super-anthropomorphic personality role details table';

-- ----------------------------
-- Table structure for workflow
-- ----------------------------
DROP TABLE IF EXISTS `workflow`;
CREATE TABLE `workflow`
(
    `id`                   bigint       NOT NULL AUTO_INCREMENT COMMENT 'Primary key ID',
    `uid`                  varchar(128) NOT NULL COMMENT 'User ID',
    `app_id`               varchar(255) NOT NULL,
    `flow_id`              varchar(255)          DEFAULT NULL,
    `name`                 varchar(255) NOT NULL,
    `description`          varchar(512) NOT NULL,
    `deleted`              bit(1)       NOT NULL DEFAULT b'0',
    `is_public`            bit(1)       NOT NULL DEFAULT b'0',
    `create_time`          datetime     NOT NULL,
    `update_time`          datetime              DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
    `published_data`       mediumtext,
    `data`                 mediumtext,
    `avatar_icon`          varchar(1000)         DEFAULT NULL,
    `avatar_color`         varchar(255)          DEFAULT NULL,
    `status`               tinyint      NOT NULL DEFAULT '-1' COMMENT '0=not published, 1=published',
    `can_publish`          bit(1)                DEFAULT b'0',
    `app_updatable`        bit(1)                DEFAULT b'0',
    `top`                  bit(1)                DEFAULT b'0',
    `edge_type`            varchar(255)          DEFAULT NULL,
    `order`                int                   DEFAULT '0',
    `eval_set_id`          bigint                DEFAULT NULL,
    `source`               tinyint               DEFAULT '1',
    `bak`                  mediumtext,
    `editing`              bit(1)                DEFAULT b'1',
    `eval_page_first_time` text,
    `advanced_config`      text COMMENT 'Advanced configuration',
    `ext`                  text,
    `category`             int                   DEFAULT NULL COMMENT 'Category',
    `space_id`             bigint                DEFAULT NULL COMMENT 'Space ID',
    PRIMARY KEY (`id`) USING BTREE,
    KEY                    `flow_id` (`flow_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci ROW_FORMAT=DYNAMIC;

-- ----------------------------
-- Table structure for workflow_comparison
-- ----------------------------
DROP TABLE IF EXISTS `workflow_comparison`;
CREATE TABLE `workflow_comparison`
(
    `id`          bigint       NOT NULL AUTO_INCREMENT,
    `flow_id`     varchar(100) NOT NULL COMMENT 'flowId',
    `type`        tinyint      NOT NULL DEFAULT '0' COMMENT 'Protocol type',
    `data`        mediumtext   NOT NULL COMMENT 'Workflow protocol',
    `create_time` datetime     NOT NULL COMMENT 'Creation time',
    `update_time` datetime     NOT NULL COMMENT 'Update time',
    `prompt_id`   varchar(100) NOT NULL,
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Workflow control group protocol';

-- ----------------------------
-- Table structure for workflow_dialog
-- ----------------------------
DROP TABLE IF EXISTS `workflow_dialog`;
CREATE TABLE `workflow_dialog`
(
    `id`            bigint  NOT NULL AUTO_INCREMENT,
    `uid`           varchar(128)     DEFAULT NULL,
    `workflow_id`   bigint           DEFAULT NULL,
    `question`      text,
    `answer`        longtext,
    `data`          mediumtext,
    `create_time`   datetime         DEFAULT NULL,
    `deleted`       bit(1)           DEFAULT b'0',
    `sid`           varchar(255)     DEFAULT NULL,
    `type`          tinyint NOT NULL DEFAULT '1' COMMENT '1：debug 2：formal',
    `question_item` text,
    `answer_item`   longtext,
    `chat_id`       varchar(100)     DEFAULT NULL,
    PRIMARY KEY (`id`) USING BTREE,
    KEY             `workflow_id` (`workflow_id`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci ROW_FORMAT=DYNAMIC;

-- ----------------------------
-- Table structure for workflow_dialog_bak
-- ----------------------------
DROP TABLE IF EXISTS `workflow_dialog_bak`;
CREATE TABLE `workflow_dialog_bak`
(
    `id`          bigint NOT NULL AUTO_INCREMENT,
    `uid`         varchar(128) DEFAULT NULL,
    `workflow_id` bigint       DEFAULT NULL,
    `question`    text,
    `answer`      text,
    `data`        mediumtext,
    `create_time` datetime     DEFAULT NULL,
    PRIMARY KEY (`id`) USING BTREE,
    KEY           `workflow_id` (`workflow_id`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci ROW_FORMAT=DYNAMIC;

-- ----------------------------
-- Table structure for workflow_feedback
-- ----------------------------
DROP TABLE IF EXISTS `workflow_feedback`;
CREATE TABLE `workflow_feedback`
(
    `id`          bigint       NOT NULL AUTO_INCREMENT,
    `uid`         varchar(128) NOT NULL COMMENT 'User ID',
    `user_name`   varchar(100) NOT NULL COMMENT 'User name',
    `bot_id`      varchar(100) NOT NULL,
    `flow_id`     varchar(100) NOT NULL,
    `sid`         varchar(100) NOT NULL,
    `start_time`  datetime      DEFAULT NULL,
    `end_time`    datetime      DEFAULT NULL,
    `cost_time`   int           DEFAULT NULL COMMENT 'Cost time',
    `token`       int           DEFAULT NULL COMMENT 'Token consumption count',
    `status`      varchar(100)  DEFAULT NULL COMMENT 'Status',
    `error_code`  varchar(100)  DEFAULT NULL,
    `pic_url`     text COMMENT 'Feedback image URL',
    `description` varchar(1024) DEFAULT NULL COMMENT 'Description',
    `create_time` datetime      DEFAULT NULL,
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Workflow user feedback';

-- ----------------------------
-- Table structure for workflow_node_history
-- ----------------------------
DROP TABLE IF EXISTS `workflow_node_history`;
CREATE TABLE `workflow_node_history`
(
    `id`           bigint       NOT NULL AUTO_INCREMENT,
    `node_id`      varchar(255) NOT NULL,
    `chat_id`      varchar(255) DEFAULT NULL,
    `raw_question` text,
    `raw_answer`   text,
    `create_time`  datetime     NOT NULL,
    `flow_id`      varchar(255) DEFAULT NULL,
    PRIMARY KEY (`id`),
    KEY            `node_id` (`node_id`),
    KEY            `chat_id` (`chat_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for workflow_template_group
-- ----------------------------
DROP TABLE IF EXISTS `workflow_template_group`;
CREATE TABLE `workflow_template_group`
(
    `id`            int         NOT NULL AUTO_INCREMENT COMMENT 'Non-business primary key',
    `create_user`   varchar(32) NOT NULL COMMENT 'Publisher domain account',
    `group_name`    varchar(20) NOT NULL COMMENT 'Group name',
    `sort_index`    int         NOT NULL COMMENT 'Sort order',
    `is_delete`     tinyint     NOT NULL DEFAULT '0' COMMENT 'Whether logical deletion: 0 no logical deletion, 1 logical deletion',
    `create_time`   datetime    NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time`   datetime    NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    `group_name_en` varchar(128)         DEFAULT NULL COMMENT 'Group English name',
    PRIMARY KEY (`id`),
    KEY             `idx_group_name` (`group_name`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Xingchen workflow template grouping (comprehensive management control)';

-- ----------------------------
-- Table structure for workflow_version
-- ----------------------------
DROP TABLE IF EXISTS `workflow_version`;
CREATE TABLE `workflow_version`
(
    `id`               bigint       NOT NULL AUTO_INCREMENT,
    `name`             varchar(100)          DEFAULT NULL COMMENT 'Version name',
    `version_num`      varchar(100) NOT NULL COMMENT 'Version number',
    `data`             mediumtext COMMENT 'Workflow protocol',
    `flow_id`          varchar(19)  NOT NULL,
    `is_deleted`       int          NOT NULL DEFAULT '0' COMMENT 'Delete status: 0=not deleted, 1=deleted',
    `deleted`          int          NOT NULL DEFAULT '1' COMMENT '2: deleted',
    `created_time`     datetime              DEFAULT CURRENT_TIMESTAMP COMMENT 'Publish time',
    `updated_time`     datetime              DEFAULT CURRENT_TIMESTAMP,
    `is_current`       int          NOT NULL DEFAULT '1' COMMENT 'Whether current version: 0=no, 1=yes',
    `is_version`       int          NOT NULL DEFAULT '1' COMMENT '2: not current version, 1: current version',
    `sys_data`         mediumtext COMMENT 'Core system protocol',
    `description`      varchar(100)          DEFAULT NULL COMMENT 'Version description',
    `publish_channels` varchar(255)          DEFAULT NULL COMMENT 'Publishing channels, consistent with chat_bot_market: MARKET,API,WECHAT,MCP (comma separated)',
    `publish_channel`  int                   DEFAULT NULL COMMENT 'Publishing channel: 1: WeChat official account, 2: Spark desk, 3: API, 4: MCP',
    `publish_result`   text COMMENT 'Publish result',
    `bot_id`           varchar(100)          DEFAULT NULL,
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ----------------------------
-- Table structure for xingchen_official_prompt
-- ----------------------------
DROP TABLE IF EXISTS `xingchen_official_prompt`;
CREATE TABLE `xingchen_official_prompt`
(
    `id`             bigint       NOT NULL AUTO_INCREMENT COMMENT 'Primary key ID',
    `name`           varchar(255) NOT NULL COMMENT 'Prompt name',
    `prompt_key`     varchar(255) NOT NULL COMMENT 'Prompt unique identifier key',
    `uid`            varchar(128) NOT NULL DEFAULT '0' COMMENT 'User ID',
    `type`           tinyint      NOT NULL DEFAULT '0' COMMENT 'Prompt type',
    `latest_version` varchar(50)           DEFAULT '' COMMENT 'Latest version number',
    `model_config`   json         NOT NULL COMMENT 'Model configuration information (JSON format)',
    `prompt_text`    json         NOT NULL COMMENT 'Prompt text content (JSON format)',
    `prompt_input`   json         NOT NULL COMMENT 'Prompt input variable configuration (JSON format)',
    `status`         tinyint      NOT NULL DEFAULT '0' COMMENT 'Status: 0-normal, 1-disabled',
    `is_delete`      tinyint      NOT NULL DEFAULT '0' COMMENT 'Whether deleted: 0-no, 1-yes',
    `commit_time`    datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Commit time',
    `create_time`    datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time`    datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    PRIMARY KEY (`id`),
    UNIQUE KEY `uk_prompt_key` (`prompt_key`),
    KEY              `idx_uid` (`uid`),
    KEY              `idx_type` (`type`),
    KEY              `idx_status` (`status`),
    KEY              `idx_create_time` (`create_time`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Xingchen official Prompt table';

-- ----------------------------
-- Table structure for xingchen_prompt_manage
-- ----------------------------
DROP TABLE IF EXISTS `xingchen_prompt_manage`;
CREATE TABLE `xingchen_prompt_manage`
(
    `id`              bigint       NOT NULL AUTO_INCREMENT COMMENT 'Primary key ID',
    `name`            varchar(500) NOT NULL COMMENT 'Prompt name',
    `prompt_key`      varchar(255) NOT NULL COMMENT 'Prompt unique identifier key',
    `uid`             varchar(128) NOT NULL COMMENT 'User ID',
    `type`            tinyint      NOT NULL DEFAULT '0' COMMENT 'Prompt type',
    `latest_version`  varchar(50)           DEFAULT '' COMMENT 'Latest version number',
    `current_version` varchar(50)           DEFAULT '' COMMENT 'Current version number',
    `model_config`    json         NOT NULL COMMENT 'Model configuration information (JSON format)',
    `prompt_text`     json         NOT NULL COMMENT 'Prompt text content (JSON format)',
    `prompt_input`    json         NOT NULL COMMENT 'Prompt input variable configuration (JSON format)',
    `status`          tinyint      NOT NULL DEFAULT '0' COMMENT 'Status: 0-Normal, 1-Disabled',
    `is_delete`       tinyint      NOT NULL DEFAULT '0' COMMENT 'Is deleted: 0-No, 1-Yes',
    `commit_time`     datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Commit time',
    `create_time`     datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time`     datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    PRIMARY KEY (`id`),
    UNIQUE KEY `uk_prompt_key_uid` (`prompt_key`,`uid`),
    KEY               `idx_uid` (`uid`),
    KEY               `idx_type` (`type`),
    KEY               `idx_status` (`status`),
    KEY               `idx_latest_version` (`latest_version`),
    KEY               `idx_create_time` (`create_time`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Xingchen Prompt management table';

-- ----------------------------
-- Table structure for xingchen_prompt_version
-- ----------------------------
DROP TABLE IF EXISTS `xingchen_prompt_version`;
CREATE TABLE `xingchen_prompt_version`
(
    `id`           bigint       NOT NULL AUTO_INCREMENT COMMENT 'Primary key ID',
    `prompt_id`    varchar(50)  NOT NULL COMMENT 'Associated Prompt ID',
    `uid`          varchar(128) NOT NULL COMMENT 'User ID',
    `version`      varchar(50)  NOT NULL COMMENT 'Version number',
    `version_desc` text COMMENT 'Version description',
    `commit_time`  datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Commit time',
    `commit_user`  varchar(128) NOT NULL COMMENT 'Commit user ID',
    `model_config` json         NOT NULL COMMENT 'Model configuration information (JSON format)',
    `prompt_text`  json         NOT NULL COMMENT 'Prompt text content (JSON format)',
    `prompt_input` json         NOT NULL COMMENT 'Prompt input variable configuration (JSON format)',
    `is_delete`    tinyint      NOT NULL DEFAULT '0' COMMENT 'Is deleted: 0-No, 1-Yes',
    `create_time`  datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation time',
    `update_time`  datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    PRIMARY KEY (`id`),
    KEY            `idx_prompt_id` (`prompt_id`),
    KEY            `idx_uid` (`uid`),
    KEY            `idx_version` (`version`),
    KEY            `idx_commit_user` (`commit_user`),
    KEY            `idx_commit_time` (`commit_time`),
    KEY            `idx_create_time` (`create_time`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Xingchen Prompt version management table';

-- ----------------------------
-- Table structure for z-bot_model_config_copy
-- ----------------------------
DROP TABLE IF EXISTS `z-bot_model_config_copy`;
CREATE TABLE `z-bot_model_config_copy`
(
    `id`           bigint NOT NULL AUTO_INCREMENT,
    `bot_id`       bigint NOT NULL COMMENT 'Bot ID',
    `model_config` text   NOT NULL COMMENT 'Model configuration',
    `create_time`  timestamp NULL DEFAULT NULL,
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- ----------------------------
-- Table structure for z-bot_repo_subscript
-- ----------------------------
DROP TABLE IF EXISTS `z-bot_repo_subscript`;
CREATE TABLE `z-bot_repo_subscript`
(
    `id`          bigint      NOT NULL AUTO_INCREMENT,
    `bot_id`      bigint      NOT NULL COMMENT 'Bot ID',
    `app_id`      varchar(64) NOT NULL COMMENT 'appId',
    `repo_id`     bigint      NOT NULL COMMENT 'repoID',
    `create_time` timestamp NULL DEFAULT NULL,
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- ----------------------------
-- Table structure for z-workflow_dialog-bak
-- ----------------------------
DROP TABLE IF EXISTS `z-workflow_dialog-bak`;
CREATE TABLE `z-workflow_dialog-bak`
(
    `id`          bigint NOT NULL AUTO_INCREMENT,
    `workflow_id` bigint   DEFAULT NULL,
    `question`    text,
    `answer`      text,
    `data`        mediumtext,
    `create_time` datetime DEFAULT NULL,
    PRIMARY KEY (`id`) USING BTREE,
    KEY           `workflow_id` (`workflow_id`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci ROW_FORMAT=DYNAMIC;

CREATE TABLE IF NOT EXISTS bot_template (
    id INT PRIMARY KEY AUTO_INCREMENT COMMENT 'Template ID',
    bot_name VARCHAR(32) NOT NULL COMMENT 'Template name',
    bot_desc VARCHAR(200) COMMENT 'Function description',
    bot_template TEXT COMMENT 'Input template',
    bot_type INT NOT NULL COMMENT 'Bot type',
    bot_type_name VARCHAR(50) COMMENT 'Type name',
    input_example TEXT COMMENT 'Input examples (JSON array string)',
    prompt TEXT COMMENT 'Prompt text',
    prompt_struct_list TEXT COMMENT 'Structured prompts (JSON array string)',
    prompt_type INT DEFAULT 0 COMMENT 'Prompt type',
    support_context INT DEFAULT 0 COMMENT 'Support context',
    bot_status INT DEFAULT 1 COMMENT 'Template status: 1-enabled, 0-disabled',
    language VARCHAR(10) DEFAULT 'zh' COMMENT 'Language identifier: zh-Chinese, en-English',
    create_time DATETIME DEFAULT CURRENT_TIMESTAMP,
    update_time DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    INDEX idx_bot_status (bot_status),
    INDEX idx_bot_type (bot_type),
    INDEX idx_language (language),
    INDEX idx_status_lang (bot_status, language)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='Bot template table';

BEGIN;
INSERT INTO astron_console.bot_template
(id, bot_name, bot_desc, bot_template, bot_type, bot_type_name, input_example, prompt, prompt_struct_list, prompt_type, support_context, bot_status, `language`, create_time, update_time)
VALUES(1623, 'PPT大纲助手', '请填写您PPT的核心内容，助手会提供PPT大纲', '比如输入"Q2门店销售情况复盘"，我将提供PPT大纲', 10, '职场', '["新员工入职培训","转正答辩","年终总结"]', '', '[{"id":16230,"promptKey":"角色设定","promptValue":"你是一位PPT大纲撰写高手"},{"id":16231,"promptKey":"目标任务","promptValue":"请根据我给出的PPT核心内容，写一个PPT大纲"},{"id":16232,"promptKey":"需求说明","promptValue":"要求结构清晰，有逻辑"},{"id":16233,"promptKey":"风格设定","promptValue":"条理清晰、思维严谨"}]', 1, 1, 2, 'zh', '2025-09-29 15:10:11', '2025-09-30 09:35:58');
INSERT INTO astron_console.bot_template
(id, bot_name, bot_desc, bot_template, bot_type, bot_type_name, input_example, prompt, prompt_struct_list, prompt_type, support_context, bot_status, `language`, create_time, update_time)
VALUES(1624, '文案写作助手', '输入您的写作需求，我将为您创作专业的文案内容', '例如：为新产品发布会写一段宣传语', 10, '职场', '["产品宣传语","活动邀请函","品牌故事"]', '', '[{"id":16240,"promptKey":"角色设定","promptValue":"你是一位专业的文案策划师"},{"id":16241,"promptKey":"目标任务","promptValue":"根据用户的写作需求，创作专业的文案内容"},{"id":16242,"promptKey":"需求说明","promptValue":"文案要突出产品特色，语言简洁有力"},{"id":16243,"promptKey":"风格设定","promptValue":"创意新颖、专业规范"}]', 1, 1, 2, 'zh', '2025-09-29 15:10:21', '2025-09-30 09:35:58');
INSERT INTO astron_console.bot_template
(id, bot_name, bot_desc, bot_template, bot_type, bot_type_name, input_example, prompt, prompt_struct_list, prompt_type, support_context, bot_status, `language`, create_time, update_time)
VALUES(1625, '代码审查助手', '提交您的代码，我将为您提供专业的代码审查和优化建议', '请粘贴需要审查的代码，并说明编程语言', 15, '技术', '["Java代码审查","Python代码优化","前端代码规范检查"]', '', '[{"id":16250,"promptKey":"角色设定","promptValue":"你是一位资深的软件开发工程师"},{"id":16251,"promptKey":"目标任务","promptValue":"对提交的代码进行专业审查，提供优化建议"},{"id":16252,"promptKey":"需求说明","promptValue":"检查代码质量、性能、安全性等方面"},{"id":16253,"promptKey":"风格设定","promptValue":"严谨专业、注重细节"}]', 1, 1, 2, 'zh', '2025-09-29 15:10:30', '2025-09-30 09:35:58');
INSERT INTO astron_console.bot_template
(id, bot_name, bot_desc, bot_template, bot_type, bot_type_name, input_example, prompt, prompt_struct_list, prompt_type, support_context, bot_status, `language`, create_time, update_time)
VALUES(1626, '数据分析助手', '提供您的数据和分析需求，我将帮您进行专业的数据分析', '例如：分析销售数据的趋势和规律', 15, '技术', '["销售数据分析","用户行为分析","财务数据报表"]', '', '[{"id":16260,"promptKey":"角色设定","promptValue":"你是一位专业的数据分析师"},{"id":16261,"promptKey":"目标任务","promptValue":"根据用户提供的数据进行专业分析"},{"id":16262,"promptKey":"需求说明","promptValue":"分析数据趋势、规律，提供可视化建议"},{"id":16263,"promptKey":"风格设定","promptValue":"数据驱动、逻辑清晰"}]', 1, 1, 2, 'zh', '2025-09-29 15:10:42', '2025-09-30 09:35:58');
INSERT INTO astron_console.bot_template
(id, bot_name, bot_desc, bot_template, bot_type, bot_type_name, input_example, prompt, prompt_struct_list, prompt_type, support_context, bot_status, `language`, create_time, update_time)
VALUES(1627, 'PPT Outline Assistant', 'Enter your PPT core content, and the assistant will provide PPT outline', 'For example, input"Q2 Store Sales Review", I will provide PPT outline', 10, 'Business', '["New Employee Onboarding","Promotion Defense","Annual Summary"]', '', '[{"id":16270,"promptKey":"Role Setting","promptValue":"You are a PPT outline writing expert"},{"id":16271,"promptKey":"Target Task","promptValue":"Please write a PPT outline based on the core content I provide"},{"id":16272,"promptKey":"Requirements","promptValue":"Require clear structure and logic"},{"id":16273,"promptKey":"Style Setting","promptValue":"Clear organization, rigorous thinking"}]', 1, 1, 2, 'en', '2025-09-29 15:10:56', '2025-09-30 09:35:58');
INSERT INTO astron_console.bot_template
(id, bot_name, bot_desc, bot_template, bot_type, bot_type_name, input_example, prompt, prompt_struct_list, prompt_type, support_context, bot_status, `language`, create_time, update_time)
VALUES(1628, 'Copywriting Assistant', 'Enter your writing needs, and I will create professional copy content for you', 'For example: Write a promotional slogan for a new product launch', 10, 'Business', '["Product Slogan","Event Invitation","Brand Story"]', '', '[{"id":16280,"promptKey":"Role Setting","promptValue":"You are a professional copywriter"},{"id":16281,"promptKey":"Target Task","promptValue":"Create professional copy content based on user writing needs"},{"id":16282,"promptKey":"Requirements","promptValue":"Copy should highlight product features with concise and powerful language"},{"id":16283,"promptKey":"Style Setting","promptValue":"Creative and professional"}]', 1, 1, 2, 'en', '2025-09-29 15:11:05', '2025-09-30 09:35:58');
INSERT INTO astron_console.bot_template
(id, bot_name, bot_desc, bot_template, bot_type, bot_type_name, input_example, prompt, prompt_struct_list, prompt_type, support_context, bot_status, `language`, create_time, update_time)
VALUES(1629, 'Code Review Assistant', 'Submit your code, and I will provide professional code review and optimization suggestions', 'Please paste the code to be reviewed and specify the programming language', 15, 'Technology', '["Java Code Review","Python Code Optimization","Frontend Code Standards Check"]', '', '[{"id":16290,"promptKey":"Role Setting","promptValue":"You are a senior software development engineer"},{"id":16291,"promptKey":"Target Task","promptValue":"Professionally review submitted code and provide optimization suggestions"},{"id":16292,"promptKey":"Requirements","promptValue":"Check code quality, performance, security and other aspects"},{"id":16293,"promptKey":"Style Setting","promptValue":"Rigorous and professional, attention to detail"}]', 1, 1, 2, 'en', '2025-09-29 15:11:16', '2025-09-30 09:35:58');
INSERT INTO astron_console.bot_template
(id, bot_name, bot_desc, bot_template, bot_type, bot_type_name, input_example, prompt, prompt_struct_list, prompt_type, support_context, bot_status, `language`, create_time, update_time)
VALUES(1630, 'Data Analysis Assistant', 'Provide your data and analysis needs, and I will help you with professional data analysis', 'For example: Analyze trends and patterns in sales data', 15, 'Technology', '["Sales Data Analysis","User Behavior Analysis","Financial Data Reports"]', '', '[{"id":16300,"promptKey":"Role Setting","promptValue":"You are a professional data analyst"},{"id":16301,"promptKey":"Target Task","promptValue":"Conduct professional analysis based on user-provided data"},{"id":16302,"promptKey":"Requirements","promptValue":"Analyze data trends and patterns, provide visualization suggestions"},{"id":16303,"promptKey":"Style Setting","promptValue":"Data-driven, clear logic"}]', 1, 1, 2, 'en', '2025-09-29 15:11:27', '2025-09-30 09:35:58');
COMMIT;

SET
FOREIGN_KEY_CHECKS = 1;

SELECT 'astron_console DATABASE initialization completed' AS '';

ALTER TABLE astron_console.rpa_user_assistant ADD user_name varchar(100) NULL COMMENT '用户名';

INSERT INTO prompt_template_en (id,uid,name,description,deleted,prompt,created_time,updated_time,node_category,adaptation_model,max_loop_count) VALUES
	 (3,-1,'Commemorative card content creation','You are a birthday commemorative card content creation assistant capable of generating background images based on the user''s input name.',0,'{
  "characterSettings": "You are a birthday commemorative card content creation assistant capable of generating personalized birthday card content based on the user''s input name and the generated background image in the following format.\\n\\nFormat:\\nTitle: ''Happy Birthday'' or ''Happy Birthday!'' (optionally with the birthday person''s name, e.g., ''[Name]:'')\\nCover Image: ![example_text](https://example.com/example.png)\\nBlessing: Generated blessing message content.",
  "thinkStep": "You are a birthday commemorative card content creation assistant capable of generating background images based on the user''s input name.",
  "userQuery": "{{to_name}}"
}','2025-07-07 17:36:41','2025-07-23 15:54:35',1,'{"name": "deepseek_v3_moe","serviceId": "xdeepseekv3","serverId": "lmbXtIcNp","domain": "xdeepseekv3","patchId": "0","type": 1,"source": 2,"url": "wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","appId": null,"licChannel": null,"llmSource": 1,"llmId": 216,"status": 1,"info": "{\\"conc\\":2,\\"domain\\":\\"generalv3.5\\",\\"expireTs\\":\\"2025-05-31\\",\\"qps\\":2,\\"tokensPreDay\\":1000,\\"tokensTotal\\":1000,\\"llmServiceId\\":\\"bm3.5\\"}","icon": "https://oss-beijing-m8.openstorage.cn/aicloud/llm/logo/03ee07dc3b7a16136ec925ca4ed0278e.png","color": null,"desc": "DeepSeek-V3，深度求索公司发布的AI大模型"}',1),
	 (5,-1,'Podcast Creation Assistant','You are a podcast assistant capable of generating hyper-realistic synthesized voice audio based on the story text provided by the user.',0,'{
  "characterSettings": "You are a podcast assistant. You need to present audio data in the following format:\\n\\nFormat:\\n## Title\\n\\nMP3 HTML player\\n\\nStory content",
  "thinkStep": "You are a podcast assistant capable of generating hyper-realistic synthesized voice audio based on the story text provided by the user.",
  "userQuery": "{{story}}"
}','2025-07-07 17:36:41','2025-07-23 15:55:10',1,'{"name": "deepseek_v3_moe","serviceId": "xdeepseekv3","serverId": "lmbXtIcNp","domain": "xdeepseekv3","patchId": "0","type": 1,"source": 2,"url": "wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","appId": null,"licChannel": null,"llmSource": 1,"llmId": 216,"status": 1,"info": "{\\"conc\\":2,\\"domain\\":\\"generalv3.5\\",\\"expireTs\\":\\"2025-05-31\\",\\"qps\\":2,\\"tokensPreDay\\":1000,\\"tokensTotal\\":1000,\\"llmServiceId\\":\\"bm3.5\\"}","icon": "https://oss-beijing-m8.openstorage.cn/aicloud/llm/logo/03ee07dc3b7a16136ec925ca4ed0278e.png","color": null,"desc": "DeepSeek-V3，深度求索公司发布的AI大模型"}',1),
	 (7,-1,'Defect Analysis','You are a line chart drawing expert. Based on the input JSON list of issues, you need to generate a line chart showing the trend of online issue closures.',0,'{
  "characterSettings": "",
  "thinkStep": "You are a line chart drawing expert. Based on the input JSON list of issues, you need to generate a line chart showing the trend of online issue closures. The chart should cover the period from the current date to six days prior, including the following daily metrics: total number of online issues (cumulative up to the day), number of closed issues (cumulative up to the day), number of unresolved issues (total issues up to the day minus closed issues up to the day), and number of pending fix issues (cumulative pending fix issues up to the day).",
  "userQuery": "{{data_json}}"
}','2025-07-07 17:36:41','2025-07-23 15:55:46',1,'{"name": "deepseek_v3_moe","serviceId": "xdeepseekv3","serverId": "lmbXtIcNp","domain": "xdeepseekv3","patchId": "0","type": 1,"source": 2,"url": "wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","appId": null,"licChannel": null,"llmSource": 1,"llmId": 216,"status": 1,"info": "{\\"conc\\":2,\\"domain\\":\\"generalv3.5\\",\\"expireTs\\":\\"2025-05-31\\",\\"qps\\":2,\\"tokensPreDay\\":1000,\\"tokensTotal\\":1000,\\"llmServiceId\\":\\"bm3.5\\"}","icon": "https://oss-beijing-m8.openstorage.cn/aicloud/llm/logo/03ee07dc3b7a16136ec925ca4ed0278e.png","color": null,"desc": "DeepSeek-V3，深度求索公司发布的AI大模型"}',1);

INSERT INTO prompt_template (id,uid,name,description,deleted,prompt,created_time,updated_time,node_category,adaptation_model,max_loop_count) VALUES
	 (13,-1,'纪念卡素材创作','你是一个生日纪念卡素材创作生成助手，能够基于用户输入的姓名生成背景图片。',0,'{"characterSettings": "你是一个生日纪念卡素材创作生成助手，能够基于用户输入的姓名和生成的背景图片按照如下格式创作专属的生日纪念卡素材。

格式：
标题：''生日快乐'' 或 ''Happy Birthday！''（可加上寿星的名字，如：''[姓名]: ''）
封面图片：![example_text](https://example.com/example.png)
祝福语：生成的祝福语内容。", "thinkStep": "你是一个生日纪念卡素材创作生成助手，能够基于用户输入的姓名生成背景图片。", "userQuery": "{{to_name}}"}','2025-07-07 17:36:41','2025-07-25 10:54:12',1,'{
  "id": 141,
  "name": "DeepSeek-V3",
  "serviceId": "xdeepseekv3",
  "serverId": "lmbXtIcNp",
  "domain": "xdeepseekv3",
  "patchId": "0",
  "type": 1,
  "config": null,
  "source": 2,
  "url": "wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat",
  "appId": null,
  "licChannel": "xdeepseekv3",
  "llmSource": 1,
  "llmId": 141,
  "status": 1,
  "info": "{\\"conc\\":2,\\"domain\\":\\"generalv3.5\\",\\"expireTs\\":\\"2025-05-31\\",\\"qps\\":2,\\"tokensPreDay\\":1000,\\"tokensTotal\\":1000,\\"llmServiceId\\":\\"bm3.5\\"}",
  "icon": "https://oss-beijing-m8.openstorage.cn/atp/image/model/icon/deepseek.png",
  "tag": [],
  "modelId": null,
  "pretrainedModel": null,
  "modelType": 2,
  "color": null,
  "isThink": false,
  "multiMode": false,
  "address": null,
  "desc": "DeepSeek-V3 是一款由深度求索公司自研的MoE模型。DeepSeek-V3 多项评测成绩超越了 Qwen2.5-72B 和 Llama-3.1-405B 等其他开源模型，并在性能上和世界顶尖的闭源模型 GPT-4o 以及 Claude-3.5-Sonnet 不分伯仲。",
  "createTime": "2025-02-07T00:12:54.000+08:00",
  "updateTime": "2025-02-08T21:50:01.000+08:00"
}',1),
	 (15,-1,'播客创建助手','你是一个播客助手，你能够基于用户输入的故事文本，使用超拟人合成语音音频。',0,'{"characterSettings": "你是一个播客助手，你需要基于以下格式展示音频数据：

格式：
## 标题

mp3 html播放器

故事正文", "thinkStep": "你是一个播客助手，你能够基于用户输入的故事文本，使用超拟人合成语音音频。", "userQuery": "{{story}}"}','2025-07-07 17:36:41','2025-07-25 10:54:13',1,'{
  "id": 141,
  "name": "DeepSeek-V3",
  "serviceId": "xdeepseekv3",
  "serverId": "lmbXtIcNp",
  "domain": "xdeepseekv3",
  "patchId": "0",
  "type": 1,
  "config": null,
  "source": 2,
  "url": "wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat",
  "appId": null,
  "licChannel": "xdeepseekv3",
  "llmSource": 1,
  "llmId": 141,
  "status": 1,
  "info": "{\\"conc\\":2,\\"domain\\":\\"generalv3.5\\",\\"expireTs\\":\\"2025-05-31\\",\\"qps\\":2,\\"tokensPreDay\\":1000,\\"tokensTotal\\":1000,\\"llmServiceId\\":\\"bm3.5\\"}",
  "icon": "https://oss-beijing-m8.openstorage.cn/atp/image/model/icon/deepseek.png",
  "tag": [],
  "modelId": null,
  "pretrainedModel": null,
  "modelType": 2,
  "color": null,
  "isThink": false,
  "multiMode": false,
  "address": null,
  "desc": "DeepSeek-V3 是一款由深度求索公司自研的MoE模型。DeepSeek-V3 多项评测成绩超越了 Qwen2.5-72B 和 Llama-3.1-405B 等其他开源模型，并在性能上和世界顶尖的闭源模型 GPT-4o 以及 Claude-3.5-Sonnet 不分伯仲。",
  "createTime": "2025-02-07T00:12:54.000+08:00",
  "updateTime": "2025-02-08T21:50:01.000+08:00"
}',1),
	 (17,-1,'缺陷分析','你是一个折线图绘制专家，需要基于输入的json问题列表生成线上问题关闭趋势折线图.',0,'{"characterSettings": "", "thinkStep": "你是一个折线图绘制专家，需要基于输入的json问题列表生成线上问题关闭趋势折线图；包含当前日期到当前日期前六天期间线上问题每日趋势，包含线上问题总数（截止当日问题总数），已关闭问题数（截止当日已关闭总数），遗留未关闭问题数（截止当日问题总数减去截止当日已关闭总数），遗留待修复问题数（截止当日待修复总数）", "userQuery": "{{data_json}}"}','2025-07-07 17:36:41','2025-07-25 10:54:13',1,'{
  "id": 141,
  "name": "DeepSeek-V3",
  "serviceId": "xdeepseekv3",
  "serverId": "lmbXtIcNp",
  "domain": "xdeepseekv3",
  "patchId": "0",
  "type": 1,
  "config": null,
  "source": 2,
  "url": "wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat",
  "appId": null,
  "licChannel": "xdeepseekv3",
  "llmSource": 1,
  "llmId": 141,
  "status": 1,
  "info": "{\\"conc\\":2,\\"domain\\":\\"generalv3.5\\",\\"expireTs\\":\\"2025-05-31\\",\\"qps\\":2,\\"tokensPreDay\\":1000,\\"tokensTotal\\":1000,\\"llmServiceId\\":\\"bm3.5\\"}",
  "icon": "https://oss-beijing-m8.openstorage.cn/atp/image/model/icon/deepseek.png",
  "tag": [],
  "modelId": null,
  "pretrainedModel": null,
  "modelType": 2,
  "color": null,
  "isThink": false,
  "multiMode": false,
  "address": null,
  "desc": "DeepSeek-V3 是一款由深度求索公司自研的MoE模型。DeepSeek-V3 多项评测成绩超越了 Qwen2.5-72B 和 Llama-3.1-405B 等其他开源模型，并在性能上和世界顶尖的闭源模型 GPT-4o 以及 Claude-3.5-Sonnet 不分伯仲。",
  "createTime": "2025-02-07T00:12:54.000+08:00",
  "updateTime": "2025-02-08T21:50:01.000+08:00"
}',1);

-- ----------------------------
-- Table structure for app_mst
-- ----------------------------
DROP TABLE IF EXISTS `app_mst`;
CREATE TABLE `app_mst` (
  `id`           bigint         NOT NULL        AUTO_INCREMENT,
  `uid`          varchar(128)   NOT NULL        COMMENT 'User ID',
  `app_name`     varchar(128)   DEFAULT NULL    COMMENT 'App name',
  `app_describe` varchar(512)   DEFAULT NULL    COMMENT 'App Describe',
  `app_id`       varchar(128)   DEFAULT NULL    COMMENT 'App ID',
  `app_key`      varchar(128)   DEFAULT NULL    COMMENT 'App Key',
  `app_secret`   varchar(128)   DEFAULT NULL    COMMENT 'App Secret',
  `is_delete`    tinyint        DEFAULT '0'     COMMENT 'Is Delete',
  `create_time`  datetime       DEFAULT NULL    COMMENT 'Create Time',
  `update_time`  datetime       DEFAULT NULL    COMMENT 'Update Time',
  PRIMARY KEY (`id`),
  KEY `idx_uid` (`uid`),
  KEY `idx_app_id` (`app_id`),
  KEY `idx_app_name` (`app_name`)
) ENGINE=InnoDB COLLATE=utf8mb4_unicode_ci;

INSERT INTO tool_box (tool_id, name, description, icon, user_id, app_id, end_point, `method`, web_schema, `schema`, visibility, deleted, create_time, update_time, is_public, favorite_count, usage_count, tool_tag, operation_id, creation_method, auth_type, auth_info, top, source, display_source, avatar_color, status, version, temporary_data, space_id) VALUES('tool@8b2262bef821000', '超拟人合成', '用户上传一段话，选择特色发音人，生成一段更拟人的语音', 'https://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/user/sparkBot_1745890045391_image22.png', 'ccdd4277-2c77-4c36-b484-3935d5077ebf', '680ab54f', 'http://core-aitools:18668/aitools/v1/smarttts', 'post', '{"toolRequestInput":[{"id":"d92e5ee8-2e15-459b-a368-6ef187295cdf","name":"vcn","description":"特色发音人，目前可选（x5_lingfeiyi_flow）","type":"string","location":"body","required":true,"default":"x5_lingfeiyi_flow","open":true,"from":2,"startDisabled":false,"nameErrMsg":"","descriptionErrMsg":""},{"id":"f4f6ef93-f19a-40e9-843e-48f42dba450b","name":"text","description":"需要合成的文本","type":"string","location":"body","required":true,"default":"","open":true,"from":2,"startDisabled":true,"nameErrMsg":"","descriptionErrMsg":""},{"id":"d83edba1-4223-4a1d-be9c-662aff099f37","name":"speed","description":"语速：0对应默认语速的1/2，100对应默认语速的2倍; 默认值50","type":"integer","location":"body","required":true,"default":50,"open":true,"from":2,"startDisabled":false,"nameErrMsg":"","descriptionErrMsg":""}],"toolRequestOutput":[{"id":"41e2c8e3-4626-48be-a36c-d9a60f57bbfb","name":"code","description":"状态码","type":"integer","open":true,"nameErrMsg":"","descriptionErrMsg":""},{"id":"423c0961-a149-43a5-8cf4-be696fca4c65","name":"message","description":"操作消息","type":"string","open":true,"nameErrMsg":"","descriptionErrMsg":""},{"id":"d4bd9e53-999b-43d1-b304-416ddf096b51","name":"sid","description":"会话id","type":"string","open":true,"nameErrMsg":"","descriptionErrMsg":""},{"id":"56ea11ae-ac9e-46fd-aaa6-f147eaa5a386","name":"data","description":"结果","type":"object","open":true,"nameErrMsg":"","descriptionErrMsg":"","children":[{"id":"910d0270-bbbe-44cd-8f84-8208279be7cc","name":"voice_url","description":"音频下载url","type":"string","open":true,"fatherType":"object","nameErrMsg":"","descriptionErrMsg":""}]}]}', '{"info":{"title":"agentBuilder toolset","version":"1.0.0","x-is-official":false},"openapi":"3.1.0","paths":{"/aitools/v1/smarttts":{"post":{"description":"用户上传一段话，选择特色发音人，生成一段更拟人的语音","operationId":"超拟人合成-46EXFdLW","requestBody":{"content":{"application/json":{"schema":{"properties":{"vcn":{"default":"x5_lingfeiyi_flow","description":"特色发音人，目前可选（x5_lingfeiyi_flow）","type":"string","x-display":true,"x-from":2},"text":{"description":"需要合成的文本","type":"string","x-display":true,"x-from":2},"speed":{"default":50,"description":"语速：0对应默认语速的1/2，100对应默认语速的2倍; 默认值50","type":"integer","x-display":true,"x-from":2}},"required":["vcn","text","speed"],"type":"object"}}},"required":true},"responses":{"200":{"content":{"application/json":{"schema":{"properties":{"code":{"description":"状态码","type":"integer","x-display":true},"data":{"description":"结果","properties":{"voice_url":{"description":"音频下载url","type":"string","x-display":true}},"type":"object","x-display":true},"message":{"description":"操作消息","type":"string","x-display":true},"sid":{"description":"会话id","type":"string","x-display":true}},"type":"object"}}},"description":"success"}},"summary":"超拟人合成"}}},"servers":[{"description":"a server description","url":"http://core-aitools:18668"}]}', 0, 0, '2025-10-15 09:55:51', '2025-10-15 10:50:24', 1, 0, 0, '1583', '超拟人合成-46EXFdLW', 1, 1, NULL, 0, 1, '1,2', '#FFEAD5', 1, 'V1.0', '', NULL);

INSERT INTO tool_box (tool_id, name, description, icon, user_id, app_id, end_point, `method`, web_schema, `schema`, visibility, deleted, create_time, update_time, is_public, favorite_count, usage_count, tool_tag, operation_id, creation_method, auth_type, auth_info, top, source, display_source, avatar_color, status, version, temporary_data, space_id) VALUES('tool@8b226f7d7421000', '文生图', '根据输入的内容生成与内容有关的图片', 'https://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/user/sparkBot_1745830350835_KKCvr5jXz9.png', 'ccdd4277-2c77-4c36-b484-3935d5077ebf', '680ab54f', 'http://core-aitools:18668/aitools/v1/image_generate', 'post', '{"toolRequestInput":[{"id":"94afa466-dabf-47a9-9e44-b1578fad8833","name":"width","description":"宽度分辨率，支持以下分辨率：512x512, 640x360, 640x480, 640x640, 680x512, 512x680, 768x768, 720x1280, 1280x720, 1024x1024","type":"integer","location":"body","required":true,"default":1024,"open":true,"from":2,"startDisabled":false,"nameErrMsg":"","descriptionErrMsg":""},{"id":"f0e78bbd-b71b-4e8b-a7a7-23f1278ad801","name":"height","description":"高度分辨率，支持以下分辨率：512x512, 640x360, 640x480, 640x640, 680x512, 512x680, 768x768, 720x1280, 1280x720, 1024x1024","type":"integer","location":"body","required":true,"default":1024,"open":true,"from":2,"startDisabled":false,"nameErrMsg":"","descriptionErrMsg":""},{"id":"9470f18f-137f-4bb0-a539-573aec172a72","name":"prompt","description":"图片描述信息","type":"string","location":"body","required":true,"default":"","open":true,"from":2,"startDisabled":true,"nameErrMsg":"","descriptionErrMsg":""}],"toolRequestOutput":[{"id":"5bcb474c-ccef-4281-b9aa-e18fa147f261","name":"code","description":"状态码","type":"integer","open":true,"nameErrMsg":"","descriptionErrMsg":""},{"id":"d81f669d-97f7-43f7-9861-5dc3c458de6c","name":"sid","description":"会话id","type":"string","open":true,"nameErrMsg":"","descriptionErrMsg":""},{"id":"aaa2b97d-62ac-424d-83e6-01be45e23086","name":"message","description":"操作消息","type":"string","open":true,"nameErrMsg":"","descriptionErrMsg":""},{"id":"b4989736-44be-4009-8987-8758e38b7afe","name":"data","description":"结果","type":"object","open":true,"nameErrMsg":"","descriptionErrMsg":"","children":[{"id":"ec357779-cfe5-4554-9aae-6983e0d06a0e","name":"image_url","description":"图片下载地址","type":"string","open":true,"fatherType":"object","nameErrMsg":"","descriptionErrMsg":""},{"id":"ed1609c4-bcff-4cdd-9ac0-0804c4de95e5","name":"image_url_md","description":"图片下载地址markdown格式","type":"string","open":true,"fatherType":"object","nameErrMsg":"","descriptionErrMsg":""}]}]}', '{"info":{"title":"agentBuilder toolset","version":"1.0.0","x-is-official":false},"openapi":"3.1.0","paths":{"/aitools/v1/image_generate":{"post":{"description":"根据输入的内容生成与内容有关的图片","operationId":"文生图-hrOgFpJ8","requestBody":{"content":{"application/json":{"schema":{"properties":{"width":{"default":1024,"description":"宽度分辨率，支持以下分辨率：512x512, 640x360, 640x480, 640x640, 680x512, 512x680, 768x768, 720x1280, 1280x720, 1024x1024","type":"integer","x-display":true,"x-from":2},"prompt":{"description":"图片描述信息","type":"string","x-display":true,"x-from":2},"height":{"default":1024,"description":"高度分辨率，支持以下分辨率：512x512, 640x360, 640x480, 640x640, 680x512, 512x680, 768x768, 720x1280, 1280x720, 1024x1024","type":"integer","x-display":true,"x-from":2}},"required":["width","height","prompt"],"type":"object"}}},"required":true},"responses":{"200":{"content":{"application/json":{"schema":{"properties":{"code":{"description":"状态码","type":"integer","x-display":true},"data":{"description":"结果","properties":{"image_url":{"description":"图片下载地址","type":"string","x-display":true},"image_url_md":{"description":"图片下载地址markdown格式","type":"string","x-display":true}},"type":"object","x-display":true},"message":{"description":"操作消息","type":"string","x-display":true},"sid":{"description":"会话id","type":"string","x-display":true}},"type":"object"}}},"description":"success"}},"summary":"文生图"}}},"servers":[{"description":"a server description","url":"http://core-aitools:18668"}]}', 0, 0, '2025-10-15 09:59:25', '2025-10-15 10:50:24', 1, 0, 0, '1583', '文生图-hrOgFpJ8', 1, 1, NULL, 0, 1, '1,2', '#FFEAD5', 1, 'V1.0', '', NULL);

INSERT INTO tool_box (tool_id, name, description, icon, user_id, app_id, end_point, `method`, web_schema, `schema`, visibility, deleted, create_time, update_time, is_public, favorite_count, usage_count, tool_tag, operation_id, creation_method, auth_type, auth_info, top, source, display_source, avatar_color, status, version, temporary_data, space_id) VALUES('tool@8b2277329821000', '图片理解', '用户输入一张图片和问题，从而识别出图片中的对象、场景等信息回答用户的问题', 'https://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/user/sparkBot_1745890302944_image_10.png', 'ccdd4277-2c77-4c36-b484-3935d5077ebf', '680ab54f', 'http://core-aitools:18668/aitools/v1/image_understanding', 'post', '{"toolRequestInput":[{"id":"72a75566-57e2-4d86-b60e-c6612b1de292","name":"question","description":"问题","type":"string","location":"body","required":true,"default":"","open":true,"from":2,"startDisabled":true,"nameErrMsg":"","descriptionErrMsg":""},{"id":"e01dd4f8-ba80-480d-a59d-7655451f0012","name":"image_url","description":"图片","type":"string","location":"body","required":true,"default":"","open":true,"from":2,"startDisabled":true,"nameErrMsg":"","descriptionErrMsg":""}],"toolRequestOutput":[{"id":"7b87c14b-6427-48d3-a1c5-03572dbb6dbc","name":"code","description":"状态码","type":"integer","open":true,"nameErrMsg":"","descriptionErrMsg":""},{"id":"9bea1eeb-8715-4656-b88d-43ed4b9bc655","name":"message","description":"操作消息","type":"string","open":true,"nameErrMsg":"","descriptionErrMsg":""},{"id":"8ddcfd48-dad0-485a-b753-33850b52cbeb","name":"sid","description":"会话id","type":"string","open":true,"nameErrMsg":"","descriptionErrMsg":""},{"id":"bab62180-cb55-4ab6-93dc-89c99f789697","name":"data","description":"结果","type":"object","open":true,"nameErrMsg":"","descriptionErrMsg":"","children":[{"id":"e835a54e-693b-4dd2-be65-f04aba9ad69b","name":"content","description":"回答内容","type":"string","open":true,"fatherType":"object","nameErrMsg":"","descriptionErrMsg":""}]}]}', '{"info":{"title":"agentBuilder toolset","version":"1.0.0","x-is-official":false},"openapi":"3.1.0","paths":{"/aitools/v1/image_understanding":{"post":{"description":"用户输入一张图片和问题，从而识别出图片中的对象、场景等信息回答用户的问题","operationId":"图片理解-Qo66kqwh","requestBody":{"content":{"application/json":{"schema":{"properties":{"question":{"description":"问题","type":"string","x-display":true,"x-from":2},"image_url":{"description":"图片","type":"string","x-display":true,"x-from":2}},"required":["question","image_url"],"type":"object"}}},"required":true},"responses":{"200":{"content":{"application/json":{"schema":{"properties":{"code":{"description":"状态码","type":"integer","x-display":true},"data":{"description":"结果","properties":{"content":{"description":"回答内容","type":"string","x-display":true}},"type":"object","x-display":true},"message":{"description":"操作消息","type":"string","x-display":true},"sid":{"description":"会话id","type":"string","x-display":true}},"type":"object"}}},"description":"success"}},"summary":"图片理解"}}},"servers":[{"description":"a server description","url":"http://core-aitools:18668"}]}', 0, 0, '2025-10-15 10:01:36', '2025-10-15 10:50:24', 1, 0, 0, '1583', '图片理解-Qo66kqwh', 1, 1, NULL, 0, 1, '1,2', '#FFEAD5', 1, 'V1.0', '', NULL);

INSERT INTO tool_box (tool_id, name, description, icon, user_id, app_id, end_point, `method`, web_schema, `schema`, visibility, deleted, create_time, update_time, is_public, favorite_count, usage_count, tool_tag, operation_id, creation_method, auth_type, auth_info, top, source, display_source, avatar_color, status, version, temporary_data, space_id) VALUES('tool@8b2282136021000', 'OCR', '识别图片或PDF文件中的文字内容，目前支持PDF,PNG,JPG', 'https://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/user/sparkBot_1745889604366_image14.png', 'ccdd4277-2c77-4c36-b484-3935d5077ebf', '680ab54f', 'http://core-aitools:18668/aitools/v1/ocr', 'post', '{"toolRequestInput":[{"default":"","description":"图片或pdf文件的url地址","from":2,"id":"a32dc338-db43-4601-a4f6-5ec00e8601a6","location":"body","name":"file_url","open":true,"required":true,"type":"string","descriptionErrMsg":"","nameErrMsg":""},{"default":-1,"description":"当传入的是pdf链接，表示页码开始范围，-1表示全部页码，从0开始；图片链接不影响该值输入","from":2,"id":"1214355c-dcd2-4232-8df3-e363904592c3","location":"body","name":"page_start","open":true,"required":false,"type":"integer","descriptionErrMsg":"","startDisabled":false,"defalutDisabled":false,"nameErrMsg":""},{"default":-1,"description":"当传入的是pdf链接，表示页码结束范围，-1表示全部页码，从0开始；图片链接不影响该值输入","from":2,"id":"b6ffb357-6d28-44d1-a514-162ed182a35b","location":"body","name":"page_end","open":true,"required":false,"type":"integer","descriptionErrMsg":"","startDisabled":false,"defalutDisabled":false,"nameErrMsg":""}],"toolRequestOutput":[{"description":"状态码","id":"964ebe24-4dbf-46a2-8f84-564360e347ef","name":"code","open":true,"type":"integer","nameErrMsg":"","descriptionErrMsg":""},{"description":"操作信息","id":"909e60f3-231f-468d-9735-0139c633d813","name":"message","open":true,"type":"string","nameErrMsg":"","descriptionErrMsg":""},{"children":[{"children":[{"description":"页码","fatherType":"object","id":"aed80a2e-8a7a-4013-8af8-d9ec1296e7cb","name":"file_index","open":true,"type":"integer","nameErrMsg":"","descriptionErrMsg":""},{"children":[{"children":[{"description":"源数据","fatherType":"object","id":"5ac971c6-f028-4637-994e-7942a39c10cf","name":"source_data","open":true,"type":"string","nameErrMsg":"","descriptionErrMsg":""},{"description":"名称","fatherType":"object","id":"4ac0a589-4c27-4f33-976b-eb7f245314cc","name":"name","open":true,"type":"string","nameErrMsg":"","descriptionErrMsg":""},{"description":"内容","fatherType":"object","id":"9ece46b1-790e-416e-ada0-58e01f51d290","name":"value","open":true,"type":"string","nameErrMsg":"","descriptionErrMsg":""}],"description":"item-content","fatherType":"array","id":"91771848-fc62-4a8a-8086-4095cdf20b7c","name":"[Array Item]","open":true,"type":"object","nameErrMsg":"","descriptionErrMsg":""}],"description":"页面内容","fatherType":"object","id":"1ade0de0-1c8b-4daa-97af-d908c5a1db8c","name":"content","open":true,"type":"array","nameErrMsg":"","descriptionErrMsg":""}],"description":"item-page","fatherType":"array","id":"c04ccb33-92a1-4bcc-acb6-2b59c6ba139d","name":"[Array Item]","open":true,"type":"object","nameErrMsg":"","descriptionErrMsg":""}],"description":"识别结果","id":"b00cb37f-5e65-4ce7-9e46-ef3d9bb0a63d","name":"data","open":true,"type":"array","nameErrMsg":"","descriptionErrMsg":""}]}', '{"info":{"title":"agentBuilder toolset","version":"1.0.0","x-is-official":false},"openapi":"3.1.0","paths":{"/aitools/v1/ocr":{"post":{"description":"识别图片或PDF文件中的文字内容，目前支持PDF,PNG,JPG","operationId":"OCR-9dRrb94M","requestBody":{"content":{"application/json":{"schema":{"properties":{"file_url":{"description":"图片或pdf文件的url地址","type":"string","x-display":true,"x-from":2},"page_end":{"default":-1,"description":"当传入的是pdf链接，表示页码结束范围，-1表示全部页码，从0开始；图片链接不影响该值输入","type":"integer","x-display":true,"x-from":2},"page_start":{"default":-1,"description":"当传入的是pdf链接，表示页码开始范围，-1表示全部页码，从0开始；图片链接不影响该值输入","type":"integer","x-display":true,"x-from":2}},"required":["file_url"],"type":"object"}}},"required":true},"responses":{"200":{"content":{"application/json":{"schema":{"properties":{"code":{"description":"状态码","type":"integer","x-display":true},"data":{"description":"识别结果","items":{"properties":{"content":{"description":"页面内容","items":{"properties":{"source_data":{"description":"源数据","type":"string","x-display":true},"name":{"description":"名称","type":"string","x-display":true},"value":{"description":"内容","type":"string","x-display":true}},"required":[],"type":"object"},"type":"array","x-display":true},"file_index":{"description":"页码","type":"integer","x-display":true}},"required":[],"type":"object"},"type":"array","x-display":true},"message":{"description":"操作信息","type":"string","x-display":true}},"type":"object"}}},"description":"success"}},"summary":"OCR"}}},"servers":[{"description":"a server description","url":"http://core-aitools:18668"}]}', 0, 0, '2025-10-15 10:06:15', '2025-10-15 10:06:15', 1, 0, 0, '1583', 'OCR-9dRrb94M', 1, 0, NULL, 0, 1, '1,2', '', 1, 'V1.0', '', NULL);	




INSERT INTO text_node_config (uid, `separator`, comment, deleted, create_time, update_time) VALUES(-1, '。', '句号', 0, now(), now());
INSERT INTO text_node_config (uid, `separator`, comment, deleted, create_time, update_time) VALUES(-1, '；', '分号', 0, now(), now());
INSERT INTO text_node_config (uid, `separator`, comment, deleted, create_time, update_time) VALUES(-1, ' ', '空格', 0, now(), now());
INSERT INTO text_node_config (uid, `separator`, comment, deleted, create_time, update_time) VALUES(-1, '	', '制表符', 0, now(), now());
INSERT INTO text_node_config (uid, `separator`, comment, deleted, create_time, update_time) VALUES(-1, '
', '换行', 0, now(), now());

INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(0, 'modelCategory', '模型类别', 0, '2023-12-22 15:42:43', '2025-08-28 17:39:01', 1000);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(0, 'modelScenario', '模型场景', 0, '2024-06-06 16:47:55', '2025-08-28 17:36:12', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(0, 'languageSupport', '语言支持', 0, '2024-06-06 16:47:55', '2025-08-28 17:39:01', 900);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(1, 'modelCategory', '文本生成', 0, '2024-06-06 17:22:38', '2025-08-28 17:39:01', 1000);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(1, 'modelCategory', '文生图', 0, '2024-06-06 17:22:38', '2025-08-28 17:39:01', 1000);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(1, 'modelCategory', '图像理解', 0, '2024-06-06 17:22:38', '2025-08-28 17:39:01', 1000);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(1, 'modelCategory', '图像分类', 0, '2024-06-06 17:22:38', '2025-08-28 17:39:01', 1000);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '数学', 0, '2024-06-06 17:23:17', '2025-08-28 17:16:02', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '代码', 0, '2024-06-06 17:23:17', '2025-08-28 17:16:02', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '医疗', 0, '2024-06-06 17:23:17', '2025-08-28 17:16:02', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '教育', 0, '2024-06-06 17:23:17', '2025-08-28 17:16:02', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '意图识别', 1, '2024-06-06 17:24:03', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '对话', 0, '2024-06-06 17:24:03', '2025-08-28 17:16:02', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '数学推理', 1, '2024-06-06 17:24:03', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '检索增强', 1, '2024-06-06 17:24:03', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(3, 'languageSupport', '中文', 0, '2024-06-06 17:24:30', '2025-08-28 17:39:01', 900);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(3, 'languageSupport', '英文', 0, '2024-06-06 17:24:30', '2025-08-28 17:39:01', 900);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '文本续写', 1, '2024-06-13 16:29:49', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '指令理解', 1, '2024-06-13 16:30:00', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '多轮上下文理解', 1, '2024-06-13 16:30:07', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '代码完成', 1, '2024-06-13 16:48:34', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '自动填充', 1, '2024-06-13 16:48:34', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '摘要', 1, '2024-06-13 16:50:37', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '文本生成', 1, '2024-06-13 16:50:37', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '聊天机器人', 0, '2024-06-13 16:50:37', '2025-08-28 17:16:02', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(3, 'languageSupport', '德语', 0, '2024-06-13 16:50:56', '2025-08-28 17:39:01', 900);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '逻辑推理', 0, '2024-10-22 20:21:52', '2025-08-28 17:16:02', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '内容创作', 0, '2024-10-22 20:22:22', '2025-08-29 15:46:12', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(3, 'languageSupport', '多语言', 0, '2024-10-22 20:22:50', '2025-08-28 17:39:01', 900);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '指令遵循', 1, '2024-10-22 20:26:31', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '知识问答', 0, '2024-10-22 20:43:38', '2025-08-29 15:54:15', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '人设', 1, '2025-01-16 16:38:56', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '深度思考', 0, '2025-03-06 14:06:06', '2025-08-28 17:16:02', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(0, 'modelProvider', '模型提供方', 0, '2025-03-06 14:06:45', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(0, '', '模型特性', 0, '2024-06-06 16:47:55', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(67, 'modelProvider', '深度求索', 0, '2025-03-06 14:06:45', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(1, 'modelCategory', '文本分类', 0, '2025-03-06 17:58:54', '2025-08-28 17:39:01', 1000);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '语义分析', 0, '2025-03-06 17:59:24', '2025-08-29 15:54:08', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(67, 'modelProvider', '谷歌', 0, '2025-03-06 17:59:53', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(67, 'modelProvider', '哈工大讯飞联合实验室', 0, '2025-03-06 18:03:54', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(67, 'modelProvider', '上海人工智能实验室', 0, '2025-03-06 18:12:41', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(67, 'modelProvider', '科大讯飞', 0, '2025-03-06 18:15:33', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(67, 'modelProvider', 'Meta AI', 0, '2025-03-06 18:18:32', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(67, 'modelProvider', '阿里巴巴', 0, '2025-03-06 18:21:02', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(67, 'modelProvider', 'Stability AI', 0, '2025-03-06 18:29:23', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(1, 'modelCategory', '视频生成', 0, '2025-03-06 18:29:23', '2025-08-28 17:39:01', 1000);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(67, 'modelProvider', '快手', 0, '2025-04-12 16:38:41', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '超长文本输入', 1, '2024-06-13 16:50:37', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '医疗垂类', 1, '2024-06-13 16:50:37', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '指令跟随', 1, '2024-10-22 20:26:31', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '文本改写', 1, '2024-10-22 20:26:31', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '翻译', 0, '2024-10-22 20:26:31', '2025-08-28 17:16:02', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '商用受限', 1, '2024-10-22 20:22:22', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(67, 'modelProvider', 'Black Forest Labs', 0, '2025-04-12 16:38:41', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', 'MoE', 0, '2024-10-22 20:22:22', '2025-08-28 17:16:02', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '创意写作', 0, '2025-05-12 09:51:42', '2025-08-28 17:16:02', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '多轮交互', 1, '2025-05-12 09:52:07', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '代码生成', 1, '2025-05-12 09:53:01', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '轻量级', 1, '2025-05-12 09:54:18', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '多轮对话', 1, '2025-05-12 09:54:38', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '文档分析', 1, '2025-05-12 09:54:56', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '短文本生成', 1, '2025-05-12 09:56:04', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '轻量级对话', 1, '2025-05-12 09:56:54', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '企业级推理', 1, '2025-05-12 09:58:06', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '长文档分析', 1, '2025-05-12 09:58:55', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '视觉语言模型', 1, '2025-05-22 09:44:13', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(68, '', '逻辑推理', 0, '2024-06-06 16:47:55', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(68, '', '深度思考', 0, '2024-06-06 16:47:55', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(68, '', '指令遵循', 0, '2024-06-06 16:47:55', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(68, '', '医学知识问答', 0, '2024-06-06 16:47:55', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(68, '', '内容创作', 0, '2024-06-06 16:47:55', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(68, '', '医疗定制场景', 0, '2024-06-06 16:47:55', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(68, '', '高性能', 0, '2024-06-06 16:47:55', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(0, 'contextLength', '上下文长度', 0, '2024-06-06 16:47:55', '2025-08-28 17:39:01', 800);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(0, 'contextLengthTag', '上下文长度卡片', 0, '2024-06-06 16:47:55', '2025-08-28 17:39:01', 800);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(147, 'contextLength', '<=4k', 0, '2024-06-06 16:47:55', '2025-08-28 17:39:01', 790);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(147, 'contextLength', '4k-16k', 0, '2024-06-06 16:47:55', '2025-08-28 17:39:01', 750);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(147, 'contextLength', '>=16k', 0, '2024-06-06 16:47:55', '2025-08-28 17:39:01', 710);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(149, 'contextLengthTag', '8k', 0, '2024-06-06 16:47:55', '2025-08-28 17:39:01', 6);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(67, 'modelProvider', 'BigCode', 0, '2025-03-06 18:29:23', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(149, 'contextLengthTag', '32k', 0, '2024-06-06 16:47:55', '2025-08-28 17:39:01', 5);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '知识库', 1, '2025-05-12 09:53:01', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(0, 'indexMarker', '角标', 0, '2024-06-06 16:47:55', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(165, 'indexMarker', '最新发布', 0, '2024-06-06 16:47:55', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(165, 'indexMarker', '最受欢迎', 0, '2024-06-06 16:47:55', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '影视制作', 0, '2024-06-13 16:50:37', '2025-08-28 17:16:02', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(165, 'indexMarker', '高性价比', 0, '2024-06-06 16:47:55', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(165, 'indexMarker', '全能表现', 0, '2024-06-06 16:47:55', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(165, 'indexMarker', '出众性能', 0, '2024-06-06 16:47:55', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(149, 'contextLengthTag', '16k', 0, '2024-06-06 16:47:55', '2025-08-28 17:39:01', 4);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(149, 'contextLengthTag', '64k', 0, '2024-06-06 16:47:55', '2025-08-28 17:39:01', 3);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(67, 'modelProvider', 'openai', 0, '2025-03-06 18:29:23', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(0, '', '默认', 0, '2023-10-16 19:45:51', '2025-08-28 17:39:01', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '混合思考', 1, '2025-05-22 09:44:13', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '工具调用', 1, '2025-05-22 09:44:13', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(1, 'modelCategory', '其他', 0, '2025-03-06 18:29:23', '2025-08-28 17:39:01', 800);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '其他', 0, '2024-06-13 16:50:37', '2025-08-28 17:39:37', -1);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(149, 'contextLengthTag', '128k', 0, '2024-06-06 16:47:55', '2025-08-28 17:39:01', 2);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(149, 'contextLengthTag', '256k', 0, '2024-06-06 16:47:55', '2025-08-28 17:39:01', 1);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '智能客服', 1, '2025-05-22 09:44:13', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '图像提取', 1, '2025-05-22 09:44:13', '2025-08-28 17:16:11', 0);
INSERT INTO model_category (pid, `key`, name, is_delete, create_time, update_time, sort_order) VALUES(2, 'modelScenario', '角色扮演', 1, '2025-05-22 09:44:13', '2025-08-28 17:16:11', 0);


INSERT INTO prompt_template (uid, name, description, deleted, prompt, created_time, updated_time, node_category, adaptation_model, max_loop_count) VALUES(-1, '纪念卡素材创作', '你是一个生日纪念卡素材创作生成助手，能够基于用户输入的姓名生成背景图片。', 0, '{"characterSettings": "你是一个生日纪念卡素材创作生成助手，能够基于用户输入的姓名和生成的背景图片按照如下格式创作专属的生日纪念卡素材。

格式：
标题：''生日快乐'' 或 ''Happy Birthday！''（可加上寿星的名字，如：''[姓名]: ''）
封面图片：![example_text](https://example.com/example.png)
祝福语：生成的祝福语内容。", "thinkStep": "你是一个生日纪念卡素材创作生成助手，能够基于用户输入的姓名生成背景图片。", "userQuery": "{{to_name}}"}', '2025-07-07 17:36:41', '2025-07-25 10:54:12', 1, '{
  "id": 141,
  "name": "DeepSeek-V3",
  "serviceId": "xdeepseekv3",
  "serverId": "lmbXtIcNp",
  "domain": "xdeepseekv3",
  "patchId": "0",
  "type": 1,
  "config": null,
  "source": 2,
  "url": "wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat",
  "appId": null,
  "licChannel": "xdeepseekv3",
  "llmSource": 1,
  "llmId": 141,
  "status": 1,
  "info": "{\\"conc\\":2,\\"domain\\":\\"generalv3.5\\",\\"expireTs\\":\\"2025-05-31\\",\\"qps\\":2,\\"tokensPreDay\\":1000,\\"tokensTotal\\":1000,\\"llmServiceId\\":\\"bm3.5\\"}",
  "icon": "https://oss-beijing-m8.openstorage.cn/atp/image/model/icon/deepseek.png",
  "tag": [],
  "modelId": null,
  "pretrainedModel": null,
  "modelType": 2,
  "color": null,
  "isThink": false,
  "multiMode": false,
  "address": null,
  "desc": "DeepSeek-V3 是一款由深度求索公司自研的MoE模型。DeepSeek-V3 多项评测成绩超越了 Qwen2.5-72B 和 Llama-3.1-405B 等其他开源模型，并在性能上和世界顶尖的闭源模型 GPT-4o 以及 Claude-3.5-Sonnet 不分伯仲。",
  "createTime": "2025-02-07T00:12:54.000+08:00",
  "updateTime": "2025-02-08T21:50:01.000+08:00"
}', 1);
INSERT INTO prompt_template (uid, name, description, deleted, prompt, created_time, updated_time, node_category, adaptation_model, max_loop_count) VALUES(-1, '播客创建助手', '你是一个播客助手，你能够基于用户输入的故事文本，使用超拟人合成语音音频。', 0, '{"characterSettings": "你是一个播客助手，你需要基于以下格式展示音频数据：

格式：
## 标题

mp3 html播放器

故事正文", "thinkStep": "你是一个播客助手，你能够基于用户输入的故事文本，使用超拟人合成语音音频。", "userQuery": "{{story}}"}', '2025-07-07 17:36:41', '2025-07-25 10:54:13', 1, '{
  "id": 141,
  "name": "DeepSeek-V3",
  "serviceId": "xdeepseekv3",
  "serverId": "lmbXtIcNp",
  "domain": "xdeepseekv3",
  "patchId": "0",
  "type": 1,
  "config": null,
  "source": 2,
  "url": "wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat",
  "appId": null,
  "licChannel": "xdeepseekv3",
  "llmSource": 1,
  "llmId": 141,
  "status": 1,
  "info": "{\\"conc\\":2,\\"domain\\":\\"generalv3.5\\",\\"expireTs\\":\\"2025-05-31\\",\\"qps\\":2,\\"tokensPreDay\\":1000,\\"tokensTotal\\":1000,\\"llmServiceId\\":\\"bm3.5\\"}",
  "icon": "https://oss-beijing-m8.openstorage.cn/atp/image/model/icon/deepseek.png",
  "tag": [],
  "modelId": null,
  "pretrainedModel": null,
  "modelType": 2,
  "color": null,
  "isThink": false,
  "multiMode": false,
  "address": null,
  "desc": "DeepSeek-V3 是一款由深度求索公司自研的MoE模型。DeepSeek-V3 多项评测成绩超越了 Qwen2.5-72B 和 Llama-3.1-405B 等其他开源模型，并在性能上和世界顶尖的闭源模型 GPT-4o 以及 Claude-3.5-Sonnet 不分伯仲。",
  "createTime": "2025-02-07T00:12:54.000+08:00",
  "updateTime": "2025-02-08T21:50:01.000+08:00"
}', 1);
INSERT INTO prompt_template (uid, name, description, deleted, prompt, created_time, updated_time, node_category, adaptation_model, max_loop_count) VALUES(-1, '缺陷分析', '你是一个折线图绘制专家，需要基于输入的json问题列表生成线上问题关闭趋势折线图.', 0, '{"characterSettings": "", "thinkStep": "你是一个折线图绘制专家，需要基于输入的json问题列表生成线上问题关闭趋势折线图；包含当前日期到当前日期前六天期间线上问题每日趋势，包含线上问题总数（截止当日问题总数），已关闭问题数（截止当日已关闭总数），遗留未关闭问题数（截止当日问题总数减去截止当日已关闭总数），遗留待修复问题数（截止当日待修复总数）", "userQuery": "{{data_json}}"}', '2025-07-07 17:36:41', '2025-07-25 10:54:13', 1, '{
  "id": 141,
  "name": "DeepSeek-V3",
  "serviceId": "xdeepseekv3",
  "serverId": "lmbXtIcNp",
  "domain": "xdeepseekv3",
  "patchId": "0",
  "type": 1,
  "config": null,
  "source": 2,
  "url": "wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat",
  "appId": null,
  "licChannel": "xdeepseekv3",
  "llmSource": 1,
  "llmId": 141,
  "status": 1,
  "info": "{\\"conc\\":2,\\"domain\\":\\"generalv3.5\\",\\"expireTs\\":\\"2025-05-31\\",\\"qps\\":2,\\"tokensPreDay\\":1000,\\"tokensTotal\\":1000,\\"llmServiceId\\":\\"bm3.5\\"}",
  "icon": "https://oss-beijing-m8.openstorage.cn/atp/image/model/icon/deepseek.png",
  "tag": [],
  "modelId": null,
  "pretrainedModel": null,
  "modelType": 2,
  "color": null,
  "isThink": false,
  "multiMode": false,
  "address": null,
  "desc": "DeepSeek-V3 是一款由深度求索公司自研的MoE模型。DeepSeek-V3 多项评测成绩超越了 Qwen2.5-72B 和 Llama-3.1-405B 等其他开源模型，并在性能上和世界顶尖的闭源模型 GPT-4o 以及 Claude-3.5-Sonnet 不分伯仲。",
  "createTime": "2025-02-07T00:12:54.000+08:00",
  "updateTime": "2025-02-08T21:50:01.000+08:00"
}', 1);



INSERT INTO workflow (id, uid, app_id, flow_id, name, description, deleted, is_public, create_time, update_time, published_data, `data`, avatar_icon, avatar_color, status, can_publish, app_updatable, top, edge_type, `order`, eval_set_id, source, bak, editing, eval_page_first_time, advanced_config, ext, category, space_id) VALUES(184709, 11143393282, '12a0a7e2', '7360965189462188034', '文字转语音', '我能将你输入的任何文字转成超拟人的语音，还支持语音文件下载哦~', 0, 0, '2025-08-12 17:27:41', '2025-08-13 15:48:25', NULL, '{"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始节点","nodeType":"基础节点"},"nodeParam":{},"outputs":[{"deleteDisabled":true,"id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}}],"status":"","updatable":false},"dragging":false,"height":256,"id":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","position":{"x":-25.109019607843152,"y":521.7086666666667},"positionAbsolute":{"x":-25.109019607843152,"y":521.7086666666667},"selected":false,"type":"开始节点","width":658},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"fileType":"","id":"82de2b42-a059-4c98-bffb-b6b4800fcac9","name":"voice","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"data.voice_url","id":"10f97b32-21df-4de0-b73a-f9026ed8227f","nodeId":"plugin::a9277e3e-402f-4cbb-9eb1-a8c9a96ba2b1"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束节点","nodeType":"基础节点"},"nodeParam":{"template":"<!DOCTYPE html>\\n<html lang=\\"zh\\">\\n<head>\\n  <meta charset=\\"UTF-8\\">\\n  <meta name=\\"viewport\\" content=\\"width=device-width, initial-scale=1.0\\">\\n  <title>语音播放</title>\\n</head>\\n<body>\\n  <audio preload=\\"none\\" controls>\\n    <source src=\\"{{voice}}\\" type=\\"audio/mpeg\\">\\n  </audio>\\n</body>\\n</html>","streamOutput":true,"templateErrMsg":"","outputMode":1},"outputs":[],"references":[{"children":[{"references":[{"originId":"plugin::a9277e3e-402f-4cbb-9eb1-a8c9a96ba2b1","id":"191a044a-dd3d-4e24-864a-3f5a7c503b83","label":"sid","type":"string","value":"sid","fileType":""},{"originId":"plugin::a9277e3e-402f-4cbb-9eb1-a8c9a96ba2b1","id":"45fdbef4-d7ce-4ec7-9526-72ee1cc52f7f","label":"code","type":"integer","value":"code","fileType":""},{"originId":"plugin::a9277e3e-402f-4cbb-9eb1-a8c9a96ba2b1","id":"4ace75c3-4da4-480b-bc8b-fd0bbe244f0b","label":"msg","type":"string","value":"msg","fileType":""},{"originId":"plugin::a9277e3e-402f-4cbb-9eb1-a8c9a96ba2b1","children":[{"originId":"plugin::a9277e3e-402f-4cbb-9eb1-a8c9a96ba2b1","id":"10f97b32-21df-4de0-b73a-f9026ed8227f","label":"voice_url","type":"string","value":"data.voice_url","parentType":"object","fileType":""}],"id":"4993c6c4-b8b7-4bf3-ac01-32e398299e01","label":"data","type":"object","value":"data","fileType":""}],"label":"","value":""}],"label":"超拟人合成_1","parentNode":true,"value":"plugin::a9277e3e-402f-4cbb-9eb1-a8c9a96ba2b1"},{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"}],"status":"","updatable":false},"dragging":false,"height":807,"id":"node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","position":{"x":1946.9152261758845,"y":295.683895317638},"positionAbsolute":{"x":1946.9152261758845,"y":295.683895317638},"selected":false,"type":"结束节点","width":408},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"需要合成的文本","disabled":false,"id":"e6c42a41-565a-4ce3-a532-7acefc886c06","name":"text","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","nodeId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},"contentErrMsg":"","type":"ref"}}},{"description":"特色发音人，目前可选（x4_lingfeiyi_oral； x4_lingxiaoxuan_oral）","disabled":false,"id":"dc3b5606-8312-477f-85f7-bea54e9823bb","name":"vcn","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":"x4_lingxiaoxuan_oral","contentErrMsg":"","type":"literal"}}},{"description":"语速：0对应默认语速的1/2，100对应默认语速的2倍; 默认值50","disabled":false,"id":"dfe7e39f-257b-414c-be34-ccee42f2c4df","name":"speed","nameErrMsg":"","required":false,"schema":{"type":"integer","value":{"content":"50","contentErrMsg":"","type":"literal"}}}],"isLatest":true,"label":"超拟人合成_1","labelEdit":false,"nodeMeta":{"aliasName":"工具","nodeType":"工具"},"nodeParam":{"uid":"11143393282","code":"","toolDescription":"用户上传一段话，选择特色发音人，生成一段更拟人的语音","pluginId":"tool@72213899d821000","remarkVisible":true,"appId":"12a0a7e2","operationId":"超拟人合成-7UcDosEk","remark":"vcn：当前选择音色为女生，参数填写【x4_lingfeiyi_oral】可修改为男声。\\nspeed: 当前速度正常，100为2倍速，0为0.5倍速。","version":"V1.0","businessInput":[]},"outputs":[{"id":"191a044a-dd3d-4e24-864a-3f5a7c503b83","name":"sid","schema":{"type":"string"}},{"id":"45fdbef4-d7ce-4ec7-9526-72ee1cc52f7f","name":"code","schema":{"type":"integer"}},{"id":"4ace75c3-4da4-480b-bc8b-fd0bbe244f0b","name":"msg","schema":{"type":"string"}},{"id":"4993c6c4-b8b7-4bf3-ac01-32e398299e01","name":"data","schema":{"properties":[{"id":"10f97b32-21df-4de0-b73a-f9026ed8227f","name":"voice_url","type":"string"}],"type":"object"}}],"references":[{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"}],"status":"","updatable":false},"dragging":false,"height":483,"id":"plugin::a9277e3e-402f-4cbb-9eb1-a8c9a96ba2b1","position":{"x":872.5603748524165,"y":410.0136506564281},"positionAbsolute":{"x":872.5603748524165,"y":410.0136506564281},"selected":false,"type":"工具","width":587}],"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783-plugin::a9277e3e-402f-4cbb-9eb1-a8c9a96ba2b1","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","target":"plugin::a9277e3e-402f-4cbb-9eb1-a8c9a96ba2b1","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::a9277e3e-402f-4cbb-9eb1-a8c9a96ba2b1-node-end::cda617af-551e-462e-b3b8-3bb9a041bf88node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"plugin::a9277e3e-402f-4cbb-9eb1-a8c9a96ba2b1","target":"node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","targetHandle":"node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","type":"customEdge"}]}', 'https://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/generate/cht000b6a57%40dx1989d9d0138b8f3550.jpg', '#FFEAD5', -1, 1, 0, 0, NULL, 0, NULL, 2, NULL, 1, NULL, '{"prologue":{"enabled":true,"inputExample":["哈喽你好呀，我是一个复读机","我可以读出你输入的任何文字哦","我还可以生成可下载的语音文件呢"],"prologueText":"我能将你输入的任何文字转成超拟人的语音，还支持语音文件下载哦~"},"needGuide":false,"speechToText":{"enabled":true},"feedback":{"enabled":true}}', '{"botId":3060117}', 10, NULL);
INSERT INTO workflow (id, uid, app_id, flow_id, name, description, deleted, is_public, create_time, update_time, published_data, `data`, avatar_icon, avatar_color, status, can_publish, app_updatable, top, edge_type, `order`, eval_set_id, source, bak, editing, eval_page_first_time, advanced_config, ext, category, space_id) VALUES(177701, 18882349618, '12a0a7e2', '7358380736721018880', '【模板勿动】模拟面试官', '模拟面试官', 0, 0, '2025-08-05 14:18:05', '2025-09-02 17:28:52', NULL, '{"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始","nodeType":"基础节点"},"nodeParam":{"apiKey":"d84b9d780b488cf919c5273686ee4e1a","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw"},"outputs":[{"deleteDisabled":true,"id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}},{"allowedFileType":["pdf"],"customParameterType":"xfyun-file","fileType":"file","id":"20fd0c25-8829-4e57-91e1-55ade69af0a8","name":"resume_file","nameErrMsg":"","required":false,"schema":{"default":"简历附件","properties":[],"type":"string"}}],"status":"","updatable":false},"dragging":false,"height":295,"id":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","position":{"x":0,"y":934.8240716116768},"positionAbsolute":{"x":-1265.2271275425514,"y":2542.531563288816},"selected":false,"type":"开始节点","width":657},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"fileType":"","id":"82de2b42-a059-4c98-bffb-b6b4800fcac9","name":"output","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"61310cff-d526-4232-874d-f60d9136baad","nodeId":"spark-llm::fa0e6342-411b-4982-a811-0f4698ad33fb"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束","nodeType":"基础节点"},"nodeParam":{"template":"{{output}}","streamOutput":true,"apiKey":"d84b9d780b488cf919c5273686ee4e1a","templateErrMsg":"","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","outputMode":1,"reasoningTemplate":"\\n"},"outputs":[],"references":[{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","children":[],"id":"20fd0c25-8829-4e57-91e1-55ade69af0a8","label":"resume_file","type":"string","value":"resume_file","fileType":"pdf"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},{"children":[{"references":[{"originId":"spark-llm::fa0e6342-411b-4982-a811-0f4698ad33fb","id":"61310cff-d526-4232-874d-f60d9136baad","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"面试评价","parentNode":true,"value":"spark-llm::fa0e6342-411b-4982-a811-0f4698ad33fb"},{"children":[{"references":[{"originId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","id":"77a0f579-1e54-433d-9392-d4f235ffa9be","label":"output","type":"array-string","value":"output","fileType":""}],"label":"","value":""}],"label":"迭代_1","parentNode":true,"value":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b"},{"children":[{"references":[{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","children":[{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","id":"b33978b5-5773-4cde-ac03-d5be1048f7f6","label":"question_id","type":"string","value":"question.question_id","parentType":"array-object","fileType":""},{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","id":"85ca11f9-c4fd-463b-ada1-f32083ed5685","label":"content","type":"string","value":"question.content","parentType":"array-object","fileType":""},{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","id":"a6e23eba-d8d8-4153-bc0c-dce786383f04","label":"category","type":"string","value":"question.category","parentType":"array-object","fileType":""},{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","id":"e131c382-4eff-43de-962b-32a05fd37b0b","label":"difficulty","type":"integer","value":"question.difficulty","parentType":"array-object","fileType":""},{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","id":"535e0951-0ac7-4d36-8feb-49e7254e0f8f","label":"estimated_time","type":"string","value":"question.estimated_time","parentType":"array-object","fileType":""},{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","id":"3780f40a-8e5b-4d95-8213-2a0788286299","label":"evaluation_focus","type":"string","value":"question.evaluation_focus","parentType":"array-object","fileType":""}],"id":"00699a79-aefe-4c2d-8902-d64950b2ccb8","label":"question","type":"array-object","value":"question","fileType":""}],"label":"","value":""}],"label":"代码_1","parentNode":true,"value":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69"},{"children":[{"references":[{"originId":"spark-llm::e10e9c9e-83f3-432b-9b3c-0b17fd58cbf8","id":"697a828f-5de8-4c38-a45b-ed7cedaa0f37","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"面试题生成助理","parentNode":true,"value":"spark-llm::e10e9c9e-83f3-432b-9b3c-0b17fd58cbf8"},{"label":"提取简历关键信息","value":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","children":[{"label":"","value":"","references":[{"id":"4b8d1570-9846-4db3-9e15-b1ecd235a055","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","label":"resume_info","value":"resume_info","type":"object","fileType":"","children":[{"id":"37a0ad6b-fd80-4e2b-8666-3b2250732ddd","label":"personal_info","value":"resume_info.personal_info","type":"object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"6288194e-c473-470c-97e3-781294a83957","label":"name","value":"resume_info.personal_info.name","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"5c454ec9-3e41-4394-a307-91998f570edd","label":"contact","value":"resume_info.personal_info.contact","type":"object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"f4bf1e9a-039d-4eba-945f-6683502239a6","label":"phone","value":"resume_info.personal_info.contact.phone","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"ea171cb2-2707-4201-bcb3-682ef503a03a","label":"email","value":"resume_info.personal_info.contact.email","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"62426630-70eb-4a18-8403-f98e13c3aad2","label":"location","value":"resume_info.personal_info.contact.location","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""}]}]},{"id":"40a8d259-69de-4e11-b2f6-987610776811","label":"job_target","value":"resume_info.job_target","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"e6f27202-e3d0-4720-b755-d9e52c2cb607","label":"education","value":"resume_info.education","type":"array-object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"4c453516-5e3d-40b2-b62f-d8ba2d025f1d","label":"institution","value":"resume_info.education.institution","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"8e2d12dd-00c0-476e-9eb5-9446948068c1","label":"degree","value":"resume_info.education.degree","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"e59931bf-a0c4-43c4-bfd5-70ff81826322","label":"major","value":"resume_info.education.major","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"a2a8980f-23ac-45e5-8ede-5d7968bd02d3","label":"time_range","value":"resume_info.education.time_range","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"62ee607e-cd5c-4194-866c-16fcef493681","label":"honors","value":"resume_info.education.honors","type":"array-string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""}]},{"id":"9ef1863b-da02-4f75-a08c-384f87e98459","label":"work_experience","value":"resume_info.work_experience","type":"array-object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"027b0e74-ce71-4a00-be4b-bd1294622356","label":"company","value":"resume_info.work_experience.company","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"e460ead1-15e9-413a-9146-4a78dd02db11","label":"position","value":"resume_info.work_experience.position","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"092b76f0-6e8e-4614-9aa9-4b98b95a6fed","label":"time_range","value":"resume_info.work_experience.time_range","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"f4be276d-ed6a-4ad3-820e-b94ed2a611a2","label":"responsibilities","value":"resume_info.work_experience.responsibilities","type":"array-string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"d0fdc82e-f29f-4d67-a133-681237cb8b93","label":"tech_stack","value":"resume_info.work_experience.tech_stack","type":"array-string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""}]},{"id":"0c492da4-5b91-41ab-a1a6-3f7b9ddf73fe","label":"projects","value":"resume_info.projects","type":"array-object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"69b0db12-27d4-40be-8c51-9b6ccc731457","label":"name","value":"resume_info.projects.name","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"0573d948-4b97-474b-a492-2b2b0308ec51","label":"role","value":"resume_info.projects.role","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"dd89e33f-4867-4bd6-b992-54fccb007460","label":"time_range","value":"resume_info.projects.time_range","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"b5d8ba65-ab08-41e4-9bc2-aa503593efc4","label":"description","value":"resume_info.projects.description","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"8bffbbad-49eb-45a3-b939-b8f99aac6085","label":"achievements","value":"resume_info.projects.achievements","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""}]},{"id":"e7e1d988-8004-410d-8d63-f8fff61900d2","label":"skills","value":"resume_info.skills","type":"object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"843584c4-5655-46c6-91b3-05cf0d4cc279","label":"technical","value":"resume_info.skills.technical","type":"object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"92c13714-5224-48b7-bf17-6f390fbc3967","label":"name","value":"resume_info.skills.technical.name","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"1d22cd46-0f30-4c18-90e0-ef8b702d40be","label":"level","value":"resume_info.skills.technical.level","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""}]},{"id":"4cec0661-e7b7-46f8-9b96-ed54589a09ff","label":"language","value":"resume_info.skills.language","type":"array-object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"ed06ec82-c381-4615-82a7-dea7b486f6d2","label":"name","value":"resume_info.skills.language.name","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"eaf2ae00-8fb7-4ea4-bcd1-7fd7f9e1ee6b","label":"level","value":"resume_info.skills.language.level","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""}]}]}]}]}],"parentNode":true},{"children":[{"references":[{"originId":"spark-llm::927ca100-c2cf-4794-8f2b-7fba478484e5","id":"e714d620-5c18-4551-802b-e4612cd33cff","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"简历关键信息提取","parentNode":true,"value":"spark-llm::927ca100-c2cf-4794-8f2b-7fba478484e5"},{"children":[{"references":[{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"5fc3607d-5049-4fa6-be67-de9f4022467f","label":"sid","type":"string","value":"sid","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"c17afb4c-9f16-4034-a3f9-ef9248bf23f6","label":"code","type":"integer","value":"code","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"7704e657-7e65-41d5-9db0-cde8ff6b84b8","label":"message","type":"string","value":"message","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","children":[{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"4cfabd6d-b280-4c23-acfa-eed04ed75f08","label":"ocr_result","type":"string","value":"data.ocr_result","parentType":"object","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"3bb3cfd6-59bb-444c-9dbd-e64d7db7498c","label":"ocr_result_json","type":"array-object","value":"data.ocr_result_json","parentType":"object","fileType":""}],"id":"adf54480-d5b6-4a98-8eb0-b69f497be3b4","label":"data","type":"object","value":"data","fileType":""}],"label":"","value":""}],"label":"简历文本提取","parentNode":true,"value":"plugin::ae696e1d-9976-432c-a373-95c59a589932"},{"children":[{"references":[{"originId":"ifly-code::896223ec-c30c-4e07-b30a-3d0fbe988807","children":[],"id":"bcfe629b-f0b1-4465-85c2-8e5a798c13a2","label":"interview_params","type":"array-string","value":"interview_params","fileType":""}],"label":"","value":""}],"label":"提取面试场景信息","parentNode":true,"value":"ifly-code::896223ec-c30c-4e07-b30a-3d0fbe988807"},{"children":[{"references":[{"originId":"spark-llm::3d73ba9e-e921-452f-9998-1506c7e05bb9","id":"b1c6fc0b-bca4-4eb6-8bec-bd68c60f78b9","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"面试场景提取","parentNode":true,"value":"spark-llm::3d73ba9e-e921-452f-9998-1506c7e05bb9"}],"status":"","updatable":false},"dragging":false,"height":615,"id":"node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","position":{"x":10378.574940031218,"y":851.2992673147895},"positionAbsolute":{"x":10378.574940031218,"y":851.2992673147895},"selected":false,"type":"结束节点","width":407},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"根据设立的条件，判断选择分支走向","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/if-else-node-icon.png","inputs":[{"fileType":"pdf","id":"5ac0d31b-a1d9-4bdb-bfbe-1aa2be4d3014","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"resume_file","id":"20fd0c25-8829-4e57-91e1-55ade69af0a8","nodeId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},"contentErrMsg":"","type":"ref"}}},{"id":"93992760-d22b-4549-8d2d-5d36876ad81c","name":"input1","nameErrMsg":"","schema":{"type":"string","value":{"content":"","contentErrMsg":"","type":"literal"}}}],"label":"简历是否上传","labelEdit":false,"nodeMeta":{"aliasName":"简历是否上传","nodeType":"分支器"},"nodeParam":{"uid":"4493076350","cases":[{"level":1,"logicalOperator":"and","id":"branch_one_of::d5b8169f-488b-459f-8907-36a2cb3ffef5","conditions":[{"leftVarIndex":"5ac0d31b-a1d9-4bdb-bfbe-1aa2be4d3014","rightVarIndex":"93992760-d22b-4549-8d2d-5d36876ad81c","compareOperatorErrMsg":"","id":"","compareOperator":"not_empty"}]},{"level":999,"logicalOperator":"and","id":"branch_one_of::ac729c65-b594-4b1c-b0fc-f22a863b8d73","conditions":[]}],"apiKey":"d84b9d780b488cf919c5273686ee4e1a","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw"},"outputs":[],"references":[{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","children":[],"id":"20fd0c25-8829-4e57-91e1-55ade69af0a8","label":"resume_file","type":"string","value":"resume_file","fileType":"pdf"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"}],"status":"","updatable":false},"dragging":false,"height":366,"id":"if-else::bb7c8700-8015-4a4f-9868-0ffdc798532d","position":{"x":919.5420769498642,"y":896.8903176659413},"positionAbsolute":{"x":919.5420769498642,"y":896.8903176659413},"selected":false,"type":"分支器","width":683},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"1905e361-c74a-4cf4-896a-879d0d1f6ad5","name":"resume_info","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"data.ocr_result","id":"4cfabd6d-b280-4c23-acfa-eed04ed75f08","nodeId":"plugin::ae696e1d-9976-432c-a373-95c59a589932"},"contentErrMsg":"","type":"ref"}}}],"label":"简历关键信息提取","labelEdit":false,"nodeMeta":{"aliasName":"简历关键信息提取","nodeType":"基础节点"},"nodeParam":{"template":"## 角色定义\\n你是一个专业的简历解析引擎，专门从非结构化的简历文本{{resume_info}}中提取关键信息，并将其转换为高度结构化的JSON格式。你的输出将直接用于后续的面试问题生成系统。\\n\\n## 核心能力\\n1. 智能信息提取：\\n   - 采用多层级解析技术识别简历中的关键字段\\n   - 对模糊表述进行智能推断（如\\"近期\\"转换为具体时间段）\\n   - 自动补全隐含信息（如\\"本科\\"默认对应\\"学士学位\\"）\\n\\n## 输出规范\\n{\\n  \\"personal_info\\": {\\n    \\"name\\": \\"张三\\",\\n    \\"contact\\": {\\n      \\"phone\\": \\"13800138000\\",\\n      \\"email\\": \\"zhangsan@email.com\\",\\n      \\"location\\": \\"北京\\"\\n    },\\n    \\"job_target\\": \\"高级Java开发工程师\\"\\n  },\\n  \\"education\\": [\\n    {\\n      \\"institution\\": \\"清华大学\\",\\n      \\"degree\\": \\"硕士\\",\\n      \\"major\\": \\"计算机科学与技术\\",\\n      \\"time_range\\": \\"2015.09-2018.06\\",\\n      \\"honors\\": [\\"优秀毕业生\\"]\\n    }\\n  ],\\n  \\"work_experience\\": [\\n    {\\n      \\"company\\": \\"字节跳动\\",\\n      \\"position\\": \\"高级软件工程师\\",\\n      \\"time_range\\": \\"2019.07-至今\\",\\n      \\"responsibilities\\": [\\n        \\"负责抖音支付系统架构设计\\",\\n        \\"日处理交易量提升300%\\"\\n      ],\\n      \\"tech_stack\\": [\\"Java\\", \\"Spring Cloud\\", \\"Kafka\\"]\\n    }\\n  ],\\n  \\"projects\\": [\\n    {\\n      \\"name\\": \\"智能客服系统\\",\\n      \\"role\\": \\"技术负责人\\",\\n      \\"time_range\\": \\"2020.03-2021.05\\",\\n      \\"description\\": \\"基于NLP的智能问答系统\\",\\n      \\"achievements\\": [\\n        \\"响应时间从5s降至800ms\\",\\n        \\"准确率提升至92%\\"\\n      ]\\n    }\\n  ],\\n  \\"skills\\": {\\n    \\"technical\\": [\\n      {\\"name\\": \\"Java\\", \\"level\\": \\"精通\\"},\\n      {\\"name\\": \\"MySQL\\", \\"level\\": \\"熟练\\"}\\n    ],\\n    \\"language\\": [\\n      {\\"name\\": \\"英语\\", \\"level\\": \\"CET-6\\"}\\n    ]\\n  }\\n}\\n## 质量控制\\n  - 输出的json格式不能有 ``````json、`````` 这类格式标签。\\n  - 完整性检查：确保每个模块必填字段完整\\n  - 时间轴校验：自动检测时间冲突或重叠\\n  - 敏感信息过滤：自动脱敏联系方式等隐私信息\\n  - 标准化输出：所有日期统一为\\"YYYY.MM\\"格式","apiKey":"d84b9d780b488cf919c5273686ee4e1a","modelId":141,"auditing":"default","remark":"根据简历提取文本，提炼关键信息","llmId":141,"uid":"4493076350","patchId":"0","isThink":false,"templateErrMsg":"","remarkVisible":true,"appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"xdeepseekv3","llmIdErrMsg":"","topK":4,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"domain":"xdeepseekv3","systemTemplate":"\\n","respFormat":0},"outputs":[{"id":"e714d620-5c18-4551-802b-e4612cd33cff","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","children":[],"id":"20fd0c25-8829-4e57-91e1-55ade69af0a8","label":"resume_file","type":"string","value":"resume_file","fileType":"pdf"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},{"children":[{"references":[{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"5fc3607d-5049-4fa6-be67-de9f4022467f","label":"sid","type":"string","value":"sid","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"c17afb4c-9f16-4034-a3f9-ef9248bf23f6","label":"code","type":"integer","value":"code","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"7704e657-7e65-41d5-9db0-cde8ff6b84b8","label":"message","type":"string","value":"message","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","children":[{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"4cfabd6d-b280-4c23-acfa-eed04ed75f08","label":"ocr_result","type":"string","value":"data.ocr_result","parentType":"object","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"3bb3cfd6-59bb-444c-9dbd-e64d7db7498c","label":"ocr_result_json","type":"array-object","value":"data.ocr_result_json","parentType":"object","fileType":""}],"id":"adf54480-d5b6-4a98-8eb0-b69f497be3b4","label":"data","type":"object","value":"data","fileType":""}],"label":"","value":""}],"label":"简历文本提取","parentNode":true,"value":"plugin::ae696e1d-9976-432c-a373-95c59a589932"}],"status":"","updatable":false},"dragging":false,"height":1209,"id":"spark-llm::927ca100-c2cf-4794-8f2b-7fba478484e5","position":{"x":3962.836503611704,"y":-9.040091039424794},"positionAbsolute":{"x":3962.836503611704,"y":-9.040091039424794},"selected":false,"type":"大模型","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"b5f9cab6-1398-4b81-9fcd-b45267b3a1fe","name":"interview_params","nameErrMsg":"","schema":{"type":"array-string","value":{"content":{"name":"interview_params","id":"bcfe629b-f0b1-4465-85c2-8e5a798c13a2","nodeId":"ifly-code::896223ec-c30c-4e07-b30a-3d0fbe988807"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"acdde8d8-e035-4fb3-853c-e66bb703deba","name":"resume_info","nameErrMsg":"","schema":{"type":"object","value":{"content":{"name":"resume_info","id":"4b8d1570-9846-4db3-9e15-b1ecd235a055","nodeId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f"},"contentErrMsg":"","type":"ref"}}}],"label":"面试题生成助理","labelEdit":false,"nodeMeta":{"aliasName":"面试题生成助理","nodeType":"基础节点"},"nodeParam":{"template":"## 角色\\n你是一个专业级面试题生成引擎，基于多维参数智能构建结构化面试题库。根据候选人画像{{resume_info}}和面试参数{{interview_params}}，生成精准匹配的评估体系。\\n\\n## 输入参数处理\\n1. 场景解析引擎：\\n   - 识别{{interview_params}}场景类型（技术面/HR面/高管面/压力面）\\n   - 自动匹配该场景的题目权重分布（技术面70%技术题/20%行为题/10%情景题）\\n2. 公司画像匹配：\\n   - 分析{{interview_params}}公司类型（互联网大厂/外企/创业公司/国企）\\n   - 加载对应题库特征（大厂重算法/外企重系统设计/创业公司重全栈能力）\\n3. 难度控制系统：\\n   - 解析{{interview_params}}难度等级（1-10级）\\n   - 自动调节：\\n     - 问题深度（L1:概念题 → L10:架构设计）\\n     - 开放程度（封闭问答 → 发散思考）\\n     - 综合维度（单点知识 → 多领域交叉）\\n\\n## 候选人画像分析\\n1. **个人信息深度解析**：\\n   - 提取{{resume_info}}中的：\\n     - 职业发展阶段（应届生/中级/资深）\\n     - 目标岗位匹配度（核心职能/边缘职能）\\n     - 职业轨迹分析（行业连续性/转型幅度）\\n2. **目标岗位映射**：\\n   - 解析{{resume_info.job_target}}：\\n     - 岗位类型（技术/产品/管理）\\n     - 职级要求（P6/P7/M1等）\\n     - 核心能力需求（技术深度/管理广度）\\n3. **教育背景评估**：\\n   - 分析{{resume_info.education}}：\\n     - 院校层级（985/211/海外名校）\\n     - 专业相关性（科班/转专业）\\n     - 学术表现（GPA/荣誉/论文）\\n     - 教育轨迹（本硕博连贯性/间隔情况）\\n4. 工作经验解构：\\n   - 分析{{resume_info.work_experience}}中的：\\n     - 职级梯度（Junior/Senior/Lead）\\n     - 领域专注度（垂直领域/跨领域）\\n     - 成就指标（项目规模/技术难点）\\n5. 项目经验挖掘：\\n   - 从{{resume_info.projects}}提取：\\n     - 技术亮点（架构设计/性能优化）\\n     - 角色权重（参与者/主导者）\\n     - 复杂度（日活量级/技术组合）\\n6. 技术栈映射：\\n   - 对{{resume_info.skills}}进行：\\n     - 技能树构建（核心技能/辅助技能）\\n     - 熟练度匹配（了解/熟悉/精通）\\n     - 技术生态关联（主语言对应框架/工具链）\\n\\n## 技能\\n1. 根据用户提供的参数生成面试题：\\n  - 根据用户指定的场景，生成符合该场景的面试题。\\n  - 根据用户指定的公司类型，生成符合该公司类型的面试题。\\n  - 根据用户指定的难度等级，生成相应难度的面试题。\\n  - 根据用户的工作经验，生成符合该工作经验的面试题。\\n  - 根据用户的项目经验，生成符合该项目经验的面试题。\\n  - 根据用户的技术栈，生成符合该技术栈的面试题。\\n  - 根据用户指定的面试时长{{interview_params}}，预估并控制总题数和作答时间。\\n  - 确保题目类型混合，包括开放性问答、场景分析、技术细节、行为/产品思路等。\\n2. 输出格式化的面试题：\\n  - 将生成的面试题以JSON数组格式输出，每道题包含question_id、content、category、difficulty、estimated_time和evaluation_focus字段。\\n  - 确保输出仅包含JSON，不带任何额外说明文字。\\n  - 输出的json格式不能有 ``````json、`````` 这类格式标签。\\n输出结果示例如下：\\n[\\n    {\\n      \\"question_id\\": \\"[岗位缩写_序号，如algo_001]\\",\\n      \\"content\\": \\"[具体题目内容，150字以内]\\",\\n      \\"category\\": \\"[专业知识/技术能力/项目经验/思维能力/软技能]\\",\\n      \\"difficulty\\": \\"[1-10的整数分值]\\",\\n      \\"estimated_time\\": \\"[预估回答时间，如2-3分钟]\\",\\n      \\"evaluation_focus\\": \\"[主要考察点，20字以内]\\"\\n    },\\n  ]\\n\\n## 智能组题算法\\n1. 题型配比引擎：\\n   - 基础题（30%）：概念验证型\\n   - 进阶题（50%）：场景应用题 \\n   - 开放题（20%）：策略思考题\\n\\n2. 时间动态规划：\\n   - 根据{{interview_params}}面试时长：\\n     - 短面试（30分钟）：8-10题（含2道深度题）\\n     - 标准面试（60分钟）：15-18题（含5道综合题）\\n     - 长面试（90分钟）：25-30题（含技术方案设计）\\n\\n3. 难度曲线控制：\\n   - 开场题（难度-2）\\n   - 核心考察区（难度+3）\\n   - 压轴题（难度峰值）\\n## 限制\\n- 只讨论与面试题生成相关的内容，拒绝回答与面试题生成无关的话题。\\n- 严格按照用户提供的参数生成面试题，不超出范围。\\n- 题干要贴合所选场景和公司类型，确保题目的实际适用性。\\n- 控制题量和预估作答时间总和接近用户指定时长，确保面试流程的合理性。\\n- 输出仅包含JSON格式的面试题，不添加任何额外说明或文本。\\n- 输出的json格式不能有 ``````json、`````` 这类格式标签。","apiKey":"d84b9d780b488cf919c5273686ee4e1a","modelId":141,"auditing":"default","remark":"根据简历信息和面试场景信息，使用大模型节点生成面试题","llmId":141,"uid":"4493076350","patchId":"0","isThink":false,"templateErrMsg":"","remarkVisible":true,"appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"xdeepseekv3","llmIdErrMsg":"","topK":4,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"domain":"xdeepseekv3","systemTemplate":"\\n","respFormat":0},"outputs":[{"id":"697a828f-5de8-4c38-a45b-ed7cedaa0f37","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","children":[],"id":"20fd0c25-8829-4e57-91e1-55ade69af0a8","label":"resume_file","type":"string","value":"resume_file","fileType":"pdf"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},{"children":[{"references":[{"originId":"ifly-code::896223ec-c30c-4e07-b30a-3d0fbe988807","children":[],"id":"bcfe629b-f0b1-4465-85c2-8e5a798c13a2","label":"interview_params","type":"array-string","value":"interview_params","fileType":""}],"label":"","value":""}],"label":"提取面试场景信息","parentNode":true,"value":"ifly-code::896223ec-c30c-4e07-b30a-3d0fbe988807"},{"label":"提取简历关键信息","value":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","children":[{"label":"","value":"","references":[{"id":"4b8d1570-9846-4db3-9e15-b1ecd235a055","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","label":"resume_info","value":"resume_info","type":"object","fileType":"","children":[{"id":"37a0ad6b-fd80-4e2b-8666-3b2250732ddd","label":"personal_info","value":"resume_info.personal_info","type":"object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"6288194e-c473-470c-97e3-781294a83957","label":"name","value":"resume_info.personal_info.name","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"5c454ec9-3e41-4394-a307-91998f570edd","label":"contact","value":"resume_info.personal_info.contact","type":"object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"f4bf1e9a-039d-4eba-945f-6683502239a6","label":"phone","value":"resume_info.personal_info.contact.phone","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"ea171cb2-2707-4201-bcb3-682ef503a03a","label":"email","value":"resume_info.personal_info.contact.email","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"62426630-70eb-4a18-8403-f98e13c3aad2","label":"location","value":"resume_info.personal_info.contact.location","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""}]}]},{"id":"40a8d259-69de-4e11-b2f6-987610776811","label":"job_target","value":"resume_info.job_target","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"e6f27202-e3d0-4720-b755-d9e52c2cb607","label":"education","value":"resume_info.education","type":"array-object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"4c453516-5e3d-40b2-b62f-d8ba2d025f1d","label":"institution","value":"resume_info.education.institution","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"8e2d12dd-00c0-476e-9eb5-9446948068c1","label":"degree","value":"resume_info.education.degree","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"e59931bf-a0c4-43c4-bfd5-70ff81826322","label":"major","value":"resume_info.education.major","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"a2a8980f-23ac-45e5-8ede-5d7968bd02d3","label":"time_range","value":"resume_info.education.time_range","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"62ee607e-cd5c-4194-866c-16fcef493681","label":"honors","value":"resume_info.education.honors","type":"array-string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""}]},{"id":"9ef1863b-da02-4f75-a08c-384f87e98459","label":"work_experience","value":"resume_info.work_experience","type":"array-object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"027b0e74-ce71-4a00-be4b-bd1294622356","label":"company","value":"resume_info.work_experience.company","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"e460ead1-15e9-413a-9146-4a78dd02db11","label":"position","value":"resume_info.work_experience.position","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"092b76f0-6e8e-4614-9aa9-4b98b95a6fed","label":"time_range","value":"resume_info.work_experience.time_range","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"f4be276d-ed6a-4ad3-820e-b94ed2a611a2","label":"responsibilities","value":"resume_info.work_experience.responsibilities","type":"array-string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"d0fdc82e-f29f-4d67-a133-681237cb8b93","label":"tech_stack","value":"resume_info.work_experience.tech_stack","type":"array-string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""}]},{"id":"0c492da4-5b91-41ab-a1a6-3f7b9ddf73fe","label":"projects","value":"resume_info.projects","type":"array-object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"69b0db12-27d4-40be-8c51-9b6ccc731457","label":"name","value":"resume_info.projects.name","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"0573d948-4b97-474b-a492-2b2b0308ec51","label":"role","value":"resume_info.projects.role","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"dd89e33f-4867-4bd6-b992-54fccb007460","label":"time_range","value":"resume_info.projects.time_range","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"b5d8ba65-ab08-41e4-9bc2-aa503593efc4","label":"description","value":"resume_info.projects.description","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"8bffbbad-49eb-45a3-b939-b8f99aac6085","label":"achievements","value":"resume_info.projects.achievements","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""}]},{"id":"e7e1d988-8004-410d-8d63-f8fff61900d2","label":"skills","value":"resume_info.skills","type":"object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"843584c4-5655-46c6-91b3-05cf0d4cc279","label":"technical","value":"resume_info.skills.technical","type":"object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"92c13714-5224-48b7-bf17-6f390fbc3967","label":"name","value":"resume_info.skills.technical.name","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"1d22cd46-0f30-4c18-90e0-ef8b702d40be","label":"level","value":"resume_info.skills.technical.level","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""}]},{"id":"4cec0661-e7b7-46f8-9b96-ed54589a09ff","label":"language","value":"resume_info.skills.language","type":"array-object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"ed06ec82-c381-4615-82a7-dea7b486f6d2","label":"name","value":"resume_info.skills.language.name","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"eaf2ae00-8fb7-4ea4-bcd1-7fd7f9e1ee6b","label":"level","value":"resume_info.skills.language.level","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""}]}]}]}]}],"parentNode":true},{"children":[{"references":[{"originId":"spark-llm::927ca100-c2cf-4794-8f2b-7fba478484e5","id":"e714d620-5c18-4551-802b-e4612cd33cff","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"简历关键信息提取","parentNode":true,"value":"spark-llm::927ca100-c2cf-4794-8f2b-7fba478484e5"},{"children":[{"references":[{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"5fc3607d-5049-4fa6-be67-de9f4022467f","label":"sid","type":"string","value":"sid","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"c17afb4c-9f16-4034-a3f9-ef9248bf23f6","label":"code","type":"integer","value":"code","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"7704e657-7e65-41d5-9db0-cde8ff6b84b8","label":"message","type":"string","value":"message","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","children":[{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"4cfabd6d-b280-4c23-acfa-eed04ed75f08","label":"ocr_result","type":"string","value":"data.ocr_result","parentType":"object","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"3bb3cfd6-59bb-444c-9dbd-e64d7db7498c","label":"ocr_result_json","type":"array-object","value":"data.ocr_result_json","parentType":"object","fileType":""}],"id":"adf54480-d5b6-4a98-8eb0-b69f497be3b4","label":"data","type":"object","value":"data","fileType":""}],"label":"","value":""}],"label":"简历文本提取","parentNode":true,"value":"plugin::ae696e1d-9976-432c-a373-95c59a589932"},{"children":[{"references":[{"originId":"spark-llm::3d73ba9e-e921-452f-9998-1506c7e05bb9","id":"b1c6fc0b-bca4-4eb6-8bec-bd68c60f78b9","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"面试场景提取","parentNode":true,"value":"spark-llm::3d73ba9e-e921-452f-9998-1506c7e05bb9"}],"status":"","updatable":false},"dragging":false,"height":1297,"id":"spark-llm::e10e9c9e-83f3-432b-9b3c-0b17fd58cbf8","position":{"x":5998.658853585624,"y":542.487448283948},"positionAbsolute":{"x":5998.658853585624,"y":542.487448283948},"selected":false,"type":"大模型","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"fileType":"","id":"dbc47722-4815-491e-b4d3-a5e8f43d8f03","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"b1c6fc0b-bca4-4eb6-8bec-bd68c60f78b9","nodeId":"spark-llm::3d73ba9e-e921-452f-9998-1506c7e05bb9"},"contentErrMsg":"","type":"ref"}}}],"label":"提取面试场景信息","labelEdit":false,"nodeMeta":{"aliasName":"提取面试场景信息","nodeType":"工具"},"nodeParam":{"uid":"4493076350","code":"def main(input):\\n    interview_params = input.split(\\";\\")\\n    # ret = {\\n    #     \\"key0\\": info[0],\\n    #     \\"key1\\": info[1],\\n    #     \\"key2\\": info[2],\\n    #     \\"key3\\": info[3]\\n    # }\\n    return {\\"interview_params\\":interview_params}\\n    # return interview_params","apiKey":"d84b9d780b488cf919c5273686ee4e1a","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","codeErrMsg":""},"outputs":[{"id":"bcfe629b-f0b1-4465-85c2-8e5a798c13a2","name":"interview_params","nameErrMsg":"","schema":{"default":"","properties":[],"type":"array-string"}}],"references":[{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","children":[],"id":"20fd0c25-8829-4e57-91e1-55ade69af0a8","label":"resume_file","type":"string","value":"resume_file","fileType":"pdf"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},{"children":[{"references":[{"originId":"spark-llm::3d73ba9e-e921-452f-9998-1506c7e05bb9","id":"b1c6fc0b-bca4-4eb6-8bec-bd68c60f78b9","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"面试场景提取","parentNode":true,"value":"spark-llm::3d73ba9e-e921-452f-9998-1506c7e05bb9"}],"status":"","updatable":false},"dragging":false,"height":796,"id":"ifly-code::896223ec-c30c-4e07-b30a-3d0fbe988807","position":{"x":4541.546157938041,"y":1530.063391350784},"positionAbsolute":{"x":4541.546157938041,"y":1530.063391350784},"selected":false,"type":"代码","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"fileType":"","id":"5fd9175e-f29b-4a33-bfbc-198cf1808d7f","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"e714d620-5c18-4551-802b-e4612cd33cff","nodeId":"spark-llm::927ca100-c2cf-4794-8f2b-7fba478484e5"},"contentErrMsg":"","type":"ref"}}}],"label":"提取简历关键信息","labelEdit":false,"nodeMeta":{"aliasName":"提取简历关键信息","nodeType":"工具"},"nodeParam":{"uid":"4493076350","code":"import json\\n\\n# 提取简历中的工作经验、项目经验和技术栈信息\\n# 参数:\\n#   input: string类型，包含简历信息的JSON字符串\\n# 返回:\\n#   dict类型，包含三个键: workExperience(工作经验), projectExperience(项目经验), techStack(技术栈)\\ndef main(input):\\n    return json.loads(input)\\n    # try:\\n        \\n    #     # resume_data = json.loads(input)\\n    #     # 去除字符串开头和结尾的``````json和``````\\n    #     json_str = input.replace(\\"``````json\\", \\"\\").replace(\\"``````\\", \\"\\")\\n    #     resume_data = json.loads(json_str)\\n    #     # 尝试解析清理后的JSON字符串\\n\\n    #     # 提取个人信息\\n    #     personal_info = resume_data.get(''personal_info'',{})\\n\\n    #     # 提取目标岗位\\n    #     job_target = resume_data.get(''job_target'', '''')\\n\\n    #     # 提取教育背景\\n    #     education = resume_data.get(''education'', [])\\n        \\n    #     # 提取工作经验\\n    #     work_experience = resume_data.get(''workExperience'', [])\\n        \\n    #     # # 提取项目经验\\n    #     project_experience = resume_data.get(''projects'', [])\\n        \\n    #     # # 提取技术栈\\n    #     skills = resume_data.get(''skills'', {})\\n       \\n        \\n    #     # ret = {\\n    #     # # 工作经验\\n    #     # \\"workExperience\\": work_experience,\\n    #     # \\"projects\\": project_experience,\\n    #     # \\"skills\\": skills,\\n    #     # }\\n    #     ret = {\\n    #     # 工作经验\\n    #     \\"workExperience\\": json.dumps(work_experience, ensure_ascii=False),\\n    #     \\"projects\\": json.dumps(project_experience, ensure_ascii=False),\\n    #     \\"skills\\": json.dumps(skills, ensure_ascii=False),\\n    #     }\\n    #     return ret\\n    # except json.JSONDecodeError:\\n    #     return {''error'': ''Invalid JSON input''}\\n","apiKey":"d84b9d780b488cf919c5273686ee4e1a","remarkVisible":true,"appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","remark":"使用代码节点，整理提取出来的关键信息","codeErrMsg":""},"outputs":[{"id":"4b8d1570-9846-4db3-9e15-b1ecd235a055","name":"resume_info","nameErrMsg":"","schema":{"default":"","properties":[{"id":"37a0ad6b-fd80-4e2b-8666-3b2250732ddd","name":"personal_info","properties":[{"id":"6288194e-c473-470c-97e3-781294a83957","name":"name","required":false,"type":"string"},{"id":"5c454ec9-3e41-4394-a307-91998f570edd","name":"contact","properties":[{"id":"f4bf1e9a-039d-4eba-945f-6683502239a6","name":"phone","required":false,"type":"string"},{"id":"ea171cb2-2707-4201-bcb3-682ef503a03a","name":"email","required":false,"type":"string"},{"id":"62426630-70eb-4a18-8403-f98e13c3aad2","name":"location","required":false,"type":"string"}],"required":false,"type":"object"}],"required":false,"type":"object"},{"id":"40a8d259-69de-4e11-b2f6-987610776811","name":"job_target","required":false,"type":"string"},{"id":"e6f27202-e3d0-4720-b755-d9e52c2cb607","name":"education","properties":[{"id":"4c453516-5e3d-40b2-b62f-d8ba2d025f1d","name":"institution","required":false,"type":"string"},{"id":"8e2d12dd-00c0-476e-9eb5-9446948068c1","name":"degree","required":false,"type":"string"},{"id":"e59931bf-a0c4-43c4-bfd5-70ff81826322","name":"major","required":false,"type":"string"},{"id":"a2a8980f-23ac-45e5-8ede-5d7968bd02d3","name":"time_range","required":false,"type":"string"},{"id":"62ee607e-cd5c-4194-866c-16fcef493681","name":"honors","properties":[],"required":false,"type":"array-string"}],"required":false,"type":"array-object"},{"id":"9ef1863b-da02-4f75-a08c-384f87e98459","name":"work_experience","properties":[{"id":"027b0e74-ce71-4a00-be4b-bd1294622356","name":"company","required":false,"type":"string"},{"id":"e460ead1-15e9-413a-9146-4a78dd02db11","name":"position","required":false,"type":"string"},{"id":"092b76f0-6e8e-4614-9aa9-4b98b95a6fed","name":"time_range","required":false,"type":"string"},{"id":"f4be276d-ed6a-4ad3-820e-b94ed2a611a2","name":"responsibilities","properties":[],"required":false,"type":"array-string"},{"id":"d0fdc82e-f29f-4d67-a133-681237cb8b93","name":"tech_stack","properties":[],"required":false,"type":"array-string"}],"required":false,"type":"array-object"},{"id":"0c492da4-5b91-41ab-a1a6-3f7b9ddf73fe","name":"projects","properties":[{"id":"69b0db12-27d4-40be-8c51-9b6ccc731457","name":"name","required":false,"type":"string"},{"id":"0573d948-4b97-474b-a492-2b2b0308ec51","name":"role","required":false,"type":"string"},{"id":"dd89e33f-4867-4bd6-b992-54fccb007460","name":"time_range","required":false,"type":"string"},{"id":"b5d8ba65-ab08-41e4-9bc2-aa503593efc4","name":"description","required":false,"type":"string"},{"id":"8bffbbad-49eb-45a3-b939-b8f99aac6085","name":"achievements","required":false,"type":"string"}],"required":false,"type":"array-object"},{"id":"e7e1d988-8004-410d-8d63-f8fff61900d2","name":"skills","properties":[{"id":"843584c4-5655-46c6-91b3-05cf0d4cc279","name":"technical","properties":[{"id":"92c13714-5224-48b7-bf17-6f390fbc3967","name":"name","required":false,"type":"string"},{"id":"1d22cd46-0f30-4c18-90e0-ef8b702d40be","name":"level","required":false,"type":"string"}],"required":false,"type":"object"},{"id":"4cec0661-e7b7-46f8-9b96-ed54589a09ff","name":"language","properties":[{"id":"ed06ec82-c381-4615-82a7-dea7b486f6d2","name":"name","required":false,"type":"string"},{"id":"eaf2ae00-8fb7-4ea4-bcd1-7fd7f9e1ee6b","name":"level","required":false,"type":"string"}],"required":false,"type":"array-object"}],"required":false,"type":"object"}],"type":"object"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::927ca100-c2cf-4794-8f2b-7fba478484e5","id":"e714d620-5c18-4551-802b-e4612cd33cff","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"简历关键信息提取","parentNode":true,"value":"spark-llm::927ca100-c2cf-4794-8f2b-7fba478484e5"},{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","children":[],"id":"20fd0c25-8829-4e57-91e1-55ade69af0a8","label":"resume_file","type":"string","value":"resume_file","fileType":"pdf"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},{"children":[{"references":[{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"5fc3607d-5049-4fa6-be67-de9f4022467f","label":"sid","type":"string","value":"sid","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"c17afb4c-9f16-4034-a3f9-ef9248bf23f6","label":"code","type":"integer","value":"code","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"7704e657-7e65-41d5-9db0-cde8ff6b84b8","label":"message","type":"string","value":"message","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","children":[{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"4cfabd6d-b280-4c23-acfa-eed04ed75f08","label":"ocr_result","type":"string","value":"data.ocr_result","parentType":"object","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"3bb3cfd6-59bb-444c-9dbd-e64d7db7498c","label":"ocr_result_json","type":"array-object","value":"data.ocr_result_json","parentType":"object","fileType":""}],"id":"adf54480-d5b6-4a98-8eb0-b69f497be3b4","label":"data","type":"object","value":"data","fileType":""}],"label":"","value":""}],"label":"简历文本提取","parentNode":true,"value":"plugin::ae696e1d-9976-432c-a373-95c59a589932"}],"status":"","updatable":false},"dragging":false,"height":2036,"id":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","position":{"x":4901.2124328851305,"y":-694.1670926628964},"positionAbsolute":{"x":4901.2124328851305,"y":-694.1670926628964},"selected":false,"type":"代码","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"图片或pdf文件的url地址","disabled":false,"id":"fec17bc5-01d2-458e-bee7-641256e79280","name":"file_url","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"resume_file","id":"20fd0c25-8829-4e57-91e1-55ade69af0a8","nodeId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},"contentErrMsg":"","type":"ref"}}},{"description":"当传入的是pdf链接，表示页码开始范围，-1表示全部页码，从0开始；图片链接不影响该值输入","disabled":false,"id":"77c333d6-6c07-4aa9-b6dd-a2c2f7b95a59","name":"page_start","nameErrMsg":"","required":false,"schema":{"type":"integer","value":{"content":"-1","contentErrMsg":"","type":"literal"}}},{"description":"当传入的是pdf链接，表示页码结束范围，-1表示全部页码，从0开始；图片链接不影响该值输入","disabled":false,"id":"2f5cf4b4-17bc-47d2-9012-cf8f17e31fdc","name":"page_end","nameErrMsg":"","required":false,"schema":{"type":"integer","value":{"content":"-1","contentErrMsg":"","type":"literal"}}}],"isLatest":true,"label":"简历文本提取","labelEdit":false,"nodeMeta":{"aliasName":"简历文本提取","nodeType":"工具"},"nodeParam":{"uid":"4493076350","code":"","toolDescription":"识别图片或PDF文件中的文字内容，目前支持PDF,PNG,JPG","apiKey":"d84b9d780b488cf919c5273686ee4e1a","pluginId":"tool@736928b7e421000","remarkVisible":true,"appId":"12a0a7e2","operationId":"传统OCR-MYIwPKpK","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","remark":"使用OCR工具，提取用户上传的简历文本","businessInput":[]},"outputs":[{"id":"5fc3607d-5049-4fa6-be67-de9f4022467f","name":"sid","schema":{"type":"string"}},{"id":"c17afb4c-9f16-4034-a3f9-ef9248bf23f6","name":"code","schema":{"type":"integer"}},{"id":"7704e657-7e65-41d5-9db0-cde8ff6b84b8","name":"message","schema":{"type":"string"}},{"id":"adf54480-d5b6-4a98-8eb0-b69f497be3b4","name":"data","schema":{"properties":[{"id":"4cfabd6d-b280-4c23-acfa-eed04ed75f08","name":"ocr_result","type":"string"},{"id":"3bb3cfd6-59bb-444c-9dbd-e64d7db7498c","name":"ocr_result_json","properties":[],"type":"array-object"}],"type":"object"}}],"references":[{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","children":[],"id":"20fd0c25-8829-4e57-91e1-55ade69af0a8","label":"resume_file","type":"string","value":"resume_file","fileType":"pdf"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"}],"status":"","updatable":false},"dragging":false,"height":542,"id":"plugin::ae696e1d-9976-432c-a373-95c59a589932","position":{"x":2149.8034109708587,"y":414.863896739104},"positionAbsolute":{"x":2149.8034109708587,"y":414.863896739104},"selected":false,"type":"工具","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"75b65787-a99f-45b2-9e10-f75d774a89ce","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","nodeId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},"contentErrMsg":"","type":"ref"}}}],"label":"面试场景提取","labelEdit":false,"nodeMeta":{"aliasName":"面试场景提取","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"# 你是一个面试场景提取专家，根据用户的问题描述{{input}}，匹配合适的岗位，公司类型，难度等级和面试时长\\n## 技能\\n1.根据用户的描述，提取面试的目标岗位名称\\n2.根据用户的描述，提取面试的目标公司类型，如果没有，则默认为科技互联网企业\\n3.根据用户的描述，提取面试的难度等级（初级应届生，中级1-3年，高级3-5年），没有则默认初级应届生\\n4.根据用户的描述，提取面试时长（15分钟快速面试，30分钟标准面试，45分钟深度面试），没有则默认15分钟快速面试\\n## 目标\\n根据用户的描述提取出合适的面试场景，按照岗位;公司类型;难度等级;面试时长结构输出，输出结果为普通字符串用英文分号分隔，例如算法工程师;科技互联网;初级（应届生）;15分钟（快速练习）\\n## 限制\\n- 输出必须严格按照岗位;公司类型;难度等级;面试时长结构输出字符串\\n- 不要输出与面试场景无关的信息，返回前确认输出的格式是否有误\\n- 检查输出的分隔符是否是英文分号;，修复后再输出","apiKey":"d84b9d780b488cf919c5273686ee4e1a","modelId":141,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","llmId":141,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"uid":"4493076350","patchId":"0","isThink":false,"templateErrMsg":"","domain":"xdeepseekv3","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"systemTemplate":"\\n","model":"spark","serviceId":"xdeepseekv3","respFormat":0,"llmIdErrMsg":""},"outputs":[{"id":"b1c6fc0b-bca4-4eb6-8bec-bd68c60f78b9","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","children":[],"id":"20fd0c25-8829-4e57-91e1-55ade69af0a8","label":"resume_file","type":"string","value":"resume_file","fileType":"pdf"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"}],"status":"","updatable":false},"dragging":false,"height":1119,"id":"spark-llm::3d73ba9e-e921-452f-9998-1506c7e05bb9","position":{"x":3069.263017157944,"y":1429.9540026083093},"positionAbsolute":{"x":3069.263017157944,"y":1429.9540026083093},"selected":false,"type":"大模型","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"fileType":"","id":"f308eb4a-569e-4213-839e-a7e71031cdbe","name":"jsonstr","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"697a828f-5de8-4c38-a45b-ed7cedaa0f37","nodeId":"spark-llm::e10e9c9e-83f3-432b-9b3c-0b17fd58cbf8"},"contentErrMsg":"","type":"ref"}}}],"label":"代码_1","labelEdit":false,"nodeMeta":{"aliasName":"代码_1","nodeType":"工具"},"nodeParam":{"uid":"4493076350","code":"# coding=utf-8\\nimport json  \\n  \\ndef main(jsonstr):  \\n    # 解析JSON数组字符串为Python列表  \\n    json_array = json.loads(jsonstr)\\n    return {\\"question\\":json_array}","apiKey":"d84b9d780b488cf919c5273686ee4e1a","remarkVisible":true,"appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","remark":"使用代码节点将文本格式的面试题转化为json数组","codeErrMsg":""},"outputs":[{"id":"00699a79-aefe-4c2d-8902-d64950b2ccb8","name":"question","nameErrMsg":"","schema":{"default":"","properties":[{"id":"b33978b5-5773-4cde-ac03-d5be1048f7f6","name":"question_id","required":false,"type":"string"},{"id":"85ca11f9-c4fd-463b-ada1-f32083ed5685","name":"content","required":false,"type":"string"},{"id":"a6e23eba-d8d8-4153-bc0c-dce786383f04","name":"category","required":false,"type":"string"},{"id":"e131c382-4eff-43de-962b-32a05fd37b0b","name":"difficulty","properties":[],"required":false,"type":"integer"},{"id":"535e0951-0ac7-4d36-8feb-49e7254e0f8f","name":"estimated_time","required":false,"type":"string"},{"id":"3780f40a-8e5b-4d95-8213-2a0788286299","name":"evaluation_focus","required":false,"type":"string"}],"type":"array-object"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::e10e9c9e-83f3-432b-9b3c-0b17fd58cbf8","id":"697a828f-5de8-4c38-a45b-ed7cedaa0f37","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"面试题生成助理","parentNode":true,"value":"spark-llm::e10e9c9e-83f3-432b-9b3c-0b17fd58cbf8"},{"label":"提取简历关键信息","value":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","children":[{"label":"","value":"","references":[{"id":"4b8d1570-9846-4db3-9e15-b1ecd235a055","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","label":"resume_info","value":"resume_info","type":"object","fileType":"","children":[{"id":"37a0ad6b-fd80-4e2b-8666-3b2250732ddd","label":"personal_info","value":"resume_info.personal_info","type":"object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"6288194e-c473-470c-97e3-781294a83957","label":"name","value":"resume_info.personal_info.name","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"5c454ec9-3e41-4394-a307-91998f570edd","label":"contact","value":"resume_info.personal_info.contact","type":"object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"f4bf1e9a-039d-4eba-945f-6683502239a6","label":"phone","value":"resume_info.personal_info.contact.phone","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"ea171cb2-2707-4201-bcb3-682ef503a03a","label":"email","value":"resume_info.personal_info.contact.email","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"62426630-70eb-4a18-8403-f98e13c3aad2","label":"location","value":"resume_info.personal_info.contact.location","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""}]}]},{"id":"40a8d259-69de-4e11-b2f6-987610776811","label":"job_target","value":"resume_info.job_target","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"e6f27202-e3d0-4720-b755-d9e52c2cb607","label":"education","value":"resume_info.education","type":"array-object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"4c453516-5e3d-40b2-b62f-d8ba2d025f1d","label":"institution","value":"resume_info.education.institution","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"8e2d12dd-00c0-476e-9eb5-9446948068c1","label":"degree","value":"resume_info.education.degree","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"e59931bf-a0c4-43c4-bfd5-70ff81826322","label":"major","value":"resume_info.education.major","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"a2a8980f-23ac-45e5-8ede-5d7968bd02d3","label":"time_range","value":"resume_info.education.time_range","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"62ee607e-cd5c-4194-866c-16fcef493681","label":"honors","value":"resume_info.education.honors","type":"array-string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""}]},{"id":"9ef1863b-da02-4f75-a08c-384f87e98459","label":"work_experience","value":"resume_info.work_experience","type":"array-object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"027b0e74-ce71-4a00-be4b-bd1294622356","label":"company","value":"resume_info.work_experience.company","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"e460ead1-15e9-413a-9146-4a78dd02db11","label":"position","value":"resume_info.work_experience.position","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"092b76f0-6e8e-4614-9aa9-4b98b95a6fed","label":"time_range","value":"resume_info.work_experience.time_range","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"f4be276d-ed6a-4ad3-820e-b94ed2a611a2","label":"responsibilities","value":"resume_info.work_experience.responsibilities","type":"array-string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"d0fdc82e-f29f-4d67-a133-681237cb8b93","label":"tech_stack","value":"resume_info.work_experience.tech_stack","type":"array-string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""}]},{"id":"0c492da4-5b91-41ab-a1a6-3f7b9ddf73fe","label":"projects","value":"resume_info.projects","type":"array-object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"69b0db12-27d4-40be-8c51-9b6ccc731457","label":"name","value":"resume_info.projects.name","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"0573d948-4b97-474b-a492-2b2b0308ec51","label":"role","value":"resume_info.projects.role","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"dd89e33f-4867-4bd6-b992-54fccb007460","label":"time_range","value":"resume_info.projects.time_range","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"b5d8ba65-ab08-41e4-9bc2-aa503593efc4","label":"description","value":"resume_info.projects.description","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"8bffbbad-49eb-45a3-b939-b8f99aac6085","label":"achievements","value":"resume_info.projects.achievements","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""}]},{"id":"e7e1d988-8004-410d-8d63-f8fff61900d2","label":"skills","value":"resume_info.skills","type":"object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"843584c4-5655-46c6-91b3-05cf0d4cc279","label":"technical","value":"resume_info.skills.technical","type":"object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"92c13714-5224-48b7-bf17-6f390fbc3967","label":"name","value":"resume_info.skills.technical.name","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"1d22cd46-0f30-4c18-90e0-ef8b702d40be","label":"level","value":"resume_info.skills.technical.level","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""}]},{"id":"4cec0661-e7b7-46f8-9b96-ed54589a09ff","label":"language","value":"resume_info.skills.language","type":"array-object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"ed06ec82-c381-4615-82a7-dea7b486f6d2","label":"name","value":"resume_info.skills.language.name","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"eaf2ae00-8fb7-4ea4-bcd1-7fd7f9e1ee6b","label":"level","value":"resume_info.skills.language.level","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""}]}]}]}]}],"parentNode":true},{"children":[{"references":[{"originId":"spark-llm::927ca100-c2cf-4794-8f2b-7fba478484e5","id":"e714d620-5c18-4551-802b-e4612cd33cff","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"简历关键信息提取","parentNode":true,"value":"spark-llm::927ca100-c2cf-4794-8f2b-7fba478484e5"},{"children":[{"references":[{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"5fc3607d-5049-4fa6-be67-de9f4022467f","label":"sid","type":"string","value":"sid","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"c17afb4c-9f16-4034-a3f9-ef9248bf23f6","label":"code","type":"integer","value":"code","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"7704e657-7e65-41d5-9db0-cde8ff6b84b8","label":"message","type":"string","value":"message","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","children":[{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"4cfabd6d-b280-4c23-acfa-eed04ed75f08","label":"ocr_result","type":"string","value":"data.ocr_result","parentType":"object","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"3bb3cfd6-59bb-444c-9dbd-e64d7db7498c","label":"ocr_result_json","type":"array-object","value":"data.ocr_result_json","parentType":"object","fileType":""}],"id":"adf54480-d5b6-4a98-8eb0-b69f497be3b4","label":"data","type":"object","value":"data","fileType":""}],"label":"","value":""}],"label":"简历文本提取","parentNode":true,"value":"plugin::ae696e1d-9976-432c-a373-95c59a589932"},{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","children":[],"id":"20fd0c25-8829-4e57-91e1-55ade69af0a8","label":"resume_file","type":"string","value":"resume_file","fileType":"pdf"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},{"children":[{"references":[{"originId":"ifly-code::896223ec-c30c-4e07-b30a-3d0fbe988807","children":[],"id":"bcfe629b-f0b1-4465-85c2-8e5a798c13a2","label":"interview_params","type":"array-string","value":"interview_params","fileType":""}],"label":"","value":""}],"label":"提取面试场景信息","parentNode":true,"value":"ifly-code::896223ec-c30c-4e07-b30a-3d0fbe988807"},{"children":[{"references":[{"originId":"spark-llm::3d73ba9e-e921-452f-9998-1506c7e05bb9","id":"b1c6fc0b-bca4-4eb6-8bec-bd68c60f78b9","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"面试场景提取","parentNode":true,"value":"spark-llm::3d73ba9e-e921-452f-9998-1506c7e05bb9"}],"status":"","updatable":false},"dragging":false,"height":1042,"id":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","position":{"x":6892.7377968215305,"y":705.819321352796},"positionAbsolute":{"x":6892.7377968215305,"y":705.819321352796},"selected":true,"type":"代码","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"该节点用于处理循环逻辑，仅支持嵌套一次","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/iteration-icon.png","inputs":[{"fileType":"","id":"84e04d09-cbd3-4807-b500-41713097e9e5","name":"input","nameErrMsg":"","schema":{"type":"array-object","value":{"content":{"name":"question","id":"00699a79-aefe-4c2d-8902-d64950b2ccb8","nodeId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69"},"contentErrMsg":"","type":"ref"}}}],"label":"迭代_1","labelEdit":false,"nodeMeta":{"aliasName":"迭代_1","nodeType":"基础节点"},"nodeParam":{"uid":"4493076350","apiKey":"d84b9d780b488cf919c5273686ee4e1a","IterationStartNodeId":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c","remarkVisible":true,"appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","remark":"输入到迭代节点。在迭代节点中，先使用问答节点实现面试题的多轮问答，再使用变量存储器获取每轮面试题的回答。"},"outputs":[{"id":"77a0f579-1e54-433d-9392-d4f235ffa9be","name":"output","nameErrMsg":"","schema":{"default":"","type":"array-string"}}],"references":[{"children":[{"references":[{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","children":[{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","id":"b33978b5-5773-4cde-ac03-d5be1048f7f6","label":"question_id","type":"string","value":"question.question_id","parentType":"array-object","fileType":""},{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","id":"85ca11f9-c4fd-463b-ada1-f32083ed5685","label":"content","type":"string","value":"question.content","parentType":"array-object","fileType":""},{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","id":"a6e23eba-d8d8-4153-bc0c-dce786383f04","label":"category","type":"string","value":"question.category","parentType":"array-object","fileType":""},{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","id":"e131c382-4eff-43de-962b-32a05fd37b0b","label":"difficulty","type":"integer","value":"question.difficulty","parentType":"array-object","fileType":""},{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","id":"535e0951-0ac7-4d36-8feb-49e7254e0f8f","label":"estimated_time","type":"string","value":"question.estimated_time","parentType":"array-object","fileType":""},{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","id":"3780f40a-8e5b-4d95-8213-2a0788286299","label":"evaluation_focus","type":"string","value":"question.evaluation_focus","parentType":"array-object","fileType":""}],"id":"00699a79-aefe-4c2d-8902-d64950b2ccb8","label":"question","type":"array-object","value":"question","fileType":""}],"label":"","value":""}],"label":"代码_1","parentNode":true,"value":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69"},{"children":[{"references":[{"originId":"ifly-code::896223ec-c30c-4e07-b30a-3d0fbe988807","children":[],"id":"bcfe629b-f0b1-4465-85c2-8e5a798c13a2","label":"interview_params","type":"array-string","value":"interview_params","fileType":""}],"label":"","value":""}],"label":"提取面试场景信息","parentNode":true,"value":"ifly-code::896223ec-c30c-4e07-b30a-3d0fbe988807"}],"status":"","updatable":false},"dragging":false,"height":1252,"id":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","position":{"x":7770.495412059705,"y":538.9578353705235},"positionAbsolute":{"x":7770.495412059705,"y":538.9578353705235},"selected":false,"type":"迭代","width":1507},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"4c620c66-a9fa-46d2-ba16-183bf4bc5187","name":"answer","nameErrMsg":"","schema":{"type":"array-string","value":{"content":{"name":"output","id":"77a0f579-1e54-433d-9392-d4f235ffa9be","nodeId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"3e2c98ea-b20e-4348-ae48-3975796d2492","name":"question","nameErrMsg":"","schema":{"type":"array-object","value":{"content":{"name":"question","id":"00699a79-aefe-4c2d-8902-d64950b2ccb8","nodeId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69"},"contentErrMsg":"","type":"ref"}}}],"label":"面试评价","labelEdit":false,"nodeMeta":{"aliasName":"面试评价","nodeType":"基础节点"},"nodeParam":{"template":"你是一位资深的面试分析专家和职业发展顾问，拥有多年的招聘和人才评估经验。请根据面试题目{{question}}和面试回答内容{{answer}} ，对我刚完成的模拟面试进行全面、客观、建设性的分析和反馈。","apiKey":"d84b9d780b488cf919c5273686ee4e1a","modelId":141,"auditing":"default","remark":"根据用户回答，生成面试评价","llmId":141,"uid":"4493076350","patchId":"0","isThink":false,"templateErrMsg":"","remarkVisible":true,"appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"xdeepseekv3","llmIdErrMsg":"","topK":4,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"domain":"xdeepseekv3","systemTemplate":"# 角色定义\\n你是一位资深的面试分析专家和职业发展顾问，拥有多年的招聘和人才评估经验。你的任务是对用户刚完成的模拟面试进行全面、客观、建设性的分析和反馈。\\n# 核心职责\\n深度分析面试表现：从多个维度评估候选人的面试表现\\n提供具体反馈：给出详细、可操作的改进建议\\n制定提升计划：为用户量身定制面试技能提升方案\\n鼓励与指导并重：在指出不足的同时，积极鼓励并突出亮点\\n\\n# 分析维度框架\\n1. 技术能力评估 (35%)\\n专业知识掌握度：基础概念理解、深度技能展示\\n问题解决能力：思路清晰度、解决方案的创新性\\n技术表达能力：能否用简洁语言解释复杂技术概念\\n实战经验体现：项目经验的真实性和深度\\n\\n2. 沟通表达能力 (25%)\\n语言组织能力：表达逻辑性、条理性\\n倾听与回应：是否准确理解问题并给出相关回答\\n非语言沟通：肢体语言、眼神交流、自信度\\n互动质量：与面试官的互动是否自然流畅\\n\\n3. 逻辑思维能力 (20%)\\n分析问题的方法：能否系统性地分解复杂问题\\n思维的结构化：回答是否有清晰的框架和层次\\n举例论证能力：能否用恰当的例子支撑观点\\n应变能力：面对突发问题的反应速度和质量\\n\\n4. 职业素养表现 (15%)\\n时间管理：回答节奏控制、重点把握\\n职业态度：积极性、诚实度、学习意愿\\n团队协作意识：在回答中体现的合作精神\\n职业规划清晰度：对未来发展的思考深度\\n\\n5. 情绪管理与心理状态 (5%)\\n压力应对：在压力下的表现稳定性\\n自信程度：适度自信，不卑不亢\\n情绪控制：保持冷静和专业\\n\\n# 反馈输出格式\\n总体印象 (Overall Impression)\\n一句话总结：用一句精炼的话概括整体表现\\n整体评分：X/10分 (提供具体分数和评级)\\n核心亮点：列出2-3个最突出的优势\\n主要改进点：指出2-3个最需要提升的方面\\n详细分析 (Detailed Analysis)\\n🎯 技术能力表现\\n表现评价：具体描述技术回答的质量\\n亮点识别：技术方面的突出表现\\n改进建议：针对性的技术提升建议\\n评分：X/10分\\n\\n💬 沟通表达评估\\n语言能力：表达清晰度、逻辑性评价\\n互动质量：与面试官的配合度\\n改进方向：具体的表达技巧建议\\n评分：X/10分\\n\\n🧠 逻辑思维分析\\n思维结构：回答的逻辑框架评价\\n分析深度：问题分析的深入程度\\n提升要点：逻辑思维训练建议\\n评分：X/10分\\n\\n🏢 职业素养反馈\\n专业度表现：整体职业形象评价\\n态度评估：学习态度和工作热情\\n发展建议：职业素养提升路径\\n评分：X/10分\\n\\n具体改进建议 (Actionable Improvements)\\n# 短期改进 (1-2周内可实现)\\n具体行动项1：详细的改进步骤和方法\\n具体行动项2：可量化的练习目标\\n具体行动项3：立即可开始的改进措施\\n\\n# 中期提升 (1-3个月)\\n技能深化：需要系统学习的技术领域\\n经验积累：建议参与的项目或实践\\n软技能提升：沟通、领导力等方面的发展\\n\\n# 长期发展 (3个月以上)\\n职业规划优化：结合市场需求的发展方向\\n核心竞争力构建：差异化优势培养\\n行业影响力建设：个人品牌和网络建设\\n\\n# 模拟面试练习计划\\n推荐练习频率：每周X次，每次Y分钟\\n重点练习方向：\\n\\n# 针对薄弱环节的专项练习\\n真实场景模拟训练\\n压力面试适应性训练\\n\\n# 学习资源推荐：\\n相关书籍/在线课程\\n练习平台或工具\\n行业资讯关注渠道\\n\\n输出原则\\n1. 客观公正\\n基于实际表现给出评价，避免主观偏见\\n提供具体的事例支撑每个评价点\\n既要指出不足，也要充分肯定优点\\n\\n2. 建设性反馈\\n每个批评都要配对具体的改进建议\\n提供可行的、循序渐进的提升路径\\n避免打击自信心，保持积极正向的语调\\n\\n3. 个性化定制\\n根据用户的职业背景和目标岗位调整反馈重点\\n考虑用户当前的职业发展阶段\\n结合行业特点和市场需求给出建议\\n\\n4. 实用导向\\n所有建议都要具有可操作性\\n提供具体的时间节点和成果衡量标准\\n关联实际工作场景和职业发展需要\\n\\n语言风格要求\\n专业而亲和：既要体现专业性，又要让用户感到被理解和支持\\n具体而详细：避免泛泛而谈，给出具体可感的反馈\\n鼓励而现实：在鼓励的同时，诚实地指出需要改进的地方\\n前瞻而实用：不仅分析当前表现，更要为未来发展提供指导\\n\\n重要提醒：在生成反馈时，请确保内容全面、平衡，既有深度的分析，又有实用的建议。记住，你的目标是帮助用户在下一次真实面试中取得更好的表现。","respFormat":0},"outputs":[{"id":"61310cff-d526-4232-874d-f60d9136baad","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","id":"77a0f579-1e54-433d-9392-d4f235ffa9be","label":"output","type":"array-string","value":"output","fileType":""}],"label":"","value":""}],"label":"迭代_1","parentNode":true,"value":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b"},{"children":[{"references":[{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","children":[{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","id":"b33978b5-5773-4cde-ac03-d5be1048f7f6","label":"question_id","type":"string","value":"question.question_id","parentType":"array-object","fileType":""},{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","id":"85ca11f9-c4fd-463b-ada1-f32083ed5685","label":"content","type":"string","value":"question.content","parentType":"array-object","fileType":""},{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","id":"a6e23eba-d8d8-4153-bc0c-dce786383f04","label":"category","type":"string","value":"question.category","parentType":"array-object","fileType":""},{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","id":"e131c382-4eff-43de-962b-32a05fd37b0b","label":"difficulty","type":"integer","value":"question.difficulty","parentType":"array-object","fileType":""},{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","id":"535e0951-0ac7-4d36-8feb-49e7254e0f8f","label":"estimated_time","type":"string","value":"question.estimated_time","parentType":"array-object","fileType":""},{"originId":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","id":"3780f40a-8e5b-4d95-8213-2a0788286299","label":"evaluation_focus","type":"string","value":"question.evaluation_focus","parentType":"array-object","fileType":""}],"id":"00699a79-aefe-4c2d-8902-d64950b2ccb8","label":"question","type":"array-object","value":"question","fileType":""}],"label":"","value":""}],"label":"代码_1","parentNode":true,"value":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69"},{"children":[{"references":[{"originId":"spark-llm::e10e9c9e-83f3-432b-9b3c-0b17fd58cbf8","id":"697a828f-5de8-4c38-a45b-ed7cedaa0f37","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"面试题生成助理","parentNode":true,"value":"spark-llm::e10e9c9e-83f3-432b-9b3c-0b17fd58cbf8"},{"label":"提取简历关键信息","value":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","children":[{"label":"","value":"","references":[{"id":"4b8d1570-9846-4db3-9e15-b1ecd235a055","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","label":"resume_info","value":"resume_info","type":"object","fileType":"","children":[{"id":"37a0ad6b-fd80-4e2b-8666-3b2250732ddd","label":"personal_info","value":"resume_info.personal_info","type":"object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"6288194e-c473-470c-97e3-781294a83957","label":"name","value":"resume_info.personal_info.name","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"5c454ec9-3e41-4394-a307-91998f570edd","label":"contact","value":"resume_info.personal_info.contact","type":"object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"f4bf1e9a-039d-4eba-945f-6683502239a6","label":"phone","value":"resume_info.personal_info.contact.phone","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"ea171cb2-2707-4201-bcb3-682ef503a03a","label":"email","value":"resume_info.personal_info.contact.email","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"62426630-70eb-4a18-8403-f98e13c3aad2","label":"location","value":"resume_info.personal_info.contact.location","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""}]}]},{"id":"40a8d259-69de-4e11-b2f6-987610776811","label":"job_target","value":"resume_info.job_target","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"e6f27202-e3d0-4720-b755-d9e52c2cb607","label":"education","value":"resume_info.education","type":"array-object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"4c453516-5e3d-40b2-b62f-d8ba2d025f1d","label":"institution","value":"resume_info.education.institution","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"8e2d12dd-00c0-476e-9eb5-9446948068c1","label":"degree","value":"resume_info.education.degree","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"e59931bf-a0c4-43c4-bfd5-70ff81826322","label":"major","value":"resume_info.education.major","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"a2a8980f-23ac-45e5-8ede-5d7968bd02d3","label":"time_range","value":"resume_info.education.time_range","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"62ee607e-cd5c-4194-866c-16fcef493681","label":"honors","value":"resume_info.education.honors","type":"array-string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""}]},{"id":"9ef1863b-da02-4f75-a08c-384f87e98459","label":"work_experience","value":"resume_info.work_experience","type":"array-object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"027b0e74-ce71-4a00-be4b-bd1294622356","label":"company","value":"resume_info.work_experience.company","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"e460ead1-15e9-413a-9146-4a78dd02db11","label":"position","value":"resume_info.work_experience.position","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"092b76f0-6e8e-4614-9aa9-4b98b95a6fed","label":"time_range","value":"resume_info.work_experience.time_range","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"f4be276d-ed6a-4ad3-820e-b94ed2a611a2","label":"responsibilities","value":"resume_info.work_experience.responsibilities","type":"array-string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"d0fdc82e-f29f-4d67-a133-681237cb8b93","label":"tech_stack","value":"resume_info.work_experience.tech_stack","type":"array-string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""}]},{"id":"0c492da4-5b91-41ab-a1a6-3f7b9ddf73fe","label":"projects","value":"resume_info.projects","type":"array-object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"69b0db12-27d4-40be-8c51-9b6ccc731457","label":"name","value":"resume_info.projects.name","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"0573d948-4b97-474b-a492-2b2b0308ec51","label":"role","value":"resume_info.projects.role","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"dd89e33f-4867-4bd6-b992-54fccb007460","label":"time_range","value":"resume_info.projects.time_range","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"b5d8ba65-ab08-41e4-9bc2-aa503593efc4","label":"description","value":"resume_info.projects.description","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"8bffbbad-49eb-45a3-b939-b8f99aac6085","label":"achievements","value":"resume_info.projects.achievements","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""}]},{"id":"e7e1d988-8004-410d-8d63-f8fff61900d2","label":"skills","value":"resume_info.skills","type":"object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"843584c4-5655-46c6-91b3-05cf0d4cc279","label":"technical","value":"resume_info.skills.technical","type":"object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"92c13714-5224-48b7-bf17-6f390fbc3967","label":"name","value":"resume_info.skills.technical.name","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""},{"id":"1d22cd46-0f30-4c18-90e0-ef8b702d40be","label":"level","value":"resume_info.skills.technical.level","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":""}]},{"id":"4cec0661-e7b7-46f8-9b96-ed54589a09ff","label":"language","value":"resume_info.skills.language","type":"array-object","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"object","fileType":"","children":[{"id":"ed06ec82-c381-4615-82a7-dea7b486f6d2","label":"name","value":"resume_info.skills.language.name","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""},{"id":"eaf2ae00-8fb7-4ea4-bcd1-7fd7f9e1ee6b","label":"level","value":"resume_info.skills.language.level","type":"string","originId":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","parentType":"array-object","fileType":""}]}]}]}]}],"parentNode":true},{"children":[{"references":[{"originId":"spark-llm::927ca100-c2cf-4794-8f2b-7fba478484e5","id":"e714d620-5c18-4551-802b-e4612cd33cff","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"简历关键信息提取","parentNode":true,"value":"spark-llm::927ca100-c2cf-4794-8f2b-7fba478484e5"},{"children":[{"references":[{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"5fc3607d-5049-4fa6-be67-de9f4022467f","label":"sid","type":"string","value":"sid","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"c17afb4c-9f16-4034-a3f9-ef9248bf23f6","label":"code","type":"integer","value":"code","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"7704e657-7e65-41d5-9db0-cde8ff6b84b8","label":"message","type":"string","value":"message","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","children":[{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"4cfabd6d-b280-4c23-acfa-eed04ed75f08","label":"ocr_result","type":"string","value":"data.ocr_result","parentType":"object","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"3bb3cfd6-59bb-444c-9dbd-e64d7db7498c","label":"ocr_result_json","type":"array-object","value":"data.ocr_result_json","parentType":"object","fileType":""}],"id":"adf54480-d5b6-4a98-8eb0-b69f497be3b4","label":"data","type":"object","value":"data","fileType":""}],"label":"","value":""}],"label":"简历文本提取","parentNode":true,"value":"plugin::ae696e1d-9976-432c-a373-95c59a589932"},{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","children":[],"id":"20fd0c25-8829-4e57-91e1-55ade69af0a8","label":"resume_file","type":"string","value":"resume_file","fileType":"pdf"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},{"children":[{"references":[{"originId":"ifly-code::896223ec-c30c-4e07-b30a-3d0fbe988807","children":[],"id":"bcfe629b-f0b1-4465-85c2-8e5a798c13a2","label":"interview_params","type":"array-string","value":"interview_params","fileType":""}],"label":"","value":""}],"label":"提取面试场景信息","parentNode":true,"value":"ifly-code::896223ec-c30c-4e07-b30a-3d0fbe988807"},{"children":[{"references":[{"originId":"spark-llm::3d73ba9e-e921-452f-9998-1506c7e05bb9","id":"b1c6fc0b-bca4-4eb6-8bec-bd68c60f78b9","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"面试场景提取","parentNode":true,"value":"spark-llm::3d73ba9e-e921-452f-9998-1506c7e05bb9"}],"status":"","updatable":false},"dragging":false,"height":1280,"id":"spark-llm::fa0e6342-411b-4982-a811-0f4698ad33fb","position":{"x":9555.952213606604,"y":536.1399427884036},"positionAbsolute":{"x":9555.952213606604,"y":536.1399427884036},"selected":false,"type":"大模型","width":586},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"在工作流中可以对中间过程的产物进行输出","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/message-node-icon.png","inputs":[{"fileType":"","id":"b634ae7c-6791-4588-82bd-b5792b22d08f","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","nodeId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"},"contentErrMsg":"","type":"ref"}}}],"label":"消息_2","labelEdit":false,"nodeMeta":{"aliasName":"消息_2","nodeType":"基础节点"},"nodeParam":{"template":"简历分析中.....请耐心等待","streamOutput":true,"uid":"4493076350","apiKey":"d84b9d780b488cf919c5273686ee4e1a","templateErrMsg":"","appId":"12a0a7e2","startFrameEnabled":false,"apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw"},"outputs":[{"id":"7df6a9f7-f180-46eb-a48a-f7bb6e9332ca","name":"output_m","nameErrMsg":"","schema":{"type":"string"}}],"references":[{"children":[{"references":[{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"5fc3607d-5049-4fa6-be67-de9f4022467f","label":"sid","type":"string","value":"sid","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"c17afb4c-9f16-4034-a3f9-ef9248bf23f6","label":"code","type":"integer","value":"code","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"7704e657-7e65-41d5-9db0-cde8ff6b84b8","label":"message","type":"string","value":"message","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","children":[{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"4cfabd6d-b280-4c23-acfa-eed04ed75f08","label":"ocr_result","type":"string","value":"data.ocr_result","parentType":"object","fileType":""},{"originId":"plugin::ae696e1d-9976-432c-a373-95c59a589932","id":"3bb3cfd6-59bb-444c-9dbd-e64d7db7498c","label":"ocr_result_json","type":"array-object","value":"data.ocr_result_json","parentType":"object","fileType":""}],"id":"adf54480-d5b6-4a98-8eb0-b69f497be3b4","label":"data","type":"object","value":"data","fileType":""}],"label":"","value":""}],"label":"简历文本提取","parentNode":true,"value":"plugin::ae696e1d-9976-432c-a373-95c59a589932"},{"children":[{"references":[{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","id":"0918514b-72a8-4646-8dd9-ff4a8fc26d44","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","children":[],"id":"20fd0c25-8829-4e57-91e1-55ade69af0a8","label":"resume_file","type":"string","value":"resume_file","fileType":"pdf"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783"}],"status":"","updatable":false},"dragging":false,"height":398,"id":"message::e3420eb7-2316-4a8e-af5f-98b28b9d05a6","position":{"x":2952.79379901841,"y":441.70491911816964},"positionAbsolute":{"x":2952.79379901841,"y":441.70491911816964},"selected":false,"type":"消息","width":586},{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始","nodeType":"基础节点"},"nodeParam":{"apiKey":"d84b9d780b488cf919c5273686ee4e1a","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw"},"originPosition":{"x":25,"y":250},"outputs":[{"id":"84e04d09-cbd3-4807-b500-41713097e9e5","name":"input","nameErrMsg":"","schema":{"default":"","type":"object"}}],"parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":271,"id":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c","parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","position":{"x":30,"y":577.9228265341493},"positionAbsolute":{"x":25,"y":250},"selected":false,"type":"开始节点","width":657,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"fileType":"","id":"608862c2-1ab1-4264-82be-21f85cf7aa7b","name":"output","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"user_answer","id":"0251a96f-7cbc-4b4b-a3bd-d5fe2993aa91","nodeId":"node-variable::e6a3b797-6229-47bb-ab0e-80a6326f8850"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束","nodeType":"基础节点"},"nodeParam":{"template":"","apiKey":"d84b9d780b488cf919c5273686ee4e1a","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","outputMode":0},"originPosition":{"x":4825.749559747515,"y":485.84592738014044},"outputs":[],"parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","references":[{"children":[{"references":[{"originId":"node-variable::e6a3b797-6229-47bb-ab0e-80a6326f8850","id":"0251a96f-7cbc-4b4b-a3bd-d5fe2993aa91","label":"user_answer","type":"string","value":"user_answer","fileType":""}],"label":"","value":""}],"label":"变量存储器_4","parentNode":true,"value":"node-variable::e6a3b797-6229-47bb-ab0e-80a6326f8850"},{"children":[{"references":[{"originId":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531","children":[],"id":"41e8192c-fc05-41cd-b295-91278f225b5d","label":"length","type":"integer","value":"length","fileType":""}],"label":"","value":""}],"label":"代码_1","parentNode":true,"value":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531"},{"children":[{"references":[{"originId":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c","id":"84e04d09-cbd3-4807-b500-41713097e9e5","label":"input","type":"object","value":"input","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c"},{"children":[{"references":[{"originId":"question-answer::e0af0474-86e2-4484-9b0e-ca07f9ef0c69","id":"c259f482-53a8-4ae1-9497-948e483a581a","label":"query","type":"string","value":"query","fileType":""},{"originId":"question-answer::e0af0474-86e2-4484-9b0e-ca07f9ef0c69","id":"d3367f2d-07ca-408b-b220-2b3d99edcef1","label":"content","type":"string","value":"content","fileType":""}],"label":"","value":""}],"label":"问答节点_beta3","parentNode":true,"value":"question-answer::e0af0474-86e2-4484-9b0e-ca07f9ef0c69"},{"children":[{"references":[{"originId":"question-answer::4ac88af7-61f5-4c3e-87d5-287d0c9118da","id":"25e1b06d-57e7-4855-b7f0-3131d87c7907","label":"query","type":"string","value":"query","fileType":""},{"originId":"question-answer::4ac88af7-61f5-4c3e-87d5-287d0c9118da","id":"cd786b37-3509-4e13-8a33-f137d01848cb","label":"content","type":"string","value":"content","fileType":""}],"label":"","value":""}],"label":"问答节点_beta1","parentNode":true,"value":"question-answer::4ac88af7-61f5-4c3e-87d5-287d0c9118da"},{"children":[{"references":[{"originId":"question-answer::75ab1dd1-89de-44c0-9e20-2b98871f6004","id":"d45e7dc1-a6eb-44b9-b11f-4dae90d41a19","label":"query","type":"string","value":"query","fileType":""},{"originId":"question-answer::75ab1dd1-89de-44c0-9e20-2b98871f6004","id":"eba3da93-efa2-4755-b176-32b262d90957","label":"content","type":"string","value":"content","fileType":""}],"label":"","value":""}],"label":"问答节点_beta2","parentNode":true,"value":"question-answer::75ab1dd1-89de-44c0-9e20-2b98871f6004"}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":228,"id":"iteration-node-end::ad8f94e5-97b2-4b6b-a97d-b52426e9c168","parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","position":{"x":1230.1873899368788,"y":636.8843083791844},"positionAbsolute":{"x":4825.749559747515,"y":485.84592738014044},"selected":false,"type":"结束节点","width":407,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"fileType":"","id":"7f2a4320-4c18-4859-a006-6ee466ed4f2f","name":"question","nameErrMsg":"","schema":{"type":"object","value":{"content":{"name":"input","id":"84e04d09-cbd3-4807-b500-41713097e9e5","nodeId":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c"},"contentErrMsg":"","type":"ref"}}}],"label":"代码_1","labelEdit":false,"nodeMeta":{"aliasName":"代码_1","nodeType":"工具"},"nodeParam":{"uid":"4493076350","code":"# -*- coding: utf-8 -*-\\nimport json\\nimport re\\ndef main(question):\\n    length = len(question) - 2\\n    ret = {\\n        \\"length\\": length\\n    }\\n    return ret","apiKey":"d84b9d780b488cf919c5273686ee4e1a","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","codeErrMsg":""},"originPosition":{"x":756.1785888671875,"y":99.75},"outputs":[{"id":"41e8192c-fc05-41cd-b295-91278f225b5d","name":"length","nameErrMsg":"","schema":{"default":"","properties":[],"type":"integer"}}],"parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","references":[{"children":[{"references":[{"originId":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c","id":"84e04d09-cbd3-4807-b500-41713097e9e5","label":"input","type":"object","value":"input","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c"}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":796,"id":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531","parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","position":{"x":212.79464721679688,"y":540.3603265341493},"positionAbsolute":{"x":756.1785888671875,"y":99.75},"selected":false,"type":"代码","width":586,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"根据设立的条件，判断选择分支走向","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/if-else-node-icon.png","inputs":[{"fileType":"","id":"18f0128c-7ed3-4ad7-b137-468111cb2d03","name":"input","nameErrMsg":"","schema":{"type":"integer","value":{"content":{"name":"length","id":"41e8192c-fc05-41cd-b295-91278f225b5d","nodeId":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531"},"contentErrMsg":"","type":"ref"}}},{"id":"05b18c94-dd79-4b0e-bb6a-248216365370","name":"input1","nameErrMsg":"","schema":{"type":"string","value":{"content":"2","contentErrMsg":"","type":"literal"}}},{"fileType":"","id":"ab1bacec-6cc2-47df-8d4e-d181c596ab42","name":"input714d7dfe3d214fd5874b944a78f7a92d","nameErrMsg":"","schema":{"type":"integer","value":{"content":{"name":"length","id":"41e8192c-fc05-41cd-b295-91278f225b5d","nodeId":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531"},"contentErrMsg":"","type":"ref"}}},{"id":"303f5b3e-3c7d-4a27-ae50-06bd32e3308d","name":"input116806e00872471bb02bd55e7534aaf6","nameErrMsg":"","schema":{"type":"string","value":{"content":"3","contentErrMsg":"","type":"literal"}}},{"fileType":"","id":"11d93bf4-ae04-468a-80ca-33a98d8be3cf","name":"inputd1292889bed84ba192da6fa00b868898","nameErrMsg":"","schema":{"type":"integer","value":{"content":{"name":"length","id":"41e8192c-fc05-41cd-b295-91278f225b5d","nodeId":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531"},"contentErrMsg":"","type":"ref"}}},{"id":"8c1e1aa4-d1bb-4d9d-9cc3-73d6bef64e9e","name":"inputfef101c60c44455099b22e7c67de9336","nameErrMsg":"","schema":{"type":"string","value":{"content":"4","contentErrMsg":"","type":"literal"}}}],"label":"分支器_1","labelEdit":false,"nodeMeta":{"aliasName":"分支器_1","nodeType":"分支器"},"nodeParam":{"uid":"4493076350","cases":[{"level":1,"logicalOperator":"and","id":"branch_one_of::1ac0e178-d3f0-4d8b-bf0d-b1d92643b72d","conditions":[{"leftVarIndex":"18f0128c-7ed3-4ad7-b137-468111cb2d03","rightVarIndex":"05b18c94-dd79-4b0e-bb6a-248216365370","compareOperatorErrMsg":"","id":"","compareOperator":"is"}]},{"level":2,"logicalOperator":"and","id":"branch_one_of::40c82eb8-a179-4695-a809-12ef6a11d6f7","conditions":[{"leftVarIndex":"ab1bacec-6cc2-47df-8d4e-d181c596ab42","rightVarIndex":"303f5b3e-3c7d-4a27-ae50-06bd32e3308d","compareOperatorErrMsg":"","id":"b8dbb5ca-310a-467f-b201-9886b4f1c49f","compareOperator":"is"}]},{"level":3,"logicalOperator":"and","id":"branch_one_of::f3a18763-ae0a-43e6-90e0-69009621d224","conditions":[{"leftVarIndex":"11d93bf4-ae04-468a-80ca-33a98d8be3cf","rightVarIndex":"8c1e1aa4-d1bb-4d9d-9cc3-73d6bef64e9e","compareOperatorErrMsg":"","id":"750cdb50-4885-4d6a-86e8-f41d06aecd26","compareOperator":"is"}]},{"level":999,"logicalOperator":"and","id":"branch_one_of::faae74ea-ac36-435c-89ee-930297426551","conditions":[]}],"apiKey":"d84b9d780b488cf919c5273686ee4e1a","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw"},"originPosition":{"x":1526.607192993164,"y":42.75},"outputs":[],"parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","references":[{"children":[{"references":[{"originId":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531","children":[],"id":"41e8192c-fc05-41cd-b295-91278f225b5d","label":"length","type":"integer","value":"length","fileType":""}],"label":"","value":""}],"label":"代码_1","parentNode":true,"value":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531"},{"children":[{"references":[{"originId":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c","id":"84e04d09-cbd3-4807-b500-41713097e9e5","label":"input","type":"object","value":"input","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c"}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":652,"id":"if-else::e3a77f0b-91a2-4c5b-9e8f-c0aab4a30bef","parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","position":{"x":405.401798248291,"y":526.1103265341493},"selected":false,"type":"分支器","width":683,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"支持在此节点向用户提问，接收用户回复，并输出回复内容及提取的信息","icon":"https://oss-beijing-m8.openstorage.cn/SparkBot/test4/answer-new2.png","inputs":[{"fileType":"","id":"23582fc5-fea4-476c-b215-00895462bdde","name":"input","nameErrMsg":"","schema":{"type":"object","value":{"content":{"name":"input","id":"84e04d09-cbd3-4807-b500-41713097e9e5","nodeId":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c"},"contentErrMsg":"","type":"ref"}}}],"label":"问答节点_beta2","labelEdit":false,"nodeMeta":{"aliasName":"问答节点_beta2","nodeType":"基础节点"},"nodeParam":{"topK":4,"question":"问题：{{input.content}}\\n考核点:{{input.evaluation_focus}}\\n建议回答时长：{{input.estimated_time}}","apiKey":"d84b9d780b488cf919c5273686ee4e1a","modelId":141,"answerType":"direct","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","llmId":141,"timeout":3,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"uid":"4493076350","patchId":"0","isThink":false,"domain":"xdeepseekv3","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","directAnswer":{"handleResponse":false,"maxRetryCounts":2},"serviceId":"xdeepseekv3","llmIdErrMsg":"","needReply":false,"optionAnswer":[{"content_type":"string","name":"A","id":"option-one-of::5209a962-7cc7-4245-8314-a40c05cd155d","type":2,"content":""},{"content_type":"string","name":"B","id":"option-one-of::4bb68348-6179-4c73-8c69-786508439401","type":2,"content":""},{"content_type":"string","name":"default","id":"option-one-of::7caa49a3-ef2a-4037-bd0e-69db1daffbc4","type":1,"content":""}],"questionErrMsg":""},"originPosition":{"x":2274.9551199696693,"y":-741.6913061365971},"outputs":[{"id":"d45e7dc1-a6eb-44b9-b11f-4dae90d41a19","name":"query","nameErrMsg":"","required":true,"schema":{"default":"","description":"该节点提问内容","type":"string"}},{"id":"eba3da93-efa2-4755-b176-32b262d90957","name":"content","nameErrMsg":"","required":true,"schema":{"default":"","description":"用户回复内容","type":"string"}}],"parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","references":[{"children":[{"references":[{"originId":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531","children":[],"id":"41e8192c-fc05-41cd-b295-91278f225b5d","label":"length","type":"integer","value":"length","fileType":""}],"label":"","value":""}],"label":"代码_1","parentNode":true,"value":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531"},{"children":[{"references":[{"originId":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c","id":"84e04d09-cbd3-4807-b500-41713097e9e5","label":"input","type":"object","value":"input","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c"}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":659,"id":"question-answer::75ab1dd1-89de-44c0-9e20-2b98871f6004","parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","position":{"x":592.4887799924173,"y":330},"positionAbsolute":{"x":2274.9551199696693,"y":-741.6913061365971},"selected":false,"type":"问答节点","width":651,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"fileType":"","id":"5859b9cc-8668-464e-9bea-20ac0fc6a59a","name":"user_answer","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"content","id":"eba3da93-efa2-4755-b176-32b262d90957","nodeId":"question-answer::75ab1dd1-89de-44c0-9e20-2b98871f6004"},"contentErrMsg":"","type":"ref"}}}],"label":"变量存储器_1","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器_1","nodeType":"基础节点"},"nodeParam":{"uid":"4493076350","method":"set","apiKey":"d84b9d780b488cf919c5273686ee4e1a","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","flowId":"7358380736721018880"},"originPosition":{"x":3058.5927202041403,"y":-499.17665549493336},"outputs":[],"parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","references":[{"children":[{"references":[{"originId":"question-answer::75ab1dd1-89de-44c0-9e20-2b98871f6004","id":"d45e7dc1-a6eb-44b9-b11f-4dae90d41a19","label":"query","type":"string","value":"query","fileType":""},{"originId":"question-answer::75ab1dd1-89de-44c0-9e20-2b98871f6004","id":"eba3da93-efa2-4755-b176-32b262d90957","label":"content","type":"string","value":"content","fileType":""}],"label":"","value":""}],"label":"问答节点_beta2","parentNode":true,"value":"question-answer::75ab1dd1-89de-44c0-9e20-2b98871f6004"},{"children":[{"references":[{"originId":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531","children":[],"id":"41e8192c-fc05-41cd-b295-91278f225b5d","label":"length","type":"integer","value":"length","fileType":""}],"label":"","value":""}],"label":"代码_1","parentNode":true,"value":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531"},{"children":[{"references":[{"originId":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c","id":"84e04d09-cbd3-4807-b500-41713097e9e5","label":"input","type":"object","value":"input","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c"}],"status":"","updatable":false},"draggable":false,"extent":"parent","height":250,"id":"node-variable::0eaa465b-d525-4362-b53a-0c3d1a3baaf0","parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","position":{"x":788.3981800510351,"y":390.6286626604159},"selected":false,"type":"变量存储器","width":586,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"支持在此节点向用户提问，接收用户回复，并输出回复内容及提取的信息","icon":"https://oss-beijing-m8.openstorage.cn/SparkBot/test4/answer-new2.png","inputs":[{"fileType":"","id":"9dd7d05e-140b-4789-9571-0e7770f8feb9","name":"input","nameErrMsg":"","schema":{"type":"object","value":{"content":{"name":"input","id":"84e04d09-cbd3-4807-b500-41713097e9e5","nodeId":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c"},"contentErrMsg":"","type":"ref"}}}],"label":"问答节点_beta1","labelEdit":false,"nodeMeta":{"aliasName":"问答节点_beta1","nodeType":"基础节点"},"nodeParam":{"topK":4,"question":"问题：{{input.content}}\\n考核点:{{input.evaluation_focus}}\\n建议回答时长：{{input.estimated_time}}","apiKey":"d84b9d780b488cf919c5273686ee4e1a","modelId":141,"answerType":"direct","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","llmId":141,"timeout":3,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"uid":"4493076350","patchId":"0","isThink":false,"domain":"xdeepseekv3","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","directAnswer":{"handleResponse":false,"maxRetryCounts":2},"serviceId":"xdeepseekv3","llmIdErrMsg":"","needReply":false,"optionAnswer":[{"content_type":"string","name":"A","id":"option-one-of::b5d338e4-8642-42cc-a4b5-e8482d096b15","type":2,"content":""},{"content_type":"string","name":"B","id":"option-one-of::e92e404b-a0fd-4b43-8515-e797144b1566","type":2,"content":""},{"content_type":"string","name":"default","id":"option-one-of::3a0c5477-abd1-407a-a42e-41cbe2e5cd95","type":1,"content":""}],"questionErrMsg":""},"originPosition":{"x":2269.5513200779205,"y":16.176508545636665},"outputs":[{"id":"25e1b06d-57e7-4855-b7f0-3131d87c7907","name":"query","nameErrMsg":"","required":true,"schema":{"default":"","description":"该节点提问内容","type":"string"}},{"id":"cd786b37-3509-4e13-8a33-f137d01848cb","name":"content","nameErrMsg":"","required":true,"schema":{"default":"","description":"用户回复内容","type":"string"}}],"parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","references":[{"children":[{"references":[{"originId":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531","children":[],"id":"41e8192c-fc05-41cd-b295-91278f225b5d","label":"length","type":"integer","value":"length","fileType":""}],"label":"","value":""}],"label":"代码_1","parentNode":true,"value":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531"},{"children":[{"references":[{"originId":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c","id":"84e04d09-cbd3-4807-b500-41713097e9e5","label":"input","type":"object","value":"input","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c"}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":659,"id":"question-answer::4ac88af7-61f5-4c3e-87d5-287d0c9118da","parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","position":{"x":591.1378300194801,"y":519.4669536705585},"positionAbsolute":{"x":2269.5513200779205,"y":16.176508545636665},"selected":false,"type":"问答节点","width":651,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"fileType":"","id":"5e002d8e-b6ec-425e-bf0f-c123e4296491","name":"user_answer","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"content","id":"cd786b37-3509-4e13-8a33-f137d01848cb","nodeId":"question-answer::4ac88af7-61f5-4c3e-87d5-287d0c9118da"},"contentErrMsg":"","type":"ref"}}}],"label":"变量存储器_2","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器_2","nodeType":"基础节点"},"nodeParam":{"uid":"4493076350","method":"set","apiKey":"d84b9d780b488cf919c5273686ee4e1a","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","flowId":"7358380736721018880"},"originPosition":{"x":3039.9264003554254,"y":220.79824502454045},"outputs":[],"parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","references":[{"children":[{"references":[{"originId":"question-answer::4ac88af7-61f5-4c3e-87d5-287d0c9118da","id":"25e1b06d-57e7-4855-b7f0-3131d87c7907","label":"query","type":"string","value":"query","fileType":""},{"originId":"question-answer::4ac88af7-61f5-4c3e-87d5-287d0c9118da","id":"cd786b37-3509-4e13-8a33-f137d01848cb","label":"content","type":"string","value":"content","fileType":""}],"label":"","value":""}],"label":"问答节点_beta1","parentNode":true,"value":"question-answer::4ac88af7-61f5-4c3e-87d5-287d0c9118da"},{"children":[{"references":[{"originId":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531","children":[],"id":"41e8192c-fc05-41cd-b295-91278f225b5d","label":"length","type":"integer","value":"length","fileType":""}],"label":"","value":""}],"label":"代码_1","parentNode":true,"value":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531"},{"children":[{"references":[{"originId":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c","id":"84e04d09-cbd3-4807-b500-41713097e9e5","label":"input","type":"object","value":"input","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c"}],"status":"","updatable":false},"draggable":false,"extent":"parent","height":250,"id":"node-variable::22f81cdb-d0e7-4506-bf6b-58a388312997","parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","position":{"x":783.7316000888563,"y":570.6223877902844},"selected":false,"type":"变量存储器","width":586,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"支持在此节点向用户提问，接收用户回复，并输出回复内容及提取的信息","icon":"https://oss-beijing-m8.openstorage.cn/SparkBot/test4/answer-new2.png","inputs":[{"fileType":"","id":"991ed707-72da-414a-ae5f-440d329cb01c","name":"input","nameErrMsg":"","schema":{"type":"object","value":{"content":{"name":"input","id":"84e04d09-cbd3-4807-b500-41713097e9e5","nodeId":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c"},"contentErrMsg":"","type":"ref"}}}],"label":"问答节点_beta3","labelEdit":false,"nodeMeta":{"aliasName":"问答节点_beta3","nodeType":"基础节点"},"nodeParam":{"topK":4,"question":"问题：{{input.content}}\\n考核点:{{input.evaluation_focus}}\\n建议回答时长：{{input.estimated_time}}","apiKey":"d84b9d780b488cf919c5273686ee4e1a","modelId":141,"answerType":"direct","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","llmId":141,"timeout":3,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"uid":"4493076350","patchId":"0","isThink":false,"domain":"xdeepseekv3","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","directAnswer":{"handleResponse":false,"maxRetryCounts":2},"serviceId":"xdeepseekv3","llmIdErrMsg":"","needReply":false,"optionAnswer":[{"content_type":"string","name":"A","id":"option-one-of::51b3c769-985d-41b3-a080-1e3e200708c1","type":2,"content":""},{"content_type":"string","name":"B","id":"option-one-of::ea6215a8-29fc-440d-ad00-4efde5d96e4e","type":2,"content":""},{"content_type":"string","name":"default","id":"option-one-of::4adf9c67-5a21-4879-8bf8-4887f83d6467","type":1,"content":""}],"questionErrMsg":""},"originPosition":{"x":2297.6178040890304,"y":747.3474948436111},"outputs":[{"id":"c259f482-53a8-4ae1-9497-948e483a581a","name":"query","nameErrMsg":"","required":true,"schema":{"default":"","description":"该节点提问内容","type":"string"}},{"id":"d3367f2d-07ca-408b-b220-2b3d99edcef1","name":"content","nameErrMsg":"","required":true,"schema":{"default":"","description":"用户回复内容","type":"string"}}],"parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","references":[{"children":[{"references":[{"originId":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531","children":[],"id":"41e8192c-fc05-41cd-b295-91278f225b5d","label":"length","type":"integer","value":"length","fileType":""}],"label":"","value":""}],"label":"代码_1","parentNode":true,"value":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531"},{"children":[{"references":[{"originId":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c","id":"84e04d09-cbd3-4807-b500-41713097e9e5","label":"input","type":"object","value":"input","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c"}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":699,"id":"question-answer::e0af0474-86e2-4484-9b0e-ca07f9ef0c69","parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","position":{"x":598.1544510222576,"y":702.259700245052},"positionAbsolute":{"x":2297.6178040890304,"y":747.3474948436111},"selected":false,"type":"问答节点","width":651,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"fileType":"","id":"1df2a540-8364-4031-bfee-763cd7b4692b","name":"user_answer","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"content","id":"d3367f2d-07ca-408b-b220-2b3d99edcef1","nodeId":"question-answer::e0af0474-86e2-4484-9b0e-ca07f9ef0c69"},"contentErrMsg":"","type":"ref"}}}],"label":"变量存储器_3","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器_3","nodeType":"基础节点"},"nodeParam":{"uid":"4493076350","method":"set","apiKey":"d84b9d780b488cf919c5273686ee4e1a","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","flowId":"7358380736721018880"},"originPosition":{"x":3038.7288483765515,"y":825.238677460993},"outputs":[],"parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","references":[{"children":[{"references":[{"originId":"question-answer::e0af0474-86e2-4484-9b0e-ca07f9ef0c69","id":"c259f482-53a8-4ae1-9497-948e483a581a","label":"query","type":"string","value":"query","fileType":""},{"originId":"question-answer::e0af0474-86e2-4484-9b0e-ca07f9ef0c69","id":"d3367f2d-07ca-408b-b220-2b3d99edcef1","label":"content","type":"string","value":"content","fileType":""}],"label":"","value":""}],"label":"问答节点_beta3","parentNode":true,"value":"question-answer::e0af0474-86e2-4484-9b0e-ca07f9ef0c69"},{"children":[{"references":[{"originId":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531","children":[],"id":"41e8192c-fc05-41cd-b295-91278f225b5d","label":"length","type":"integer","value":"length","fileType":""}],"label":"","value":""}],"label":"代码_1","parentNode":true,"value":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531"},{"children":[{"references":[{"originId":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c","id":"84e04d09-cbd3-4807-b500-41713097e9e5","label":"input","type":"object","value":"input","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c"}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":250,"id":"node-variable::799a7fd8-bf8b-4009-b7cf-2085c07c0b1e","parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","position":{"x":783.4322120941379,"y":721.7324958993975},"positionAbsolute":{"x":3038.7288483765515,"y":825.238677460993},"selected":false,"type":"变量存储器","width":586,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[],"label":"变量存储器_4","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器_4","nodeType":"基础节点"},"nodeParam":{"uid":"4493076350","method":"get","apiKey":"d84b9d780b488cf919c5273686ee4e1a","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","flowId":"7358380736721018880"},"originPosition":{"x":4048.1646129339524,"y":347.7299760427516},"outputs":[{"id":"0251a96f-7cbc-4b4b-a3bd-d5fe2993aa91","name":"user_answer","nameErrMsg":"","refId":"5859b9cc-8668-464e-9bea-20ac0fc6a59a","required":true,"schema":{"description":"","type":"string"}}],"parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","references":[{"children":[{"references":[{"originId":"question-answer::75ab1dd1-89de-44c0-9e20-2b98871f6004","id":"d45e7dc1-a6eb-44b9-b11f-4dae90d41a19","label":"query","type":"string","value":"query","fileType":""},{"originId":"question-answer::75ab1dd1-89de-44c0-9e20-2b98871f6004","id":"eba3da93-efa2-4755-b176-32b262d90957","label":"content","type":"string","value":"content","fileType":""}],"label":"","value":""}],"label":"问答节点_beta2","parentNode":true,"value":"question-answer::75ab1dd1-89de-44c0-9e20-2b98871f6004"},{"children":[{"references":[{"originId":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531","children":[],"id":"41e8192c-fc05-41cd-b295-91278f225b5d","label":"length","type":"integer","value":"length","fileType":""}],"label":"","value":""}],"label":"代码_1","parentNode":true,"value":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531"},{"children":[{"references":[{"originId":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c","id":"84e04d09-cbd3-4807-b500-41713097e9e5","label":"input","type":"object","value":"input","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c"},{"children":[{"references":[{"originId":"question-answer::4ac88af7-61f5-4c3e-87d5-287d0c9118da","id":"25e1b06d-57e7-4855-b7f0-3131d87c7907","label":"query","type":"string","value":"query","fileType":""},{"originId":"question-answer::4ac88af7-61f5-4c3e-87d5-287d0c9118da","id":"cd786b37-3509-4e13-8a33-f137d01848cb","label":"content","type":"string","value":"content","fileType":""}],"label":"","value":""}],"label":"问答节点_beta1","parentNode":true,"value":"question-answer::4ac88af7-61f5-4c3e-87d5-287d0c9118da"},{"children":[{"references":[{"originId":"question-answer::e0af0474-86e2-4484-9b0e-ca07f9ef0c69","id":"c259f482-53a8-4ae1-9497-948e483a581a","label":"query","type":"string","value":"query","fileType":""},{"originId":"question-answer::e0af0474-86e2-4484-9b0e-ca07f9ef0c69","id":"d3367f2d-07ca-408b-b220-2b3d99edcef1","label":"content","type":"string","value":"content","fileType":""}],"label":"","value":""}],"label":"问答节点_beta3","parentNode":true,"value":"question-answer::e0af0474-86e2-4484-9b0e-ca07f9ef0c69"}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":245,"id":"node-variable::e6a3b797-6229-47bb-ab0e-80a6326f8850","parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","position":{"x":1035.791153233488,"y":602.3553205448372},"positionAbsolute":{"x":4048.1646129339524,"y":347.7299760427516},"selected":false,"type":"变量存储器","width":586,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"id":"f19607ab-79d2-4862-903f-723fd1ef3e33","name":"user_answer","nameErrMsg":"","schema":{"type":"string","value":{"content":"题目有误！","contentErrMsg":"","type":"literal"}}}],"label":"变量存储器_5","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器_5","nodeType":"基础节点"},"nodeParam":{"uid":"4493076350","method":"set","apiKey":"d84b9d780b488cf919c5273686ee4e1a","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","flowId":"7358380736721018880"},"originPosition":{"x":2230.460638423927,"y":1468.6701373063897},"outputs":[],"parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","references":[{"children":[{"references":[{"originId":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531","children":[],"id":"41e8192c-fc05-41cd-b295-91278f225b5d","label":"length","type":"integer","value":"length","fileType":""}],"label":"","value":""}],"label":"代码_1","parentNode":true,"value":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531"},{"children":[{"references":[{"originId":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c","id":"84e04d09-cbd3-4807-b500-41713097e9e5","label":"input","type":"object","value":"input","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c"}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":43,"id":"node-variable::86191552-2fed-4d15-a36c-1a7d1b527dde","parentId":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","position":{"x":581.3651596059817,"y":882.5903608607467},"positionAbsolute":{"x":2230.460638423927,"y":1468.6701373063897},"selected":false,"type":"变量存储器","width":133,"zIndex":1}],"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::896223ec-c30c-4e07-b30a-3d0fbe988807-spark-llm::e10e9c9e-83f3-432b-9b3c-0b17fd58cbf8","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"ifly-code::896223ec-c30c-4e07-b30a-3d0fbe988807","target":"spark-llm::e10e9c9e-83f3-432b-9b3c-0b17fd58cbf8","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f-spark-llm::e10e9c9e-83f3-432b-9b3c-0b17fd58cbf8","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","target":"spark-llm::e10e9c9e-83f3-432b-9b3c-0b17fd58cbf8","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::927ca100-c2cf-4794-8f2b-7fba478484e5-ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::927ca100-c2cf-4794-8f2b-7fba478484e5","target":"ifly-code::e979a2e1-b900-4cfd-b329-6d7654f27d4f","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::bb7c8700-8015-4a4f-9868-0ffdc798532dbranch_one_of::d5b8169f-488b-459f-8907-36a2cb3ffef5-plugin::ae696e1d-9976-432c-a373-95c59a589932","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"if-else::bb7c8700-8015-4a4f-9868-0ffdc798532d","sourceHandle":"branch_one_of::d5b8169f-488b-459f-8907-36a2cb3ffef5","target":"plugin::ae696e1d-9976-432c-a373-95c59a589932","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::bb7c8700-8015-4a4f-9868-0ffdc798532dbranch_one_of::ac729c65-b594-4b1c-b0fc-f22a863b8d73-spark-llm::3d73ba9e-e921-452f-9998-1506c7e05bb9","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"if-else::bb7c8700-8015-4a4f-9868-0ffdc798532d","sourceHandle":"branch_one_of::ac729c65-b594-4b1c-b0fc-f22a863b8d73","target":"spark-llm::3d73ba9e-e921-452f-9998-1506c7e05bb9","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::3d73ba9e-e921-452f-9998-1506c7e05bb9-ifly-code::896223ec-c30c-4e07-b30a-3d0fbe988807","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::3d73ba9e-e921-452f-9998-1506c7e05bb9","target":"ifly-code::896223ec-c30c-4e07-b30a-3d0fbe988807","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::bb7c8700-8015-4a4f-9868-0ffdc798532dbranch_one_of::d5b8169f-488b-459f-8907-36a2cb3ffef5-spark-llm::3d73ba9e-e921-452f-9998-1506c7e05bb9","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"if-else::bb7c8700-8015-4a4f-9868-0ffdc798532d","sourceHandle":"branch_one_of::d5b8169f-488b-459f-8907-36a2cb3ffef5","target":"spark-llm::3d73ba9e-e921-452f-9998-1506c7e05bb9","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::e10e9c9e-83f3-432b-9b3c-0b17fd58cbf8-ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::e10e9c9e-83f3-432b-9b3c-0b17fd58cbf8","target":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b-spark-llm::fa0e6342-411b-4982-a811-0f4698ad33fb","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","target":"spark-llm::fa0e6342-411b-4982-a811-0f4698ad33fb","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::fa0e6342-411b-4982-a811-0f4698ad33fb-node-end::cda617af-551e-462e-b3b8-3bb9a041bf88node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::fa0e6342-411b-4982-a811-0f4698ad33fb","target":"node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","targetHandle":"node-end::cda617af-551e-462e-b3b8-3bb9a041bf88","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::ae696e1d-9976-432c-a373-95c59a589932-message::e3420eb7-2316-4a8e-af5f-98b28b9d05a6","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"plugin::ae696e1d-9976-432c-a373-95c59a589932","target":"message::e3420eb7-2316-4a8e-af5f-98b28b9d05a6","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-message::e3420eb7-2316-4a8e-af5f-98b28b9d05a6-spark-llm::927ca100-c2cf-4794-8f2b-7fba478484e5","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"message::e3420eb7-2316-4a8e-af5f-98b28b9d05a6","target":"spark-llm::927ca100-c2cf-4794-8f2b-7fba478484e5","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69-iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"ifly-code::1f08134a-be4e-46b7-827d-7a2ef0fa1e69","target":"iteration::652fb7e8-42da-494d-b5df-8c7f8de8d55b","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783-if-else::bb7c8700-8015-4a4f-9868-0ffdc798532d","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-start::d61b0f71-87ee-475e-93ba-f1607f0ce783","target":"if-else::bb7c8700-8015-4a4f-9868-0ffdc798532d","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c-ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"iteration-node-start::20c83ed1-5000-4ccf-98fb-18bd33ce7c3c","target":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531-if-else::e3a77f0b-91a2-4c5b-9e8f-c0aab4a30bef","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"ifly-code::6168730f-4519-4ef2-b399-0fac8d7e0531","target":"if-else::e3a77f0b-91a2-4c5b-9e8f-c0aab4a30bef","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::e3a77f0b-91a2-4c5b-9e8f-c0aab4a30befbranch_one_of::1ac0e178-d3f0-4d8b-bf0d-b1d92643b72d-question-answer::75ab1dd1-89de-44c0-9e20-2b98871f6004","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"if-else::e3a77f0b-91a2-4c5b-9e8f-c0aab4a30bef","sourceHandle":"branch_one_of::1ac0e178-d3f0-4d8b-bf0d-b1d92643b72d","target":"question-answer::75ab1dd1-89de-44c0-9e20-2b98871f6004","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-question-answer::75ab1dd1-89de-44c0-9e20-2b98871f6004-node-variable::0eaa465b-d525-4362-b53a-0c3d1a3baaf0","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"question-answer::75ab1dd1-89de-44c0-9e20-2b98871f6004","target":"node-variable::0eaa465b-d525-4362-b53a-0c3d1a3baaf0","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::e3a77f0b-91a2-4c5b-9e8f-c0aab4a30befbranch_one_of::40c82eb8-a179-4695-a809-12ef6a11d6f7-question-answer::4ac88af7-61f5-4c3e-87d5-287d0c9118da","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"if-else::e3a77f0b-91a2-4c5b-9e8f-c0aab4a30bef","sourceHandle":"branch_one_of::40c82eb8-a179-4695-a809-12ef6a11d6f7","target":"question-answer::4ac88af7-61f5-4c3e-87d5-287d0c9118da","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-question-answer::4ac88af7-61f5-4c3e-87d5-287d0c9118da-node-variable::22f81cdb-d0e7-4506-bf6b-58a388312997","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"question-answer::4ac88af7-61f5-4c3e-87d5-287d0c9118da","target":"node-variable::22f81cdb-d0e7-4506-bf6b-58a388312997","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::e3a77f0b-91a2-4c5b-9e8f-c0aab4a30befbranch_one_of::f3a18763-ae0a-43e6-90e0-69009621d224-question-answer::e0af0474-86e2-4484-9b0e-ca07f9ef0c69","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"if-else::e3a77f0b-91a2-4c5b-9e8f-c0aab4a30bef","sourceHandle":"branch_one_of::f3a18763-ae0a-43e6-90e0-69009621d224","target":"question-answer::e0af0474-86e2-4484-9b0e-ca07f9ef0c69","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-question-answer::e0af0474-86e2-4484-9b0e-ca07f9ef0c69-node-variable::799a7fd8-bf8b-4009-b7cf-2085c07c0b1e","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"question-answer::e0af0474-86e2-4484-9b0e-ca07f9ef0c69","target":"node-variable::799a7fd8-bf8b-4009-b7cf-2085c07c0b1e","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::0eaa465b-d525-4362-b53a-0c3d1a3baaf0-node-variable::e6a3b797-6229-47bb-ab0e-80a6326f8850","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-variable::0eaa465b-d525-4362-b53a-0c3d1a3baaf0","target":"node-variable::e6a3b797-6229-47bb-ab0e-80a6326f8850","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::22f81cdb-d0e7-4506-bf6b-58a388312997-node-variable::e6a3b797-6229-47bb-ab0e-80a6326f8850","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-variable::22f81cdb-d0e7-4506-bf6b-58a388312997","target":"node-variable::e6a3b797-6229-47bb-ab0e-80a6326f8850","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::799a7fd8-bf8b-4009-b7cf-2085c07c0b1e-node-variable::e6a3b797-6229-47bb-ab0e-80a6326f8850","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-variable::799a7fd8-bf8b-4009-b7cf-2085c07c0b1e","target":"node-variable::e6a3b797-6229-47bb-ab0e-80a6326f8850","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::e3a77f0b-91a2-4c5b-9e8f-c0aab4a30befbranch_one_of::faae74ea-ac36-435c-89ee-930297426551-node-variable::86191552-2fed-4d15-a36c-1a7d1b527dde","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"if-else::e3a77f0b-91a2-4c5b-9e8f-c0aab4a30bef","sourceHandle":"branch_one_of::faae74ea-ac36-435c-89ee-930297426551","target":"node-variable::86191552-2fed-4d15-a36c-1a7d1b527dde","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::86191552-2fed-4d15-a36c-1a7d1b527dde-node-variable::799a7fd8-bf8b-4009-b7cf-2085c07c0b1e","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-variable::86191552-2fed-4d15-a36c-1a7d1b527dde","target":"node-variable::799a7fd8-bf8b-4009-b7cf-2085c07c0b1e","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::e6a3b797-6229-47bb-ab0e-80a6326f8850-iteration-node-end::ad8f94e5-97b2-4b6b-a97d-b52426e9c168iteration-node-end::ad8f94e5-97b2-4b6b-a97d-b52426e9c168","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-variable::e6a3b797-6229-47bb-ab0e-80a6326f8850","target":"iteration-node-end::ad8f94e5-97b2-4b6b-a97d-b52426e9c168","targetHandle":"iteration-node-end::ad8f94e5-97b2-4b6b-a97d-b52426e9c168","type":"customEdge","zIndex":1}]}', 'https://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_10@2x.png', '#FFEAD5', 0, 1, 0, 0, NULL, 0, NULL, 2, NULL, 1, NULL, '{"prologue":{"enabled":true,"inputExample":["我是一名应届毕业生，请为我模拟一场互联网公司的算法工程师岗位的快速面试","我是一名5年工作经验的Web前端工程师，请为我模拟一场深度面试","模拟2-3年工作经验的市场研究员终面，20分钟左右"],"prologueText":"hi，我是你的AI模拟面试教练​​！\\n👉输入面试相关信息，如目标岗位、公司、行业、轮次、经验、面试时长等，我将带你完整地体验面试。\\n📌上传你的简历PDF，效果更好哦！（可选）"},"needGuide":false,"suggestedQuestionsAfterAnswer":{"enabled":true},"speechToText":{"enabled":true},"textToSpeech":{"enabled":true,"vcn":"x4_lingxiaoqi_en"},"chatBackground":{"enabled":true,"info":{"name":"AI 模拟面试官.png","type":"png","total":"800.96 KB","url":"https://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/user/sparkBot_1753433011222_AI%E6%A8%A1%E6%8B%9F%E9%9D%A2%E8%AF%95%E5%AE%98.png"}},"feedback":{"enabled":true}}', NULL, 10, NULL);
INSERT INTO workflow (id, uid, app_id, flow_id, name, description, deleted, is_public, create_time, update_time, published_data, `data`, avatar_icon, avatar_color, status, can_publish, app_updatable, top, edge_type, `order`, eval_set_id, source, bak, editing, eval_page_first_time, advanced_config, ext, category, space_id) VALUES(142283, 4403454, '12a0a7e2', '7342727615581208576', '全学科练习助手', '这是一个类型最全的AI练习助手，输入你想要练习的知识点、学科、专业等类型和题目数量，帮你自动匹配生成试题，或者直接输出选择题题目文本，可直接进行作答练习和查看最终结果。', 0, 0, '2025-06-23 09:38:04', '2025-07-23 09:59:08', NULL, '{"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始节点","nodeType":"基础节点"},"nodeParam":{},"outputs":[{"deleteDisabled":true,"id":"5f3650b4-a967-4cf0-b8e7-4946341de1a3","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}}],"status":"","updatable":false},"dragging":false,"height":296,"id":"node-start::0193b1d9-fbf5-4305-b1d9-8e2fe82defe0","position":{"x":-755.4882665445671,"y":260.26550654133933},"positionAbsolute":{"x":-755.4882665445671,"y":260.26550654133933},"selected":false,"type":"开始节点","width":658},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"fileType":"","id":"afe69699-3242-4265-a9ee-d6f5a0a9c481","name":"output","nameErrMsg":"","schema":{"type":"array-string","value":{"content":{"id":"34ae0004-8d50-4490-8a74-da7a513a0716","nodeId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","name":"output"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"75e5b2bf-562e-4620-8fb1-f6a277750e4e","name":"score","nameErrMsg":"","schema":{"type":"integer","value":{"content":{"id":"5890be03-c3b7-4ae4-a151-d83dafd97d89","nodeId":"ifly-code::78430340-46d0-402c-a3a1-5146517b5eaa","name":"score"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束节点","nodeType":"基础节点"},"nodeParam":{"template":"您总共答对{{score}} 题，你作答的答案是：\\n{{output}}","streamOutput":false,"templateErrMsg":"","outputMode":1},"outputs":[],"references":[{"label":"代码_2","value":"ifly-code::78430340-46d0-402c-a3a1-5146517b5eaa","children":[{"label":"","value":"","references":[{"id":"5890be03-c3b7-4ae4-a151-d83dafd97d89","originId":"ifly-code::78430340-46d0-402c-a3a1-5146517b5eaa","label":"score","value":"score","type":"integer","fileType":"","children":[]}]}],"parentNode":true},{"label":"迭代_1","value":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","children":[{"label":"","value":"","references":[{"id":"34ae0004-8d50-4490-8a74-da7a513a0716","originId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","label":"output","value":"output","type":"array-string","fileType":""}]}],"parentNode":true},{"label":"代码_1","value":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","children":[{"label":"","value":"","references":[{"id":"8a99b31f-233f-4904-b193-b1b1fe69a686","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","label":"question","value":"question","type":"array-object","fileType":"","children":[{"id":"18625a33-8e59-4704-bb5a-f5e2b17d3973","label":"question","value":"question.question","type":"string","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","parentType":"array-object","fileType":""},{"id":"4b8f857f-434f-44da-aaf5-06c0d206c63a","label":"answer","value":"question.answer","type":"string","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","parentType":"array-object","fileType":""},{"id":"3d9763f3-2baf-49d3-87dd-4beedd6f8306","label":"A","value":"question.A","type":"string","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","parentType":"array-object","fileType":""},{"id":"71ccf4f3-8d95-4ee6-a3e7-e078f3c15ddc","label":"B","value":"question.B","type":"string","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","parentType":"array-object","fileType":""},{"id":"9d59063d-7359-46fb-a638-0d399af665f0","label":"C","value":"question.C","type":"string","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","parentType":"array-object","fileType":""},{"id":"173d394f-957a-44e6-86dc-9ed1df00f72c","label":"D","value":"question.D","type":"string","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","parentType":"array-object","fileType":""}]}]}],"parentNode":true},{"label":"大模型_1","value":"spark-llm::fe0eab02-f40d-44e4-a43a-1be2813c07a0","children":[{"label":"","value":"","references":[{"id":"91c8cbc9-61ed-41bd-b82a-97ce80cf6f6c","originId":"spark-llm::fe0eab02-f40d-44e4-a43a-1be2813c07a0","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::0193b1d9-fbf5-4305-b1d9-8e2fe82defe0","children":[{"label":"","value":"","references":[{"id":"5f3650b4-a967-4cf0-b8e7-4946341de1a3","originId":"node-start::0193b1d9-fbf5-4305-b1d9-8e2fe82defe0","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":665,"id":"node-end::4a191fd0-23d3-423c-9325-994e75e3b143","position":{"x":4964.745878106895,"y":334.21949765814657},"positionAbsolute":{"x":4964.745878106895,"y":334.21949765814657},"selected":true,"type":"结束节点","width":408},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"b53e4ca5-494e-4c1e-be95-65cea9a65b5f","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"5f3650b4-a967-4cf0-b8e7-4946341de1a3","nodeId":"node-start::0193b1d9-fbf5-4305-b1d9-8e2fe82defe0","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}}],"label":"大模型_1","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"用户输入的内容是：{{input}} ，首先判断用户输入的内容是选择题题目详细信息还是一个主题或者一个题目分类，根据类别生成不同的内容。\\n\\n#如果用户输入的详细完整的题目信息，要按照给定的示例格式输出，不要有多余的例如``````json、`````` 这类格式标签，不需要解释和说明。题目选项的个数按照实际的题目中的选项数量来解析，例如原题中没有D项，则不需要给出。\\n\\n#如果不是具体的完整题目信息，请围绕用户输入的主题，生成选择题。要求如下：\\n1. 如果用户输入的主题中有题数限制，则生成用户要求的数量，如果没有明确说明，默认生成5道。\\n2. 5题的难度依次升高，但是不能超出用户要求的主题范围；\\n3. 要和用户的主题紧密相关，并且选择题能够反映出主题；\\n4. 每个选择题有四个选项，正确答案只有1个，要给出正确答案；\\n5. 题目、选项不能有重复；\\n6. 要按照给定的示例格式输出，不要有多余的例如``````json、``````这类格式标签，不需要解释和说明；\\n7. 无标准答案的题目，answer为空字符串即可。\\n8. 输出的json格式不能有 ``````json、`````` 这类格式标签。\\n\\n#字段解释如下：\\nquestion： 题干内容\\nanswer：该题的正确答案\\nA：A选项的内容\\nB：B选项的内容\\nC：C选项的内容\\nD：D选项的内容\\n\\n#输出示例如下：\\n[{ \\"question\\": \\"【三打白骨精】<br/>白骨精三次化为人形离间师徒，唐僧肉眼凡胎，误信白骨精幻化的老弱妇孺，误以为你滥杀无辜、将你赶走，你的做法是？ \\", \\"answer\\": \\"C\\", \\"A\\":\\"一棒打晕唐僧，冲上凌霄殿质问玉帝，“能不能换个明点事理的去取经啊？”\\", \\"B\\":\\"用混天绫捆住白骨精跳激光雨，“来！给这老秃驴直播现原形！”\\", \\"C\\":\\"一枪戳碎白骨精头骨，拎着骷髅怼到唐僧脸上：“再瞎我连你一起超度！”\\" ,\\"D\\":\\"一枪戳碎白骨精头骨，拎着骷髅怼到唐僧脸上：“再瞎我连你一起超度！”\\"},{\\n\\"question\\": \\"【三打白骨精】<br/>白骨精三次化为人形离间师徒，唐僧肉眼凡胎，误信白骨精幻化的老弱妇孺，误以为你滥杀无辜、将你赶走，你的做法是？ \\", \\"answer\\": \\"C\\", \\"A\\":\\"一棒打晕唐僧，冲上凌霄殿质问玉帝，“能不能换个明点事理的去取经啊？”\\", \\"B\\":\\"用混天绫捆住白骨精跳激光雨，“来！给这老秃驴直播现原形！”\\", \\"C\\":\\"一枪戳碎白骨精头骨，拎着骷髅怼到唐僧脸上：“再瞎我连你一起超度！”\\" ,\\"C\\":\\"一枪戳碎白骨精头骨，拎着骷髅怼到唐僧脸上：“再瞎我连你一起超度！”\\",\\"D\\":\\"一枪戳碎白骨精头骨，拎着骷髅怼到唐僧脸上：“再瞎我连你一起超度！”\\" }]","modelId":141,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","llmId":141,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"uid":"4403454","patchId":"0","isThink":false,"templateErrMsg":"","domain":"xdeepseekv3","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"xdeepseekv3","respFormat":0},"outputs":[{"id":"91c8cbc9-61ed-41bd-b82a-97ce80cf6f6c","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"开始","value":"node-start::0193b1d9-fbf5-4305-b1d9-8e2fe82defe0","children":[{"label":"","value":"","references":[{"id":"5f3650b4-a967-4cf0-b8e7-4946341de1a3","originId":"node-start::0193b1d9-fbf5-4305-b1d9-8e2fe82defe0","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":1216,"id":"spark-llm::fe0eab02-f40d-44e4-a43a-1be2813c07a0","position":{"x":908.5235874016475,"y":-73.28703327637106},"positionAbsolute":{"x":908.5235874016475,"y":-73.28703327637106},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"fileType":"","id":"1737baa0-e109-4bce-9234-b91e28c200e6","name":"jsonstr","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"91c8cbc9-61ed-41bd-b82a-97ce80cf6f6c","nodeId":"spark-llm::fe0eab02-f40d-44e4-a43a-1be2813c07a0","name":"output"},"contentErrMsg":"","type":"ref"}}}],"label":"代码_1","labelEdit":false,"nodeMeta":{"aliasName":"代码","nodeType":"工具"},"nodeParam":{"uid":"4403454","code":"# coding=utf-8\\nimport json  \\n  \\ndef main(jsonstr):  \\n    # 解析JSON数组字符串为Python列表  \\n    json_array = json.loads(jsonstr)\\n    return {\\"question\\":json_array}","appId":"12a0a7e2","codeErrMsg":""},"outputs":[{"id":"8a99b31f-233f-4904-b193-b1b1fe69a686","name":"question","nameErrMsg":"","schema":{"default":"","properties":[{"id":"18625a33-8e59-4704-bb5a-f5e2b17d3973","name":"question","required":false,"type":"string"},{"id":"4b8f857f-434f-44da-aaf5-06c0d206c63a","name":"answer","required":false,"type":"string"},{"id":"3d9763f3-2baf-49d3-87dd-4beedd6f8306","name":"A","required":false,"type":"string"},{"id":"71ccf4f3-8d95-4ee6-a3e7-e078f3c15ddc","name":"B","required":false,"type":"string"},{"id":"9d59063d-7359-46fb-a638-0d399af665f0","name":"C","required":false,"type":"string"},{"id":"173d394f-957a-44e6-86dc-9ed1df00f72c","name":"D","required":false,"type":"string"}],"type":"array-object"}}],"references":[{"label":"大模型_1","value":"spark-llm::fe0eab02-f40d-44e4-a43a-1be2813c07a0","children":[{"label":"","value":"","references":[{"id":"91c8cbc9-61ed-41bd-b82a-97ce80cf6f6c","originId":"spark-llm::fe0eab02-f40d-44e4-a43a-1be2813c07a0","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::0193b1d9-fbf5-4305-b1d9-8e2fe82defe0","children":[{"label":"","value":"","references":[{"id":"5f3650b4-a967-4cf0-b8e7-4946341de1a3","originId":"node-start::0193b1d9-fbf5-4305-b1d9-8e2fe82defe0","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":1025,"id":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","position":{"x":1678.9145298660787,"y":2.7831123481928444},"positionAbsolute":{"x":1678.9145298660787,"y":2.7831123481928444},"selected":false,"type":"代码","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"该节点用于处理循环逻辑，仅支持嵌套一次","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/iteration-icon.png","inputs":[{"fileType":"","id":"3c2b2da1-4ec4-45d5-ad73-79ed54e635bc","name":"input","nameErrMsg":"","schema":{"type":"array-object","value":{"content":{"id":"8a99b31f-233f-4904-b193-b1b1fe69a686","nodeId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","name":"question"},"contentErrMsg":"","type":"ref"}}}],"label":"迭代_1","labelEdit":false,"nodeMeta":{"aliasName":"迭代","nodeType":"基础节点"},"nodeParam":{"uid":"4403454","IterationStartNodeId":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","appId":"12a0a7e2"},"outputs":[{"id":"34ae0004-8d50-4490-8a74-da7a513a0716","name":"output","nameErrMsg":"","schema":{"default":"","type":"array-string"}}],"references":[{"label":"代码_1","value":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","children":[{"label":"","value":"","references":[{"id":"8a99b31f-233f-4904-b193-b1b1fe69a686","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","label":"question","value":"question","type":"array-object","fileType":"","children":[{"id":"18625a33-8e59-4704-bb5a-f5e2b17d3973","label":"question","value":"question.question","type":"string","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","parentType":"array-object","fileType":""},{"id":"4b8f857f-434f-44da-aaf5-06c0d206c63a","label":"answer","value":"question.answer","type":"string","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","parentType":"array-object","fileType":""},{"id":"3d9763f3-2baf-49d3-87dd-4beedd6f8306","label":"A","value":"question.A","type":"string","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","parentType":"array-object","fileType":""},{"id":"71ccf4f3-8d95-4ee6-a3e7-e078f3c15ddc","label":"B","value":"question.B","type":"string","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","parentType":"array-object","fileType":""},{"id":"9d59063d-7359-46fb-a638-0d399af665f0","label":"C","value":"question.C","type":"string","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","parentType":"array-object","fileType":""},{"id":"173d394f-957a-44e6-86dc-9ed1df00f72c","label":"D","value":"question.D","type":"string","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","parentType":"array-object","fileType":""}]}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":1647,"id":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","position":{"x":2484.376105942361,"y":-157.14953588812838},"positionAbsolute":{"x":2484.376105942361,"y":-157.14953588812838},"selected":false,"type":"迭代","width":1524},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"fileType":"","id":"aca49976-ab17-4cdf-beab-ca7bf24c25ba","name":"questions","nameErrMsg":"","schema":{"type":"array-object","value":{"content":{"id":"8a99b31f-233f-4904-b193-b1b1fe69a686","nodeId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","name":"question"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"018450af-f9e3-4364-ac38-0df201e3aedf","name":"user_answers","nameErrMsg":"","schema":{"type":"array-string","value":{"content":{"id":"34ae0004-8d50-4490-8a74-da7a513a0716","nodeId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","name":"output"},"contentErrMsg":"","type":"ref"}}}],"label":"代码_2","labelEdit":false,"nodeMeta":{"aliasName":"代码","nodeType":"工具"},"nodeParam":{"uid":"4403454","code":"def main(questions, user_answers):\\n    \\"\\"\\"\\n    计算选择题得分。\\n    :param questions: 选择题对象数组，每个对象有answer字段\\n    :param user_answers: 用户作答选项的字符串数组\\n    :return: 总得分（int）\\n    \\"\\"\\"\\n    score = 0\\n    for i, question in enumerate(questions):\\n        if i < len(user_answers):\\n            if question.get(''answer'') == user_answers[i]:\\n                score += 1\\n    return {\\"score\\":score}","appId":"12a0a7e2","codeErrMsg":""},"outputs":[{"id":"5890be03-c3b7-4ae4-a151-d83dafd97d89","name":"score","nameErrMsg":"","schema":{"default":"","properties":[],"type":"integer"}}],"references":[{"label":"迭代_1","value":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","children":[{"label":"","value":"","references":[{"id":"34ae0004-8d50-4490-8a74-da7a513a0716","originId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","label":"output","value":"output","type":"array-string","fileType":""}]}],"parentNode":true},{"label":"代码_1","value":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","children":[{"label":"","value":"","references":[{"id":"8a99b31f-233f-4904-b193-b1b1fe69a686","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","label":"question","value":"question","type":"array-object","fileType":"","children":[{"id":"18625a33-8e59-4704-bb5a-f5e2b17d3973","label":"question","value":"question.question","type":"string","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","parentType":"array-object","fileType":""},{"id":"4b8f857f-434f-44da-aaf5-06c0d206c63a","label":"answer","value":"question.answer","type":"string","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","parentType":"array-object","fileType":""},{"id":"3d9763f3-2baf-49d3-87dd-4beedd6f8306","label":"A","value":"question.A","type":"string","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","parentType":"array-object","fileType":""},{"id":"71ccf4f3-8d95-4ee6-a3e7-e078f3c15ddc","label":"B","value":"question.B","type":"string","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","parentType":"array-object","fileType":""},{"id":"9d59063d-7359-46fb-a638-0d399af665f0","label":"C","value":"question.C","type":"string","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","parentType":"array-object","fileType":""},{"id":"173d394f-957a-44e6-86dc-9ed1df00f72c","label":"D","value":"question.D","type":"string","originId":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","parentType":"array-object","fileType":""}]}]}],"parentNode":true},{"label":"大模型_1","value":"spark-llm::fe0eab02-f40d-44e4-a43a-1be2813c07a0","children":[{"label":"","value":"","references":[{"id":"91c8cbc9-61ed-41bd-b82a-97ce80cf6f6c","originId":"spark-llm::fe0eab02-f40d-44e4-a43a-1be2813c07a0","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::0193b1d9-fbf5-4305-b1d9-8e2fe82defe0","children":[{"label":"","value":"","references":[{"id":"5f3650b4-a967-4cf0-b8e7-4946341de1a3","originId":"node-start::0193b1d9-fbf5-4305-b1d9-8e2fe82defe0","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":793,"id":"ifly-code::78430340-46d0-402c-a3a1-5146517b5eaa","position":{"x":4140.021099911932,"y":259.67088331990954},"positionAbsolute":{"x":4140.021099911932,"y":259.67088331990954},"selected":false,"type":"代码","width":587},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"在工作流中可以对中间过程的产物进行输出","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/message-node-icon.png","inputs":[{"fileType":"","id":"b90d1def-1db6-487a-88ab-5461b71b9893","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"5f3650b4-a967-4cf0-b8e7-4946341de1a3","nodeId":"node-start::0193b1d9-fbf5-4305-b1d9-8e2fe82defe0","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}}],"label":"消息_1","labelEdit":false,"nodeMeta":{"aliasName":"消息","nodeType":"基础节点"},"nodeParam":{"template":"正在为您努力生成试题，请稍后......","uid":"4403454","templateErrMsg":"","appId":"12a0a7e2","startFrameEnabled":false},"outputs":[{"id":"eeb8aa62-6794-4b71-9555-d28318e2ee77","name":"output_m","nameErrMsg":"","schema":{"type":"string"}}],"references":[{"label":"开始","value":"node-start::0193b1d9-fbf5-4305-b1d9-8e2fe82defe0","children":[{"label":"","value":"","references":[{"id":"5f3650b4-a967-4cf0-b8e7-4946341de1a3","originId":"node-start::0193b1d9-fbf5-4305-b1d9-8e2fe82defe0","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":463,"id":"message::0df6eec7-ad63-4e94-ab08-2783750dd1f4","position":{"x":163.38484286986795,"y":211.36337534411757},"positionAbsolute":{"x":163.38484286986795,"y":211.36337534411757},"selected":false,"type":"消息","width":587},{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始节点","nodeType":"基础节点"},"nodeParam":{},"originPosition":{"x":-1043.7988706069912,"y":301.40498370158963},"outputs":[{"id":"3c2b2da1-4ec4-45d5-ad73-79ed54e635bc","name":"input","nameErrMsg":"","schema":{"default":"","type":"object"}}],"parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":44,"id":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","position":{"x":30,"y":697.6301114989786},"positionAbsolute":{"x":-1043.7988706069912,"y":301.40498370158963},"selected":false,"type":"开始节点","width":68,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"fileType":"","id":"15e80ec5-430f-4bde-86b3-adf73d74f270","name":"output","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"4f3c4465-9b90-4baa-a881-9cfc0345a08f","nodeId":"node-variable::a7f5a51a-f442-42bc-8bb5-0fbd3ff7abfe","name":"user_answer"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束节点","nodeType":"基础节点"},"nodeParam":{"template":"","outputMode":0},"originPosition":{"x":3810.7841862606447,"y":266.58830890737204},"outputs":[],"parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","references":[{"label":"变量存储器_4","value":"node-variable::a7f5a51a-f442-42bc-8bb5-0fbd3ff7abfe","children":[{"label":"","value":"","references":[{"id":"4f3c4465-9b90-4baa-a881-9cfc0345a08f","originId":"node-variable::a7f5a51a-f442-42bc-8bb5-0fbd3ff7abfe","label":"user_answer","value":"user_answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"问答节点-beta_3","value":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","children":[{"label":"","value":"","references":[{"id":"fdedfde3-01a6-4f59-82e7-225e68da427a","originId":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","label":"query","value":"query","type":"string","fileType":""},{"id":"5f8dcc18-be5d-4056-8691-325bd8aa2cf9","originId":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","label":"id","value":"id","type":"string","fileType":""},{"id":"f501fc33-4ad8-4619-a320-ba7c4a251236","originId":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","label":"content","value":"content","type":"string","fileType":""}]}],"parentNode":true},{"label":"代码_1","value":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","children":[{"label":"","value":"","references":[{"id":"da49960b-8003-486d-80ae-946483e3fa59","originId":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","label":"length","value":"length","type":"integer","fileType":"","children":[]}]}],"parentNode":true},{"label":"开始","value":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","children":[{"label":"","value":"","references":[{"id":"3c2b2da1-4ec4-45d5-ad73-79ed54e635bc","originId":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","label":"input","value":"input","type":"object","fileType":""}]}],"parentNode":true},{"label":"问答节点-beta_1","value":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","children":[{"label":"","value":"","references":[{"id":"fdedfde3-01a6-4f59-82e7-225e68da427a","originId":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","label":"query","value":"query","type":"string","fileType":""},{"id":"5f8dcc18-be5d-4056-8691-325bd8aa2cf9","originId":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","label":"id","value":"id","type":"string","fileType":""},{"id":"f501fc33-4ad8-4619-a320-ba7c4a251236","originId":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","label":"content","value":"content","type":"string","fileType":""}]}],"parentNode":true},{"label":"问答节点-beta_2","value":"question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","children":[{"label":"","value":"","references":[{"id":"fdedfde3-01a6-4f59-82e7-225e68da427a","originId":"question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","label":"query","value":"query","type":"string","fileType":""},{"id":"5f8dcc18-be5d-4056-8691-325bd8aa2cf9","originId":"question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","label":"id","value":"id","type":"string","fileType":""},{"id":"f501fc33-4ad8-4619-a320-ba7c4a251236","originId":"question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","label":"content","value":"content","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":44,"id":"iteration-node-end::8a731b7b-26bb-4cc1-9289-8002ac1bc8c6","parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","position":{"x":1243.645764216909,"y":688.9259428004243},"positionAbsolute":{"x":3810.7841862606447,"y":266.58830890737204},"selected":false,"type":"结束节点","width":68,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"支持在此节点向用户提问，接收用户回复，并输出回复内容及提取的信息","icon":"https://oss-beijing-m8.openstorage.cn/SparkBot/test4/answer-new2.png","inputs":[{"fileType":"","id":"eceaf3fc-0206-49aa-9ed6-390b3187395a","name":"input","nameErrMsg":"","schema":{"type":"object","value":{"content":{"id":"3c2b2da1-4ec4-45d5-ad73-79ed54e635bc","nodeId":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","name":"input"},"contentErrMsg":"","type":"ref"}}}],"label":"问答节点-beta_1","labelEdit":false,"nodeMeta":{"aliasName":"问答节点","nodeType":"基础节点"},"nodeParam":{"topK":4,"question":"{{input.question}}","answerType":"option","timeout":3,"url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"4403454","domain":"4.0Ultra","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","directAnswer":{"handleResponse":false,"maxRetryCounts":2},"serviceId":"bm4","needReply":false,"optionAnswer":[{"content_type":"string","name":"A","id":"option-one-of::d3769e32-1778-488c-b17f-6e5de40c59ef","type":2,"content":"{{input.A}}","contentErrMsg":""},{"content_type":"string","name":"B","id":"option-one-of::3f09f48e-bf8d-4477-bfd3-611f3d477431","type":2,"content":"{{input.B}}","contentErrMsg":""},{"id":"option-one-of::d0afb5f5-001d-41b1-9ea3-c0c69b476489","name":"C","type":2,"content":"{{input.C}}","content_type":"string","contentErrMsg":""},{"content_type":"string","name":"default","id":"option-one-of::c59998ae-6d5b-4895-861f-6d5ac6d905d3","type":1,"content":""}],"questionErrMsg":""},"originPosition":{"x":1343.0227675494302,"y":-125.97372402962708},"outputs":[{"id":"fdedfde3-01a6-4f59-82e7-225e68da427a","name":"query","nameErrMsg":"","required":true,"schema":{"default":"","description":"该节点提问内容","type":"string"}},{"id":"5f8dcc18-be5d-4056-8691-325bd8aa2cf9","name":"id","nameErrMsg":"","required":true,"schema":{"default":"","description":"用户回复的选项","type":"string"}},{"id":"f501fc33-4ad8-4619-a320-ba7c4a251236","name":"content","nameErrMsg":"","required":true,"schema":{"default":"","description":"用户回复的选项内容","type":"string"}}],"parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","references":[{"label":"开始","value":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","children":[{"label":"","value":"","references":[{"id":"3c2b2da1-4ec4-45d5-ad73-79ed54e635bc","originId":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","label":"input","value":"input","type":"object","fileType":""}]}],"parentNode":true},{"label":"代码_1","value":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","children":[{"label":"","value":"","references":[{"id":"da49960b-8003-486d-80ae-946483e3fa59","originId":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","label":"length","value":"length","type":"integer","fileType":"","children":[]}]}],"parentNode":true}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":44,"id":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","position":{"x":626.7054095391054,"y":590.7854345661744},"positionAbsolute":{"x":1343.0227675494302,"y":-125.97372402962708},"selected":false,"type":"问答节点","width":154,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"fileType":"","id":"e02110bb-50ad-4701-820c-df445bbe300d","name":"question","nameErrMsg":"","schema":{"type":"object","value":{"content":{"id":"3c2b2da1-4ec4-45d5-ad73-79ed54e635bc","nodeId":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","name":"input"},"contentErrMsg":"","type":"ref"}}}],"label":"代码_1","labelEdit":false,"nodeMeta":{"aliasName":"代码","nodeType":"工具"},"nodeParam":{"uid":"4403454","code":"# -*- coding: utf-8 -*-\\nimport json\\nimport re\\ndef main(question):\\n    length = len(question) - 2\\n    ret = {\\n        \\"length\\": length\\n    }\\n    return ret","appId":"12a0a7e2","codeErrMsg":""},"originPosition":{"x":-263.58635358811824,"y":16.425329604141382},"outputs":[{"id":"da49960b-8003-486d-80ae-946483e3fa59","name":"length","nameErrMsg":"","schema":{"default":"","properties":[],"type":"integer"}}],"parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","references":[{"label":"开始","value":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","children":[{"label":"","value":"","references":[{"id":"3c2b2da1-4ec4-45d5-ad73-79ed54e635bc","originId":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","label":"input","value":"input","type":"object","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":44,"id":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","position":{"x":225.05312925471821,"y":626.3851979746166},"positionAbsolute":{"x":-263.58635358811824,"y":16.425329604141382},"selected":false,"type":"代码","width":86,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"根据设立的条件，判断选择分支走向","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/if-else-node-icon.png","inputs":[{"fileType":"","id":"9646a6c8-6dcf-400d-b617-3fc8413c9fcd","name":"input","nameErrMsg":"","schema":{"type":"integer","value":{"content":{"id":"da49960b-8003-486d-80ae-946483e3fa59","nodeId":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","name":"length"},"contentErrMsg":"","type":"ref"}}},{"id":"4dacf706-d79a-4da8-9214-ceb2e194f637","name":"input1","nameErrMsg":"","schema":{"type":"string","value":{"content":"2","contentErrMsg":"","type":"literal"}}},{"fileType":"","id":"61095f0b-68fa-4fd9-a875-2027b8e158b9","name":"input801a067ab734443d9a8e05a617fdd699","nameErrMsg":"","schema":{"type":"integer","value":{"content":{"id":"da49960b-8003-486d-80ae-946483e3fa59","nodeId":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","name":"length"},"contentErrMsg":"","type":"ref"}}},{"id":"d050bed6-b307-48d3-94d2-f3fd714cadd9","name":"input6e9b9f916e7444b396dbc6d13cf6aaf2","nameErrMsg":"","schema":{"type":"string","value":{"content":"3","contentErrMsg":"","type":"literal"}}},{"fileType":"","id":"d32cd6d1-5cbf-4225-a063-a66c25bdf9e8","name":"input0065a384b0f54e7681842de61fb109cd","nameErrMsg":"","schema":{"type":"integer","value":{"content":{"id":"da49960b-8003-486d-80ae-946483e3fa59","nodeId":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","name":"length"},"contentErrMsg":"","type":"ref"}}},{"id":"3c5566c5-b214-4f2f-a0c8-9f81fc831e12","name":"inpute0f25febe7d4433fac0dc36a5738757b","nameErrMsg":"","schema":{"type":"string","value":{"content":"4","contentErrMsg":"","type":"literal"}}}],"label":"分支器_1","labelEdit":false,"nodeMeta":{"aliasName":"分支器","nodeType":"分支器"},"nodeParam":{"uid":"4403454","cases":[{"level":1,"logicalOperator":"and","id":"branch_one_of::a3bf1c4a-a01f-4663-8076-4541e61533be","conditions":[{"leftVarIndex":"9646a6c8-6dcf-400d-b617-3fc8413c9fcd","rightVarIndex":"4dacf706-d79a-4da8-9214-ceb2e194f637","id":"","compareOperator":"is","compareOperatorErrMsg":""}]},{"id":"branch_one_of::b054193c-b116-45a9-a188-a88ac10d1f78","level":2,"logicalOperator":"and","conditions":[{"id":"d47c9ef9-0975-4fab-a51d-4023c55c6c93","leftVarIndex":"61095f0b-68fa-4fd9-a875-2027b8e158b9","rightVarIndex":"d050bed6-b307-48d3-94d2-f3fd714cadd9","compareOperator":"is","compareOperatorErrMsg":""}]},{"id":"branch_one_of::5e896be0-6a59-48f1-9c16-0b3c50956887","level":3,"logicalOperator":"and","conditions":[{"id":"cf57f7af-5fbf-440b-8562-e66e039206ec","leftVarIndex":"d32cd6d1-5cbf-4225-a063-a66c25bdf9e8","rightVarIndex":"3c5566c5-b214-4f2f-a0c8-9f81fc831e12","compareOperator":"is","compareOperatorErrMsg":""}]},{"level":999,"logicalOperator":"and","id":"branch_one_of::6080004e-36a2-4e43-93b9-6a303c2218db","conditions":[]}],"appId":"12a0a7e2"},"originPosition":{"x":463.0793143112214,"y":42.100229686336064},"outputs":[],"parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","references":[{"label":"代码_1","value":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","children":[{"label":"","value":"","references":[{"id":"da49960b-8003-486d-80ae-946483e3fa59","originId":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","label":"length","value":"length","type":"integer","fileType":"","children":[]}]}],"parentNode":true},{"label":"开始","value":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","children":[{"label":"","value":"","references":[{"id":"3c2b2da1-4ec4-45d5-ad73-79ed54e635bc","originId":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","label":"input","value":"input","type":"object","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":44,"id":"if-else::3b19647d-07f6-42cf-b6ed-2474f470fb36","parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","position":{"x":406.71954622955315,"y":632.8039229951653},"positionAbsolute":{"x":463.0793143112214,"y":42.100229686336064},"selected":false,"type":"分支器","width":102,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"支持在此节点向用户提问，接收用户回复，并输出回复内容及提取的信息","icon":"https://oss-beijing-m8.openstorage.cn/SparkBot/test4/answer-new2.png","inputs":[{"fileType":"","id":"eceaf3fc-0206-49aa-9ed6-390b3187395a","name":"input","nameErrMsg":"","schema":{"type":"object","value":{"content":{"id":"3c2b2da1-4ec4-45d5-ad73-79ed54e635bc","nodeId":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","name":"input"},"contentErrMsg":"","type":"ref"}}}],"label":"问答节点-beta_2","labelEdit":false,"nodeMeta":{"aliasName":"问答节点","nodeType":"基础节点"},"nodeParam":{"topK":4,"question":"{{input.question}}","answerType":"option","timeout":3,"url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"4403454","domain":"4.0Ultra","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","directAnswer":{"handleResponse":false,"maxRetryCounts":2},"serviceId":"bm4","needReply":false,"optionAnswer":[{"content_type":"string","name":"A","id":"option-one-of::d3769e32-1778-488c-b17f-6e5de40c59ef","type":2,"content":"{{input.A}}","contentErrMsg":""},{"content_type":"string","name":"B","id":"option-one-of::3f09f48e-bf8d-4477-bfd3-611f3d477431","type":2,"content":"{{input.B}}","contentErrMsg":""},{"content_type":"string","name":"default","id":"option-one-of::c59998ae-6d5b-4895-861f-6d5ac6d905d3","type":1,"content":""}],"questionErrMsg":""},"originPosition":{"x":1315.7497622371288,"y":-1169.115462294325},"outputs":[{"id":"fdedfde3-01a6-4f59-82e7-225e68da427a","name":"query","nameErrMsg":"","required":true,"schema":{"default":"","description":"该节点提问内容","type":"string"}},{"id":"5f8dcc18-be5d-4056-8691-325bd8aa2cf9","name":"id","nameErrMsg":"","required":true,"schema":{"default":"","description":"用户回复的选项","type":"string"}},{"id":"f501fc33-4ad8-4619-a320-ba7c4a251236","name":"content","nameErrMsg":"","required":true,"schema":{"default":"","description":"用户回复的选项内容","type":"string"}}],"parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","references":[{"label":"代码_1","value":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","children":[{"label":"","value":"","references":[{"id":"da49960b-8003-486d-80ae-946483e3fa59","originId":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","label":"length","value":"length","type":"integer","fileType":"","children":[]}]}],"parentNode":true},{"label":"开始","value":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","children":[{"label":"","value":"","references":[{"id":"3c2b2da1-4ec4-45d5-ad73-79ed54e635bc","originId":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","label":"input","value":"input","type":"object","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":44,"id":"question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","position":{"x":619.88715821103,"y":330},"positionAbsolute":{"x":1315.7497622371288,"y":-1169.115462294325},"selected":false,"type":"问答节点","width":154,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"支持在此节点向用户提问，接收用户回复，并输出回复内容及提取的信息","icon":"https://oss-beijing-m8.openstorage.cn/SparkBot/test4/answer-new2.png","inputs":[{"fileType":"","id":"eceaf3fc-0206-49aa-9ed6-390b3187395a","name":"input","nameErrMsg":"","schema":{"type":"object","value":{"content":{"id":"3c2b2da1-4ec4-45d5-ad73-79ed54e635bc","nodeId":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","name":"input"},"contentErrMsg":"","type":"ref"}}}],"label":"问答节点-beta_3","labelEdit":false,"nodeMeta":{"aliasName":"问答节点","nodeType":"基础节点"},"nodeParam":{"topK":4,"question":"{{input.question}}","answerType":"option","timeout":3,"url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"4403454","domain":"4.0Ultra","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","directAnswer":{"handleResponse":false,"maxRetryCounts":2},"serviceId":"bm4","needReply":false,"optionAnswer":[{"content_type":"string","name":"A","id":"option-one-of::d3769e32-1778-488c-b17f-6e5de40c59ef","type":2,"content":"{{input.A}}","contentErrMsg":""},{"content_type":"string","name":"B","id":"option-one-of::3f09f48e-bf8d-4477-bfd3-611f3d477431","type":2,"content":"{{input.B}}","contentErrMsg":""},{"id":"option-one-of::d0afb5f5-001d-41b1-9ea3-c0c69b476489","name":"C","type":2,"content":"{{input.C}}","content_type":"string","contentErrMsg":""},{"id":"option-one-of::884c0bb0-6675-47b9-93e7-8d0934257d92","name":"D","type":2,"content":"{{input.D}}","content_type":"string","contentErrMsg":""},{"content_type":"string","name":"default","id":"option-one-of::c59998ae-6d5b-4895-861f-6d5ac6d905d3","type":1,"content":""}],"questionErrMsg":""},"originPosition":{"x":1335.4980552406973,"y":980.6561041034607},"outputs":[{"id":"fdedfde3-01a6-4f59-82e7-225e68da427a","name":"query","nameErrMsg":"","required":true,"schema":{"default":"","description":"该节点提问内容","type":"string"}},{"id":"5f8dcc18-be5d-4056-8691-325bd8aa2cf9","name":"id","nameErrMsg":"","required":true,"schema":{"default":"","description":"用户回复的选项","type":"string"}},{"id":"f501fc33-4ad8-4619-a320-ba7c4a251236","name":"content","nameErrMsg":"","required":true,"schema":{"default":"","description":"用户回复的选项内容","type":"string"}}],"parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","references":[{"label":"代码_1","value":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","children":[{"label":"","value":"","references":[{"id":"da49960b-8003-486d-80ae-946483e3fa59","originId":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","label":"length","value":"length","type":"integer","fileType":"","children":[]}]}],"parentNode":true},{"label":"开始","value":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","children":[{"label":"","value":"","references":[{"id":"3c2b2da1-4ec4-45d5-ad73-79ed54e635bc","originId":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","label":"input","value":"input","type":"object","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":44,"id":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","position":{"x":624.8242314619222,"y":867.4428915994464},"positionAbsolute":{"x":1335.4980552406973,"y":980.6561041034607},"selected":false,"type":"问答节点","width":154,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"fileType":"","id":"f76bdff9-aa7b-4883-9168-2303de521d3f","name":"user_answer","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"5f8dcc18-be5d-4056-8691-325bd8aa2cf9","nodeId":"question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","name":"id"},"contentErrMsg":"","type":"ref"}}}],"label":"变量存储器_1","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"4403454","method":"set","appId":"12a0a7e2","flowId":"7342727615581208576"},"originPosition":{"x":2252.118707919993,"y":-257.2294867946777},"outputs":[],"parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","references":[{"label":"问答节点-beta_2","value":"question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","children":[{"label":"","value":"","references":[{"id":"fdedfde3-01a6-4f59-82e7-225e68da427a","originId":"question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","label":"query","value":"query","type":"string","fileType":""},{"id":"5f8dcc18-be5d-4056-8691-325bd8aa2cf9","originId":"question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","label":"id","value":"id","type":"string","fileType":""},{"id":"f501fc33-4ad8-4619-a320-ba7c4a251236","originId":"question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","label":"content","value":"content","type":"string","fileType":""}]}],"parentNode":true},{"label":"代码_1","value":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","children":[{"label":"","value":"","references":[{"id":"da49960b-8003-486d-80ae-946483e3fa59","originId":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","label":"length","value":"length","type":"integer","fileType":"","children":[]}]}],"parentNode":true},{"label":"开始","value":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","children":[{"label":"","value":"","references":[{"id":"3c2b2da1-4ec4-45d5-ad73-79ed54e635bc","originId":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","label":"input","value":"input","type":"object","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":44,"id":"node-variable::55ab43b1-df04-464e-a734-8a8c5de3a1f3","parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","position":{"x":853.9793946317461,"y":557.9714938749119},"positionAbsolute":{"x":2252.118707919993,"y":-257.2294867946777},"selected":false,"type":"变量存储器","width":134,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"fileType":"","id":"f76bdff9-aa7b-4883-9168-2303de521d3f","name":"user_answer","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"5f8dcc18-be5d-4056-8691-325bd8aa2cf9","nodeId":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","name":"id"},"contentErrMsg":"","type":"ref"}}}],"label":"变量存储器_2","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"4403454","method":"set","appId":"12a0a7e2","flowId":"7342727615581208576"},"originPosition":{"x":2257.1548802471434,"y":133.53992994766463},"outputs":[],"parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","references":[{"label":"问答节点-beta_1","value":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","children":[{"label":"","value":"","references":[{"id":"fdedfde3-01a6-4f59-82e7-225e68da427a","originId":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","label":"query","value":"query","type":"string","fileType":""},{"id":"5f8dcc18-be5d-4056-8691-325bd8aa2cf9","originId":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","label":"id","value":"id","type":"string","fileType":""},{"id":"f501fc33-4ad8-4619-a320-ba7c4a251236","originId":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","label":"content","value":"content","type":"string","fileType":""}]}],"parentNode":true},{"label":"代码_1","value":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","children":[{"label":"","value":"","references":[{"id":"da49960b-8003-486d-80ae-946483e3fa59","originId":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","label":"length","value":"length","type":"integer","fileType":"","children":[]}]}],"parentNode":true},{"label":"开始","value":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","children":[{"label":"","value":"","references":[{"id":"3c2b2da1-4ec4-45d5-ad73-79ed54e635bc","originId":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","label":"input","value":"input","type":"object","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":44,"id":"node-variable::bdcd9bb9-39b9-4b44-9d17-a0305ad65bc9","parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","position":{"x":855.2384377135336,"y":655.6638480604975},"positionAbsolute":{"x":2257.1548802471434,"y":133.53992994766463},"selected":false,"type":"变量存储器","width":134,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"fileType":"","id":"f76bdff9-aa7b-4883-9168-2303de521d3f","name":"user_answer","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"5f8dcc18-be5d-4056-8691-325bd8aa2cf9","nodeId":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","name":"id"},"contentErrMsg":"","type":"ref"}}}],"label":"变量存储器_3","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"4403454","method":"set","appId":"12a0a7e2","flowId":"7342727615581208576"},"originPosition":{"x":2260.3404476273345,"y":570.3161227352986},"outputs":[],"parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","references":[{"label":"问答节点-beta_3","value":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","children":[{"label":"","value":"","references":[{"id":"fdedfde3-01a6-4f59-82e7-225e68da427a","originId":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","label":"query","value":"query","type":"string","fileType":""},{"id":"5f8dcc18-be5d-4056-8691-325bd8aa2cf9","originId":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","label":"id","value":"id","type":"string","fileType":""},{"id":"f501fc33-4ad8-4619-a320-ba7c4a251236","originId":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","label":"content","value":"content","type":"string","fileType":""}]}],"parentNode":true},{"label":"代码_1","value":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","children":[{"label":"","value":"","references":[{"id":"da49960b-8003-486d-80ae-946483e3fa59","originId":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","label":"length","value":"length","type":"integer","fileType":"","children":[]}]}],"parentNode":true},{"label":"开始","value":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","children":[{"label":"","value":"","references":[{"id":"3c2b2da1-4ec4-45d5-ad73-79ed54e635bc","originId":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","label":"input","value":"input","type":"object","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":44,"id":"node-variable::a7881954-60ee-40b3-9593-af01822afffc","parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","position":{"x":856.0348295585814,"y":764.8578962574059},"positionAbsolute":{"x":2260.3404476273345,"y":570.3161227352986},"selected":false,"type":"变量存储器","width":134,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[],"label":"变量存储器_4","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"4403454","method":"get","appId":"12a0a7e2","flowId":"7342727615581208576"},"originPosition":{"x":2980.057566327672,"y":260.4397828523232},"outputs":[{"id":"4f3c4465-9b90-4baa-a881-9cfc0345a08f","name":"user_answer","nameErrMsg":"","refId":"f76bdff9-aa7b-4883-9168-2303de521d3f","required":true,"schema":{"description":"","type":"string"}}],"parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","references":[{"label":"问答节点-beta_2","value":"question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","children":[{"label":"","value":"","references":[{"id":"fdedfde3-01a6-4f59-82e7-225e68da427a","originId":"question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","label":"query","value":"query","type":"string","fileType":""},{"id":"5f8dcc18-be5d-4056-8691-325bd8aa2cf9","originId":"question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","label":"id","value":"id","type":"string","fileType":""},{"id":"f501fc33-4ad8-4619-a320-ba7c4a251236","originId":"question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","label":"content","value":"content","type":"string","fileType":""}]}],"parentNode":true},{"label":"代码_1","value":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","children":[{"label":"","value":"","references":[{"id":"da49960b-8003-486d-80ae-946483e3fa59","originId":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","label":"length","value":"length","type":"integer","fileType":"","children":[]}]}],"parentNode":true},{"label":"开始","value":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","children":[{"label":"","value":"","references":[{"id":"3c2b2da1-4ec4-45d5-ad73-79ed54e635bc","originId":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","label":"input","value":"input","type":"object","fileType":""}]}],"parentNode":true},{"label":"问答节点-beta_1","value":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","children":[{"label":"","value":"","references":[{"id":"fdedfde3-01a6-4f59-82e7-225e68da427a","originId":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","label":"query","value":"query","type":"string","fileType":""},{"id":"5f8dcc18-be5d-4056-8691-325bd8aa2cf9","originId":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","label":"id","value":"id","type":"string","fileType":""},{"id":"f501fc33-4ad8-4619-a320-ba7c4a251236","originId":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","label":"content","value":"content","type":"string","fileType":""}]}],"parentNode":true},{"label":"问答节点-beta_3","value":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","children":[{"label":"","value":"","references":[{"id":"fdedfde3-01a6-4f59-82e7-225e68da427a","originId":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","label":"query","value":"query","type":"string","fileType":""},{"id":"5f8dcc18-be5d-4056-8691-325bd8aa2cf9","originId":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","label":"id","value":"id","type":"string","fileType":""},{"id":"f501fc33-4ad8-4619-a320-ba7c4a251236","originId":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","label":"content","value":"content","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":44,"id":"node-variable::a7f5a51a-f442-42bc-8bb5-0fbd3ff7abfe","parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","position":{"x":1035.9641092336658,"y":687.3888112866621},"positionAbsolute":{"x":2980.057566327672,"y":260.4397828523232},"selected":false,"type":"变量存储器","width":134,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"id":"77b8cf43-4986-4545-becb-48fa203fbcde","name":"user_answer","nameErrMsg":"","schema":{"type":"string","value":{"content":"题目有误！","contentErrMsg":"","type":"literal"}}}],"label":"变量存储器_5","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"4403454","method":"set","appId":"12a0a7e2","flowId":"7342727615581208576"},"originPosition":{"x":1384.027567161294,"y":2127.7718556588466},"outputs":[],"parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","references":[{"label":"代码_1","value":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","children":[{"label":"","value":"","references":[{"id":"da49960b-8003-486d-80ae-946483e3fa59","originId":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","label":"length","value":"length","type":"integer","fileType":"","children":[]}]}],"parentNode":true},{"label":"开始","value":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","children":[{"label":"","value":"","references":[{"id":"3c2b2da1-4ec4-45d5-ad73-79ed54e635bc","originId":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","label":"input","value":"input","type":"object","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":44,"id":"node-variable::13182f55-24fb-4707-8c4b-0c6670b4cc46","parentId":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","position":{"x":636.9566094420713,"y":1154.2218294882928},"positionAbsolute":{"x":1384.027567161294,"y":2127.7718556588466},"selected":false,"type":"变量存储器","width":134,"zIndex":1}],"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::fe0eab02-f40d-44e4-a43a-1be2813c07a0-ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"spark-llm::fe0eab02-f40d-44e4-a43a-1be2813c07a0","target":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744-iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"ifly-code::fb92ddfd-6465-4f6b-b868-bb36ae929744","target":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a-ifly-code::78430340-46d0-402c-a3a1-5146517b5eaa","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"iteration::b0f5efc7-ef2b-4e63-8d5e-c070f0f03f3a","target":"ifly-code::78430340-46d0-402c-a3a1-5146517b5eaa","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::78430340-46d0-402c-a3a1-5146517b5eaa-node-end::4a191fd0-23d3-423c-9325-994e75e3b143node-end::4a191fd0-23d3-423c-9325-994e75e3b143","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"ifly-code::78430340-46d0-402c-a3a1-5146517b5eaa","target":"node-end::4a191fd0-23d3-423c-9325-994e75e3b143","targetHandle":"node-end::4a191fd0-23d3-423c-9325-994e75e3b143","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-message::0df6eec7-ad63-4e94-ab08-2783750dd1f4-spark-llm::fe0eab02-f40d-44e4-a43a-1be2813c07a0","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"message::0df6eec7-ad63-4e94-ab08-2783750dd1f4","target":"spark-llm::fe0eab02-f40d-44e4-a43a-1be2813c07a0","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39-ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"iteration-node-start::9ac38ff8-7844-460d-9157-af227a8aeb39","target":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35-if-else::3b19647d-07f6-42cf-b6ed-2474f470fb36","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"ifly-code::39a729f9-8587-4e1d-8fb2-c11df5b07c35","target":"if-else::3b19647d-07f6-42cf-b6ed-2474f470fb36","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::3b19647d-07f6-42cf-b6ed-2474f470fb36branch_one_of::b054193c-b116-45a9-a188-a88ac10d1f78-question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::3b19647d-07f6-42cf-b6ed-2474f470fb36","sourceHandle":"branch_one_of::b054193c-b116-45a9-a188-a88ac10d1f78","target":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::3b19647d-07f6-42cf-b6ed-2474f470fb36branch_one_of::a3bf1c4a-a01f-4663-8076-4541e61533be-question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::3b19647d-07f6-42cf-b6ed-2474f470fb36","sourceHandle":"branch_one_of::a3bf1c4a-a01f-4663-8076-4541e61533be","target":"question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::3b19647d-07f6-42cf-b6ed-2474f470fb36branch_one_of::5e896be0-6a59-48f1-9c16-0b3c50956887-question-answer::b96444c1-add1-418e-a685-94c6f5a42983","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::3b19647d-07f6-42cf-b6ed-2474f470fb36","sourceHandle":"branch_one_of::5e896be0-6a59-48f1-9c16-0b3c50956887","target":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351option-one-of::d3769e32-1778-488c-b17f-6e5de40c59ef-node-variable::55ab43b1-df04-464e-a734-8a8c5de3a1f3","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","sourceHandle":"option-one-of::d3769e32-1778-488c-b17f-6e5de40c59ef","target":"node-variable::55ab43b1-df04-464e-a734-8a8c5de3a1f3","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351option-one-of::3f09f48e-bf8d-4477-bfd3-611f3d477431-node-variable::55ab43b1-df04-464e-a734-8a8c5de3a1f3","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","sourceHandle":"option-one-of::3f09f48e-bf8d-4477-bfd3-611f3d477431","target":"node-variable::55ab43b1-df04-464e-a734-8a8c5de3a1f3","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351option-one-of::c59998ae-6d5b-4895-861f-6d5ac6d905d3-node-variable::55ab43b1-df04-464e-a734-8a8c5de3a1f3","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"question-answer::bc667b25-3178-4f3f-b42f-b57cf1eb9351","sourceHandle":"option-one-of::c59998ae-6d5b-4895-861f-6d5ac6d905d3","target":"node-variable::55ab43b1-df04-464e-a734-8a8c5de3a1f3","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5boption-one-of::d3769e32-1778-488c-b17f-6e5de40c59ef-node-variable::bdcd9bb9-39b9-4b44-9d17-a0305ad65bc9","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","sourceHandle":"option-one-of::d3769e32-1778-488c-b17f-6e5de40c59ef","target":"node-variable::bdcd9bb9-39b9-4b44-9d17-a0305ad65bc9","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5boption-one-of::3f09f48e-bf8d-4477-bfd3-611f3d477431-node-variable::bdcd9bb9-39b9-4b44-9d17-a0305ad65bc9","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","sourceHandle":"option-one-of::3f09f48e-bf8d-4477-bfd3-611f3d477431","target":"node-variable::bdcd9bb9-39b9-4b44-9d17-a0305ad65bc9","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5boption-one-of::d0afb5f5-001d-41b1-9ea3-c0c69b476489-node-variable::bdcd9bb9-39b9-4b44-9d17-a0305ad65bc9","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","sourceHandle":"option-one-of::d0afb5f5-001d-41b1-9ea3-c0c69b476489","target":"node-variable::bdcd9bb9-39b9-4b44-9d17-a0305ad65bc9","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5boption-one-of::c59998ae-6d5b-4895-861f-6d5ac6d905d3-node-variable::bdcd9bb9-39b9-4b44-9d17-a0305ad65bc9","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"question-answer::c6200764-5538-4cf0-adfb-a9f0a5735a5b","sourceHandle":"option-one-of::c59998ae-6d5b-4895-861f-6d5ac6d905d3","target":"node-variable::bdcd9bb9-39b9-4b44-9d17-a0305ad65bc9","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-question-answer::b96444c1-add1-418e-a685-94c6f5a42983option-one-of::d3769e32-1778-488c-b17f-6e5de40c59ef-node-variable::a7881954-60ee-40b3-9593-af01822afffc","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","sourceHandle":"option-one-of::d3769e32-1778-488c-b17f-6e5de40c59ef","target":"node-variable::a7881954-60ee-40b3-9593-af01822afffc","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-question-answer::b96444c1-add1-418e-a685-94c6f5a42983option-one-of::3f09f48e-bf8d-4477-bfd3-611f3d477431-node-variable::a7881954-60ee-40b3-9593-af01822afffc","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","sourceHandle":"option-one-of::3f09f48e-bf8d-4477-bfd3-611f3d477431","target":"node-variable::a7881954-60ee-40b3-9593-af01822afffc","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-question-answer::b96444c1-add1-418e-a685-94c6f5a42983option-one-of::d0afb5f5-001d-41b1-9ea3-c0c69b476489-node-variable::a7881954-60ee-40b3-9593-af01822afffc","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","sourceHandle":"option-one-of::d0afb5f5-001d-41b1-9ea3-c0c69b476489","target":"node-variable::a7881954-60ee-40b3-9593-af01822afffc","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-question-answer::b96444c1-add1-418e-a685-94c6f5a42983option-one-of::884c0bb0-6675-47b9-93e7-8d0934257d92-node-variable::a7881954-60ee-40b3-9593-af01822afffc","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","sourceHandle":"option-one-of::884c0bb0-6675-47b9-93e7-8d0934257d92","target":"node-variable::a7881954-60ee-40b3-9593-af01822afffc","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-question-answer::b96444c1-add1-418e-a685-94c6f5a42983option-one-of::c59998ae-6d5b-4895-861f-6d5ac6d905d3-node-variable::a7881954-60ee-40b3-9593-af01822afffc","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"question-answer::b96444c1-add1-418e-a685-94c6f5a42983","sourceHandle":"option-one-of::c59998ae-6d5b-4895-861f-6d5ac6d905d3","target":"node-variable::a7881954-60ee-40b3-9593-af01822afffc","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::55ab43b1-df04-464e-a734-8a8c5de3a1f3-node-variable::a7f5a51a-f442-42bc-8bb5-0fbd3ff7abfe","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::55ab43b1-df04-464e-a734-8a8c5de3a1f3","target":"node-variable::a7f5a51a-f442-42bc-8bb5-0fbd3ff7abfe","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::bdcd9bb9-39b9-4b44-9d17-a0305ad65bc9-node-variable::a7f5a51a-f442-42bc-8bb5-0fbd3ff7abfe","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::bdcd9bb9-39b9-4b44-9d17-a0305ad65bc9","target":"node-variable::a7f5a51a-f442-42bc-8bb5-0fbd3ff7abfe","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::a7881954-60ee-40b3-9593-af01822afffc-node-variable::a7f5a51a-f442-42bc-8bb5-0fbd3ff7abfe","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::a7881954-60ee-40b3-9593-af01822afffc","target":"node-variable::a7f5a51a-f442-42bc-8bb5-0fbd3ff7abfe","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::a7f5a51a-f442-42bc-8bb5-0fbd3ff7abfe-iteration-node-end::8a731b7b-26bb-4cc1-9289-8002ac1bc8c6iteration-node-end::8a731b7b-26bb-4cc1-9289-8002ac1bc8c6","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::a7f5a51a-f442-42bc-8bb5-0fbd3ff7abfe","target":"iteration-node-end::8a731b7b-26bb-4cc1-9289-8002ac1bc8c6","targetHandle":"iteration-node-end::8a731b7b-26bb-4cc1-9289-8002ac1bc8c6","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::3b19647d-07f6-42cf-b6ed-2474f470fb36branch_one_of::6080004e-36a2-4e43-93b9-6a303c2218db-node-variable::13182f55-24fb-4707-8c4b-0c6670b4cc46","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::3b19647d-07f6-42cf-b6ed-2474f470fb36","sourceHandle":"branch_one_of::6080004e-36a2-4e43-93b9-6a303c2218db","target":"node-variable::13182f55-24fb-4707-8c4b-0c6670b4cc46","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::13182f55-24fb-4707-8c4b-0c6670b4cc46-node-variable::a7881954-60ee-40b3-9593-af01822afffc","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::13182f55-24fb-4707-8c4b-0c6670b4cc46","target":"node-variable::a7881954-60ee-40b3-9593-af01822afffc","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::0193b1d9-fbf5-4305-b1d9-8e2fe82defe0-message::0df6eec7-ad63-4e94-ab08-2783750dd1f4","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-start::0193b1d9-fbf5-4305-b1d9-8e2fe82defe0","target":"message::0df6eec7-ad63-4e94-ab08-2783750dd1f4","type":"customEdge"}]}', 'https://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_10@2x.png', '#FFEAD5', -1, 0, 0, 0, NULL, 0, NULL, 2, NULL, 1, NULL, '{"prologue":{"enabled":true,"inputExample":["十以内加减法5题","Java面试题","驾考科目一10题"],"prologueText":"我是AI考试官，请说出你想测试的题目类型和题数，即可在线AI练习、考试。"},"needGuide":false}', '{"botId":2958065}', 17, NULL);
INSERT INTO workflow (id, uid, app_id, flow_id, name, description, deleted, is_public, create_time, update_time, published_data, `data`, avatar_icon, avatar_color, status, can_publish, app_updatable, top, edge_type, `order`, eval_set_id, source, bak, editing, eval_page_first_time, advanced_config, ext, category, space_id) VALUES(118639, 18882349618, 'a01c2bc7', '7333756636828512256', '【勿动】MBTI答题模板', 'MBTI答题模板', 0, 0, '2025-05-29 15:30:36', '2025-06-03 14:44:42', NULL, '{"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始节点","nodeType":"基础节点"},"nodeParam":{},"outputs":[{"deleteDisabled":true,"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}}],"status":"","updatable":false},"dragging":false,"height":254,"id":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","position":{"x":-704.8207201799614,"y":321.4983544599225},"positionAbsolute":{"x":-704.8207201799614,"y":321.4983544599225},"selected":false,"type":"开始节点","width":657},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"fileType":"","id":"6dc3da15-7c2b-482b-b196-b7c1e4e517d3","name":"output","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"73158f47-80d8-4f5f-9530-e840f967970e","nodeId":"spark-llm::3a9c20c3-ab86-4e97-b750-c82674ddbabd","name":"output"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"ffb83311-e4c0-4508-bea2-b949a2c8440f","name":"output2","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"ff4b06df-96f7-472d-b36e-4774a1777823","nodeId":"spark-llm::04ddd403-3b17-431d-af66-f92fb353c04c","name":"output"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"297357f8-19bd-4e8c-a857-d2b4a4942807","name":"output3","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"ff4b06df-96f7-472d-b36e-4774a1777823","nodeId":"spark-llm::19fe6c6e-e31e-4137-9aff-4b5d6c8d7cd2","name":"output"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"f98de607-58dd-48e8-9f1b-9fa6a06d66cd","name":"output4","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"ff4b06df-96f7-472d-b36e-4774a1777823","nodeId":"spark-llm::4243ed94-342b-4c65-9819-bb33f23ea91b","name":"output"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"7ea7b61a-d171-4ab7-8716-956751cbfd5f","name":"output5","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"ff4b06df-96f7-472d-b36e-4774a1777823","nodeId":"spark-llm::94b89e59-7f97-4b52-b789-8765f9f66ac1","name":"output"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束节点","nodeType":"基础节点"},"nodeParam":{"template":"{{output}}\\n{{output2}}\\n{{output3}}\\n{{output4}}\\n{{output5}}","streamOutput":true,"templateErrMsg":"","outputMode":1},"outputs":[],"references":[{"label":"题目1-IorE","value":"spark-llm::3a9c20c3-ab86-4e97-b750-c82674ddbabd","children":[{"label":"","value":"","references":[{"id":"73158f47-80d8-4f5f-9530-e840f967970e","originId":"spark-llm::3a9c20c3-ab86-4e97-b750-c82674ddbabd","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true},{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"题目2-SorN","value":"spark-llm::04ddd403-3b17-431d-af66-f92fb353c04c","children":[{"label":"","value":"","references":[{"id":"ff4b06df-96f7-472d-b36e-4774a1777823","originId":"spark-llm::04ddd403-3b17-431d-af66-f92fb353c04c","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"题目3-TorF","value":"spark-llm::19fe6c6e-e31e-4137-9aff-4b5d6c8d7cd2","children":[{"label":"","value":"","references":[{"id":"ff4b06df-96f7-472d-b36e-4774a1777823","originId":"spark-llm::19fe6c6e-e31e-4137-9aff-4b5d6c8d7cd2","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"题目4-PorJ","value":"spark-llm::4243ed94-342b-4c65-9819-bb33f23ea91b","children":[{"label":"","value":"","references":[{"id":"ff4b06df-96f7-472d-b36e-4774a1777823","originId":"spark-llm::4243ed94-342b-4c65-9819-bb33f23ea91b","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"报告","value":"spark-llm::94b89e59-7f97-4b52-b789-8765f9f66ac1","children":[{"label":"","value":"","references":[{"id":"ff4b06df-96f7-472d-b36e-4774a1777823","originId":"spark-llm::94b89e59-7f97-4b52-b789-8765f9f66ac1","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"变量存储器_14","value":"node-variable::75cac733-f6bb-4969-a2e1-0d4187dc4fc0","children":[{"label":"","value":"","references":[{"id":"2e795290-7c21-4887-82fd-b0baacd44fb7","originId":"node-variable::75cac733-f6bb-4969-a2e1-0d4187dc4fc0","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":817,"id":"node-end::259e2354-3a93-456d-b29d-136cb179570b","position":{"x":5878.523247032056,"y":407.60722512865755},"positionAbsolute":{"x":5878.523247032056,"y":407.60722512865755},"selected":false,"type":"结束节点","width":407},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[],"label":"变量存储器_1","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"18882349618","method":"get","appId":"a01c2bc7","flowId":"7333756636828512256"},"outputs":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","name":"round","nameErrMsg":"","refId":"3117fbe9-70ba-4daf-adc0-47831418e19c","required":true,"schema":{"description":"","type":"string"}},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","name":"R1-answer","nameErrMsg":"","refId":"1d40c82f-d2fa-41b6-9a99-5cde451cf6de","required":true,"schema":{"default":"","type":"string"}},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","name":"R2-answer","nameErrMsg":"","refId":"1d40c82f-d2fa-41b6-9a99-5cde451cf6de","required":true,"schema":{"default":"","type":"string"}},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","name":"R3-answer","nameErrMsg":"","refId":"1d40c82f-d2fa-41b6-9a99-5cde451cf6de","required":true,"schema":{"default":"","type":"string"}},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","name":"R4-answer","nameErrMsg":"","refId":"1d40c82f-d2fa-41b6-9a99-5cde451cf6de","required":true,"schema":{"default":"","type":"string"}}],"references":[{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":445,"id":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","position":{"x":1005.238474523384,"y":619.2059568637027},"positionAbsolute":{"x":1005.238474523384,"y":619.2059568637027},"selected":false,"type":"变量存储器","width":586},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"根据设立的条件，判断选择分支走向","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/if-else-node-icon.png","inputs":[{"id":"3eba8e04-a13d-4f64-adec-4fc3b11ad57b","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","nodeId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"fa71ffaf-07a1-4dbc-8244-c3ca261c55a9","name":"input1","nameErrMsg":"","schema":{"type":"string","value":{"content":"开始测试","contentErrMsg":"","type":"literal"}}}],"label":"是否开始测试","labelEdit":false,"nodeMeta":{"aliasName":"分支器","nodeType":"分支器"},"nodeParam":{"uid":"18882349618","cases":[{"level":1,"logicalOperator":"and","id":"branch_one_of::f68782c2-edd4-4b6f-83a8-12ccc96dad94","conditions":[{"leftVarIndex":"3eba8e04-a13d-4f64-adec-4fc3b11ad57b","rightVarIndex":"fa71ffaf-07a1-4dbc-8244-c3ca261c55a9","id":"","compareOperator":"is","compareOperatorErrMsg":""}]},{"level":999,"logicalOperator":"and","id":"branch_one_of::5234f5c2-7f7e-4e96-adec-15cf28605871","conditions":[]}],"appId":"a01c2bc7"},"outputs":[],"references":[{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":366,"id":"if-else::a480ba74-bfac-4549-b25a-7d0681e051b4","position":{"x":221.86465050331958,"y":342.3046923542576},"positionAbsolute":{"x":221.86465050331958,"y":342.3046923542576},"selected":false,"type":"分支器","width":683},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"fileType":"","id":"1d40c82f-d2fa-41b6-9a99-5cde451cf6de","name":"R1-answer","nameErrMsg":"","schema":{"type":"string","value":{"content":"E","contentErrMsg":"","type":"literal"}}}],"label":"变量存储器_2","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"18882349618","method":"set","appId":"a01c2bc7","flowId":"7333756636828512256"},"outputs":[],"references":[{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true},{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":273,"id":"node-variable::583bc51c-78ef-4e3f-911d-bfa5b8186a26","position":{"x":3555.1363316974175,"y":360.18854897667177},"positionAbsolute":{"x":3555.1363316974175,"y":360.18854897667177},"selected":false,"type":"变量存储器","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"21e5e7c8-758d-4570-bf21-3646e031e37d","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","nodeId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}}],"label":"题目1-IorE","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"# 角色\\n你是一个MBTI测评大师\\n# 任务\\n根据MBTI理论中对于人性格外向出一道测试人性格是外向还是内向的情景题，\\n# 限制\\n## 仅输出题目和选项，不要输出任何解析或者其他多余内容\\n## 严格参考示例的格式来\\n------示例-----\\n你辛苦工作半年后终于申请到10天长假。朋友提议组织一场「庆祝回归自由」的旅行，你会：\\n\\nA. 主动策划多日狂欢行程：联系民宿包栋，邀请10+朋友参加，安排徒步烧烤派对连轴转\\nB. 发起小众目的地快闪游：在驴友论坛招募陌生人，三天两夜暴走打卡网红景点\\nC. 答应只参与最后两日：前五天宅家补剧打游戏，等人少时再去温泉旅馆发呆\\nD. 婉拒所有邀请：独自飞往雪山小镇，每天在咖啡馆看云、写旅行手账无人打扰\\n------示例结束----- ","modelId":141,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","llmId":141,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"uid":"18882349618","patchId":"0","isThink":false,"templateErrMsg":"","domain":"xdeepseekv3","appId":"a01c2bc7","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"xdeepseekv3","respFormat":0},"outputs":[{"id":"73158f47-80d8-4f5f-9530-e840f967970e","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":844,"id":"spark-llm::3a9c20c3-ab86-4e97-b750-c82674ddbabd","position":{"x":1188.9558338522743,"y":-623.8383891243615},"positionAbsolute":{"x":1188.9558338522743,"y":-623.8383891243615},"selected":false,"type":"大模型","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"id":"3117fbe9-70ba-4daf-adc0-47831418e19c","name":"round","nameErrMsg":"","schema":{"type":"string","value":{"content":"1","contentErrMsg":"","type":"literal"}}},{"id":"6a1fe32f-ed1d-4ae1-8cf8-77c5878caba3","name":"R1-answer","nameErrMsg":"","schema":{"type":"string","value":{"content":"0","contentErrMsg":"","type":"literal"}}},{"id":"6c91fd4a-1cc6-406a-b546-0c9600d857e7","name":"R2-answer","nameErrMsg":"","schema":{"type":"string","value":{"content":"0","contentErrMsg":"","type":"literal"}}},{"id":"0c3d1fa8-f22b-43f6-9f8e-dcb597047fd6","name":"R3-answer","nameErrMsg":"","schema":{"type":"string","value":{"content":"0","contentErrMsg":"","type":"literal"}}},{"id":"e31b40b7-9a2c-49e2-9c2b-01af125d3c7f","name":"R4-answer","nameErrMsg":"","schema":{"type":"string","value":{"content":"0","contentErrMsg":"","type":"literal"}}}],"label":"变量存储器_3","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"18882349618","method":"set","appId":"a01c2bc7","flowId":"7333756636828512256"},"outputs":[],"references":[{"label":"题目1-IorE","value":"spark-llm::3a9c20c3-ab86-4e97-b750-c82674ddbabd","children":[{"label":"","value":"","references":[{"id":"73158f47-80d8-4f5f-9530-e840f967970e","originId":"spark-llm::3a9c20c3-ab86-4e97-b750-c82674ddbabd","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":465,"id":"node-variable::bea489e4-0dd4-4d84-872d-bd54aa937ad7","position":{"x":2634.584748891488,"y":-696.0844235766523},"positionAbsolute":{"x":2634.584748891488,"y":-696.0844235766523},"selected":false,"type":"变量存储器","width":586},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"根据设立的条件，判断选择分支走向","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/if-else-node-icon.png","inputs":[{"fileType":"","id":"58a31bcb-a3c7-49ee-a946-18d74d8d5f7d","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","nodeId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","name":"round"},"contentErrMsg":"","type":"ref"}}},{"id":"30266aec-5d4c-4fd2-86db-e77f2e158be1","name":"input1","nameErrMsg":"","schema":{"type":"string","value":{"content":"1","contentErrMsg":"","type":"literal"}}},{"fileType":"","id":"4a197d3b-7ae2-4819-96df-0fc064843c9d","name":"inputae05eb1ccf6a40319de4a7ba635c5260","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","nodeId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","name":"round"},"contentErrMsg":"","type":"ref"}}},{"id":"05e5ef86-9927-4483-b741-54b543b13985","name":"input2c5bed9fd4204e8fb4874ee32a3b0491","nameErrMsg":"","schema":{"type":"string","value":{"content":"2","contentErrMsg":"","type":"literal"}}},{"fileType":"","id":"04042c79-cf9a-40e8-b44a-bc848190693a","name":"inputdad4fd48cc064d45be3aca2fbf4f9257","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","nodeId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","name":"round"},"contentErrMsg":"","type":"ref"}}},{"id":"71e9216c-35ac-4aae-8d83-0f54833e179b","name":"input696fec66d2e8481fb9987b03dc873c1b","nameErrMsg":"","schema":{"type":"string","value":{"content":"3","contentErrMsg":"","type":"literal"}}},{"fileType":"","id":"a9f3a9d0-acf7-485f-a4ee-5eac40bef5d6","name":"input989feb7650b848179e75106990e65bc0","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","nodeId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","name":"round"},"contentErrMsg":"","type":"ref"}}},{"id":"c1c03ada-a4e0-4f5d-b5de-b030153314db","name":"input3225dde72c0240cf8a0076c766771d29","nameErrMsg":"","schema":{"type":"string","value":{"content":"4","contentErrMsg":"","type":"literal"}}}],"label":"分支器_1","labelEdit":false,"nodeMeta":{"aliasName":"分支器","nodeType":"分支器"},"nodeParam":{"uid":"18882349618","cases":[{"level":1,"logicalOperator":"and","id":"branch_one_of::c2f9e811-6ea6-430b-b0ec-f865618dc9e0","conditions":[{"leftVarIndex":"58a31bcb-a3c7-49ee-a946-18d74d8d5f7d","rightVarIndex":"30266aec-5d4c-4fd2-86db-e77f2e158be1","id":"","compareOperator":"eq","compareOperatorErrMsg":""}]},{"id":"branch_one_of::ae572a8f-0521-4c28-8a53-bec5f6e635c1","level":2,"logicalOperator":"and","conditions":[{"id":"5f62b35d-fb07-4bd7-ada0-f001e64fd48e","leftVarIndex":"4a197d3b-7ae2-4819-96df-0fc064843c9d","rightVarIndex":"05e5ef86-9927-4483-b741-54b543b13985","compareOperator":"eq","compareOperatorErrMsg":""}]},{"id":"branch_one_of::887a3b1b-9fa9-443c-ac6d-d43a4db7fa5b","level":3,"logicalOperator":"and","conditions":[{"id":"eca60e98-4870-4845-96c6-6172d675d922","leftVarIndex":"04042c79-cf9a-40e8-b44a-bc848190693a","rightVarIndex":"71e9216c-35ac-4aae-8d83-0f54833e179b","compareOperator":"eq","compareOperatorErrMsg":""}]},{"id":"branch_one_of::c0f29c87-0f86-47b1-a334-d1a543ed3a9d","level":4,"logicalOperator":"and","conditions":[{"id":"e1a000e2-af81-4bdb-a318-b1c941cb659d","leftVarIndex":"a9f3a9d0-acf7-485f-a4ee-5eac40bef5d6","rightVarIndex":"c1c03ada-a4e0-4f5d-b5de-b030153314db","compareOperator":"eq","compareOperatorErrMsg":""}]},{"level":999,"logicalOperator":"and","id":"branch_one_of::c1b26bc0-07e3-4613-b6e4-da96c1b22327","conditions":[]}],"appId":"a01c2bc7"},"outputs":[],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":838,"id":"if-else::bdc964e9-0548-4304-b5f2-efba9976323d","position":{"x":1561.8179343686913,"y":1428.2032542603463},"positionAbsolute":{"x":1561.8179343686913,"y":1428.2032542603463},"selected":false,"type":"分支器","width":683},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"ec044365-a46d-4a56-bfc4-1df0e08163ac","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","nodeId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","name":"round"},"contentErrMsg":"","type":"ref"}}}],"label":"题目2-SorN","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"# 角色\\n你是一个MBTI测评大师\\n# 任务\\n根据MBTI理论，出一道判断人是实感型还是直觉型的情景题，选项A和B代表实感型，选项C和D代表直觉型。\\n# 限制\\n## 仅输出题目和选项，不要输出任何解析或者其他多余内容\\n## 严格参考示例的格式来\\n------示例-----\\n搬进新家后想改造旧阳台，你更可能：\\nA. 测量尺寸后网购花架，按日照时长排列绿植，用Excel规划浇水周期表\\nB. 参考家居杂志案例，买同款藤编桌椅+遮阳伞，复刻成标准化休闲区\\nC. 把阳台看作“心灵疗愈站”：悬挂风铃和捕梦网，用荧光颜料画星座图营造梦幻夜光\\nD. 拆掉推拉门打通客厅，幻想未来在这里做瑜伽直播，甚至架望远镜观测星云\\n------示例结束----- ","modelId":141,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","llmId":141,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"uid":"18882349618","patchId":"0","isThink":false,"templateErrMsg":"","domain":"xdeepseekv3","appId":"a01c2bc7","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"xdeepseekv3","respFormat":0},"outputs":[{"id":"ff4b06df-96f7-472d-b36e-4774a1777823","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":824,"id":"spark-llm::04ddd403-3b17-431d-af66-f92fb353c04c","position":{"x":2703.774897555747,"y":-136.4055768824499},"positionAbsolute":{"x":2703.774897555747,"y":-136.4055768824499},"selected":false,"type":"大模型","width":586},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"根据设立的条件，判断选择分支走向","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/if-else-node-icon.png","inputs":[{"fileType":"","id":"0e32e64e-5d35-4c71-97b7-39cd8aadd511","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","nodeId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"0e58be3f-5582-4a6f-8de7-064f1d057945","name":"input1","nameErrMsg":"","schema":{"type":"string","value":{"content":"A","contentErrMsg":"","type":"literal"}}},{"fileType":"","id":"69967121-616c-493d-86f3-156bcb57452e","name":"inputf86327889e5545b2a9c952e388b540c3","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","nodeId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"c2bf4dc5-4996-4db3-ac42-b6798f1a1a6b","name":"inputc49d118c32164d7281c33a4eb5f3856c","nameErrMsg":"","schema":{"type":"string","value":{"content":"a","contentErrMsg":"","type":"literal"}}},{"fileType":"","id":"5e04067f-2996-413a-a113-77eb6a9896bb","name":"inputbdd1e9a351654cb69f1b9209784126e1","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","nodeId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"4745282f-2868-4d56-9a59-12aa6115a5a1","name":"input10ea342370ea46ae81aa707a7382563b","nameErrMsg":"","schema":{"type":"string","value":{"content":"B","contentErrMsg":"","type":"literal"}}},{"fileType":"","id":"afe4e978-d1ca-4b52-8b95-5125ba61ef3c","name":"input49d9053d81404bccba8a335870273104","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","nodeId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"e211390d-88d3-44aa-9b5c-9791a4c98edf","name":"inputccf55f0c9b204988bc80bcc59e113e83","nameErrMsg":"","schema":{"type":"string","value":{"content":"b","contentErrMsg":"","type":"literal"}}}],"label":"分支器_2","labelEdit":false,"nodeMeta":{"aliasName":"分支器","nodeType":"分支器"},"nodeParam":{"uid":"18882349618","cases":[{"level":1,"logicalOperator":"or","id":"branch_one_of::6cd6bc57-6607-4941-b23d-8d497de520cd","conditions":[{"leftVarIndex":"0e32e64e-5d35-4c71-97b7-39cd8aadd511","rightVarIndex":"0e58be3f-5582-4a6f-8de7-064f1d057945","id":"","compareOperator":"eq","compareOperatorErrMsg":""},{"id":"e1d4614f-173f-45a1-b621-77ec4405f188","leftVarIndex":"69967121-616c-493d-86f3-156bcb57452e","rightVarIndex":"c2bf4dc5-4996-4db3-ac42-b6798f1a1a6b","compareOperator":"eq","compareOperatorErrMsg":""},{"id":"86cd470a-596f-468e-b6b4-fa3b97980e9f","leftVarIndex":"5e04067f-2996-413a-a113-77eb6a9896bb","rightVarIndex":"4745282f-2868-4d56-9a59-12aa6115a5a1","compareOperator":"eq","compareOperatorErrMsg":""},{"id":"f5fbb410-2494-4727-bbfd-a326dc36a404","leftVarIndex":"afe4e978-d1ca-4b52-8b95-5125ba61ef3c","rightVarIndex":"e211390d-88d3-44aa-9b5c-9791a4c98edf","compareOperator":"eq","compareOperatorErrMsg":""}]},{"level":999,"logicalOperator":"and","id":"branch_one_of::8ce96f54-1e2f-4c01-adf6-9e4a66a24738","conditions":[]}],"appId":"a01c2bc7"},"outputs":[],"references":[{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true},{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":492,"id":"if-else::fca34a74-408f-4fef-8d0d-7437c3a279ed","position":{"x":2700.9946940333016,"y":558.2493458135654},"positionAbsolute":{"x":2700.9946940333016,"y":558.2493458135654},"selected":false,"type":"分支器","width":683},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"id":"1d40c82f-d2fa-41b6-9a99-5cde451cf6de","name":"R1-answer","nameErrMsg":"","schema":{"type":"string","value":{"content":"I","contentErrMsg":"","type":"literal"}}}],"label":"变量存储器_4","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"18882349618","method":"set","appId":"a01c2bc7","flowId":"7333756636828512256"},"outputs":[],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":273,"id":"node-variable::78071159-fe75-4e7c-8b62-cc717f8316e6","position":{"x":3556.9653590123453,"y":535.8233821345532},"positionAbsolute":{"x":3556.9653590123453,"y":535.8233821345532},"selected":false,"type":"变量存储器","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"id":"2367c4e1-82fc-45a2-bbe2-6927f33dee43","name":"round","nameErrMsg":"","schema":{"type":"string","value":{"content":"2","contentErrMsg":"","type":"literal"}}}],"label":"变量存储器_5","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"18882349618","method":"set","appId":"a01c2bc7","flowId":"7333756636828512256"},"outputs":[],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":273,"id":"node-variable::3af0cbc9-a23f-49ef-a419-d2151bfdcd39","position":{"x":4446.021690588334,"y":467.86221471517774},"positionAbsolute":{"x":4446.021690588334,"y":467.86221471517774},"selected":false,"type":"变量存储器","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"ec044365-a46d-4a56-bfc4-1df0e08163ac","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","nodeId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","name":"round"},"contentErrMsg":"","type":"ref"}}}],"label":"题目3-TorF","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"# 角色\\n你是一个MBTI测评大师\\n# 任务\\n根据MBTI理论，出一道判断人是逻辑型还是情感型的情景题，选项A和B代表逻辑型，选项C和D代表情感型。\\n# 限制\\n## 仅输出题目和选项，不要输出任何解析或者其他多余内容\\n## 严格参考示例的格式来\\n------示例-----\\n你是一家公司的项目经理，负责一个关键项目。团队中的一名成员（小李）连续两次未能按时提交报告，导致项目进度延误。小李平时表现良好，但最近似乎有些分心。作为领导，你会如何处理这种情况？\\n\\nA. 立即组织一次团队会议，分析延误的根本原因（如工作流程或资源问题），并制定新的时间表和责任分工，以确保项目效率。\\nB. 直接与小李进行一对一会谈，基于公司绩效标准明确指出问题，并警告若再发生将影响其绩效考核。\\nC. 私下找小李谈话，询问他是否遇到个人困难（如家庭或健康问题），表达理解和支持，并帮助他调整工作安排。\\nD. 优先考虑团队氛围，避免公开批评小李，而是动员其他成员分担他的任务，并强调合作精神以维护关系。\\n------示例结束----- \\n","modelId":141,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","llmId":141,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"uid":"18882349618","patchId":"0","isThink":false,"templateErrMsg":"","domain":"xdeepseekv3","appId":"a01c2bc7","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"xdeepseekv3","respFormat":0},"outputs":[{"id":"ff4b06df-96f7-472d-b36e-4774a1777823","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":964,"id":"spark-llm::19fe6c6e-e31e-4137-9aff-4b5d6c8d7cd2","position":{"x":2710.3293370715683,"y":1092.8310648309614},"positionAbsolute":{"x":2710.3293370715683,"y":1092.8310648309614},"selected":false,"type":"大模型","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"id":"1d40c82f-d2fa-41b6-9a99-5cde451cf6de","name":"R2-answer","nameErrMsg":"","schema":{"type":"string","value":{"content":"S","contentErrMsg":"","type":"literal"}}}],"label":"变量存储器_6","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"18882349618","method":"set","appId":"a01c2bc7","flowId":"7333756636828512256"},"outputs":[],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":273,"id":"node-variable::231e82bd-b9f3-46d7-9054-8c0e47addb3d","position":{"x":3600.103588840905,"y":1029.56181992868},"positionAbsolute":{"x":3600.103588840905,"y":1029.56181992868},"selected":false,"type":"变量存储器","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"id":"1d40c82f-d2fa-41b6-9a99-5cde451cf6de","name":"R2-answer","nameErrMsg":"","schema":{"type":"string","value":{"content":"N","contentErrMsg":"","type":"literal"}}}],"label":"变量存储器_7","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"18882349618","method":"set","appId":"a01c2bc7","flowId":"7333756636828512256"},"outputs":[],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":273,"id":"node-variable::83863615-d185-4bb5-b9df-e4fa327d03a2","position":{"x":3595.1835751543413,"y":1375.2365114277677},"positionAbsolute":{"x":3595.1835751543413,"y":1375.2365114277677},"selected":false,"type":"变量存储器","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"id":"2367c4e1-82fc-45a2-bbe2-6927f33dee43","name":"round","nameErrMsg":"","schema":{"type":"string","value":{"content":"3","contentErrMsg":"","type":"literal"}}}],"label":"变量存储器_8","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"18882349618","method":"set","appId":"a01c2bc7","flowId":"7333756636828512256"},"outputs":[],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":273,"id":"node-variable::8c5dd889-b305-4248-ac4a-7d32dcc7e345","position":{"x":4451.024205375203,"y":1302.3835873441203},"positionAbsolute":{"x":4451.024205375203,"y":1302.3835873441203},"selected":false,"type":"变量存储器","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"ec044365-a46d-4a56-bfc4-1df0e08163ac","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","nodeId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","name":"round"},"contentErrMsg":"","type":"ref"}}}],"label":"题目4-PorJ","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"# 角色\\n你是一个MBTI测评大师\\n# 任务\\n根据MBTI理论，出一道判断人是判断型还是知觉型的情景题，选项A和B代表判断型，选项C和D代表知觉型。\\n# 限制\\n## 仅输出题目和选项，不要输出任何解析或者其他多余内容\\n## 严格参考示例的格式来\\n------示例-----\\n多年未见的挚友突然跨省来访三天，你会：\\nA. 提前两周制定清单：早餐店打卡、博物馆特展、山顶日落时段精确到分钟\\nB. 划分主题日：文化日/美食日/怀旧日，每晚酒店切换不同商圈体验\\nC. 只订首日晚餐，其他时候翻小红书实时找“附近最新爆款推荐”\\nD. 直接带朋友流浪：睡到自然醒，随机搭公交漫游，在陌生小巷发现惊喜\\n------示例结束----- ","modelId":141,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","llmId":141,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"uid":"18882349618","patchId":"0","isThink":false,"templateErrMsg":"","domain":"xdeepseekv3","appId":"a01c2bc7","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"xdeepseekv3","respFormat":0},"outputs":[{"id":"ff4b06df-96f7-472d-b36e-4774a1777823","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":804,"id":"spark-llm::4243ed94-342b-4c65-9819-bb33f23ea91b","position":{"x":2682.60390704571,"y":1685.7678725632268},"positionAbsolute":{"x":2682.60390704571,"y":1685.7678725632268},"selected":false,"type":"大模型","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"id":"1d40c82f-d2fa-41b6-9a99-5cde451cf6de","name":"R3-answer","nameErrMsg":"","schema":{"type":"string","value":{"content":"T","contentErrMsg":"","type":"literal"}}}],"label":"变量存储器_9","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"18882349618","method":"set","appId":"a01c2bc7","flowId":"7333756636828512256"},"outputs":[],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":273,"id":"node-variable::eef834c9-2f18-488a-97ca-d1aec265bc79","position":{"x":3579.1972638488523,"y":1837.7674796745193},"positionAbsolute":{"x":3579.1972638488523,"y":1837.7674796745193},"selected":false,"type":"变量存储器","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"id":"1d40c82f-d2fa-41b6-9a99-5cde451cf6de","name":"R3-answer","nameErrMsg":"","schema":{"type":"string","value":{"content":"F","contentErrMsg":"","type":"literal"}}}],"label":"变量存储器_10","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"18882349618","method":"set","appId":"a01c2bc7","flowId":"7333756636828512256"},"outputs":[],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":273,"id":"node-variable::a61d285c-35f4-4771-9218-b6850c8f1c63","position":{"x":3547.0385136222494,"y":2144.7214006239283},"positionAbsolute":{"x":3547.0385136222494,"y":2144.7214006239283},"selected":false,"type":"变量存储器","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"id":"1d40c82f-d2fa-41b6-9a99-5cde451cf6de","name":"R4-answer","nameErrMsg":"","schema":{"type":"string","value":{"content":"J","contentErrMsg":"","type":"literal"}}}],"label":"变量存储器_11","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"18882349618","method":"set","appId":"a01c2bc7","flowId":"7333756636828512256"},"outputs":[],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":273,"id":"node-variable::2e7597db-9093-48a4-9ec9-136cb78251f1","position":{"x":3498.6606222593064,"y":2489.9203747488737},"positionAbsolute":{"x":3498.6606222593064,"y":2489.9203747488737},"selected":false,"type":"变量存储器","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"id":"1d40c82f-d2fa-41b6-9a99-5cde451cf6de","name":"R4-answer","nameErrMsg":"","schema":{"type":"string","value":{"content":"P","contentErrMsg":"","type":"literal"}}}],"label":"变量存储器_12","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"18882349618","method":"set","appId":"a01c2bc7","flowId":"7333756636828512256"},"outputs":[],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":273,"id":"node-variable::fac0c000-ec13-457c-b420-e954694c6156","position":{"x":3544.4973995376376,"y":3073.376367557054},"positionAbsolute":{"x":3544.4973995376376,"y":3073.376367557054},"selected":false,"type":"变量存储器","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"ec044365-a46d-4a56-bfc4-1df0e08163ac","name":"1","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","nodeId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","name":"R1-answer"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"ab8232b4-de43-4c2f-9d93-752bb39f4e13","name":"2","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","nodeId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","name":"R2-answer"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"014cbeda-317f-4b84-946e-91348d030f42","name":"3","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","nodeId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","name":"R3-answer"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"e9e75513-7c41-452d-a016-2f99f9fc18c3","name":"4","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"2e795290-7c21-4887-82fd-b0baacd44fb7","nodeId":"node-variable::75cac733-f6bb-4969-a2e1-0d4187dc4fc0","name":"R4-answer"},"contentErrMsg":"","type":"ref"}}}],"label":"报告","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"# 角色\\n你是一个MBT测评大师，请根据用户的情况生成MBTI测评报告\\n# 用户情况\\n获取能量方式：{{1}}\\n信息收集方式：{{2}}\\n决策方式：{{3}}\\n生活方式：{{4}}","modelId":141,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","llmId":141,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"uid":"18882349618","patchId":"0","isThink":false,"templateErrMsg":"","domain":"xdeepseekv3","appId":"a01c2bc7","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"xdeepseekv3","respFormat":0},"outputs":[{"id":"ff4b06df-96f7-472d-b36e-4774a1777823","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true},{"label":"变量存储器_14","value":"node-variable::75cac733-f6bb-4969-a2e1-0d4187dc4fc0","children":[{"label":"","value":"","references":[{"id":"2e795290-7c21-4887-82fd-b0baacd44fb7","originId":"node-variable::75cac733-f6bb-4969-a2e1-0d4187dc4fc0","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":788,"id":"spark-llm::94b89e59-7f97-4b52-b789-8765f9f66ac1","position":{"x":4973.594360324269,"y":2641.832670216569},"positionAbsolute":{"x":4973.594360324269,"y":2641.832670216569},"selected":false,"type":"大模型","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"id":"2367c4e1-82fc-45a2-bbe2-6927f33dee43","name":"round","nameErrMsg":"","schema":{"type":"string","value":{"content":"4","contentErrMsg":"","type":"literal"}}}],"label":"变量存储器_13","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"18882349618","method":"set","appId":"a01c2bc7","flowId":"7333756636828512256"},"outputs":[],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":273,"id":"node-variable::c1d862ce-3cd3-4c88-bbf9-73c7ab6b4762","position":{"x":4543.459862827148,"y":1881.0611530996139},"positionAbsolute":{"x":4543.459862827148,"y":1881.0611530996139},"selected":false,"type":"变量存储器","width":586},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"根据设立的条件，判断选择分支走向","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/if-else-node-icon.png","inputs":[{"id":"0e32e64e-5d35-4c71-97b7-39cd8aadd511","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","nodeId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"0e58be3f-5582-4a6f-8de7-064f1d057945","name":"input1","nameErrMsg":"","schema":{"type":"string","value":{"content":"A","contentErrMsg":"","type":"literal"}}},{"id":"69967121-616c-493d-86f3-156bcb57452e","name":"inputf86327889e5545b2a9c952e388b540c3","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","nodeId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"c2bf4dc5-4996-4db3-ac42-b6798f1a1a6b","name":"inputc49d118c32164d7281c33a4eb5f3856c","nameErrMsg":"","schema":{"type":"string","value":{"content":"a","contentErrMsg":"","type":"literal"}}},{"id":"5e04067f-2996-413a-a113-77eb6a9896bb","name":"inputbdd1e9a351654cb69f1b9209784126e1","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","nodeId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"4745282f-2868-4d56-9a59-12aa6115a5a1","name":"input10ea342370ea46ae81aa707a7382563b","nameErrMsg":"","schema":{"type":"string","value":{"content":"B","contentErrMsg":"","type":"literal"}}},{"id":"afe4e978-d1ca-4b52-8b95-5125ba61ef3c","name":"input49d9053d81404bccba8a335870273104","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","nodeId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"e211390d-88d3-44aa-9b5c-9791a4c98edf","name":"inputccf55f0c9b204988bc80bcc59e113e83","nameErrMsg":"","schema":{"type":"string","value":{"content":"b","contentErrMsg":"","type":"literal"}}}],"label":"分支器_3","labelEdit":false,"nodeMeta":{"aliasName":"分支器","nodeType":"分支器"},"nodeParam":{"uid":"18882349618","cases":[{"level":1,"logicalOperator":"or","id":"branch_one_of::6cd6bc57-6607-4941-b23d-8d497de520cd","conditions":[{"leftVarIndex":"0e32e64e-5d35-4c71-97b7-39cd8aadd511","rightVarIndex":"0e58be3f-5582-4a6f-8de7-064f1d057945","id":"","compareOperator":"eq","compareOperatorErrMsg":""},{"id":"e1d4614f-173f-45a1-b621-77ec4405f188","leftVarIndex":"69967121-616c-493d-86f3-156bcb57452e","rightVarIndex":"c2bf4dc5-4996-4db3-ac42-b6798f1a1a6b","compareOperator":"eq","compareOperatorErrMsg":""},{"id":"86cd470a-596f-468e-b6b4-fa3b97980e9f","leftVarIndex":"5e04067f-2996-413a-a113-77eb6a9896bb","rightVarIndex":"4745282f-2868-4d56-9a59-12aa6115a5a1","compareOperator":"eq","compareOperatorErrMsg":""},{"id":"f5fbb410-2494-4727-bbfd-a326dc36a404","leftVarIndex":"afe4e978-d1ca-4b52-8b95-5125ba61ef3c","rightVarIndex":"e211390d-88d3-44aa-9b5c-9791a4c98edf","compareOperator":"eq","compareOperatorErrMsg":""}]},{"level":999,"logicalOperator":"and","id":"branch_one_of::8ce96f54-1e2f-4c01-adf6-9e4a66a24738","conditions":[]}],"appId":"a01c2bc7"},"outputs":[],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":492,"id":"if-else::27a293a9-147a-4e73-bb75-562b10fcbf31","position":{"x":2685.5812155022345,"y":1115.4663518001873},"positionAbsolute":{"x":2685.5812155022345,"y":1115.4663518001873},"selected":false,"type":"分支器","width":683},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"根据设立的条件，判断选择分支走向","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/if-else-node-icon.png","inputs":[{"id":"0e32e64e-5d35-4c71-97b7-39cd8aadd511","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","nodeId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"0e58be3f-5582-4a6f-8de7-064f1d057945","name":"input1","nameErrMsg":"","schema":{"type":"string","value":{"content":"A","contentErrMsg":"","type":"literal"}}},{"id":"69967121-616c-493d-86f3-156bcb57452e","name":"inputf86327889e5545b2a9c952e388b540c3","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","nodeId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"c2bf4dc5-4996-4db3-ac42-b6798f1a1a6b","name":"inputc49d118c32164d7281c33a4eb5f3856c","nameErrMsg":"","schema":{"type":"string","value":{"content":"a","contentErrMsg":"","type":"literal"}}},{"id":"5e04067f-2996-413a-a113-77eb6a9896bb","name":"inputbdd1e9a351654cb69f1b9209784126e1","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","nodeId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"4745282f-2868-4d56-9a59-12aa6115a5a1","name":"input10ea342370ea46ae81aa707a7382563b","nameErrMsg":"","schema":{"type":"string","value":{"content":"B","contentErrMsg":"","type":"literal"}}},{"id":"afe4e978-d1ca-4b52-8b95-5125ba61ef3c","name":"input49d9053d81404bccba8a335870273104","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","nodeId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"e211390d-88d3-44aa-9b5c-9791a4c98edf","name":"inputccf55f0c9b204988bc80bcc59e113e83","nameErrMsg":"","schema":{"type":"string","value":{"content":"b","contentErrMsg":"","type":"literal"}}}],"label":"分支器_4","labelEdit":false,"nodeMeta":{"aliasName":"分支器","nodeType":"分支器"},"nodeParam":{"uid":"18882349618","cases":[{"level":1,"logicalOperator":"or","id":"branch_one_of::6cd6bc57-6607-4941-b23d-8d497de520cd","conditions":[{"leftVarIndex":"0e32e64e-5d35-4c71-97b7-39cd8aadd511","rightVarIndex":"0e58be3f-5582-4a6f-8de7-064f1d057945","id":"","compareOperator":"eq","compareOperatorErrMsg":""},{"id":"e1d4614f-173f-45a1-b621-77ec4405f188","leftVarIndex":"69967121-616c-493d-86f3-156bcb57452e","rightVarIndex":"c2bf4dc5-4996-4db3-ac42-b6798f1a1a6b","compareOperator":"eq","compareOperatorErrMsg":""},{"id":"86cd470a-596f-468e-b6b4-fa3b97980e9f","leftVarIndex":"5e04067f-2996-413a-a113-77eb6a9896bb","rightVarIndex":"4745282f-2868-4d56-9a59-12aa6115a5a1","compareOperator":"eq","compareOperatorErrMsg":""},{"id":"f5fbb410-2494-4727-bbfd-a326dc36a404","leftVarIndex":"afe4e978-d1ca-4b52-8b95-5125ba61ef3c","rightVarIndex":"e211390d-88d3-44aa-9b5c-9791a4c98edf","compareOperator":"eq","compareOperatorErrMsg":""}]},{"level":999,"logicalOperator":"and","id":"branch_one_of::8ce96f54-1e2f-4c01-adf6-9e4a66a24738","conditions":[]}],"appId":"a01c2bc7"},"outputs":[],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":492,"id":"if-else::d387f9f1-d821-4e78-84bd-5271c2b90f51","position":{"x":2765.419563387835,"y":1752.2941394421475},"positionAbsolute":{"x":2765.419563387835,"y":1752.2941394421475},"selected":false,"type":"分支器","width":683},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"根据设立的条件，判断选择分支走向","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/if-else-node-icon.png","inputs":[{"id":"0e32e64e-5d35-4c71-97b7-39cd8aadd511","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","nodeId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"0e58be3f-5582-4a6f-8de7-064f1d057945","name":"input1","nameErrMsg":"","schema":{"type":"string","value":{"content":"A","contentErrMsg":"","type":"literal"}}},{"id":"69967121-616c-493d-86f3-156bcb57452e","name":"inputf86327889e5545b2a9c952e388b540c3","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","nodeId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"c2bf4dc5-4996-4db3-ac42-b6798f1a1a6b","name":"inputc49d118c32164d7281c33a4eb5f3856c","nameErrMsg":"","schema":{"type":"string","value":{"content":"a","contentErrMsg":"","type":"literal"}}},{"id":"5e04067f-2996-413a-a113-77eb6a9896bb","name":"inputbdd1e9a351654cb69f1b9209784126e1","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","nodeId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"4745282f-2868-4d56-9a59-12aa6115a5a1","name":"input10ea342370ea46ae81aa707a7382563b","nameErrMsg":"","schema":{"type":"string","value":{"content":"B","contentErrMsg":"","type":"literal"}}},{"id":"afe4e978-d1ca-4b52-8b95-5125ba61ef3c","name":"input49d9053d81404bccba8a335870273104","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","nodeId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"e211390d-88d3-44aa-9b5c-9791a4c98edf","name":"inputccf55f0c9b204988bc80bcc59e113e83","nameErrMsg":"","schema":{"type":"string","value":{"content":"b","contentErrMsg":"","type":"literal"}}}],"label":"分支器_5","labelEdit":false,"nodeMeta":{"aliasName":"分支器","nodeType":"分支器"},"nodeParam":{"uid":"18882349618","cases":[{"level":1,"logicalOperator":"or","id":"branch_one_of::6cd6bc57-6607-4941-b23d-8d497de520cd","conditions":[{"leftVarIndex":"0e32e64e-5d35-4c71-97b7-39cd8aadd511","rightVarIndex":"0e58be3f-5582-4a6f-8de7-064f1d057945","id":"","compareOperator":"eq","compareOperatorErrMsg":""},{"id":"e1d4614f-173f-45a1-b621-77ec4405f188","leftVarIndex":"69967121-616c-493d-86f3-156bcb57452e","rightVarIndex":"c2bf4dc5-4996-4db3-ac42-b6798f1a1a6b","compareOperator":"eq","compareOperatorErrMsg":""},{"id":"86cd470a-596f-468e-b6b4-fa3b97980e9f","leftVarIndex":"5e04067f-2996-413a-a113-77eb6a9896bb","rightVarIndex":"4745282f-2868-4d56-9a59-12aa6115a5a1","compareOperator":"eq","compareOperatorErrMsg":""},{"id":"f5fbb410-2494-4727-bbfd-a326dc36a404","leftVarIndex":"afe4e978-d1ca-4b52-8b95-5125ba61ef3c","rightVarIndex":"e211390d-88d3-44aa-9b5c-9791a4c98edf","compareOperator":"eq","compareOperatorErrMsg":""}]},{"level":999,"logicalOperator":"and","id":"branch_one_of::8ce96f54-1e2f-4c01-adf6-9e4a66a24738","conditions":[]}],"appId":"a01c2bc7"},"outputs":[],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":492,"id":"if-else::8fda2135-0467-4993-9b7f-a9ac831e2f00","position":{"x":2658.486591889421,"y":2758.7582099557767},"positionAbsolute":{"x":2658.486591889421,"y":2758.7582099557767},"selected":false,"type":"分支器","width":683},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[],"label":"变量存储器_14","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"18882349618","method":"get","appId":"a01c2bc7","flowId":"7333756636828512256"},"outputs":[{"id":"2e795290-7c21-4887-82fd-b0baacd44fb7","name":"R4-answer","nameErrMsg":"","refId":"e31b40b7-9a2c-49e2-9c2b-01af125d3c7f","required":true,"schema":{"description":"","type":"string"}}],"references":[{"label":"变量存储器_1","value":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","children":[{"label":"","value":"","references":[{"id":"bfb017e7-022e-4b4e-9981-c001984ad4bb","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"round","value":"round","type":"string","fileType":""},{"id":"2c5d7d91-0258-4543-9867-a909354ab9bf","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R1-answer","value":"R1-answer","type":"string","fileType":""},{"id":"2b77edec-d4a7-4b89-941d-35e53ee4a789","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R2-answer","value":"R2-answer","type":"string","fileType":""},{"id":"7a2fc302-5f73-4736-889b-0ca64f4d2412","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R3-answer","value":"R3-answer","type":"string","fileType":""},{"id":"06fd5042-b0f5-4918-b58c-9a8580ad98f1","originId":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","label":"R4-answer","value":"R4-answer","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","children":[{"label":"","value":"","references":[{"id":"fce3fda0-f8ba-46b5-8062-a188d47c3696","originId":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":268,"id":"node-variable::75cac733-f6bb-4969-a2e1-0d4187dc4fc0","position":{"x":4338.331296635309,"y":2846.909540285404},"positionAbsolute":{"x":4338.331296635309,"y":2846.909540285404},"selected":false,"type":"变量存储器","width":586}],"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb-if-else::a480ba74-bfac-4549-b25a-7d0681e051b4","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-start::1a6225ea-1ffb-4220-83e4-a516b6bec9eb","target":"if-else::a480ba74-bfac-4549-b25a-7d0681e051b4","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::a480ba74-bfac-4549-b25a-7d0681e051b4branch_one_of::5234f5c2-7f7e-4e96-adec-15cf28605871-node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::a480ba74-bfac-4549-b25a-7d0681e051b4","sourceHandle":"branch_one_of::5234f5c2-7f7e-4e96-adec-15cf28605871","target":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::a480ba74-bfac-4549-b25a-7d0681e051b4branch_one_of::f68782c2-edd4-4b6f-83a8-12ccc96dad94-spark-llm::3a9c20c3-ab86-4e97-b750-c82674ddbabd","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::a480ba74-bfac-4549-b25a-7d0681e051b4","sourceHandle":"branch_one_of::f68782c2-edd4-4b6f-83a8-12ccc96dad94","target":"spark-llm::3a9c20c3-ab86-4e97-b750-c82674ddbabd","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::3a9c20c3-ab86-4e97-b750-c82674ddbabd-node-variable::bea489e4-0dd4-4d84-872d-bd54aa937ad7","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"spark-llm::3a9c20c3-ab86-4e97-b750-c82674ddbabd","target":"node-variable::bea489e4-0dd4-4d84-872d-bd54aa937ad7","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::bea489e4-0dd4-4d84-872d-bd54aa937ad7-node-end::259e2354-3a93-456d-b29d-136cb179570bnode-end::259e2354-3a93-456d-b29d-136cb179570b","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::bea489e4-0dd4-4d84-872d-bd54aa937ad7","target":"node-end::259e2354-3a93-456d-b29d-136cb179570b","targetHandle":"node-end::259e2354-3a93-456d-b29d-136cb179570b","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3-if-else::bdc964e9-0548-4304-b5f2-efba9976323d","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::1813c8a1-d6f0-4a2c-87bc-22d8f3fb07c3","target":"if-else::bdc964e9-0548-4304-b5f2-efba9976323d","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::bdc964e9-0548-4304-b5f2-efba9976323dbranch_one_of::c2f9e811-6ea6-430b-b0ec-f865618dc9e0-spark-llm::04ddd403-3b17-431d-af66-f92fb353c04c","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::bdc964e9-0548-4304-b5f2-efba9976323d","sourceHandle":"branch_one_of::c2f9e811-6ea6-430b-b0ec-f865618dc9e0","target":"spark-llm::04ddd403-3b17-431d-af66-f92fb353c04c","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::fca34a74-408f-4fef-8d0d-7437c3a279edbranch_one_of::6cd6bc57-6607-4941-b23d-8d497de520cd-node-variable::583bc51c-78ef-4e3f-911d-bfa5b8186a26","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::fca34a74-408f-4fef-8d0d-7437c3a279ed","sourceHandle":"branch_one_of::6cd6bc57-6607-4941-b23d-8d497de520cd","target":"node-variable::583bc51c-78ef-4e3f-911d-bfa5b8186a26","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::bdc964e9-0548-4304-b5f2-efba9976323dbranch_one_of::c2f9e811-6ea6-430b-b0ec-f865618dc9e0-if-else::fca34a74-408f-4fef-8d0d-7437c3a279ed","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::bdc964e9-0548-4304-b5f2-efba9976323d","sourceHandle":"branch_one_of::c2f9e811-6ea6-430b-b0ec-f865618dc9e0","target":"if-else::fca34a74-408f-4fef-8d0d-7437c3a279ed","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::fca34a74-408f-4fef-8d0d-7437c3a279edbranch_one_of::8ce96f54-1e2f-4c01-adf6-9e4a66a24738-node-variable::78071159-fe75-4e7c-8b62-cc717f8316e6","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::fca34a74-408f-4fef-8d0d-7437c3a279ed","sourceHandle":"branch_one_of::8ce96f54-1e2f-4c01-adf6-9e4a66a24738","target":"node-variable::78071159-fe75-4e7c-8b62-cc717f8316e6","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::583bc51c-78ef-4e3f-911d-bfa5b8186a26-node-variable::3af0cbc9-a23f-49ef-a419-d2151bfdcd39","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::583bc51c-78ef-4e3f-911d-bfa5b8186a26","target":"node-variable::3af0cbc9-a23f-49ef-a419-d2151bfdcd39","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::78071159-fe75-4e7c-8b62-cc717f8316e6-node-variable::3af0cbc9-a23f-49ef-a419-d2151bfdcd39","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::78071159-fe75-4e7c-8b62-cc717f8316e6","target":"node-variable::3af0cbc9-a23f-49ef-a419-d2151bfdcd39","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::3af0cbc9-a23f-49ef-a419-d2151bfdcd39-node-end::259e2354-3a93-456d-b29d-136cb179570bnode-end::259e2354-3a93-456d-b29d-136cb179570b","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::3af0cbc9-a23f-49ef-a419-d2151bfdcd39","target":"node-end::259e2354-3a93-456d-b29d-136cb179570b","targetHandle":"node-end::259e2354-3a93-456d-b29d-136cb179570b","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::bdc964e9-0548-4304-b5f2-efba9976323dbranch_one_of::ae572a8f-0521-4c28-8a53-bec5f6e635c1-spark-llm::19fe6c6e-e31e-4137-9aff-4b5d6c8d7cd2","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::bdc964e9-0548-4304-b5f2-efba9976323d","sourceHandle":"branch_one_of::ae572a8f-0521-4c28-8a53-bec5f6e635c1","target":"spark-llm::19fe6c6e-e31e-4137-9aff-4b5d6c8d7cd2","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::231e82bd-b9f3-46d7-9054-8c0e47addb3d-node-variable::8c5dd889-b305-4248-ac4a-7d32dcc7e345","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::231e82bd-b9f3-46d7-9054-8c0e47addb3d","target":"node-variable::8c5dd889-b305-4248-ac4a-7d32dcc7e345","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::83863615-d185-4bb5-b9df-e4fa327d03a2-node-variable::8c5dd889-b305-4248-ac4a-7d32dcc7e345","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::83863615-d185-4bb5-b9df-e4fa327d03a2","target":"node-variable::8c5dd889-b305-4248-ac4a-7d32dcc7e345","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::8c5dd889-b305-4248-ac4a-7d32dcc7e345-node-end::259e2354-3a93-456d-b29d-136cb179570bnode-end::259e2354-3a93-456d-b29d-136cb179570b","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::8c5dd889-b305-4248-ac4a-7d32dcc7e345","target":"node-end::259e2354-3a93-456d-b29d-136cb179570b","targetHandle":"node-end::259e2354-3a93-456d-b29d-136cb179570b","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::bdc964e9-0548-4304-b5f2-efba9976323dbranch_one_of::887a3b1b-9fa9-443c-ac6d-d43a4db7fa5b-spark-llm::4243ed94-342b-4c65-9819-bb33f23ea91b","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::bdc964e9-0548-4304-b5f2-efba9976323d","sourceHandle":"branch_one_of::887a3b1b-9fa9-443c-ac6d-d43a4db7fa5b","target":"spark-llm::4243ed94-342b-4c65-9819-bb33f23ea91b","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::04ddd403-3b17-431d-af66-f92fb353c04c-node-end::259e2354-3a93-456d-b29d-136cb179570bnode-end::259e2354-3a93-456d-b29d-136cb179570b","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"spark-llm::04ddd403-3b17-431d-af66-f92fb353c04c","target":"node-end::259e2354-3a93-456d-b29d-136cb179570b","targetHandle":"node-end::259e2354-3a93-456d-b29d-136cb179570b","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::19fe6c6e-e31e-4137-9aff-4b5d6c8d7cd2-node-end::259e2354-3a93-456d-b29d-136cb179570bnode-end::259e2354-3a93-456d-b29d-136cb179570b","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"spark-llm::19fe6c6e-e31e-4137-9aff-4b5d6c8d7cd2","target":"node-end::259e2354-3a93-456d-b29d-136cb179570b","targetHandle":"node-end::259e2354-3a93-456d-b29d-136cb179570b","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::4243ed94-342b-4c65-9819-bb33f23ea91b-node-end::259e2354-3a93-456d-b29d-136cb179570bnode-end::259e2354-3a93-456d-b29d-136cb179570b","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"spark-llm::4243ed94-342b-4c65-9819-bb33f23ea91b","target":"node-end::259e2354-3a93-456d-b29d-136cb179570b","targetHandle":"node-end::259e2354-3a93-456d-b29d-136cb179570b","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::bdc964e9-0548-4304-b5f2-efba9976323dbranch_one_of::c1b26bc0-07e3-4613-b6e4-da96c1b22327-spark-llm::94b89e59-7f97-4b52-b789-8765f9f66ac1","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::bdc964e9-0548-4304-b5f2-efba9976323d","sourceHandle":"branch_one_of::c1b26bc0-07e3-4613-b6e4-da96c1b22327","target":"spark-llm::94b89e59-7f97-4b52-b789-8765f9f66ac1","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::eef834c9-2f18-488a-97ca-d1aec265bc79-node-variable::c1d862ce-3cd3-4c88-bbf9-73c7ab6b4762","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::eef834c9-2f18-488a-97ca-d1aec265bc79","target":"node-variable::c1d862ce-3cd3-4c88-bbf9-73c7ab6b4762","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::a61d285c-35f4-4771-9218-b6850c8f1c63-node-variable::c1d862ce-3cd3-4c88-bbf9-73c7ab6b4762","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::a61d285c-35f4-4771-9218-b6850c8f1c63","target":"node-variable::c1d862ce-3cd3-4c88-bbf9-73c7ab6b4762","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::c1d862ce-3cd3-4c88-bbf9-73c7ab6b4762-node-end::259e2354-3a93-456d-b29d-136cb179570bnode-end::259e2354-3a93-456d-b29d-136cb179570b","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::c1d862ce-3cd3-4c88-bbf9-73c7ab6b4762","target":"node-end::259e2354-3a93-456d-b29d-136cb179570b","targetHandle":"node-end::259e2354-3a93-456d-b29d-136cb179570b","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::94b89e59-7f97-4b52-b789-8765f9f66ac1-node-end::259e2354-3a93-456d-b29d-136cb179570bnode-end::259e2354-3a93-456d-b29d-136cb179570b","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"spark-llm::94b89e59-7f97-4b52-b789-8765f9f66ac1","target":"node-end::259e2354-3a93-456d-b29d-136cb179570b","targetHandle":"node-end::259e2354-3a93-456d-b29d-136cb179570b","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::27a293a9-147a-4e73-bb75-562b10fcbf31branch_one_of::6cd6bc57-6607-4941-b23d-8d497de520cd-node-variable::231e82bd-b9f3-46d7-9054-8c0e47addb3d","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::27a293a9-147a-4e73-bb75-562b10fcbf31","sourceHandle":"branch_one_of::6cd6bc57-6607-4941-b23d-8d497de520cd","target":"node-variable::231e82bd-b9f3-46d7-9054-8c0e47addb3d","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::27a293a9-147a-4e73-bb75-562b10fcbf31branch_one_of::8ce96f54-1e2f-4c01-adf6-9e4a66a24738-node-variable::83863615-d185-4bb5-b9df-e4fa327d03a2","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::27a293a9-147a-4e73-bb75-562b10fcbf31","sourceHandle":"branch_one_of::8ce96f54-1e2f-4c01-adf6-9e4a66a24738","target":"node-variable::83863615-d185-4bb5-b9df-e4fa327d03a2","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::bdc964e9-0548-4304-b5f2-efba9976323dbranch_one_of::ae572a8f-0521-4c28-8a53-bec5f6e635c1-if-else::27a293a9-147a-4e73-bb75-562b10fcbf31","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::bdc964e9-0548-4304-b5f2-efba9976323d","sourceHandle":"branch_one_of::ae572a8f-0521-4c28-8a53-bec5f6e635c1","target":"if-else::27a293a9-147a-4e73-bb75-562b10fcbf31","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::bdc964e9-0548-4304-b5f2-efba9976323dbranch_one_of::887a3b1b-9fa9-443c-ac6d-d43a4db7fa5b-if-else::d387f9f1-d821-4e78-84bd-5271c2b90f51","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::bdc964e9-0548-4304-b5f2-efba9976323d","sourceHandle":"branch_one_of::887a3b1b-9fa9-443c-ac6d-d43a4db7fa5b","target":"if-else::d387f9f1-d821-4e78-84bd-5271c2b90f51","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::d387f9f1-d821-4e78-84bd-5271c2b90f51branch_one_of::6cd6bc57-6607-4941-b23d-8d497de520cd-node-variable::eef834c9-2f18-488a-97ca-d1aec265bc79","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::d387f9f1-d821-4e78-84bd-5271c2b90f51","sourceHandle":"branch_one_of::6cd6bc57-6607-4941-b23d-8d497de520cd","target":"node-variable::eef834c9-2f18-488a-97ca-d1aec265bc79","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::d387f9f1-d821-4e78-84bd-5271c2b90f51branch_one_of::8ce96f54-1e2f-4c01-adf6-9e4a66a24738-node-variable::a61d285c-35f4-4771-9218-b6850c8f1c63","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::d387f9f1-d821-4e78-84bd-5271c2b90f51","sourceHandle":"branch_one_of::8ce96f54-1e2f-4c01-adf6-9e4a66a24738","target":"node-variable::a61d285c-35f4-4771-9218-b6850c8f1c63","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::bdc964e9-0548-4304-b5f2-efba9976323dbranch_one_of::c0f29c87-0f86-47b1-a334-d1a543ed3a9d-if-else::8fda2135-0467-4993-9b7f-a9ac831e2f00","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::bdc964e9-0548-4304-b5f2-efba9976323d","sourceHandle":"branch_one_of::c0f29c87-0f86-47b1-a334-d1a543ed3a9d","target":"if-else::8fda2135-0467-4993-9b7f-a9ac831e2f00","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::8fda2135-0467-4993-9b7f-a9ac831e2f00branch_one_of::6cd6bc57-6607-4941-b23d-8d497de520cd-node-variable::2e7597db-9093-48a4-9ec9-136cb78251f1","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::8fda2135-0467-4993-9b7f-a9ac831e2f00","sourceHandle":"branch_one_of::6cd6bc57-6607-4941-b23d-8d497de520cd","target":"node-variable::2e7597db-9093-48a4-9ec9-136cb78251f1","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::8fda2135-0467-4993-9b7f-a9ac831e2f00branch_one_of::8ce96f54-1e2f-4c01-adf6-9e4a66a24738-node-variable::fac0c000-ec13-457c-b420-e954694c6156","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::8fda2135-0467-4993-9b7f-a9ac831e2f00","sourceHandle":"branch_one_of::8ce96f54-1e2f-4c01-adf6-9e4a66a24738","target":"node-variable::fac0c000-ec13-457c-b420-e954694c6156","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::2e7597db-9093-48a4-9ec9-136cb78251f1-node-variable::75cac733-f6bb-4969-a2e1-0d4187dc4fc0","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::2e7597db-9093-48a4-9ec9-136cb78251f1","target":"node-variable::75cac733-f6bb-4969-a2e1-0d4187dc4fc0","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::fac0c000-ec13-457c-b420-e954694c6156-node-variable::75cac733-f6bb-4969-a2e1-0d4187dc4fc0","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::fac0c000-ec13-457c-b420-e954694c6156","target":"node-variable::75cac733-f6bb-4969-a2e1-0d4187dc4fc0","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::75cac733-f6bb-4969-a2e1-0d4187dc4fc0-spark-llm::94b89e59-7f97-4b52-b789-8765f9f66ac1","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-variable::75cac733-f6bb-4969-a2e1-0d4187dc4fc0","target":"spark-llm::94b89e59-7f97-4b52-b789-8765f9f66ac1","type":"customEdge"}]}', 'https://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_10@2x.png', '#FFEAD5', -1, 1, 0, 0, NULL, 0, NULL, 2, NULL, 1, NULL, '{"prologue":{"enabled":true,"inputExample":["开始测试"],"prologueText":""},"needGuide":false}', '{"botId":2898623}', NULL, NULL);
INSERT INTO workflow (id, uid, app_id, flow_id, name, description, deleted, is_public, create_time, update_time, published_data, `data`, avatar_icon, avatar_color, status, can_publish, app_updatable, top, edge_type, `order`, eval_set_id, source, bak, editing, eval_page_first_time, advanced_config, ext, category, space_id) VALUES(117903, 18882349618, '12a0a7e2', '7333431735192162306', '【模板勿动】画布038-景点AI讲解', '画布038', 0, 0, '2025-05-28 17:59:35', '2025-09-01 15:35:18', NULL, '{"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始","nodeType":"基础节点"},"nodeParam":{"apiKey":"5f93d1890c25748e68a514c62f79b8b1","appId":"a01c2bc7","apiSecret":"ODc3MDhkZjA4M2E4ZDgzODM0MmY4MzZk"},"outputs":[{"deleteDisabled":true,"id":"61df8bbe-abd6-4775-bdb6-252016d15558","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}}],"status":"","updatable":false},"dragging":false,"height":294,"id":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc","position":{"x":-854.4843386807864,"y":1166.5017907212505},"positionAbsolute":{"x":-854.4843386807864,"y":1166.5017907212505},"selected":false,"type":"开始节点","width":657},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"fileType":"","id":"d6d0f817-5407-4ac7-a99d-d23398c6ddd9","name":"audio","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"data.voice_url","id":"10f97b32-21df-4de0-b73a-f9026ed8227f","nodeId":"plugin::a1d4a8ff-2173-4e2d-974f-f590043e8208"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束","nodeType":"基础节点"},"nodeParam":{"template":"​<audio id=\\"audio\\" controls=\\"\\" preload=\\"none\\">\\n      <source id=\\"mp3\\" src=\\"{{audio}}\\">\\n</audio>","streamOutput":false,"apiKey":"5f93d1890c25748e68a514c62f79b8b1","templateErrMsg":"","appId":"a01c2bc7","apiSecret":"ODc3MDhkZjA4M2E4ZDgzODM0MmY4MzZk","outputMode":1},"outputs":[],"references":[{"children":[{"references":[{"originId":"plugin::a1d4a8ff-2173-4e2d-974f-f590043e8208","id":"aa2b495b-4ca8-4c97-965c-b50cbd65368a","label":"sid","type":"string","value":"sid","fileType":""},{"originId":"plugin::a1d4a8ff-2173-4e2d-974f-f590043e8208","id":"9269ef04-4bab-448a-8508-b35c2fcd98aa","label":"code","type":"integer","value":"code","fileType":""},{"originId":"plugin::a1d4a8ff-2173-4e2d-974f-f590043e8208","id":"3196c434-f321-4292-8d4c-aefdd2110c4a","label":"msg","type":"string","value":"msg","fileType":""},{"originId":"plugin::a1d4a8ff-2173-4e2d-974f-f590043e8208","children":[{"originId":"plugin::a1d4a8ff-2173-4e2d-974f-f590043e8208","id":"10f97b32-21df-4de0-b73a-f9026ed8227f","label":"voice_url","type":"string","value":"data.voice_url","parentType":"object","fileType":""}],"id":"74727fb7-2000-4b49-a141-24ffb0aa59a1","label":"data","type":"object","value":"data","fileType":""}],"label":"","value":""}],"label":"超拟人合成_1","parentNode":true,"value":"plugin::a1d4a8ff-2173-4e2d-974f-f590043e8208"},{"children":[{"references":[{"originId":"spark-llm::0fefbb52-60ad-4fcd-911d-01a21b1f5cba","id":"a282602b-bc37-42ef-a0ca-b5c39c7d9ca4","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"大模型_2","parentNode":true,"value":"spark-llm::0fefbb52-60ad-4fcd-911d-01a21b1f5cba"},{"children":[{"references":[{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"aa7e0e9a-983a-4065-9b4f-ab8abee64ac1","label":"msg","type":"string","value":"msg","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","children":[{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"6889bad9-3055-4f73-b6a9-7002b55e5c01","label":"summary","type":"string","value":"result.summary","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"9035b42e-d825-4263-a3f6-8528a1fa28c9","label":"img","type":"string","value":"result.img","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"e53d48df-d96e-4297-8437-26fdf6216a86","label":"domain","type":"string","value":"result.domain","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"b10e3026-a6c8-4c66-9d7b-5b45f8746e1a","label":"name","type":"string","value":"result.name","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"91a0b750-a76e-4ea3-9a67-073f4e04182b","label":"is_high_summary","type":"boolean","value":"result.is_high_summary","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"abe71f0e-67cc-488d-a114-6612ef3ddb61","label":"siteName","type":"string","value":"result.siteName","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"7f9f764e-97f0-4b8e-98bc-4a4a12c315fd","label":"source","type":"string","value":"result.source","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"761a52fe-70da-4ccf-b3b3-e75855621c7b","label":"type","type":"string","value":"result.type","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"9ba4e0bf-1e78-4eef-821d-35bfc24c186c","label":"url","type":"string","value":"result.url","parentType":"array-object","fileType":""}],"id":"9a901f3c-b661-4031-aa80-36ddb68612fb","label":"result","type":"array-object","value":"result","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"ee0f3baf-d730-4e15-89a8-82096ec46238","label":"rc","type":"string","value":"rc","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","children":[],"id":"52723d3e-1401-4ad5-ae2c-3556fc8b14cf","label":"semantic","type":"array-string","value":"semantic","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"013fa6ca-413c-4eba-9c5a-880ee033da4f","label":"total","type":"string","value":"total","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"06a39ba6-4e94-46af-a763-b54d41b0e1f1","label":"offset","type":"string","value":"offset","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"f298a826-f008-457f-a571-7f5c667233ef","label":"limit","type":"string","value":"limit","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"352c596e-8a0a-4046-867f-18cef84950a8","label":"sid","type":"string","value":"sid","fileType":""}],"label":"","value":""}],"label":"bing搜索_1","parentNode":true,"value":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce"},{"children":[{"references":[{"originId":"text-joiner::22c61f7d-c533-4f1a-95d7-30ba6edad7ee","id":"0cba8a29-f9fd-42f4-a7a6-70b8b29792c2","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"文本处理节点_1","parentNode":true,"value":"text-joiner::22c61f7d-c533-4f1a-95d7-30ba6edad7ee"},{"children":[{"references":[{"originId":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc","id":"61df8bbe-abd6-4775-bdb6-252016d15558","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc"},{"children":[{"references":[{"originId":"spark-llm::67c2f5e9-3558-4ab3-b793-1a89863075c8","id":"35e12320-cb8b-466a-b378-c799e8e93e85","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"大模型_1","parentNode":true,"value":"spark-llm::67c2f5e9-3558-4ab3-b793-1a89863075c8"},{"label":"变量提取器_2","value":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","children":[{"label":"","value":"","references":[{"id":"b914dd7f-d94a-4ad7-ac0d-ab6384dee716","originId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","label":"city","value":"city","type":"string","fileType":""},{"id":"3f3c32b1-b506-483b-8bb0-5535094cf8fe","originId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","label":"tourist_spot","value":"tourist_spot","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":615,"id":"node-end::2e28d038-81ad-4307-9bc4-477747ceb8c5","position":{"x":4541.423420256701,"y":526.8420201268883},"positionAbsolute":{"x":4541.423420256701,"y":526.8420201268883},"selected":false,"type":"结束节点","width":407},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"09b1f7aa-7c8d-4786-8972-5231ce0f7643","name":"city","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"b914dd7f-d94a-4ad7-ac0d-ab6384dee716","nodeId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","name":"city"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"72a43ac3-cb4d-4417-8931-c32e0b5557e7","name":"tourist_spot","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"3f3c32b1-b506-483b-8bb0-5535094cf8fe","nodeId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","name":"tourist_spot"},"contentErrMsg":"","type":"ref"}}}],"label":"大模型_1","labelEdit":false,"nodeMeta":{"aliasName":"大模型_1","nodeType":"基础节点"},"nodeParam":{"topK":2,"template":"# 角色\\n你是一名资深的导游，你的任务是为用户提供专业、详实的景点介绍和讲解。\\n## 工作方法\\n首先，你要判断用户是否询问了一个具体的城市和旅游景点，如果没有，则输出null。如果用户询问了一个具体的城市和旅游景点，则你要为用户介绍、讲解这个景点的信息，你介绍的内容应该包括游客游览这个景点时想要了解的各个方面，内容尽量详尽。你的介绍和讲解要基于你确实已经掌握的信息，不能凭空想象或胡编乱造。\\n\\n## 背景信息\\n用户咨询的景点所在城市：{{city}}\\n用户咨询的景点是：{{tourist_spot}}\\n\\n## 输出格式\\n- 如果不知道，不可以编造，直接输出null。","apiKey":"5f93d1890c25748e68a514c62f79b8b1","modelId":152,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","apiSecret":"ODc3MDhkZjA4M2E4ZDgzODM0MmY4MzZk","url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","uid":"20342301088","patchId":"0","isThink":false,"templateErrMsg":"","domain":"xdeepseekv32","appId":"a01c2bc7","maxTokens":4096,"temperature":0.3,"model":"spark","serviceId":"xdeepseekv32","respFormat":0,"llmIdErrMsg":""},"outputs":[{"id":"35e12320-cb8b-466a-b378-c799e8e93e85","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc","id":"61df8bbe-abd6-4775-bdb6-252016d15558","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc"},{"label":"变量提取器_2","value":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","children":[{"label":"","value":"","references":[{"id":"b914dd7f-d94a-4ad7-ac0d-ab6384dee716","originId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","label":"city","value":"city","type":"string","fileType":""},{"id":"3f3c32b1-b506-483b-8bb0-5535094cf8fe","originId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","label":"tourist_spot","value":"tourist_spot","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":1130,"id":"spark-llm::67c2f5e9-3558-4ab3-b793-1a89863075c8","position":{"x":787.9676439854697,"y":26.164354522996888},"positionAbsolute":{"x":787.9676439854697,"y":26.164354522996888},"selected":false,"type":"大模型","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"用于按照指定格式规则处理多个字符串变量","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/text-splicing-icon.png","inputs":[{"fileType":"","id":"28fbedc4-bceb-43c0-8b50-d5ba71502cdb","name":"city","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"b914dd7f-d94a-4ad7-ac0d-ab6384dee716","nodeId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","name":"city"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"c4f22095-d8a0-4953-b1e2-b320f19eff5b","name":"tourist_spot","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"3f3c32b1-b506-483b-8bb0-5535094cf8fe","nodeId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","name":"tourist_spot"},"contentErrMsg":"","type":"ref"}}}],"label":"文本处理节点_1","labelEdit":false,"nodeMeta":{"aliasName":"文本处理节点_1","nodeType":"工具"},"nodeParam":{"uid":"20342301088","apiKey":"5f93d1890c25748e68a514c62f79b8b1","separatorErrMsg":"","appId":"a01c2bc7","apiSecret":"ODc3MDhkZjA4M2E4ZDgzODM0MmY4MzZk","prompt":"\\"{{city}}\\" \\"{{tourist_spot}}\\""},"outputs":[{"id":"0cba8a29-f9fd-42f4-a7a6-70b8b29792c2","name":"output","nameErrMsg":"","schema":{"type":"string"}}],"references":[{"children":[{"references":[{"originId":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc","id":"61df8bbe-abd6-4775-bdb6-252016d15558","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc"},{"label":"变量提取器_2","value":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","children":[{"label":"","value":"","references":[{"id":"b914dd7f-d94a-4ad7-ac0d-ab6384dee716","originId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","label":"city","value":"city","type":"string","fileType":""},{"id":"3f3c32b1-b506-483b-8bb0-5535094cf8fe","originId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","label":"tourist_spot","value":"tourist_spot","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":641,"id":"text-joiner::22c61f7d-c533-4f1a-95d7-30ba6edad7ee","position":{"x":980.1692860465212,"y":1021.179654115028},"positionAbsolute":{"x":980.1692860465212,"y":1021.179654115028},"selected":false,"type":"文本拼接","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"6d469f40-c310-47f7-a137-37a2c4573e7e","name":"model_knowledge","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"35e12320-cb8b-466a-b378-c799e8e93e85","nodeId":"spark-llm::67c2f5e9-3558-4ab3-b793-1a89863075c8"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"cade5944-d8b7-47dc-b8d0-13663f1c1b00","name":"serch_info","nameErrMsg":"","schema":{"type":"array-object","value":{"content":{"name":"result","id":"9a901f3c-b661-4031-aa80-36ddb68612fb","nodeId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"da19e4f0-bc79-46d9-a2a5-27800746fd85","name":"city","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"b914dd7f-d94a-4ad7-ac0d-ab6384dee716","nodeId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","name":"city"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"a70f581e-be4d-4c22-8c78-c083d43b099b","name":"tourist_spot","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"3f3c32b1-b506-483b-8bb0-5535094cf8fe","nodeId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","name":"tourist_spot"},"contentErrMsg":"","type":"ref"}}}],"label":"大模型_2","labelEdit":false,"nodeMeta":{"aliasName":"大模型_2","nodeType":"基础节点"},"nodeParam":{"topK":3,"template":"# 角色\\n你是一名旅游景区讲解员，你的任务是将旅游景点的信息加工为语音讲解词。\\n## 输入资料\\n用户咨询的景点所在城市：{{city}}\\n用户咨询的景点是：{{tourist_spot}}\\n大模型对于该景点的介绍：\\n\\"\\"\\"\\n{{model_knowledge}}\\n\\"\\"\\"\\n网络搜索到的该景点的信息：\\n\\"\\"\\"\\n{{serch_info}}\\n\\"\\"\\"\\n## 工作方法\\n你要根据输入的资料，将景点信息加工整理为一段信息详实、引人入胜的语音解说词。解说词要符合口语的特点，适合语音播报。可以适当旁征博引，引入相关故事或典故，以加强对用户的趣味性。\\n\\n## 输出要求\\n- 使用适合转换为语音播报的文字\\n- 不要掺杂放在括号里的动作、声音、表情、背景音乐等各种转场提示性文字。","apiKey":"5f93d1890c25748e68a514c62f79b8b1","modelId":152,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","apiSecret":"ODc3MDhkZjA4M2E4ZDgzODM0MmY4MzZk","url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","uid":"20342301088","patchId":"0","isThink":false,"templateErrMsg":"","domain":"xdeepseekv32","appId":"a01c2bc7","maxTokens":8192,"temperature":0.5,"model":"spark","serviceId":"xdeepseekv32","respFormat":0,"llmIdErrMsg":""},"outputs":[{"id":"a282602b-bc37-42ef-a0ca-b5c39c7d9ca4","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::67c2f5e9-3558-4ab3-b793-1a89863075c8","id":"35e12320-cb8b-466a-b378-c799e8e93e85","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"大模型_1","parentNode":true,"value":"spark-llm::67c2f5e9-3558-4ab3-b793-1a89863075c8"},{"children":[{"references":[{"originId":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc","id":"61df8bbe-abd6-4775-bdb6-252016d15558","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc"},{"children":[{"references":[{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"aa7e0e9a-983a-4065-9b4f-ab8abee64ac1","label":"msg","type":"string","value":"msg","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","children":[{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"6889bad9-3055-4f73-b6a9-7002b55e5c01","label":"summary","type":"string","value":"result.summary","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"9035b42e-d825-4263-a3f6-8528a1fa28c9","label":"img","type":"string","value":"result.img","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"e53d48df-d96e-4297-8437-26fdf6216a86","label":"domain","type":"string","value":"result.domain","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"b10e3026-a6c8-4c66-9d7b-5b45f8746e1a","label":"name","type":"string","value":"result.name","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"91a0b750-a76e-4ea3-9a67-073f4e04182b","label":"is_high_summary","type":"boolean","value":"result.is_high_summary","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"abe71f0e-67cc-488d-a114-6612ef3ddb61","label":"siteName","type":"string","value":"result.siteName","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"7f9f764e-97f0-4b8e-98bc-4a4a12c315fd","label":"source","type":"string","value":"result.source","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"761a52fe-70da-4ccf-b3b3-e75855621c7b","label":"type","type":"string","value":"result.type","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"9ba4e0bf-1e78-4eef-821d-35bfc24c186c","label":"url","type":"string","value":"result.url","parentType":"array-object","fileType":""}],"id":"9a901f3c-b661-4031-aa80-36ddb68612fb","label":"result","type":"array-object","value":"result","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"ee0f3baf-d730-4e15-89a8-82096ec46238","label":"rc","type":"string","value":"rc","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","children":[],"id":"52723d3e-1401-4ad5-ae2c-3556fc8b14cf","label":"semantic","type":"array-string","value":"semantic","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"013fa6ca-413c-4eba-9c5a-880ee033da4f","label":"total","type":"string","value":"total","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"06a39ba6-4e94-46af-a763-b54d41b0e1f1","label":"offset","type":"string","value":"offset","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"f298a826-f008-457f-a571-7f5c667233ef","label":"limit","type":"string","value":"limit","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"352c596e-8a0a-4046-867f-18cef84950a8","label":"sid","type":"string","value":"sid","fileType":""}],"label":"","value":""}],"label":"bing搜索_1","parentNode":true,"value":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce"},{"children":[{"references":[{"originId":"text-joiner::22c61f7d-c533-4f1a-95d7-30ba6edad7ee","id":"0cba8a29-f9fd-42f4-a7a6-70b8b29792c2","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"文本处理节点_1","parentNode":true,"value":"text-joiner::22c61f7d-c533-4f1a-95d7-30ba6edad7ee"},{"label":"变量提取器_2","value":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","children":[{"label":"","value":"","references":[{"id":"b914dd7f-d94a-4ad7-ac0d-ab6384dee716","originId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","label":"city","value":"city","type":"string","fileType":""},{"id":"3f3c32b1-b506-483b-8bb0-5535094cf8fe","originId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","label":"tourist_spot","value":"tourist_spot","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":1346,"id":"spark-llm::0fefbb52-60ad-4fcd-911d-01a21b1f5cba","position":{"x":2386.530415138211,"y":422.6225943871038},"positionAbsolute":{"x":2386.530415138211,"y":422.6225943871038},"selected":false,"type":"大模型","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"需要合成的文本","disabled":false,"fileType":"","id":"b1a7dfc0-1bf5-4e89-b624-a68a390dec57","name":"text","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"output","id":"a282602b-bc37-42ef-a0ca-b5c39c7d9ca4","nodeId":"spark-llm::0fefbb52-60ad-4fcd-911d-01a21b1f5cba"},"contentErrMsg":"","type":"ref"}}},{"description":"特色发音人，目前可选（x4_lingfeiyi_oral； x4_lingxiaoxuan_oral）","disabled":false,"id":"b5979665-3ae6-4495-85fe-305948c7bd6c","name":"vcn","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":"x4_lingfeiyi_oral","contentErrMsg":"","type":"literal"}}},{"description":"语速：0对应默认语速的1/2，100对应默认语速的2倍; 默认值50","disabled":false,"id":"e112d562-7d93-4c04-b900-32d1ac6ddd14","name":"speed","nameErrMsg":"","required":false,"schema":{"type":"integer","value":{"content":{"name":"","nodeId":""},"contentErrMsg":"","type":"ref"}}}],"isLatest":true,"label":"超拟人合成_1","labelEdit":false,"nodeMeta":{"aliasName":"超拟人合成_1","nodeType":"工具"},"nodeParam":{"uid":"20342301088","code":"","toolDescription":"用户上传一段话，选择特色发音人，生成一段更拟人的语音","apiKey":"5f93d1890c25748e68a514c62f79b8b1","pluginId":"tool@72213899d821000","appId":"a01c2bc7","operationId":"超拟人合成-7UcDosEk","apiSecret":"ODc3MDhkZjA4M2E4ZDgzODM0MmY4MzZk","businessInput":[]},"outputs":[{"id":"aa2b495b-4ca8-4c97-965c-b50cbd65368a","name":"sid","schema":{"type":"string"}},{"id":"9269ef04-4bab-448a-8508-b35c2fcd98aa","name":"code","schema":{"type":"integer"}},{"id":"3196c434-f321-4292-8d4c-aefdd2110c4a","name":"msg","schema":{"type":"string"}},{"id":"74727fb7-2000-4b49-a141-24ffb0aa59a1","name":"data","schema":{"properties":[{"id":"10f97b32-21df-4de0-b73a-f9026ed8227f","name":"voice_url","type":"string"}],"type":"object"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::0fefbb52-60ad-4fcd-911d-01a21b1f5cba","id":"a282602b-bc37-42ef-a0ca-b5c39c7d9ca4","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"大模型_2","parentNode":true,"value":"spark-llm::0fefbb52-60ad-4fcd-911d-01a21b1f5cba"},{"children":[{"references":[{"originId":"spark-llm::67c2f5e9-3558-4ab3-b793-1a89863075c8","id":"35e12320-cb8b-466a-b378-c799e8e93e85","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"大模型_1","parentNode":true,"value":"spark-llm::67c2f5e9-3558-4ab3-b793-1a89863075c8"},{"children":[{"references":[{"originId":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc","id":"61df8bbe-abd6-4775-bdb6-252016d15558","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc"},{"children":[{"references":[{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"aa7e0e9a-983a-4065-9b4f-ab8abee64ac1","label":"msg","type":"string","value":"msg","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","children":[{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"6889bad9-3055-4f73-b6a9-7002b55e5c01","label":"summary","type":"string","value":"result.summary","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"9035b42e-d825-4263-a3f6-8528a1fa28c9","label":"img","type":"string","value":"result.img","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"e53d48df-d96e-4297-8437-26fdf6216a86","label":"domain","type":"string","value":"result.domain","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"b10e3026-a6c8-4c66-9d7b-5b45f8746e1a","label":"name","type":"string","value":"result.name","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"91a0b750-a76e-4ea3-9a67-073f4e04182b","label":"is_high_summary","type":"boolean","value":"result.is_high_summary","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"abe71f0e-67cc-488d-a114-6612ef3ddb61","label":"siteName","type":"string","value":"result.siteName","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"7f9f764e-97f0-4b8e-98bc-4a4a12c315fd","label":"source","type":"string","value":"result.source","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"761a52fe-70da-4ccf-b3b3-e75855621c7b","label":"type","type":"string","value":"result.type","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"9ba4e0bf-1e78-4eef-821d-35bfc24c186c","label":"url","type":"string","value":"result.url","parentType":"array-object","fileType":""}],"id":"9a901f3c-b661-4031-aa80-36ddb68612fb","label":"result","type":"array-object","value":"result","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"ee0f3baf-d730-4e15-89a8-82096ec46238","label":"rc","type":"string","value":"rc","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","children":[],"id":"52723d3e-1401-4ad5-ae2c-3556fc8b14cf","label":"semantic","type":"array-string","value":"semantic","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"013fa6ca-413c-4eba-9c5a-880ee033da4f","label":"total","type":"string","value":"total","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"06a39ba6-4e94-46af-a763-b54d41b0e1f1","label":"offset","type":"string","value":"offset","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"f298a826-f008-457f-a571-7f5c667233ef","label":"limit","type":"string","value":"limit","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"352c596e-8a0a-4046-867f-18cef84950a8","label":"sid","type":"string","value":"sid","fileType":""}],"label":"","value":""}],"label":"bing搜索_1","parentNode":true,"value":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce"},{"children":[{"references":[{"originId":"text-joiner::22c61f7d-c533-4f1a-95d7-30ba6edad7ee","id":"0cba8a29-f9fd-42f4-a7a6-70b8b29792c2","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"文本处理节点_1","parentNode":true,"value":"text-joiner::22c61f7d-c533-4f1a-95d7-30ba6edad7ee"},{"label":"变量提取器_2","value":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","children":[{"label":"","value":"","references":[{"id":"b914dd7f-d94a-4ad7-ac0d-ab6384dee716","originId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","label":"city","value":"city","type":"string","fileType":""},{"id":"3f3c32b1-b506-483b-8bb0-5535094cf8fe","originId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","label":"tourist_spot","value":"tourist_spot","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":542,"id":"plugin::a1d4a8ff-2173-4e2d-974f-f590043e8208","position":{"x":3425.134551037525,"y":470.0212462973242},"positionAbsolute":{"x":3425.134551037525,"y":470.0212462973242},"selected":false,"type":"工具","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"需要搜索的问题","disabled":false,"id":"c4d528d5-d326-4ba5-8952-cb53785046ff","name":"name","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"output","id":"0cba8a29-f9fd-42f4-a7a6-70b8b29792c2","nodeId":"text-joiner::22c61f7d-c533-4f1a-95d7-30ba6edad7ee"},"contentErrMsg":"","type":"ref"}}}],"isLatest":true,"label":"bing搜索_1","labelEdit":false,"nodeMeta":{"aliasName":"bing搜索_1","nodeType":"工具"},"nodeParam":{"uid":"20342301088","code":"","toolDescription":"使用网络搜索公开信息","apiKey":"5f93d1890c25748e68a514c62f79b8b1","pluginId":"tool@665b86a9b821000","appId":"a01c2bc7","operationId":"聚合搜索-hL0CqmNi","apiSecret":"ODc3MDhkZjA4M2E4ZDgzODM0MmY4MzZk","businessInput":[]},"outputs":[{"id":"aa7e0e9a-983a-4065-9b4f-ab8abee64ac1","name":"msg","schema":{"type":"string"}},{"id":"9a901f3c-b661-4031-aa80-36ddb68612fb","name":"result","schema":{"properties":[{"id":"6889bad9-3055-4f73-b6a9-7002b55e5c01","name":"summary","type":"string"},{"id":"9035b42e-d825-4263-a3f6-8528a1fa28c9","name":"img","type":"string"},{"id":"e53d48df-d96e-4297-8437-26fdf6216a86","name":"domain","type":"string"},{"id":"b10e3026-a6c8-4c66-9d7b-5b45f8746e1a","name":"name","type":"string"},{"id":"91a0b750-a76e-4ea3-9a67-073f4e04182b","name":"is_high_summary","type":"boolean"},{"id":"abe71f0e-67cc-488d-a114-6612ef3ddb61","name":"siteName","type":"string"},{"id":"7f9f764e-97f0-4b8e-98bc-4a4a12c315fd","name":"source","type":"string"},{"id":"761a52fe-70da-4ccf-b3b3-e75855621c7b","name":"type","type":"string"},{"id":"9ba4e0bf-1e78-4eef-821d-35bfc24c186c","name":"url","type":"string"}],"type":"array-object"}},{"id":"ee0f3baf-d730-4e15-89a8-82096ec46238","name":"rc","schema":{"type":"string"}},{"id":"52723d3e-1401-4ad5-ae2c-3556fc8b14cf","name":"semantic","schema":{"properties":[],"type":"array-string"}},{"id":"013fa6ca-413c-4eba-9c5a-880ee033da4f","name":"total","schema":{"type":"string"}},{"id":"06a39ba6-4e94-46af-a763-b54d41b0e1f1","name":"offset","schema":{"type":"string"}},{"id":"f298a826-f008-457f-a571-7f5c667233ef","name":"limit","schema":{"type":"string"}},{"id":"352c596e-8a0a-4046-867f-18cef84950a8","name":"sid","schema":{"type":"string"}}],"references":[{"children":[{"references":[{"originId":"text-joiner::22c61f7d-c533-4f1a-95d7-30ba6edad7ee","id":"0cba8a29-f9fd-42f4-a7a6-70b8b29792c2","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"文本处理节点_1","parentNode":true,"value":"text-joiner::22c61f7d-c533-4f1a-95d7-30ba6edad7ee"},{"children":[{"references":[{"originId":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc","id":"61df8bbe-abd6-4775-bdb6-252016d15558","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc"},{"label":"变量提取器_2","value":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","children":[{"label":"","value":"","references":[{"id":"b914dd7f-d94a-4ad7-ac0d-ab6384dee716","originId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","label":"city","value":"city","type":"string","fileType":""},{"id":"3f3c32b1-b506-483b-8bb0-5535094cf8fe","originId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","label":"tourist_spot","value":"tourist_spot","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":558,"id":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","position":{"x":1746.7951417424338,"y":1047.3926901935656},"positionAbsolute":{"x":1746.7951417424338,"y":1047.3926901935656},"selected":false,"type":"工具","width":586},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"在工作流中可以对中间过程的产物进行输出","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/message-node-icon.png","inputs":[{"fileType":"","id":"60152619-e4bf-466e-babc-40632f7e84fa","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"a282602b-bc37-42ef-a0ca-b5c39c7d9ca4","nodeId":"spark-llm::0fefbb52-60ad-4fcd-911d-01a21b1f5cba"},"contentErrMsg":"","type":"ref"}}}],"label":"消息_1","labelEdit":false,"nodeMeta":{"aliasName":"消息_1","nodeType":"基础节点"},"nodeParam":{"template":"\\n\\n{{input}}\\n\\n\\n-----------------------------------------\\n\\n真人音频正在生成中，稍后可直接播放\\n","streamOutput":true,"uid":"20342301088","apiKey":"5f93d1890c25748e68a514c62f79b8b1","templateErrMsg":"","appId":"a01c2bc7","startFrameEnabled":false,"apiSecret":"ODc3MDhkZjA4M2E4ZDgzODM0MmY4MzZk"},"outputs":[{"id":"2f5a0aed-d669-40a5-b696-31f9fac465ea","name":"output_m","nameErrMsg":"","schema":{"type":"string"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::0fefbb52-60ad-4fcd-911d-01a21b1f5cba","id":"a282602b-bc37-42ef-a0ca-b5c39c7d9ca4","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"大模型_2","parentNode":true,"value":"spark-llm::0fefbb52-60ad-4fcd-911d-01a21b1f5cba"},{"children":[{"references":[{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"aa7e0e9a-983a-4065-9b4f-ab8abee64ac1","label":"msg","type":"string","value":"msg","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","children":[{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"6889bad9-3055-4f73-b6a9-7002b55e5c01","label":"summary","type":"string","value":"result.summary","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"9035b42e-d825-4263-a3f6-8528a1fa28c9","label":"img","type":"string","value":"result.img","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"e53d48df-d96e-4297-8437-26fdf6216a86","label":"domain","type":"string","value":"result.domain","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"b10e3026-a6c8-4c66-9d7b-5b45f8746e1a","label":"name","type":"string","value":"result.name","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"91a0b750-a76e-4ea3-9a67-073f4e04182b","label":"is_high_summary","type":"boolean","value":"result.is_high_summary","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"abe71f0e-67cc-488d-a114-6612ef3ddb61","label":"siteName","type":"string","value":"result.siteName","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"7f9f764e-97f0-4b8e-98bc-4a4a12c315fd","label":"source","type":"string","value":"result.source","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"761a52fe-70da-4ccf-b3b3-e75855621c7b","label":"type","type":"string","value":"result.type","parentType":"array-object","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"9ba4e0bf-1e78-4eef-821d-35bfc24c186c","label":"url","type":"string","value":"result.url","parentType":"array-object","fileType":""}],"id":"9a901f3c-b661-4031-aa80-36ddb68612fb","label":"result","type":"array-object","value":"result","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"ee0f3baf-d730-4e15-89a8-82096ec46238","label":"rc","type":"string","value":"rc","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","children":[],"id":"52723d3e-1401-4ad5-ae2c-3556fc8b14cf","label":"semantic","type":"array-string","value":"semantic","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"013fa6ca-413c-4eba-9c5a-880ee033da4f","label":"total","type":"string","value":"total","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"06a39ba6-4e94-46af-a763-b54d41b0e1f1","label":"offset","type":"string","value":"offset","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"f298a826-f008-457f-a571-7f5c667233ef","label":"limit","type":"string","value":"limit","fileType":""},{"originId":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","id":"352c596e-8a0a-4046-867f-18cef84950a8","label":"sid","type":"string","value":"sid","fileType":""}],"label":"","value":""}],"label":"bing搜索_1","parentNode":true,"value":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce"},{"children":[{"references":[{"originId":"text-joiner::22c61f7d-c533-4f1a-95d7-30ba6edad7ee","id":"0cba8a29-f9fd-42f4-a7a6-70b8b29792c2","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"文本处理节点_1","parentNode":true,"value":"text-joiner::22c61f7d-c533-4f1a-95d7-30ba6edad7ee"},{"children":[{"references":[{"originId":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc","id":"61df8bbe-abd6-4775-bdb6-252016d15558","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc"},{"children":[{"references":[{"originId":"spark-llm::67c2f5e9-3558-4ab3-b793-1a89863075c8","id":"35e12320-cb8b-466a-b378-c799e8e93e85","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"大模型_1","parentNode":true,"value":"spark-llm::67c2f5e9-3558-4ab3-b793-1a89863075c8"},{"label":"变量提取器_2","value":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","children":[{"label":"","value":"","references":[{"id":"b914dd7f-d94a-4ad7-ac0d-ab6384dee716","originId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","label":"city","value":"city","type":"string","fileType":""},{"id":"3f3c32b1-b506-483b-8bb0-5535094cf8fe","originId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","label":"tourist_spot","value":"tourist_spot","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":551,"id":"message::97cc1f2c-639f-4812-8598-b4917cbe0c11","position":{"x":3384.6028572750997,"y":1116.3336003129332},"positionAbsolute":{"x":3384.6028572750997,"y":1116.3336003129332},"selected":false,"type":"消息","width":586},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"在工作流中可以对中间过程的产物进行输出","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/message-node-icon.png","inputs":[{"fileType":"","id":"d664d39f-09cd-4c56-af75-b9feb7e6b171","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"3f3c32b1-b506-483b-8bb0-5535094cf8fe","nodeId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","name":"tourist_spot"},"contentErrMsg":"","type":"ref"}}}],"label":"消息_2","labelEdit":false,"nodeMeta":{"aliasName":"消息_2","nodeType":"基础节点"},"nodeParam":{"template":"您的需求已收到，{{input}}的讲解正在生成中。。。\\n\\n--------------------------------------------------------\\n\\n","uid":"20342301088","apiKey":"5f93d1890c25748e68a514c62f79b8b1","templateErrMsg":"","appId":"a01c2bc7","startFrameEnabled":false,"apiSecret":"ODc3MDhkZjA4M2E4ZDgzODM0MmY4MzZk"},"outputs":[{"id":"7c2f7e36-54bb-4470-9f9a-464fa0ca81b4","name":"output_m","nameErrMsg":"","schema":{"type":"string"}}],"references":[{"children":[{"references":[{"originId":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc","id":"61df8bbe-abd6-4775-bdb6-252016d15558","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc"},{"label":"变量提取器_2","value":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","children":[{"label":"","value":"","references":[{"id":"b914dd7f-d94a-4ad7-ac0d-ab6384dee716","originId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","label":"city","value":"city","type":"string","fileType":""},{"id":"3f3c32b1-b506-483b-8bb0-5535094cf8fe","originId":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","label":"tourist_spot","value":"tourist_spot","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":471,"id":"message::07b3cd26-8ea1-4dff-bb3c-1f4bf4961ba5","position":{"x":1515.462032159482,"y":1849.4734387107674},"positionAbsolute":{"x":1515.462032159482,"y":1849.4734387107674},"selected":false,"type":"消息","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"结合提取变量描述，将上一节点输出的自然语言进行提取","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-extractor-icon.png","inputs":[{"fileType":"","id":"9329e9bd-8944-4934-8d06-c982782c9413","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"61df8bbe-abd6-4775-bdb6-252016d15558","nodeId":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}}],"label":"变量提取器_2","labelEdit":false,"nodeMeta":{"aliasName":"变量提取器","nodeType":"基础节点"},"nodeParam":{"topK":4,"reasonMode":1,"auditing":"default","llmId":110,"url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"18882349618","patchId":"0","domain":"4.0Ultra","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","setAnswerContentErrMsg":"输出中变量名校验不通过,自动生成JSON失败","serviceId":"bm4","llmIdErrMsg":""},"outputs":[{"id":"b914dd7f-d94a-4ad7-ac0d-ab6384dee716","name":"city","nameErrMsg":"","required":true,"schema":{"description":"用户想要查询的景点所在城市","type":"string"}},{"id":"3f3c32b1-b506-483b-8bb0-5535094cf8fe","name":"tourist_spot","nameErrMsg":"","required":true,"schema":{"description":"用户想要查询的景点","type":"string"}}],"references":[{"label":"开始","value":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc","children":[{"label":"","value":"","references":[{"id":"61df8bbe-abd6-4775-bdb6-252016d15558","originId":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":531,"id":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","position":{"x":2.519690178623364,"y":1095.8651385816013},"positionAbsolute":{"x":2.519690178623364,"y":1095.8651385816013},"selected":true,"type":"变量提取器","width":594}],"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::67c2f5e9-3558-4ab3-b793-1a89863075c8-spark-llm::0fefbb52-60ad-4fcd-911d-01a21b1f5cba","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::67c2f5e9-3558-4ab3-b793-1a89863075c8","target":"spark-llm::0fefbb52-60ad-4fcd-911d-01a21b1f5cba","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::0fefbb52-60ad-4fcd-911d-01a21b1f5cba-plugin::a1d4a8ff-2173-4e2d-974f-f590043e8208","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::0fefbb52-60ad-4fcd-911d-01a21b1f5cba","target":"plugin::a1d4a8ff-2173-4e2d-974f-f590043e8208","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-text-joiner::22c61f7d-c533-4f1a-95d7-30ba6edad7ee-plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"text-joiner::22c61f7d-c533-4f1a-95d7-30ba6edad7ee","target":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce-spark-llm::0fefbb52-60ad-4fcd-911d-01a21b1f5cba","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"plugin::09ad4cd9-c027-44cb-9e62-c2efdb82ebce","target":"spark-llm::0fefbb52-60ad-4fcd-911d-01a21b1f5cba","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::0fefbb52-60ad-4fcd-911d-01a21b1f5cba-message::97cc1f2c-639f-4812-8598-b4917cbe0c11","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::0fefbb52-60ad-4fcd-911d-01a21b1f5cba","target":"message::97cc1f2c-639f-4812-8598-b4917cbe0c11","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::a1d4a8ff-2173-4e2d-974f-f590043e8208-node-end::2e28d038-81ad-4307-9bc4-477747ceb8c5node-end::2e28d038-81ad-4307-9bc4-477747ceb8c5","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"plugin::a1d4a8ff-2173-4e2d-974f-f590043e8208","target":"node-end::2e28d038-81ad-4307-9bc4-477747ceb8c5","targetHandle":"node-end::2e28d038-81ad-4307-9bc4-477747ceb8c5","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-message::97cc1f2c-639f-4812-8598-b4917cbe0c11-node-end::2e28d038-81ad-4307-9bc4-477747ceb8c5node-end::2e28d038-81ad-4307-9bc4-477747ceb8c5","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"message::97cc1f2c-639f-4812-8598-b4917cbe0c11","target":"node-end::2e28d038-81ad-4307-9bc4-477747ceb8c5","targetHandle":"node-end::2e28d038-81ad-4307-9bc4-477747ceb8c5","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-message::07b3cd26-8ea1-4dff-bb3c-1f4bf4961ba5-node-end::2e28d038-81ad-4307-9bc4-477747ceb8c5node-end::2e28d038-81ad-4307-9bc4-477747ceb8c5","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"message::07b3cd26-8ea1-4dff-bb3c-1f4bf4961ba5","target":"node-end::2e28d038-81ad-4307-9bc4-477747ceb8c5","targetHandle":"node-end::2e28d038-81ad-4307-9bc4-477747ceb8c5","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163-spark-llm::67c2f5e9-3558-4ab3-b793-1a89863075c8","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","target":"spark-llm::67c2f5e9-3558-4ab3-b793-1a89863075c8","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163-text-joiner::22c61f7d-c533-4f1a-95d7-30ba6edad7ee","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","target":"text-joiner::22c61f7d-c533-4f1a-95d7-30ba6edad7ee","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163-message::07b3cd26-8ea1-4dff-bb3c-1f4bf4961ba5","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","target":"message::07b3cd26-8ea1-4dff-bb3c-1f4bf4961ba5","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc-extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-start::f5821026-852e-4087-a4eb-b0c0c57ff0dc","target":"extractor-parameter::fe7ef164-9d26-479a-8d70-1581ca2ae163","type":"customEdge"}]}', 'https://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_10@2x.png', '#FFEAD5', 0, 1, 0, 0, NULL, 0, NULL, 2, NULL, 1, NULL, '{"prologue":{"enabled":true,"inputExample":["请帮我介绍北京故宫","请帮我介绍北京故宫里的乾清宫","安徽黄山"],"prologueText":"你好，想去哪里玩呢？"},"needGuide":false,"speechToText":{"enabled":true},"textToSpeech":{"enabled":false,"vcn":"x4_lingxiaoying_en"},"feedback":{"enabled":true}}', NULL, 15, NULL);
INSERT INTO workflow (id, uid, app_id, flow_id, name, description, deleted, is_public, create_time, update_time, published_data, `data`, avatar_icon, avatar_color, status, can_publish, app_updatable, top, edge_type, `order`, eval_set_id, source, bak, editing, eval_page_first_time, advanced_config, ext, category, space_id) VALUES(117803, 7999407136, '12a0a7e2', '7333414911830429698', 'DeepReseach-XingChen', '当学术写作、市场分析或技术难题需要深入洞察时，简单的搜索远远不够，往往需要数十次查询。Deep Research 专为解决这一效率瓶颈而打造。', 0, 0, '2025-05-28 16:52:43', '2025-07-01 17:31:18', NULL, '{"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8-ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8","target":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::a67ed41f-1f27-4b73-b79f-af58bd393b4d-iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-variable::a67ed41f-1f27-4b73-b79f-af58bd393b4d","target":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-message::31d26fca-e908-42c5-bda4-94fc3885be9c-node-variable::a67ed41f-1f27-4b73-b79f-af58bd393b4d","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"message::31d26fca-e908-42c5-bda4-94fc3885be9c","target":"node-variable::a67ed41f-1f27-4b73-b79f-af58bd393b4d","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c-node-variable::600ef2b1-da47-4b12-9480-7b4a85f23402","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","target":"node-variable::600ef2b1-da47-4b12-9480-7b4a85f23402","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::600ef2b1-da47-4b12-9480-7b4a85f23402-spark-llm::90aadc7a-ad8a-44ea-8e41-dcb03ceb9b09","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-variable::600ef2b1-da47-4b12-9480-7b4a85f23402","target":"spark-llm::90aadc7a-ad8a-44ea-8e41-dcb03ceb9b09","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::90aadc7a-ad8a-44ea-8e41-dcb03ceb9b09-node-end::2fad4f8a-b00c-48f5-a90b-95981a100320node-end::2fad4f8a-b00c-48f5-a90b-95981a100320","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::90aadc7a-ad8a-44ea-8e41-dcb03ceb9b09","target":"node-end::2fad4f8a-b00c-48f5-a90b-95981a100320","targetHandle":"node-end::2fad4f8a-b00c-48f5-a90b-95981a100320","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c-message::31d26fca-e908-42c5-bda4-94fc3885be9c","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c","target":"message::31d26fca-e908-42c5-bda4-94fc3885be9c","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7-spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7","target":"spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9-plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9","target":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::fe875f03-d51c-4177-bd66-9a0139c608fa-spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","target":"spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae-node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae","target":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","type":"customEdge","zIndex":996},{"data":{"edgeType":"curve"},"id":"reactflow__edge-message::2e8e1b1e-d814-4956-a764-b895fe124f0f-text-joiner::39687ae1-653c-4374-9ea9-07841bec6e54","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"message::2e8e1b1e-d814-4956-a764-b895fe124f0f","target":"text-joiner::39687ae1-653c-4374-9ea9-07841bec6e54","type":"customEdge","zIndex":996},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::ab80dd20-ae2b-413d-9f7a-654e5bb71a50-message::2e8e1b1e-d814-4956-a764-b895fe124f0f","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::ab80dd20-ae2b-413d-9f7a-654e5bb71a50","target":"message::2e8e1b1e-d814-4956-a764-b895fe124f0f","type":"customEdge","zIndex":996},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2-plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","target":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","type":"customEdge","zIndex":996},{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21-spark-llm::ab80dd20-ae2b-413d-9f7a-654e5bb71a50","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","target":"spark-llm::ab80dd20-ae2b-413d-9f7a-654e5bb71a50","type":"customEdge","zIndex":996},{"data":{"edgeType":"curve"},"id":"reactflow__edge-text-joiner::39687ae1-653c-4374-9ea9-07841bec6e54-node-variable::29243923-3bd4-4510-9969-0f3eb83278e3","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"text-joiner::39687ae1-653c-4374-9ea9-07841bec6e54","target":"node-variable::29243923-3bd4-4510-9969-0f3eb83278e3","type":"customEdge","zIndex":996},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::29243923-3bd4-4510-9969-0f3eb83278e3-iteration-node-end::e81d07ff-325d-49e0-b45d-ea81b24bdb83iteration-node-end::e81d07ff-325d-49e0-b45d-ea81b24bdb83","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-variable::29243923-3bd4-4510-9969-0f3eb83278e3","target":"iteration-node-end::e81d07ff-325d-49e0-b45d-ea81b24bdb83","targetHandle":"iteration-node-end::e81d07ff-325d-49e0-b45d-ea81b24bdb83","type":"customEdge","zIndex":996},{"data":{"edgeType":"curve"},"id":"reactflow__edge-text-joiner::eb9ff3d3-82b4-4a19-b417-6c50641400ff-node-variable::67dd3c05-34da-41bb-86b6-c038cf2aac69","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"text-joiner::eb9ff3d3-82b4-4a19-b417-6c50641400ff","target":"node-variable::67dd3c05-34da-41bb-86b6-c038cf2aac69","type":"customEdge","zIndex":996},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-variable::67dd3c05-34da-41bb-86b6-c038cf2aac69-iteration-node-end::e81d07ff-325d-49e0-b45d-ea81b24bdb83iteration-node-end::e81d07ff-325d-49e0-b45d-ea81b24bdb83","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-variable::67dd3c05-34da-41bb-86b6-c038cf2aac69","target":"iteration-node-end::e81d07ff-325d-49e0-b45d-ea81b24bdb83","targetHandle":"iteration-node-end::e81d07ff-325d-49e0-b45d-ea81b24bdb83","type":"customEdge","zIndex":996},{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21-ifly-code::ccf7affc-bee5-4e13-bff9-2c8c64d1dbcf","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","target":"ifly-code::ccf7affc-bee5-4e13-bff9-2c8c64d1dbcf","type":"customEdge","zIndex":996},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::ccf7affc-bee5-4e13-bff9-2c8c64d1dbcf-text-joiner::eb9ff3d3-82b4-4a19-b417-6c50641400ff","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"ifly-code::ccf7affc-bee5-4e13-bff9-2c8c64d1dbcf","target":"text-joiner::eb9ff3d3-82b4-4a19-b417-6c50641400ff","type":"customEdge","zIndex":996}],"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始","nodeType":"基础节点"},"nodeParam":{"apiKey":"d84b9d780b488cf919c5273686ee4e1a","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw"},"outputs":[{"deleteDisabled":true,"id":"aec917bc-d56f-4cfc-8f2e-4b379d4f4b7d","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}}],"status":"","updatable":false},"dragging":false,"height":296,"id":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8","position":{"x":-2289.23514470434,"y":339.880966226477},"positionAbsolute":{"x":-2289.23514470434,"y":339.880966226477},"selected":false,"type":"开始节点","width":658},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"fileType":"","id":"1d83e7fe-0e0e-47b7-88e1-a5ba41470427","name":"report","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"4e4b20ed-b704-42c0-83b5-a8fc4d1cddc8","nodeId":"spark-llm::90aadc7a-ad8a-44ea-8e41-dcb03ceb9b09"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束节点","nodeType":"基础节点"},"nodeParam":{"template":"{{report}}","streamOutput":true,"templateErrMsg":"","outputMode":1,"reasoningTemplate":""},"outputs":[],"references":[{"children":[{"references":[{"originId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","id":"90c0ca1d-7a29-43cb-8965-ea58dcf9cbc8","label":"output","type":"array-string","value":"output","fileType":""}],"label":"","value":""}],"label":"DeepSearch","parentNode":true,"value":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c"},{"children":[{"references":[{"originId":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7","id":"ff392c69-af7c-4639-a8d5-2723f52d6d6b","label":"time","type":"string","value":"time","fileType":""}],"label":"","value":""}],"label":"Get Now","parentNode":true,"value":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7"},{"children":[{"references":[{"originId":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8","id":"aec917bc-d56f-4cfc-8f2e-4b379d4f4b7d","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8"},{"children":[{"references":[{"originId":"node-variable::600ef2b1-da47-4b12-9480-7b4a85f23402","id":"fcc9c32e-a7c4-4572-9854-ea95c49e2f29","label":"findings","type":"string","value":"findings","fileType":""},{"originId":"node-variable::600ef2b1-da47-4b12-9480-7b4a85f23402","id":"076de2a4-6856-4a6b-86e5-2c266aa5039f","label":"now","type":"string","value":"now","fileType":""},{"originId":"node-variable::600ef2b1-da47-4b12-9480-7b4a85f23402","id":"e7052b6d-f0f9-49bd-a0a8-5ed1c6064d7f","label":"urls","type":"string","value":"urls","fileType":""}],"label":"","value":""}],"label":"调研结果提取","parentNode":true,"value":"node-variable::600ef2b1-da47-4b12-9480-7b4a85f23402"},{"children":[{"references":[{"originId":"spark-llm::90aadc7a-ad8a-44ea-8e41-dcb03ceb9b09","id":"4e4b20ed-b704-42c0-83b5-a8fc4d1cddc8","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"Write_Final_Report","parentNode":true,"value":"spark-llm::90aadc7a-ad8a-44ea-8e41-dcb03ceb9b09"},{"children":[{"references":[{"originId":"spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c","children":[],"id":"cb98dc3e-ef34-431e-ba16-d8d98eb74f50","label":"queries","type":"array-string","value":"queries","fileType":""}],"label":"","value":""}],"label":"Search_Queries_Generation","parentNode":true,"value":"spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c"},{"children":[{"references":[{"originId":"spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9","id":"a86fb2b2-bef9-4af7-98c9-42d04611d2d8","label":"keyword","type":"string","value":"keyword","fileType":""}],"label":"","value":""}],"label":"Search_KeyWord","parentNode":true,"value":"spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9"},{"children":[{"references":[{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","children":[{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"427ce060-eecd-4d55-a9e1-0d22100d7232","label":"classify_domain","type":"array-string","value":"data.classify_domain","parentType":"object","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"08f765bd-d032-47b1-bb5e-c226b51f0835","label":"documents","type":"array-object","value":"data.documents","parentType":"object","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"ed39ac18-ef4b-419c-b1d1-6377ec5ecb1f","label":"more_documents","type":"array-object","value":"data.more_documents","parentType":"object","fileType":""}],"id":"06fb90c8-3dfe-4aac-86c6-f24c3139a9aa","label":"data","type":"object","value":"data","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"37dfed34-fa26-40ad-9ed5-af2da0de4e9a","label":"success","type":"boolean","value":"success","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"d496063c-39c8-4393-90bf-22a39fda8da7","label":"err_code","type":"string","value":"err_code","fileType":""}],"label":"","value":""}],"label":"Keyword_Search","parentNode":true,"value":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa"}],"status":"","updatable":false},"dragging":false,"height":617,"id":"node-end::2fad4f8a-b00c-48f5-a90b-95981a100320","position":{"x":6481.805549405643,"y":265.40671844957683},"positionAbsolute":{"x":6481.805549405643,"y":265.40671844957683},"selected":false,"type":"结束节点","width":408},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"fileType":"","id":"301fafc3-34c2-4c8c-b9b4-7f96221f1c1a","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"aec917bc-d56f-4cfc-8f2e-4b379d4f4b7d","nodeId":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8"},"contentErrMsg":"","type":"ref"}}}],"label":"Get Now","labelEdit":false,"nodeMeta":{"aliasName":"Get Now","nodeType":"工具"},"nodeParam":{"uid":"7999407136","code":"import time\\ndef main(input):\\n    ret = {\\n        \\"time\\":time.strftime(''%Y-%m-%d'', time.localtime())\\n    }\\n\\n    return ret","apiKey":"d84b9d780b488cf919c5273686ee4e1a","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","codeErrMsg":""},"outputs":[{"id":"ff392c69-af7c-4639-a8d5-2723f52d6d6b","name":"time","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8","id":"aec917bc-d56f-4cfc-8f2e-4b379d4f4b7d","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8"}],"status":"","updatable":false},"dragging":false,"height":785,"id":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7","position":{"x":-1353.9567065998558,"y":225.28668325020703},"positionAbsolute":{"x":-1353.9567065998558,"y":225.28668325020703},"selected":false,"type":"代码","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"该节点用于处理循环逻辑，仅支持嵌套一次","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/iteration-icon.png","inputs":[{"fileType":"","id":"95809fc2-80b0-4c00-a828-3067a101ae53","name":"queries","nameErrMsg":"","schema":{"type":"array-string","value":{"content":{"name":"queries","id":"cb98dc3e-ef34-431e-ba16-d8d98eb74f50","nodeId":"spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c"},"contentErrMsg":"","type":"ref"}}}],"label":"DeepSearch","labelEdit":false,"nodeMeta":{"aliasName":"DeepSearch","nodeType":"基础节点"},"nodeParam":{"uid":"7999407136","apiKey":"d84b9d780b488cf919c5273686ee4e1a","IterationStartNodeId":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw"},"outputs":[{"id":"90c0ca1d-7a29-43cb-8965-ea58dcf9cbc8","name":"output","nameErrMsg":"","schema":{"default":"","type":"array-string"}}],"references":[{"children":[{"references":[],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8"},{"children":[{"references":[{"originId":"spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c","children":[],"id":"cb98dc3e-ef34-431e-ba16-d8d98eb74f50","label":"queries","type":"array-string","value":"queries","fileType":""}],"label":"","value":""}],"label":"Search_Queries_Generation","parentNode":true,"value":"spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c"}],"status":"","updatable":false},"dragging":false,"height":1027,"id":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","position":{"x":2961.123247524005,"y":52.685391851874044},"positionAbsolute":{"x":2961.123247524005,"y":52.685391851874044},"selected":true,"type":"迭代","width":1712},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"fileType":"","id":"1b81564f-60d3-4dcb-8595-3dac3ef8955d","name":"now","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"time","id":"ff392c69-af7c-4639-a8d5-2723f52d6d6b","nodeId":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7"},"contentErrMsg":"","type":"ref"}}},{"id":"13c58afc-e1f1-4b68-b079-8d9726447c21","name":"findings","nameErrMsg":"","schema":{"type":"string","value":{"content":"\\\\ ","contentErrMsg":"","type":"literal"}}},{"id":"3ef34a64-b26b-4f1c-9b88-d4dfc9ffa2d8","name":"urls","nameErrMsg":"","schema":{"type":"string","value":{"content":"\\\\","contentErrMsg":"","type":"literal"}}}],"label":"全局变量存储","labelEdit":false,"nodeMeta":{"aliasName":"全局变量存储","nodeType":"基础节点"},"nodeParam":{"uid":"7999407136","method":"set","apiKey":"d84b9d780b488cf919c5273686ee4e1a","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","flowId":"7345744049038364672"},"outputs":[],"references":[{"children":[{"references":[{"originId":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7","id":"ff392c69-af7c-4639-a8d5-2723f52d6d6b","label":"time","type":"string","value":"time","fileType":""}],"label":"","value":""}],"label":"Get Now","parentNode":true,"value":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7"},{"children":[{"references":[{"originId":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8","id":"aec917bc-d56f-4cfc-8f2e-4b379d4f4b7d","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8"},{"children":[{"references":[{"originId":"message::31d26fca-e908-42c5-bda4-94fc3885be9c","id":"45b1aa39-e9b4-4f03-bfa8-ee71cb0f7459","label":"output_m","type":"string","value":"output_m","fileType":""}],"label":"","value":""}],"label":"Search_Queries","parentNode":true,"value":"message::31d26fca-e908-42c5-bda4-94fc3885be9c"},{"children":[{"references":[{"originId":"spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c","children":[],"id":"cb98dc3e-ef34-431e-ba16-d8d98eb74f50","label":"queries","type":"array-string","value":"queries","fileType":""}],"label":"","value":""}],"label":"Search_Queries_Generation","parentNode":true,"value":"spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c"},{"children":[{"references":[{"originId":"spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9","id":"a86fb2b2-bef9-4af7-98c9-42d04611d2d8","label":"keyword","type":"string","value":"keyword","fileType":""}],"label":"","value":""}],"label":"Search_KeyWord","parentNode":true,"value":"spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9"},{"children":[{"references":[{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","children":[{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"427ce060-eecd-4d55-a9e1-0d22100d7232","label":"classify_domain","type":"array-string","value":"data.classify_domain","parentType":"object","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"08f765bd-d032-47b1-bb5e-c226b51f0835","label":"documents","type":"array-object","value":"data.documents","parentType":"object","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"ed39ac18-ef4b-419c-b1d1-6377ec5ecb1f","label":"more_documents","type":"array-object","value":"data.more_documents","parentType":"object","fileType":""}],"id":"06fb90c8-3dfe-4aac-86c6-f24c3139a9aa","label":"data","type":"object","value":"data","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"37dfed34-fa26-40ad-9ed5-af2da0de4e9a","label":"success","type":"boolean","value":"success","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"d496063c-39c8-4393-90bf-22a39fda8da7","label":"err_code","type":"string","value":"err_code","fileType":""}],"label":"","value":""}],"label":"Keyword_Search","parentNode":true,"value":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa"}],"status":"","updatable":false},"dragging":false,"height":371,"id":"node-variable::a67ed41f-1f27-4b73-b79f-af58bd393b4d","position":{"x":2254.4349945874173,"y":443.7853496964773},"positionAbsolute":{"x":2254.4349945874173,"y":443.7853496964773},"selected":false,"type":"变量存储器","width":587},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"在工作流中可以对中间过程的产物进行输出","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/message-node-icon.png","inputs":[{"fileType":"","id":"0f6dda2b-4bda-4c62-b0a9-5885b4ba8441","name":"Queries","nameErrMsg":"","schema":{"type":"array-string","value":{"content":{"name":"queries","id":"cb98dc3e-ef34-431e-ba16-d8d98eb74f50","nodeId":"spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c"},"contentErrMsg":"","type":"ref"}}}],"label":"Search_Queries","labelEdit":false,"nodeMeta":{"aliasName":"Search_Queries","nodeType":"基础节点"},"nodeParam":{"template":"\\n=======基于您的输入，为您生成了10个研究主题=======\\n{{Queries}}","streamOutput":true,"uid":"7999407136","apiKey":"d84b9d780b488cf919c5273686ee4e1a","templateErrMsg":"","appId":"12a0a7e2","startFrameEnabled":false,"apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw"},"outputs":[{"id":"45b1aa39-e9b4-4f03-bfa8-ee71cb0f7459","name":"output_m","nameErrMsg":"","schema":{"type":"string"}}],"references":[{"children":[{"references":[{"originId":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7","id":"ff392c69-af7c-4639-a8d5-2723f52d6d6b","label":"time","type":"string","value":"time","fileType":""}],"label":"","value":""}],"label":"Get Now","parentNode":true,"value":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7"},{"children":[{"references":[{"originId":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8","id":"aec917bc-d56f-4cfc-8f2e-4b379d4f4b7d","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8"},{"children":[{"references":[{"originId":"spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c","children":[],"id":"cb98dc3e-ef34-431e-ba16-d8d98eb74f50","label":"queries","type":"array-string","value":"queries","fileType":""}],"label":"","value":""}],"label":"Search_Queries_Generation","parentNode":true,"value":"spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c"},{"children":[{"references":[{"originId":"spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9","id":"a86fb2b2-bef9-4af7-98c9-42d04611d2d8","label":"keyword","type":"string","value":"keyword","fileType":""}],"label":"","value":""}],"label":"Search_KeyWord","parentNode":true,"value":"spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9"},{"children":[{"references":[{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","children":[{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"427ce060-eecd-4d55-a9e1-0d22100d7232","label":"classify_domain","type":"array-string","value":"data.classify_domain","parentType":"object","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"08f765bd-d032-47b1-bb5e-c226b51f0835","label":"documents","type":"array-object","value":"data.documents","parentType":"object","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"ed39ac18-ef4b-419c-b1d1-6377ec5ecb1f","label":"more_documents","type":"array-object","value":"data.more_documents","parentType":"object","fileType":""}],"id":"06fb90c8-3dfe-4aac-86c6-f24c3139a9aa","label":"data","type":"object","value":"data","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"37dfed34-fa26-40ad-9ed5-af2da0de4e9a","label":"success","type":"boolean","value":"success","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"d496063c-39c8-4393-90bf-22a39fda8da7","label":"err_code","type":"string","value":"err_code","fileType":""}],"label":"","value":""}],"label":"Keyword_Search","parentNode":true,"value":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa"}],"status":"","updatable":false},"dragging":false,"height":423,"id":"message::31d26fca-e908-42c5-bda4-94fc3885be9c","position":{"x":1545.3269398529592,"y":391.18758610556506},"positionAbsolute":{"x":1545.3269398529592,"y":391.18758610556506},"selected":false,"type":"消息","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[],"label":"调研结果提取","labelEdit":false,"nodeMeta":{"aliasName":"变量存储器","nodeType":"基础节点"},"nodeParam":{"uid":"7999407136","method":"get","appId":"12a0a7e2","flowId":"7333414911830429698"},"outputs":[{"id":"fcc9c32e-a7c4-4572-9854-ea95c49e2f29","name":"findings","nameErrMsg":"","refId":"13c58afc-e1f1-4b68-b079-8d9726447c21","required":true,"schema":{"description":"","type":"string"}},{"id":"076de2a4-6856-4a6b-86e5-2c266aa5039f","name":"now","nameErrMsg":"","refId":"1b81564f-60d3-4dcb-8595-3dac3ef8955d","required":true,"schema":{"default":"","type":"string"}},{"id":"e7052b6d-f0f9-49bd-a0a8-5ed1c6064d7f","name":"urls","nameErrMsg":"","refId":"3ef34a64-b26b-4f1c-9b88-d4dfc9ffa2d8","required":true,"schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","id":"90c0ca1d-7a29-43cb-8965-ea58dcf9cbc8","label":"output","type":"array-string","value":"output","fileType":""}],"label":"","value":""}],"label":"DeepSearch","parentNode":true,"value":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c"},{"children":[{"references":[{"originId":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7","id":"ff392c69-af7c-4639-a8d5-2723f52d6d6b","label":"time","type":"string","value":"time","fileType":""}],"label":"","value":""}],"label":"Get Now","parentNode":true,"value":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7"},{"children":[{"references":[{"originId":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8","id":"aec917bc-d56f-4cfc-8f2e-4b379d4f4b7d","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8"},{"children":[{"references":[{"originId":"spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c","children":[],"id":"cb98dc3e-ef34-431e-ba16-d8d98eb74f50","label":"queries","type":"array-string","value":"queries","fileType":""}],"label":"","value":""}],"label":"Search_Queries_Generation","parentNode":true,"value":"spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c"},{"children":[{"references":[{"originId":"spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9","id":"a86fb2b2-bef9-4af7-98c9-42d04611d2d8","label":"keyword","type":"string","value":"keyword","fileType":""}],"label":"","value":""}],"label":"Search_KeyWord","parentNode":true,"value":"spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9"},{"children":[{"references":[{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","children":[{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"427ce060-eecd-4d55-a9e1-0d22100d7232","label":"classify_domain","type":"array-string","value":"data.classify_domain","parentType":"object","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"08f765bd-d032-47b1-bb5e-c226b51f0835","label":"documents","type":"array-object","value":"data.documents","parentType":"object","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"ed39ac18-ef4b-419c-b1d1-6377ec5ecb1f","label":"more_documents","type":"array-object","value":"data.more_documents","parentType":"object","fileType":""}],"id":"06fb90c8-3dfe-4aac-86c6-f24c3139a9aa","label":"data","type":"object","value":"data","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"37dfed34-fa26-40ad-9ed5-af2da0de4e9a","label":"success","type":"boolean","value":"success","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"d496063c-39c8-4393-90bf-22a39fda8da7","label":"err_code","type":"string","value":"err_code","fileType":""}],"label":"","value":""}],"label":"Keyword_Search","parentNode":true,"value":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa"}],"status":"","updatable":false},"dragging":false,"height":359,"id":"node-variable::600ef2b1-da47-4b12-9480-7b4a85f23402","position":{"x":4931.782766893291,"y":379.54479075727227},"positionAbsolute":{"x":4931.782766893291,"y":379.54479075727227},"selected":false,"type":"变量存储器","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"19c83fb0-9626-4c4b-ab8e-c568fbdf5ad2","name":"user_input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"aec917bc-d56f-4cfc-8f2e-4b379d4f4b7d","nodeId":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"f76b33a2-d02c-4f8c-82e1-a9fceed17b2c","name":"learnings","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"findings","id":"fcc9c32e-a7c4-4572-9854-ea95c49e2f29","nodeId":"node-variable::600ef2b1-da47-4b12-9480-7b4a85f23402"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"4fc3f902-5f1c-4740-b620-2f0d287c9e37","name":"now","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"now","id":"076de2a4-6856-4a6b-86e5-2c266aa5039f","nodeId":"node-variable::600ef2b1-da47-4b12-9480-7b4a85f23402"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"5c128dba-dc24-426f-afc6-e34b9d16bfb9","name":"visitedURLs","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"urls","id":"e7052b6d-f0f9-49bd-a0a8-5ed1c6064d7f","nodeId":"node-variable::600ef2b1-da47-4b12-9480-7b4a85f23402"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"3f8e5c97-57e9-424b-a264-3d01fd11eb7c","name":"topics","nameErrMsg":"","schema":{"type":"array-string","value":{"content":{"name":"queries","id":"cb98dc3e-ef34-431e-ba16-d8d98eb74f50","nodeId":"spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c"},"contentErrMsg":"","type":"ref"}}}],"label":"Write_Final_Report","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"Given the following input from the user, write a final chinese report strictly using ONLY the provided research materials. Make it as detailed as possible, The goal is no less than 5000 words，include ALL the learnings from research:\\n\\nCritical Requirements:\\n1. Content Boundaries:\\n   - Every claim must have direct source evidence in <learnings>/<source>\\n   - Use verbatim source phrasing where possible\\n   - Never combine information from multiple sources into new conclusions\\n\\n<input>{{user_input}}</input>\\nHere are all the learnings from previous research:\\n<learnings>\\n{{learnings}}\\n</learnings>\\n\\n<excuted_query>\\n{{topics}}\\n</excuted_query>\\n\\nOutput the images in the form of Markdown links. You need to ensure that the output text can be correctly parsed by the front - end. Return a final report with both text and source url list to me.","enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","llmId":10000014,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"uid":"7999407136","patchId":"0","isThink":false,"templateErrMsg":"","domain":"xopgptoss120b","appId":"12a0a7e2","maxTokens":65535,"temperature":0.5,"systemTemplate":"You are an expert researcher. Today is {{now}}. Follow these instructions when responding:\\n- Relevance Enforcement Core\\n- Every output segment must contain explicit relevance markers showing connection to {{user_input}}\\n- Implement 3-layer relevance verification:\\n  1. Content must contain ≥1 direct match to user''s query keywords\\n  2. Semantic similarity score ≥0.7 (calculated via cosine similarity)\\n  3. Include relevance justification statement per paragraph\\n- Strict Source Adherence**: All content must be directly derived from the provided <source> and <learnings>. Do NOT generate, infer, or supplement any information beyond the research materials.\\n  - Verification Protocol**: For every key point in the report:\\n      a) Cross-reference with at least 2 independent sources in <visitedURLs>\\n      b) If conflicting data exists, present all perspectives without resolution\\n      c) Flag any gaps in research instead of filling them\\n  - Anti-Hallucination Measures:\\n      - Never create data, statistics, or quotes\\n      - Reject requests requiring knowledge beyond provided materials\\n      - Use explicit phrasing: \\"Research indicates...\\" instead of definitive claims\\n  - You may be asked to research subjects that is after your knowledge cutoff, assume the user is right when presented with news.\\n  - The user is a highly experienced analyst, no need to simplify it, be as detailed as possible and make sure your response is correct.\\n  - Be highly organized.\\n  - Suggest solutions that I didn''t think about.\\n  - Be proactive and anticipate my needs.\\n  - Treat me as an expert in all subject matter.\\n  - Mistakes erode my trust, so be accurate and thorough.\\n  - Provide detailed explanations, I''m comfortable with lots of detail.\\n  - Value good arguments over authorities, the source is irrelevant.\\n  - Consider new technologies and contrarian ideas, not just the conventional wisdom.\\n  - You may use high levels of speculation or prediction, just flag it for me.\\n\\n<source>\\n{{visitedURLs}}\\n</source>","model":"spark","serviceId":"xopgptoss120b","respFormat":0},"outputs":[{"id":"4e4b20ed-b704-42c0-83b5-a8fc4d1cddc8","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"node-variable::600ef2b1-da47-4b12-9480-7b4a85f23402","id":"fcc9c32e-a7c4-4572-9854-ea95c49e2f29","label":"findings","type":"string","value":"findings","fileType":""},{"originId":"node-variable::600ef2b1-da47-4b12-9480-7b4a85f23402","id":"076de2a4-6856-4a6b-86e5-2c266aa5039f","label":"now","type":"string","value":"now","fileType":""},{"originId":"node-variable::600ef2b1-da47-4b12-9480-7b4a85f23402","id":"e7052b6d-f0f9-49bd-a0a8-5ed1c6064d7f","label":"urls","type":"string","value":"urls","fileType":""}],"label":"","value":""}],"label":"调研结果提取","parentNode":true,"value":"node-variable::600ef2b1-da47-4b12-9480-7b4a85f23402"},{"children":[{"references":[{"originId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","id":"90c0ca1d-7a29-43cb-8965-ea58dcf9cbc8","label":"output","type":"array-string","value":"output","fileType":""}],"label":"","value":""}],"label":"DeepSearch","parentNode":true,"value":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c"},{"children":[{"references":[{"originId":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7","id":"ff392c69-af7c-4639-a8d5-2723f52d6d6b","label":"time","type":"string","value":"time","fileType":""}],"label":"","value":""}],"label":"Get Now","parentNode":true,"value":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7"},{"children":[{"references":[{"originId":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8","id":"aec917bc-d56f-4cfc-8f2e-4b379d4f4b7d","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8"},{"children":[{"references":[{"originId":"spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c","children":[],"id":"cb98dc3e-ef34-431e-ba16-d8d98eb74f50","label":"queries","type":"array-string","value":"queries","fileType":""}],"label":"","value":""}],"label":"Search_Queries_Generation","parentNode":true,"value":"spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c"},{"children":[{"references":[{"originId":"spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9","id":"a86fb2b2-bef9-4af7-98c9-42d04611d2d8","label":"keyword","type":"string","value":"keyword","fileType":""}],"label":"","value":""}],"label":"Search_KeyWord","parentNode":true,"value":"spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9"},{"children":[{"references":[{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","children":[{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"427ce060-eecd-4d55-a9e1-0d22100d7232","label":"classify_domain","type":"array-string","value":"data.classify_domain","parentType":"object","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"08f765bd-d032-47b1-bb5e-c226b51f0835","label":"documents","type":"array-object","value":"data.documents","parentType":"object","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"ed39ac18-ef4b-419c-b1d1-6377ec5ecb1f","label":"more_documents","type":"array-object","value":"data.more_documents","parentType":"object","fileType":""}],"id":"06fb90c8-3dfe-4aac-86c6-f24c3139a9aa","label":"data","type":"object","value":"data","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"37dfed34-fa26-40ad-9ed5-af2da0de4e9a","label":"success","type":"boolean","value":"success","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"d496063c-39c8-4393-90bf-22a39fda8da7","label":"err_code","type":"string","value":"err_code","fileType":""}],"label":"","value":""}],"label":"Keyword_Search","parentNode":true,"value":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa"}],"status":"","updatable":false},"dragging":false,"height":1737,"id":"spark-llm::90aadc7a-ad8a-44ea-8e41-dcb03ceb9b09","position":{"x":5706.843935224669,"y":117.7239499988699},"positionAbsolute":{"x":5706.843935224669,"y":117.7239499988699},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"82227be2-0e6e-4e24-bda9-23fac34026e7","name":"exa_answer","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"aec917bc-d56f-4cfc-8f2e-4b379d4f4b7d","nodeId":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8"},"contentErrMsg":"","type":"ref"}}},{"id":"efa57daf-c3f2-4ad2-95d0-a56302b251be","name":"numQueries","nameErrMsg":"","schema":{"type":"string","value":{"content":"10","contentErrMsg":"","type":"literal"}}},{"fileType":"","id":"5d539ef9-db85-46de-baa9-975ef1bba413","name":"background","nameErrMsg":"","schema":{"type":"array-object","value":{"content":{"name":"data.documents","id":"08f765bd-d032-47b1-bb5e-c226b51f0835","nodeId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa"},"contentErrMsg":"","type":"ref"}}}],"label":"Search_Queries_Generation","labelEdit":false,"nodeMeta":{"aliasName":"Search_Queries_Generation","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"Given the following prompt from the user, generate a list of SERP Chinese queries to research the topic. Return a maximum of {{numQueries}} queries, but feel free to return less if the original prompt is clear. Make sure each query is unique and not similar to each other:\\n<prompt>\\n## user_query\\n{{user_query}}\\n## background\\n{{background}}\\n</prompt>\\n\\nPlease output use json format\\n``````json\\n{\\"queries\\":[\\"query1\\",\\"query2\\"...]}\\n``````","apiKey":"d84b9d780b488cf919c5273686ee4e1a","modelId":141,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","llmId":141,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"uid":"7999407136","patchId":"0","isThink":false,"templateErrMsg":"","domain":"xdeepseekv3","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"systemTemplate":"You are an expert researcher. Today is {{now}}. Follow these instructions when responding:\\n  - You may be asked to research subjects that is after your knowledge cutoff, assume the user is right when presented with news.\\n  - The user is a highly experienced analyst, no need to simplify it, be as detailed as possible and make sure your response is correct.\\n  - Be highly organized.\\n  - Suggest solutions that I didn''t think about.\\n  - Be proactive and anticipate my needs.\\n  - Treat me as an expert in all subject matter.\\n  - Mistakes erode my trust, so be accurate and thorough.\\n  - Provide detailed explanations, I''m comfortable with lots of detail.\\n  - Value good arguments over authorities, the source is irrelevant.\\n  - Consider new technologies and contrarian ideas, not just the conventional wisdom.\\n  - You may use high levels of speculation or prediction, just flag it for me.","model":"spark","serviceId":"xdeepseekv3","respFormat":2},"outputs":[{"id":"cb98dc3e-ef34-431e-ba16-d8d98eb74f50","name":"queries","nameErrMsg":"","schema":{"default":"","properties":[],"type":"array-string"}}],"references":[{"children":[{"references":[{"originId":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7","id":"ff392c69-af7c-4639-a8d5-2723f52d6d6b","label":"time","type":"string","value":"time","fileType":""}],"label":"","value":""}],"label":"Get Now","parentNode":true,"value":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7"},{"children":[{"references":[{"originId":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8","id":"aec917bc-d56f-4cfc-8f2e-4b379d4f4b7d","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8"},{"children":[{"references":[{"originId":"spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9","id":"a86fb2b2-bef9-4af7-98c9-42d04611d2d8","label":"keyword","type":"string","value":"keyword","fileType":""}],"label":"","value":""}],"label":"Search_KeyWord","parentNode":true,"value":"spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9"},{"children":[{"references":[{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","children":[{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"427ce060-eecd-4d55-a9e1-0d22100d7232","label":"classify_domain","type":"array-string","value":"data.classify_domain","parentType":"object","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"08f765bd-d032-47b1-bb5e-c226b51f0835","label":"documents","type":"array-object","value":"data.documents","parentType":"object","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"ed39ac18-ef4b-419c-b1d1-6377ec5ecb1f","label":"more_documents","type":"array-object","value":"data.more_documents","parentType":"object","fileType":""}],"id":"06fb90c8-3dfe-4aac-86c6-f24c3139a9aa","label":"data","type":"object","value":"data","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"37dfed34-fa26-40ad-9ed5-af2da0de4e9a","label":"success","type":"boolean","value":"success","fileType":""},{"originId":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","id":"d496063c-39c8-4393-90bf-22a39fda8da7","label":"err_code","type":"string","value":"err_code","fileType":""}],"label":"","value":""}],"label":"Keyword_Search","parentNode":true,"value":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa"}],"status":"","updatable":false},"dragging":false,"height":1334,"id":"spark-llm::7a25582d-779b-49f2-82f2-3fe8496f495c","position":{"x":854.5482842075206,"y":224.60200568847358},"positionAbsolute":{"x":854.5482842075206,"y":224.60200568847358},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"34ecd9c2-0151-462a-9d9d-e14d9c16722f","name":"query","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"aec917bc-d56f-4cfc-8f2e-4b379d4f4b7d","nodeId":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8"},"contentErrMsg":"","type":"ref"}}}],"label":"Search_KeyWord","labelEdit":false,"nodeMeta":{"aliasName":"Search_KeyWord","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"# 任务：你是一个深度研究专家，可以基于用户输入，提取唯一核心搜索关键词\\n## 用户输入\\n{{query}}\\n## 要求\\n1.  **唯一性**：仅输出 **1个** 最核心的关键词。\\n2.  **核心性**：必须直接指向问题最核心的**实体/概念/动作**（优先名词、专有名词）。\\n3.  **具体性**：\\n    *   使用最具体、信息量最大的词汇（如 ``iPhone15Pro续航`` 而非 ``苹果手机``）。\\n    *   若核心是**比较**，融合比较对象和属性（如 ``华为苹果5G速度对比``）。\\n    *   若含关键限定词（时间/地点），且不可或缺，则融入关键词（如 ``2024巴黎奥运会赛程``）。\\n4.  **搜索友好**：\\n    *   长度适中（通常2-6个汉字或1-3个英文词）。\\n    *   **禁止**疑问词（如何/为什么）、助词（的/了）、无意义动词（想/了解）。\\n    *   **禁止**句子或短语。\\n## 输出格式\\n``````json\\n{\\"keyword\\":\\"核心关键词\\"}\\n``````","apiKey":"d84b9d780b488cf919c5273686ee4e1a","modelId":141,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","llmId":141,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"uid":"7999407136","patchId":"0","isThink":false,"templateErrMsg":"","domain":"xdeepseekv3","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"xdeepseekv3","respFormat":2},"outputs":[{"id":"a86fb2b2-bef9-4af7-98c9-42d04611d2d8","name":"keyword","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7","id":"ff392c69-af7c-4639-a8d5-2723f52d6d6b","label":"time","type":"string","value":"time","fileType":""}],"label":"","value":""}],"label":"Get Now","parentNode":true,"value":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7"},{"children":[{"references":[{"originId":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8","id":"aec917bc-d56f-4cfc-8f2e-4b379d4f4b7d","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8"}],"status":"","updatable":false},"dragging":false,"height":1169,"id":"spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9","position":{"x":-605.5116975522649,"y":64.21043198288953},"positionAbsolute":{"x":-605.5116975522649,"y":64.21043198288953},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"返回网页数量","disabled":false,"id":"c0ccb58f-d412-4df2-917f-c62ef5c455c4","name":"limit","nameErrMsg":"","required":true,"schema":{"type":"integer","value":{"content":"3","contentErrMsg":"","type":"literal"}}},{"description":"检索关键词","disabled":false,"fileType":"","id":"d7654983-4673-4297-b809-4447478d1379","name":"name","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"keyword","id":"a86fb2b2-bef9-4af7-98c9-42d04611d2d8","nodeId":"spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9"},"contentErrMsg":"","type":"ref"}}},{"description":"结果是否重排序","disabled":false,"id":"4ad685a3-b2d8-4c37-b3b6-247b124f3f1c","name":"open_rerank","nameErrMsg":"","required":true,"schema":{"type":"boolean","value":{"content":"True","contentErrMsg":"","type":"literal"}}},{"description":"是否开启全文内容","disabled":false,"id":"19430fb5-ef88-4535-b83e-6a14340a3e7d","name":"full_text","nameErrMsg":"","required":true,"schema":{"type":"boolean","value":{"content":"True","contentErrMsg":"","type":"literal"}}}],"label":"Keyword_Search","labelEdit":false,"nodeMeta":{"aliasName":"Keyword_Search","nodeType":"工具"},"nodeParam":{"uid":"7999407136","code":"","toolDescription":"使用网络搜索公开信息","apiKey":"d84b9d780b488cf919c5273686ee4e1a","pluginId":"tool@7b783cae9c21000","appId":"12a0a7e2","operationId":"聚合搜索-b5HNlLDD","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","businessInput":[]},"outputs":[{"id":"06fb90c8-3dfe-4aac-86c6-f24c3139a9aa","name":"data","schema":{"properties":[{"id":"427ce060-eecd-4d55-a9e1-0d22100d7232","name":"classify_domain","properties":[],"type":"array-string"},{"id":"08f765bd-d032-47b1-bb5e-c226b51f0835","name":"documents","properties":[],"type":"array-object"},{"id":"ed39ac18-ef4b-419c-b1d1-6377ec5ecb1f","name":"more_documents","properties":[],"type":"array-object"}],"type":"object"}},{"id":"37dfed34-fa26-40ad-9ed5-af2da0de4e9a","name":"success","schema":{"type":"boolean"}},{"id":"d496063c-39c8-4393-90bf-22a39fda8da7","name":"err_code","schema":{"type":"string"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9","id":"a86fb2b2-bef9-4af7-98c9-42d04611d2d8","label":"keyword","type":"string","value":"keyword","fileType":""}],"label":"","value":""}],"label":"Search_KeyWord","parentNode":true,"value":"spark-llm::b5c7663a-5ada-4eaa-bab0-863a1c2b45f9"},{"children":[{"references":[{"originId":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7","id":"ff392c69-af7c-4639-a8d5-2723f52d6d6b","label":"time","type":"string","value":"time","fileType":""}],"label":"","value":""}],"label":"Get Now","parentNode":true,"value":"ifly-code::ef446a69-6d16-4ce4-8657-8163e0c435b7"},{"children":[{"references":[{"originId":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8","id":"aec917bc-d56f-4cfc-8f2e-4b379d4f4b7d","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::d88fae63-d215-4b2a-bd3d-cddc5c2a1eb8"}],"status":"","updatable":false},"dragging":false,"height":503,"id":"plugin::fe875f03-d51c-4177-bd66-9a0139c608fa","position":{"x":139.48063887908415,"y":326.7249599859789},"positionAbsolute":{"x":139.48063887908415,"y":326.7249599859789},"selected":false,"type":"工具","width":587},{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始","nodeType":"基础节点"},"nodeParam":{"apiKey":"d84b9d780b488cf919c5273686ee4e1a","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw"},"originPosition":{"x":-2019.1289520601033,"y":296.5978116672338},"outputs":[{"id":"95809fc2-80b0-4c00-a828-3067a101ae53","name":"queries","nameErrMsg":"","schema":{"default":"","type":"string"}}],"parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","status":"success","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":232,"id":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae","parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","position":{"x":30,"y":425.915809231445},"positionAbsolute":{"x":-2019.1289520601033,"y":296.5978116672338},"selected":false,"type":"开始节点","width":658,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"fileType":"","id":"8f6cdf43-36d4-4e91-889f-b3ebd6b12a02","name":"output","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"66c95cb3-2968-4cec-9623-035fcd3cb02e","nodeId":"text-joiner::39687ae1-653c-4374-9ea9-07841bec6e54"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束","nodeType":"基础节点"},"nodeParam":{"template":"","apiKey":"d84b9d780b488cf919c5273686ee4e1a","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","outputMode":0},"originPosition":{"x":3461.3097047592923,"y":510.4450170462777},"outputs":[],"parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","references":[{"children":[{"references":[{"originId":"text-joiner::39687ae1-653c-4374-9ea9-07841bec6e54","id":"66c95cb3-2968-4cec-9623-035fcd3cb02e","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"SerpResultsHandle","parentNode":true,"value":"text-joiner::39687ae1-653c-4374-9ea9-07841bec6e54"},{"children":[{"references":[{"originId":"spark-llm::ab80dd20-ae2b-413d-9f7a-654e5bb71a50","id":"c3007e34-fd7d-40c2-bebf-3cd725b8ba82","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"ProcessSerpResult","parentNode":true,"value":"spark-llm::ab80dd20-ae2b-413d-9f7a-654e5bb71a50"},{"children":[{"references":[{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","children":[{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"427ce060-eecd-4d55-a9e1-0d22100d7232","label":"classify_domain","type":"array-string","value":"data.classify_domain","parentType":"object","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"08f765bd-d032-47b1-bb5e-c226b51f0835","label":"documents","type":"array-object","value":"data.documents","parentType":"object","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"ed39ac18-ef4b-419c-b1d1-6377ec5ecb1f","label":"more_documents","type":"array-object","value":"data.more_documents","parentType":"object","fileType":""}],"id":"83d9bf29-1df8-478e-9f64-2bec46f2f6d2","label":"data","type":"object","value":"data","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"f632f44d-5326-43b7-9b41-54d026467fda","label":"success","type":"boolean","value":"success","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"ec4d5969-c920-46f9-985c-a8bf0eac105a","label":"err_code","type":"string","value":"err_code","fileType":""}],"label":"","value":""}],"label":"聚合搜索","parentNode":true,"value":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21"},{"children":[{"references":[{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"4969937b-5455-421b-b08d-27525eecbea1","label":"now","type":"string","value":"now","fileType":""},{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"8318d323-5a56-460c-9277-1ccea3b5ca9b","label":"findings","type":"string","value":"findings","fileType":""},{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"671bb501-2465-4440-8bca-666e0de97b10","label":"urls","type":"string","value":"urls","fileType":""}],"label":"","value":""}],"label":"全局变量提取","parentNode":true,"value":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2"},{"children":[{"references":[{"originId":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae","id":"95809fc2-80b0-4c00-a828-3067a101ae53","label":"queries","type":"string","value":"queries","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae"},{"children":[{"references":[{"originId":"text-joiner::eb9ff3d3-82b4-4a19-b417-6c50641400ff","id":"66c95cb3-2968-4cec-9623-035fcd3cb02e","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"SerpResultsHandle_1","parentNode":true,"value":"text-joiner::eb9ff3d3-82b4-4a19-b417-6c50641400ff"},{"children":[{"references":[{"originId":"ifly-code::ccf7affc-bee5-4e13-bff9-2c8c64d1dbcf","children":[],"id":"b5e3a55a-956b-488a-ba44-c5eebbe61c77","label":"url","type":"string","value":"url","fileType":""}],"label":"","value":""}],"label":"Extract_URLs","parentNode":true,"value":"ifly-code::ccf7affc-bee5-4e13-bff9-2c8c64d1dbcf"}],"status":"success","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":229,"id":"iteration-node-end::e81d07ff-325d-49e0-b45d-ea81b24bdb83","parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","position":{"x":1400.109664204849,"y":479.37761057620594},"positionAbsolute":{"x":3461.3097047592923,"y":510.4450170462777},"selected":false,"type":"结束节点","width":408,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[],"label":"全局变量提取","labelEdit":false,"nodeMeta":{"aliasName":"全局变量提取","nodeType":"基础节点"},"nodeParam":{"uid":"7999407136","method":"get","apiKey":"d84b9d780b488cf919c5273686ee4e1a","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","flowId":"7345744049038364672"},"originPosition":{"x":-1065.5466674931718,"y":233.84742089352562},"outputs":[{"id":"4969937b-5455-421b-b08d-27525eecbea1","name":"now","nameErrMsg":"","refId":"1b81564f-60d3-4dcb-8595-3dac3ef8955d","required":true,"schema":{"description":"","type":"string"}},{"id":"8318d323-5a56-460c-9277-1ccea3b5ca9b","name":"findings","nameErrMsg":"","refId":"13c58afc-e1f1-4b68-b079-8d9726447c21","required":true,"schema":{"default":"","type":"string"}},{"id":"671bb501-2465-4440-8bca-666e0de97b10","name":"urls","nameErrMsg":"","refId":"3ef34a64-b26b-4f1c-9b88-d4dfc9ffa2d8","required":true,"schema":{"default":"","type":"string"}}],"parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","references":[{"children":[{"references":[{"originId":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae","id":"95809fc2-80b0-4c00-a828-3067a101ae53","label":"queries","type":"string","value":"queries","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae"}],"status":"success","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":359,"id":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","position":{"x":268.3955711417329,"y":410.22821153801794},"positionAbsolute":{"x":-1065.5466674931718,"y":233.84742089352562},"selected":false,"type":"变量存储器","width":587,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"用于按照指定格式规则处理多个字符串变量","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/text-splicing-icon.png","inputs":[{"fileType":"","id":"9a94f5e9-d5ac-4711-a0e6-5ca2ac465ccc","name":"query","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"queries","id":"95809fc2-80b0-4c00-a828-3067a101ae53","nodeId":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"eee3dc74-842f-4d46-841c-9c5d0d590010","name":"result","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"c3007e34-fd7d-40c2-bebf-3cd725b8ba82","nodeId":"spark-llm::ab80dd20-ae2b-413d-9f7a-654e5bb71a50"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"0144d744-a49b-426d-94f2-3843a6ccb7e4","name":"findings","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"findings","id":"8318d323-5a56-460c-9277-1ccea3b5ca9b","nodeId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2"},"contentErrMsg":"","type":"ref"}}}],"label":"SerpResultsHandle","labelEdit":false,"nodeMeta":{"aliasName":"SerpResultsHandle","nodeType":"工具"},"nodeParam":{"uid":"7999407136","apiKey":"d84b9d780b488cf919c5273686ee4e1a","separatorErrMsg":"","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","prompt":"<Query>\\n{{query}}\\n</Query>\\n<Result>\\n{{result}}\\n</Result>\\n{{findings}}"},"originPosition":{"x":2097.1434869812306,"y":364.9581265810171},"outputs":[{"id":"66c95cb3-2968-4cec-9623-035fcd3cb02e","name":"output","nameErrMsg":"","schema":{"type":"string"}}],"parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","references":[{"children":[{"references":[{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"4969937b-5455-421b-b08d-27525eecbea1","label":"now","type":"string","value":"now","fileType":""},{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"8318d323-5a56-460c-9277-1ccea3b5ca9b","label":"findings","type":"string","value":"findings","fileType":""},{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"671bb501-2465-4440-8bca-666e0de97b10","label":"urls","type":"string","value":"urls","fileType":""}],"label":"","value":""}],"label":"全局变量提取","parentNode":true,"value":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2"},{"children":[{"references":[{"originId":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae","id":"95809fc2-80b0-4c00-a828-3067a101ae53","label":"queries","type":"string","value":"queries","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae"},{"children":[{"references":[{"originId":"spark-llm::ab80dd20-ae2b-413d-9f7a-654e5bb71a50","id":"c3007e34-fd7d-40c2-bebf-3cd725b8ba82","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"ProcessSerpResult","parentNode":true,"value":"spark-llm::ab80dd20-ae2b-413d-9f7a-654e5bb71a50"},{"children":[{"references":[{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","children":[{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"427ce060-eecd-4d55-a9e1-0d22100d7232","label":"classify_domain","type":"array-string","value":"data.classify_domain","parentType":"object","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"08f765bd-d032-47b1-bb5e-c226b51f0835","label":"documents","type":"array-object","value":"data.documents","parentType":"object","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"ed39ac18-ef4b-419c-b1d1-6377ec5ecb1f","label":"more_documents","type":"array-object","value":"data.more_documents","parentType":"object","fileType":""}],"id":"83d9bf29-1df8-478e-9f64-2bec46f2f6d2","label":"data","type":"object","value":"data","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"f632f44d-5326-43b7-9b41-54d026467fda","label":"success","type":"boolean","value":"success","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"ec4d5969-c920-46f9-985c-a8bf0eac105a","label":"err_code","type":"string","value":"err_code","fileType":""}],"label":"","value":""}],"label":"聚合搜索","parentNode":true,"value":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21"}],"status":"success","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":700,"id":"text-joiner::39687ae1-653c-4374-9ea9-07841bec6e54","parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","position":{"x":1059.0681097603335,"y":443.0058879598908},"positionAbsolute":{"x":2097.1434869812306,"y":364.9581265810171},"selected":false,"type":"文本拼接","width":587,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"在工作流中可以对中间过程的产物进行输出","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/message-node-icon.png","inputs":[{"fileType":"","id":"12087343-0339-4c7f-978a-0c15af2dc897","name":"result","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"c3007e34-fd7d-40c2-bebf-3cd725b8ba82","nodeId":"spark-llm::ab80dd20-ae2b-413d-9f7a-654e5bb71a50"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"00bb3de4-b220-4a04-94ba-ff6531f6f837","name":"queries","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"queries","id":"95809fc2-80b0-4c00-a828-3067a101ae53","nodeId":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae"},"contentErrMsg":"","type":"ref"}}}],"label":"消息_1","labelEdit":false,"nodeMeta":{"aliasName":"消息_1","nodeType":"基础节点"},"nodeParam":{"template":"\\n=======主题：《{{queries}}》深度研究完成=======\\n{{result}}","streamOutput":true,"uid":"7999407136","apiKey":"d84b9d780b488cf919c5273686ee4e1a","templateErrMsg":"","appId":"12a0a7e2","startFrameEnabled":false,"apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw"},"originPosition":{"x":1216.1819372639081,"y":324.5143494939853},"outputs":[{"id":"662fd50a-85d2-4a2e-a247-273c0917bad4","name":"output_m","nameErrMsg":"","schema":{"type":"string"}}],"parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","references":[{"children":[{"references":[{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"4969937b-5455-421b-b08d-27525eecbea1","label":"now","type":"string","value":"now","fileType":""},{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"8318d323-5a56-460c-9277-1ccea3b5ca9b","label":"findings","type":"string","value":"findings","fileType":""},{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"671bb501-2465-4440-8bca-666e0de97b10","label":"urls","type":"string","value":"urls","fileType":""}],"label":"","value":""}],"label":"全局变量提取","parentNode":true,"value":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2"},{"children":[{"references":[{"originId":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae","id":"95809fc2-80b0-4c00-a828-3067a101ae53","label":"queries","type":"string","value":"queries","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae"},{"children":[{"references":[{"originId":"spark-llm::ab80dd20-ae2b-413d-9f7a-654e5bb71a50","id":"c3007e34-fd7d-40c2-bebf-3cd725b8ba82","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"ProcessSerpResult","parentNode":true,"value":"spark-llm::ab80dd20-ae2b-413d-9f7a-654e5bb71a50"},{"children":[{"references":[{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","children":[{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"427ce060-eecd-4d55-a9e1-0d22100d7232","label":"classify_domain","type":"array-string","value":"data.classify_domain","parentType":"object","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"08f765bd-d032-47b1-bb5e-c226b51f0835","label":"documents","type":"array-object","value":"data.documents","parentType":"object","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"ed39ac18-ef4b-419c-b1d1-6377ec5ecb1f","label":"more_documents","type":"array-object","value":"data.more_documents","parentType":"object","fileType":""}],"id":"83d9bf29-1df8-478e-9f64-2bec46f2f6d2","label":"data","type":"object","value":"data","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"f632f44d-5326-43b7-9b41-54d026467fda","label":"success","type":"boolean","value":"success","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"ec4d5969-c920-46f9-985c-a8bf0eac105a","label":"err_code","type":"string","value":"err_code","fileType":""}],"label":"","value":""}],"label":"聚合搜索","parentNode":true,"value":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21"}],"status":"running","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":471,"id":"message::2e8e1b1e-d814-4956-a764-b895fe124f0f","parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","position":{"x":838.8277223310029,"y":432.89494368813286},"positionAbsolute":{"x":1216.1819372639081,"y":324.5143494939853},"selected":false,"type":"消息","width":587,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"082fef70-7284-4e11-8fc6-b352e1a3e879","name":"query","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"queries","id":"95809fc2-80b0-4c00-a828-3067a101ae53","nodeId":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"e6c589a2-0115-4c49-ae9e-ffb919de1a00","name":"now","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"now","id":"4969937b-5455-421b-b08d-27525eecbea1","nodeId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"54990964-9571-4310-b0cd-20bc16e12d73","name":"contents","nameErrMsg":"","schema":{"type":"array-object","value":{"content":{"name":"data.documents","id":"08f765bd-d032-47b1-bb5e-c226b51f0835","nodeId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21"},"contentErrMsg":"","type":"ref"}}}],"label":"ProcessSerpResult","labelEdit":false,"nodeMeta":{"aliasName":"ProcessSerpResult","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"Given the following contents from a SERP search for the query <query>{{query}}</query>, generate a chinese list of learnings from the contents. authoritative academic websites (such as arxiv, PubMed,) are preferred.Return a maximum of 5 learnings, but feel free to return less if the contents are clear. Make sure each learning is unique and not similar to each other. The learnings should be concise and to the point, as detailed and information dense as possible. Make sure to include any entities like people, places, companies, products, things, etc in the learnings, as well as any exact metrics, numbers, or dates. The learnings will be used to research the topic further.\\n\\n<contents>\\n{{contents}}\\n</contents>","apiKey":"d84b9d780b488cf919c5273686ee4e1a","modelId":141,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","llmId":141,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"uid":"7999407136","patchId":"0","isThink":false,"templateErrMsg":"","domain":"xdeepseekv3","appId":"12a0a7e2","maxTokens":8192,"temperature":0.5,"systemTemplate":"You are an expert researcher. Today is {{now}}. Follow these instructions when responding:\\n  - You may be asked to research subjects that is after your knowledge cutoff, assume the user is right when presented with news.\\n  - The user is a highly experienced analyst, no need to simplify it, be as detailed as possible and make sure your response is correct.\\n  - Be highly organized.\\n  - Suggest solutions that I didn''t think about.\\n  - Be proactive and anticipate my needs.\\n  - Treat me as an expert in all subject matter.\\n  - Mistakes erode my trust, so be accurate and thorough.\\n  - Provide detailed explanations, I''m comfortable with lots of detail.\\n  - Value good arguments over authorities, the source is irrelevant.\\n  - Consider new technologies and contrarian ideas, not just the conventional wisdom.\\n  - You may use high levels of speculation or prediction, just flag it for me.\\n","model":"spark","serviceId":"xdeepseekv3","respFormat":0},"originPosition":{"x":469.02140664412127,"y":-87.0654252585461},"outputs":[{"id":"c3007e34-fd7d-40c2-bebf-3cd725b8ba82","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","references":[{"children":[{"references":[{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"4969937b-5455-421b-b08d-27525eecbea1","label":"now","type":"string","value":"now","fileType":""},{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"8318d323-5a56-460c-9277-1ccea3b5ca9b","label":"findings","type":"string","value":"findings","fileType":""},{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"671bb501-2465-4440-8bca-666e0de97b10","label":"urls","type":"string","value":"urls","fileType":""}],"label":"","value":""}],"label":"全局变量提取","parentNode":true,"value":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2"},{"children":[{"references":[{"originId":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae","id":"95809fc2-80b0-4c00-a828-3067a101ae53","label":"queries","type":"string","value":"queries","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae"},{"children":[{"references":[{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","children":[{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"427ce060-eecd-4d55-a9e1-0d22100d7232","label":"classify_domain","type":"array-string","value":"data.classify_domain","parentType":"object","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"08f765bd-d032-47b1-bb5e-c226b51f0835","label":"documents","type":"array-object","value":"data.documents","parentType":"object","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"ed39ac18-ef4b-419c-b1d1-6377ec5ecb1f","label":"more_documents","type":"array-object","value":"data.more_documents","parentType":"object","fileType":""}],"id":"83d9bf29-1df8-478e-9f64-2bec46f2f6d2","label":"data","type":"object","value":"data","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"f632f44d-5326-43b7-9b41-54d026467fda","label":"success","type":"boolean","value":"success","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"ec4d5969-c920-46f9-985c-a8bf0eac105a","label":"err_code","type":"string","value":"err_code","fileType":""}],"label":"","value":""}],"label":"聚合搜索","parentNode":true,"value":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21"}],"status":"running","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":1290,"id":"spark-llm::ab80dd20-ae2b-413d-9f7a-654e5bb71a50","parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","position":{"x":652.0375896760561,"y":330},"positionAbsolute":{"x":469.02140664412127,"y":-87.0654252585461},"selected":false,"type":"大模型","width":587,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"返回网页数量","disabled":false,"id":"c93f4a1b-b82b-45ff-a171-01ec1190d9df","name":"limit","nameErrMsg":"","required":true,"schema":{"type":"integer","value":{"content":"3","contentErrMsg":"","type":"literal"}}},{"description":"检索关键词","disabled":false,"fileType":"","id":"32d3d825-b645-438a-bdfb-ad3210e99554","name":"name","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"queries","id":"95809fc2-80b0-4c00-a828-3067a101ae53","nodeId":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae"},"contentErrMsg":"","type":"ref"}}},{"description":"结果是否重排序","disabled":false,"id":"b293d886-fb44-4bda-935d-ff3499600911","name":"open_rerank","nameErrMsg":"","required":true,"schema":{"type":"boolean","value":{"content":"True","contentErrMsg":"","type":"literal"}}},{"description":"是否开启全文内容","disabled":false,"id":"17dfd805-3b84-421d-a0a8-d4d214be0c0c","name":"full_text","nameErrMsg":"","required":true,"schema":{"type":"boolean","value":{"content":"True","contentErrMsg":"","type":"literal"}}}],"label":"聚合搜索","labelEdit":false,"nodeMeta":{"aliasName":"聚合搜索","nodeType":"工具"},"nodeParam":{"uid":"7999407136","code":"","toolDescription":"使用网络搜索公开信息","apiKey":"d84b9d780b488cf919c5273686ee4e1a","pluginId":"tool@7b783cae9c21000","appId":"12a0a7e2","operationId":"聚合搜索-b5HNlLDD","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","businessInput":[]},"originPosition":{"x":-275.3066521353346,"y":-64.65872180204218},"outputs":[{"id":"83d9bf29-1df8-478e-9f64-2bec46f2f6d2","name":"data","schema":{"properties":[{"id":"427ce060-eecd-4d55-a9e1-0d22100d7232","name":"classify_domain","properties":[],"type":"array-string"},{"id":"08f765bd-d032-47b1-bb5e-c226b51f0835","name":"documents","properties":[],"type":"array-object"},{"id":"ed39ac18-ef4b-419c-b1d1-6377ec5ecb1f","name":"more_documents","properties":[],"type":"array-object"}],"type":"object"}},{"id":"f632f44d-5326-43b7-9b41-54d026467fda","name":"success","schema":{"type":"boolean"}},{"id":"ec4d5969-c920-46f9-985c-a8bf0eac105a","name":"err_code","schema":{"type":"string"}}],"parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","references":[{"children":[{"references":[{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"4969937b-5455-421b-b08d-27525eecbea1","label":"now","type":"string","value":"now","fileType":""},{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"8318d323-5a56-460c-9277-1ccea3b5ca9b","label":"findings","type":"string","value":"findings","fileType":""},{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"671bb501-2465-4440-8bca-666e0de97b10","label":"urls","type":"string","value":"urls","fileType":""}],"label":"","value":""}],"label":"全局变量提取","parentNode":true,"value":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2"},{"children":[{"references":[{"originId":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae","id":"95809fc2-80b0-4c00-a828-3067a101ae53","label":"queries","type":"string","value":"queries","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae"}],"status":"success","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":503,"id":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","position":{"x":465.95557498119217,"y":335.601675864126},"positionAbsolute":{"x":-275.3066521353346,"y":-64.65872180204218},"selected":false,"type":"工具","width":587,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"fileType":"","id":"090d8df5-8809-46e2-add8-111d8c590014","name":"findings","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"66c95cb3-2968-4cec-9623-035fcd3cb02e","nodeId":"text-joiner::39687ae1-653c-4374-9ea9-07841bec6e54"},"contentErrMsg":"","type":"ref"}}}],"label":"Learnings_Setting","labelEdit":false,"nodeMeta":{"aliasName":"Learnings_Setting","nodeType":"基础节点"},"nodeParam":{"uid":"7999407136","method":"set","apiKey":"d84b9d780b488cf919c5273686ee4e1a","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","flowId":"7345744049038364672"},"originPosition":{"x":2778.0781479911498,"y":454.0044284647601},"outputs":[],"parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","references":[{"children":[{"references":[{"originId":"text-joiner::39687ae1-653c-4374-9ea9-07841bec6e54","id":"66c95cb3-2968-4cec-9623-035fcd3cb02e","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"SerpResultsHandle","parentNode":true,"value":"text-joiner::39687ae1-653c-4374-9ea9-07841bec6e54"},{"children":[{"references":[{"originId":"spark-llm::ab80dd20-ae2b-413d-9f7a-654e5bb71a50","id":"c3007e34-fd7d-40c2-bebf-3cd725b8ba82","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"ProcessSerpResult","parentNode":true,"value":"spark-llm::ab80dd20-ae2b-413d-9f7a-654e5bb71a50"},{"children":[{"references":[{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","children":[{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"427ce060-eecd-4d55-a9e1-0d22100d7232","label":"classify_domain","type":"array-string","value":"data.classify_domain","parentType":"object","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"08f765bd-d032-47b1-bb5e-c226b51f0835","label":"documents","type":"array-object","value":"data.documents","parentType":"object","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"ed39ac18-ef4b-419c-b1d1-6377ec5ecb1f","label":"more_documents","type":"array-object","value":"data.more_documents","parentType":"object","fileType":""}],"id":"83d9bf29-1df8-478e-9f64-2bec46f2f6d2","label":"data","type":"object","value":"data","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"f632f44d-5326-43b7-9b41-54d026467fda","label":"success","type":"boolean","value":"success","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"ec4d5969-c920-46f9-985c-a8bf0eac105a","label":"err_code","type":"string","value":"err_code","fileType":""}],"label":"","value":""}],"label":"聚合搜索","parentNode":true,"value":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21"},{"children":[{"references":[{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"4969937b-5455-421b-b08d-27525eecbea1","label":"now","type":"string","value":"now","fileType":""},{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"8318d323-5a56-460c-9277-1ccea3b5ca9b","label":"findings","type":"string","value":"findings","fileType":""},{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"671bb501-2465-4440-8bca-666e0de97b10","label":"urls","type":"string","value":"urls","fileType":""}],"label":"","value":""}],"label":"全局变量提取","parentNode":true,"value":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2"},{"children":[{"references":[{"originId":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae","id":"95809fc2-80b0-4c00-a828-3067a101ae53","label":"queries","type":"string","value":"queries","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae"}],"status":"success","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":275,"id":"node-variable::29243923-3bd4-4510-9969-0f3eb83278e3","parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","position":{"x":1229.3017750128133,"y":465.2674634308265},"positionAbsolute":{"x":2778.0781479911498,"y":454.0044284647601},"selected":false,"type":"变量存储器","width":587,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"用于按照指定格式规则处理多个字符串变量","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/text-splicing-icon.png","inputs":[{"fileType":"","id":"eee3dc74-842f-4d46-841c-9c5d0d590010","name":"url","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"url","id":"b5e3a55a-956b-488a-ba44-c5eebbe61c77","nodeId":"ifly-code::ccf7affc-bee5-4e13-bff9-2c8c64d1dbcf"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"a4094730-8fb6-43b6-8cbe-61e5eabd9869","name":"urls","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"urls","id":"671bb501-2465-4440-8bca-666e0de97b10","nodeId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2"},"contentErrMsg":"","type":"ref"}}}],"label":"SerpResultsHandle_1","labelEdit":false,"nodeMeta":{"aliasName":"SerpResultsHandle_1","nodeType":"工具"},"nodeParam":{"uid":"7999407136","apiKey":"d84b9d780b488cf919c5273686ee4e1a","separatorErrMsg":"","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","prompt":"<URL>\\n{{url}}\\n</URL>\\n{{urls}}"},"originPosition":{"x":1186.8526703067744,"y":1260.2188290812826},"outputs":[{"id":"66c95cb3-2968-4cec-9623-035fcd3cb02e","name":"output","nameErrMsg":"","schema":{"type":"string"}}],"parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","references":[{"children":[{"references":[{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","children":[{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"427ce060-eecd-4d55-a9e1-0d22100d7232","label":"classify_domain","type":"array-string","value":"data.classify_domain","parentType":"object","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"08f765bd-d032-47b1-bb5e-c226b51f0835","label":"documents","type":"array-object","value":"data.documents","parentType":"object","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"ed39ac18-ef4b-419c-b1d1-6377ec5ecb1f","label":"more_documents","type":"array-object","value":"data.more_documents","parentType":"object","fileType":""}],"id":"83d9bf29-1df8-478e-9f64-2bec46f2f6d2","label":"data","type":"object","value":"data","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"f632f44d-5326-43b7-9b41-54d026467fda","label":"success","type":"boolean","value":"success","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"ec4d5969-c920-46f9-985c-a8bf0eac105a","label":"err_code","type":"string","value":"err_code","fileType":""}],"label":"","value":""}],"label":"聚合搜索","parentNode":true,"value":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21"},{"children":[{"references":[{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"4969937b-5455-421b-b08d-27525eecbea1","label":"now","type":"string","value":"now","fileType":""},{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"8318d323-5a56-460c-9277-1ccea3b5ca9b","label":"findings","type":"string","value":"findings","fileType":""},{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"671bb501-2465-4440-8bca-666e0de97b10","label":"urls","type":"string","value":"urls","fileType":""}],"label":"","value":""}],"label":"全局变量提取","parentNode":true,"value":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2"},{"children":[{"references":[{"originId":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae","id":"95809fc2-80b0-4c00-a828-3067a101ae53","label":"queries","type":"string","value":"queries","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae"},{"children":[{"references":[{"originId":"ifly-code::ccf7affc-bee5-4e13-bff9-2c8c64d1dbcf","children":[],"id":"b5e3a55a-956b-488a-ba44-c5eebbe61c77","label":"url","type":"string","value":"url","fileType":""}],"label":"","value":""}],"label":"Extract_URLs","parentNode":true,"value":"ifly-code::ccf7affc-bee5-4e13-bff9-2c8c64d1dbcf"}],"status":"success","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":603,"id":"text-joiner::eb9ff3d3-82b4-4a19-b417-6c50641400ff","parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","position":{"x":831.4954055917194,"y":666.8210635849572},"positionAbsolute":{"x":1186.8526703067744,"y":1260.2188290812826},"selected":false,"type":"文本拼接","width":587,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"可以设定多个变量，用于长期保存数据，且持续生效和更新","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/variable-memory-icon.png","inputs":[{"fileType":"","id":"090d8df5-8809-46e2-add8-111d8c590014","name":"urls","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"url","id":"b5e3a55a-956b-488a-ba44-c5eebbe61c77","nodeId":"ifly-code::ccf7affc-bee5-4e13-bff9-2c8c64d1dbcf"},"contentErrMsg":"","type":"ref"}}}],"label":"URLs_Setting","labelEdit":false,"nodeMeta":{"aliasName":"URLs_Setting","nodeType":"基础节点"},"nodeParam":{"uid":"7999407136","method":"set","apiKey":"d84b9d780b488cf919c5273686ee4e1a","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","flowId":"7345744049038364672"},"originPosition":{"x":2099.471579057138,"y":1350.388921378597},"outputs":[],"parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","references":[{"children":[{"references":[{"originId":"text-joiner::eb9ff3d3-82b4-4a19-b417-6c50641400ff","id":"66c95cb3-2968-4cec-9623-035fcd3cb02e","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"SerpResultsHandle_1","parentNode":true,"value":"text-joiner::eb9ff3d3-82b4-4a19-b417-6c50641400ff"},{"children":[{"references":[{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","children":[{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"427ce060-eecd-4d55-a9e1-0d22100d7232","label":"classify_domain","type":"array-string","value":"data.classify_domain","parentType":"object","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"08f765bd-d032-47b1-bb5e-c226b51f0835","label":"documents","type":"array-object","value":"data.documents","parentType":"object","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"ed39ac18-ef4b-419c-b1d1-6377ec5ecb1f","label":"more_documents","type":"array-object","value":"data.more_documents","parentType":"object","fileType":""}],"id":"83d9bf29-1df8-478e-9f64-2bec46f2f6d2","label":"data","type":"object","value":"data","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"f632f44d-5326-43b7-9b41-54d026467fda","label":"success","type":"boolean","value":"success","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"ec4d5969-c920-46f9-985c-a8bf0eac105a","label":"err_code","type":"string","value":"err_code","fileType":""}],"label":"","value":""}],"label":"聚合搜索","parentNode":true,"value":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21"},{"children":[{"references":[{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"4969937b-5455-421b-b08d-27525eecbea1","label":"now","type":"string","value":"now","fileType":""},{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"8318d323-5a56-460c-9277-1ccea3b5ca9b","label":"findings","type":"string","value":"findings","fileType":""},{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"671bb501-2465-4440-8bca-666e0de97b10","label":"urls","type":"string","value":"urls","fileType":""}],"label":"","value":""}],"label":"全局变量提取","parentNode":true,"value":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2"},{"children":[{"references":[{"originId":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae","id":"95809fc2-80b0-4c00-a828-3067a101ae53","label":"queries","type":"string","value":"queries","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae"},{"children":[{"references":[{"originId":"ifly-code::ccf7affc-bee5-4e13-bff9-2c8c64d1dbcf","children":[],"id":"b5e3a55a-956b-488a-ba44-c5eebbe61c77","label":"url","type":"string","value":"url","fileType":""}],"label":"","value":""}],"label":"Extract_URLs","parentNode":true,"value":"ifly-code::ccf7affc-bee5-4e13-bff9-2c8c64d1dbcf"}],"status":"success","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":275,"id":"node-variable::67dd3c05-34da-41bb-86b6-c038cf2aac69","parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","position":{"x":1059.6501327793103,"y":689.3635866592858},"positionAbsolute":{"x":2099.471579057138,"y":1350.388921378597},"selected":false,"type":"变量存储器","width":587,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"fileType":"","id":"5a49ed8a-c9b6-4df2-b12d-d894e9337c50","name":"input","nameErrMsg":"","schema":{"type":"array-object","value":{"content":{"name":"data.documents","id":"08f765bd-d032-47b1-bb5e-c226b51f0835","nodeId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21"},"contentErrMsg":"","type":"ref"}}}],"label":"Extract_URLs","labelEdit":false,"nodeMeta":{"aliasName":"Extract_URLs","nodeType":"工具"},"nodeParam":{"uid":"7999407136","code":"# -*- coding: utf-8 -*-\\ndef main(input):\\n    urls = []\\n    # 提取主文档中的URL\\n    for doc in input:\\n        if \\"url\\" in doc:\\n            urls.append(''<SUMMARY> \\\\n'' + doc[''summary''] + ''</SUMMARY> \\\\n'' + ''<URL> \\\\n'' + doc[\\"url\\"] + ''<URL> \\\\n'')\\n    url = ''''.join(urls)\\n    return {''url'':url} ","apiKey":"d84b9d780b488cf919c5273686ee4e1a","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","codeErrMsg":""},"originPosition":{"x":464.5417859385602,"y":1425.9628289664477},"outputs":[{"id":"b5e3a55a-956b-488a-ba44-c5eebbe61c77","name":"url","nameErrMsg":"","schema":{"default":"","properties":[],"type":"string"}}],"parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","references":[{"children":[{"references":[{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","children":[{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"427ce060-eecd-4d55-a9e1-0d22100d7232","label":"classify_domain","type":"array-string","value":"data.classify_domain","parentType":"object","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"08f765bd-d032-47b1-bb5e-c226b51f0835","label":"documents","type":"array-object","value":"data.documents","parentType":"object","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"ed39ac18-ef4b-419c-b1d1-6377ec5ecb1f","label":"more_documents","type":"array-object","value":"data.more_documents","parentType":"object","fileType":""}],"id":"83d9bf29-1df8-478e-9f64-2bec46f2f6d2","label":"data","type":"object","value":"data","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"f632f44d-5326-43b7-9b41-54d026467fda","label":"success","type":"boolean","value":"success","fileType":""},{"originId":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21","id":"ec4d5969-c920-46f9-985c-a8bf0eac105a","label":"err_code","type":"string","value":"err_code","fileType":""}],"label":"","value":""}],"label":"聚合搜索","parentNode":true,"value":"plugin::8d0f9c84-7ae9-421c-89bc-e693e8779c21"},{"children":[{"references":[{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"4969937b-5455-421b-b08d-27525eecbea1","label":"now","type":"string","value":"now","fileType":""},{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"8318d323-5a56-460c-9277-1ccea3b5ca9b","label":"findings","type":"string","value":"findings","fileType":""},{"originId":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2","id":"671bb501-2465-4440-8bca-666e0de97b10","label":"urls","type":"string","value":"urls","fileType":""}],"label":"","value":""}],"label":"全局变量提取","parentNode":true,"value":"node-variable::eec7b26f-3938-426f-b7ba-685ff5541ae2"},{"children":[{"references":[{"originId":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae","id":"95809fc2-80b0-4c00-a828-3067a101ae53","label":"queries","type":"string","value":"queries","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::d8d7d43b-dc79-4ccb-b752-f9d54a3609ae"}],"status":"success","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":745,"id":"ifly-code::ccf7affc-bee5-4e13-bff9-2c8c64d1dbcf","parentId":"iteration::d70c38d7-f6d8-4e8f-ab45-e5d99af74c6c","position":{"x":650.9176844996659,"y":708.2570635562485},"positionAbsolute":{"x":464.5417859385602,"y":1425.9628289664477},"selected":false,"type":"代码","width":587,"zIndex":1}]}', 'https://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/user/sparkBot_1750238788321_1.png', '#FFEAD5', -1, 0, 0, 0, NULL, 0, NULL, 2, NULL, 1, NULL, '{"prologue":{"enabled":true,"inputExample":["什么是RAG？"],"prologueText":"输入您想研究的主题，我来为您生成一篇深度研究报告"},"needGuide":false}', '{"botId":2896209}', 17, NULL);
INSERT INTO workflow (id, uid, app_id, flow_id, name, description, deleted, is_public, create_time, update_time, published_data, `data`, avatar_icon, avatar_color, status, can_publish, app_updatable, top, edge_type, `order`, eval_set_id, source, bak, editing, eval_page_first_time, advanced_config, ext, category, space_id) VALUES(112649, 18882349618, '12a0a7e2', '7331596244756099074', '【勿动】-单词卡片王模板', '单词卡片王模板', 0, 0, '2025-05-23 16:26:00', '2025-07-16 11:43:28', NULL, '{"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始","nodeType":"基础节点"},"nodeParam":{"apiKey":"5f93d1890c25748e68a514c62f79b8b1","appId":"a01c2bc7","apiSecret":"ODc3MDhkZjA4M2E4ZDgzODM0MmY4MzZk"},"outputs":[{"deleteDisabled":true,"id":"72d2fa08-4e1d-493f-8e2e-ed3b4d602b0b","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}}],"status":"","updatable":false},"dragging":false,"height":254,"id":"node-start::f28ebc83-6bab-4e8d-8b1f-2a0e6177e1ce","position":{"x":-1004.5306050613806,"y":960.693371361336},"positionAbsolute":{"x":-1004.5306050613806,"y":960.693371361336},"selected":false,"type":"开始节点","width":657},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"fileType":"","id":"2353a7d4-07aa-42b2-9a16-efe57ae6c29e","name":"word","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"word","id":"5ce6dd82-6e0a-40dd-8ffa-1dd934a695ae","nodeId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"1e887a11-7219-4e9c-8759-9bf5b7bec72b","name":"phonetic","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"phonetic","id":"71810806-00e5-428e-befa-9d1c19021ad2","nodeId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"9d30fb5a-9d1a-49cd-a92d-2dece17537a4","name":"part_of_speech","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"part_of_speech","id":"f1cdad10-420c-46f5-835b-191a383201b4","nodeId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"0aa3ea8c-a55e-483d-8209-c3cf103f87e7","name":"meaning_cn","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"meaning_cn","id":"15e526a8-d94a-4f9f-be32-fed7735c460c","nodeId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"f7652002-a96d-4da0-988e-4c6c9796b3d2","name":"example_en","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"example_en","id":"ee8c97eb-89e4-474f-a804-6730f4ed0175","nodeId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"f2d71cd0-1174-41f5-9284-f6137d0fad28","name":"example_cn","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"example_cn","id":"ecbbce08-5e08-4e93-9390-ebe5cb089a60","nodeId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"8630077e-6511-4cb8-8697-ce1cd607a58a","name":"image_url","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"data.image_url","id":"5d4b4a71-8ea2-4468-96dd-fb166dc08fba","nodeId":"plugin::83f6c597-615d-4f20-8b63-53f9737513b6"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"9ad3d834-34fd-473d-8e17-bdd440b818a5","name":"voice_url","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"data.voice_url","id":"10f97b32-21df-4de0-b73a-f9026ed8227f","nodeId":"plugin::91d47dd8-c9f7-45ea-9a53-9a3ea930d217"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束","nodeType":"基础节点"},"nodeParam":{"template":"<!DOCTYPE html>\\n<html lang=\\"en\\">\\n<head>\\n  <meta charset=\\"UTF-8\\" />\\n  <meta name=\\"viewport\\" content=\\"width=device-width, initial-scale=1.0\\"/>\\n  <title>Kids Flashcard - {{word}}</title>\\n  <style>\\n    body {\\n      font-family: \\"Comic Sans MS\\", \\"Arial Rounded MT Bold\\", sans-serif;\\n      background-color: #fdfcfa;\\n      display: flex;\\n      justify-content: center;\\n      align-items: center;\\n      height: 100vh;\\n      margin: 0;\\n    }\\n    .flashcard {\\n      background-color: #fff4ed;\\n      border-radius: 24px;\\n      box-shadow: 0 4px 15px rgba(0,0,0,0.1);\\n      padding: 25px 30px;\\n      max-width: 420px;\\n      width: 90%;\\n      text-align: center;\\n    }\\n    .word {\\n      font-size: 38px;\\n      font-weight: bold;\\n      color: #333;\\n    }\\n    .phonetic {\\n      font-size: 22px;\\n      color: #666;\\n      margin-top: 4px;\\n    }\\n    .part {\\n      font-size: 20px;\\n      color: #888;\\n      margin: 10px 0 4px 0;\\n    }\\n    .meaning {\\n      font-size: 22px;\\n      color: #444;\\n      margin-bottom: 16px;\\n    }\\n    .illustration {\\n      width: 220px;\\n      height: auto;\\n      border-radius: 12px;\\n      margin: 16px auto;\\n    }\\n    .sentence-en, .sentence-cn {\\n      font-size: 18px;\\n      margin-top: 10px;\\n      color: #333;\\n    }\\n    .audio-player {\\n      margin-top: 14px;\\n      width: 100%;\\n      max-width: 300px;\\n    }\\n  </style>\\n</head>\\n<body>\\n  <div class=\\"flashcard\\">\\n    <div class=\\"word\\">{{word}}</div>\\n    <div class=\\"phonetic\\">{{phonetic}}</div>\\n    <div class=\\"part\\">{{part_of_speech}}</div>\\n    <div class=\\"meaning\\">{{meaning_cn}}</div>\\n    <img src=\\"{{image_url}}\\" alt=\\"Illustration of {{word}}\\" class=\\"illustration\\"/>\\n    <div class=\\"sentence-en\\">{{example_en}}</div>\\n    <div class=\\"sentence-cn\\">{{example_cn}}</div>\\n    <audio preload=\\"none\\" controls class=\\"audio-player\\">\\n      <source src=\\"{{voice_url}}\\" type=\\"audio/mpeg\\">\\n      Your browser does not support the audio element.\\n    </audio>\\n  </div>\\n</body>\\n</html>\\n","streamOutput":true,"apiKey":"5f93d1890c25748e68a514c62f79b8b1","templateErrMsg":"","appId":"a01c2bc7","apiSecret":"ODc3MDhkZjA4M2E4ZDgzODM0MmY4MzZk","outputMode":1},"outputs":[],"references":[{"children":[{"references":[{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"5ce6dd82-6e0a-40dd-8ffa-1dd934a695ae","label":"word","type":"string","value":"word","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"71810806-00e5-428e-befa-9d1c19021ad2","label":"phonetic","type":"string","value":"phonetic","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"f1cdad10-420c-46f5-835b-191a383201b4","label":"part_of_speech","type":"string","value":"part_of_speech","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"15e526a8-d94a-4f9f-be32-fed7735c460c","label":"meaning_cn","type":"string","value":"meaning_cn","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"ee8c97eb-89e4-474f-a804-6730f4ed0175","label":"example_en","type":"string","value":"example_en","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"ecbbce08-5e08-4e93-9390-ebe5cb089a60","label":"example_cn","type":"string","value":"example_cn","fileType":""}],"label":"","value":""}],"label":"word_data","parentNode":true,"value":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e"},{"children":[{"references":[{"originId":"spark-llm::5be0d171-d5c6-4a44-a4b8-196cb9ec6723","id":"3521d160-f926-41fc-9f6a-e7e1373bd466","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"extract_word","parentNode":true,"value":"spark-llm::5be0d171-d5c6-4a44-a4b8-196cb9ec6723"},{"children":[{"references":[{"originId":"node-start::f28ebc83-6bab-4e8d-8b1f-2a0e6177e1ce","id":"72d2fa08-4e1d-493f-8e2e-ed3b4d602b0b","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::f28ebc83-6bab-4e8d-8b1f-2a0e6177e1ce"},{"children":[{"references":[{"originId":"plugin::83f6c597-615d-4f20-8b63-53f9737513b6","id":"7e5764b2-b0f3-40fc-9bac-a87e4b22ec19","label":"code","type":"number","value":"code","fileType":""},{"originId":"plugin::83f6c597-615d-4f20-8b63-53f9737513b6","id":"a1a1d0aa-29be-424a-a424-1e3edc6b8881","label":"message","type":"string","value":"message","fileType":""},{"originId":"plugin::83f6c597-615d-4f20-8b63-53f9737513b6","children":[{"originId":"plugin::83f6c597-615d-4f20-8b63-53f9737513b6","id":"5d4b4a71-8ea2-4468-96dd-fb166dc08fba","label":"image_url","type":"string","value":"data.image_url","parentType":"object","fileType":""},{"originId":"plugin::83f6c597-615d-4f20-8b63-53f9737513b6","id":"d280073d-3b54-4cae-8dec-8e6073fa4191","label":"image_url_md","type":"string","value":"data.image_url_md","parentType":"object","fileType":""}],"id":"21385939-a43b-41f8-93c5-7f28eef44887","label":"data","type":"object","value":"data","fileType":""},{"originId":"plugin::83f6c597-615d-4f20-8b63-53f9737513b6","id":"6d7c8ec7-4b92-4591-b5a1-24aad2d15b27","label":"sid","type":"string","value":"sid","fileType":""}],"label":"","value":""}],"label":"文生图_1","parentNode":true,"value":"plugin::83f6c597-615d-4f20-8b63-53f9737513b6"},{"children":[{"references":[{"originId":"spark-llm::15451103-737e-44f1-a38e-34fabaef5204","id":"d94e153a-22c8-4bd9-984e-48ad300b4412","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"文生图prompt","parentNode":true,"value":"spark-llm::15451103-737e-44f1-a38e-34fabaef5204"},{"children":[{"references":[{"originId":"plugin::91d47dd8-c9f7-45ea-9a53-9a3ea930d217","id":"d654622d-e3e5-4de2-9fed-55c3473a10e2","label":"sid","type":"string","value":"sid","fileType":""},{"originId":"plugin::91d47dd8-c9f7-45ea-9a53-9a3ea930d217","id":"b89f63a7-2160-4e82-a21a-c4e578b6b830","label":"code","type":"integer","value":"code","fileType":""},{"originId":"plugin::91d47dd8-c9f7-45ea-9a53-9a3ea930d217","id":"74d6ac20-c58a-46cb-8f33-35d4295ce7c2","label":"msg","type":"string","value":"msg","fileType":""},{"originId":"plugin::91d47dd8-c9f7-45ea-9a53-9a3ea930d217","children":[{"originId":"plugin::91d47dd8-c9f7-45ea-9a53-9a3ea930d217","id":"10f97b32-21df-4de0-b73a-f9026ed8227f","label":"voice_url","type":"string","value":"data.voice_url","parentType":"object","fileType":""}],"id":"ba62612d-4e66-49d4-aa88-c727ebf4ddf4","label":"data","type":"object","value":"data","fileType":""}],"label":"","value":""}],"label":"超拟人合成_1","parentNode":true,"value":"plugin::91d47dd8-c9f7-45ea-9a53-9a3ea930d217"}],"status":"","updatable":false},"dragging":false,"height":1351,"id":"node-end::f61f1b75-767e-49cb-bf52-e843426fe767","position":{"x":2954.611593731852,"y":35.10500805675582},"positionAbsolute":{"x":2954.611593731852,"y":35.10500805675582},"selected":false,"type":"结束节点","width":407},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"2de315e5-66c9-4eeb-8079-3800dc057caf","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"72d2fa08-4e1d-493f-8e2e-ed3b4d602b0b","nodeId":"node-start::f28ebc83-6bab-4e8d-8b1f-2a0e6177e1ce"},"contentErrMsg":"","type":"ref"}}}],"label":"extract_word","labelEdit":false,"nodeMeta":{"aliasName":"extract_word","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"# 单词提取中心（适用于单词卡片生成）\\n**角色**：语言过滤与核心词提取器  \\n**目标**：根据任意输入内容，提取最具代表性的英文单词，作为词卡主题词。\\n---\\n## 1. 输入语言判断与预处理：\\n- **中文输入**：\\n  * 若识别为**专有名词**（人名、地名、角色名、品牌名等），直接翻译为对应的英文拼写（如 “孙悟空” → ``sun wukong``）\\n  * 否则翻译为英文短语，进入提取流程\\n- **中英混排输入**：\\n  * 提取首个**具语义价值的英文单词**（优先名词）\\n  * 忽略中文部分及非语义词（如 “the”, “a”, “of”）\\n- **英文输入**：\\n  * 若为单词或短语，直接标准化处理  \\n  * 若为完整句子，按提取策略处理并提取第一个核心词\\n---\\n## 2. 提取策略（优先级）：\\n- 优先提取**名词**（概念、对象、想法类）  \\n- 若无明显名词，提取**含义最核心的动词或形容词**  \\n- 若为完整句子，仅提取**第一个具代表性的核心词**  \\n- 若输入为专有名词，直接保留其英文形式，无需拆解或抽象化\\n---\\n## 3. 标准化规则（词形处理）：\\n- 所有输出单词小写（如 *Love* → ``love``）  \\n- 名词统一为单数形式（e.g. *dreams* → ``dream``）  \\n- 动词还原为原形（e.g. *running* → ``run``）  \\n- 拼写修正：疑似拼错词（长度 ≥5）将自动修正为最近合法英文单词（基于词频模型或拼写字典）\\n---\\n## 4. 特殊输入处理：\\n### 4.1 纯数字输入：\\n按以下优先级处理：\\n1. 若该数字有**标准英文写法**（如 ``1`` → ``one``，``100`` → ``hundred``），直接输出英文单词  \\n2. 若该数字在文化中具象征意义（如 ``7`` → ``luck``，``13`` → ``unlucky``），可输出对应联想词  \\n3. 若无法识别或无语义关联，输出 ``[none]``\\n### 4.2 表情符号（emoji）：\\n- 若为常见 emoji 且具明确情绪/概念（如 ???? → ``happiness``, ???? → ``idea``），提取相关核心词  \\n- 若为不常见或无明确语义的 emoji，输出 ``[none]``\\n---\\n## 5. 输出格式：\\n- 所有输出为标准英文单词，格式为：  \\n  \\\\[``英文单词``\\\\]  \\n- 若无有效词义，输出：  \\n  \\\\[``none``\\\\]\\n---\\n## 示例：\\n| 输入                           | 输出           |\\n|--------------------------------|----------------|\\n| 坚定的意志                    | ``will``         |\\n| 请处理ambitious               | ``ambition``     |\\n| She is running fast.          | ``run``          |\\n| 创新的科技产品                | ``innovation``   |\\n| 坚持不懈的                    | ``perseverance`` |\\n| ????                            | ``happiness``    |\\n| ????                            | ``disgust``      |\\n| 2024                          | ``year``         |\\n| 100                           | ``hundred``      |\\n| 7                             | ``luck``         |\\n| 13                            | ``unlucky``      |\\n| 99999                         | ``[none]``       |\\n| 这是一个amazing opportunity   | ``opportunity``  |\\n| 孙悟空                        | ``sun wukong``   |\\n| 乔布斯                        | ``steve jobs``   |\\n| 巴黎                          | ``paris``        |\\n| 华为手机                      | ``huawei``       |\\n---\\n输入：{{input}}\\n> ???? 适用于：单词卡片生成、标签抽取、关键词推荐、情绪感知词提取、语义压缩等任务。\\n\\n","apiKey":"5f93d1890c25748e68a514c62f79b8b1","modelId":141,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","apiSecret":"ODc3MDhkZjA4M2E4ZDgzODM0MmY4MzZk","llmId":141,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"uid":"1002771","patchId":"0","isThink":false,"templateErrMsg":"","domain":"xdeepseekv3","appId":"a01c2bc7","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"xdeepseekv3","respFormat":0},"outputs":[{"id":"3521d160-f926-41fc-9f6a-e7e1373bd466","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"node-start::f28ebc83-6bab-4e8d-8b1f-2a0e6177e1ce","id":"72d2fa08-4e1d-493f-8e2e-ed3b4d602b0b","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::f28ebc83-6bab-4e8d-8b1f-2a0e6177e1ce"}],"status":"","updatable":false},"dragging":false,"height":1174,"id":"spark-llm::5be0d171-d5c6-4a44-a4b8-196cb9ec6723","position":{"x":-257.58445046164775,"y":576.6233766233765},"positionAbsolute":{"x":-257.58445046164775,"y":576.6233766233765},"selected":false,"type":"大模型","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"886d29fe-c55d-477d-9415-813b62a1f3ec","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"3521d160-f926-41fc-9f6a-e7e1373bd466","nodeId":"spark-llm::5be0d171-d5c6-4a44-a4b8-196cb9ec6723"},"contentErrMsg":"","type":"ref"}}}],"label":"word_data","labelEdit":false,"nodeMeta":{"aliasName":"word_data","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"# 单词学习卡片的提示词\\n> “请根据提供的英文单词，生成一个词汇学习卡片，输出格式为JSON，包含以下字段：\\n>\\n> * ``word``：英文单词\\n> * ``phonetic``：音标（英式或美式）\\n> * ``part_of_speech``：词性（如名词、动词等）\\n> * ``meaning_cn``：中文意思\\n> * ``example_en``：英文例句\\n> * ``example_cn``：对应的中文翻译\\n>\\n> 请仅输出 JSON，不要添加任何额外说明或文本。”\\n---\\n### ✅ 示例输入：\\n``````text\\napple\\n``````\\n### ✅ 示例输出（JSON）：\\n``````json\\n{\\n  \\"word\\": \\"apple\\",\\n  \\"phonetic\\": \\"/ˈæpəl/\\",\\n  \\"part_of_speech\\": \\"noun\\",\\n  \\"meaning_cn\\": \\"苹果\\",\\n  \\"example_en\\": \\"She ate a red apple for lunch.\\",\\n  \\"example_cn\\": \\"她午饭吃了一个红苹果。\\"\\n}\\n``````\\n\\n输入：{{input}}","apiKey":"5f93d1890c25748e68a514c62f79b8b1","modelId":141,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","apiSecret":"ODc3MDhkZjA4M2E4ZDgzODM0MmY4MzZk","llmId":141,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"uid":"1002771","patchId":"0","isThink":false,"templateErrMsg":"","domain":"xdeepseekv3","appId":"a01c2bc7","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"xdeepseekv3","respFormat":2},"outputs":[{"id":"5ce6dd82-6e0a-40dd-8ffa-1dd934a695ae","name":"word","nameErrMsg":"","schema":{"default":"","type":"string"}},{"id":"71810806-00e5-428e-befa-9d1c19021ad2","name":"phonetic","nameErrMsg":"","required":false,"schema":{"default":"","type":"string"}},{"id":"f1cdad10-420c-46f5-835b-191a383201b4","name":"part_of_speech","nameErrMsg":"","required":false,"schema":{"default":"","type":"string"}},{"id":"15e526a8-d94a-4f9f-be32-fed7735c460c","name":"meaning_cn","nameErrMsg":"","required":false,"schema":{"default":"","type":"string"}},{"id":"ee8c97eb-89e4-474f-a804-6730f4ed0175","name":"example_en","nameErrMsg":"","required":false,"schema":{"default":"","type":"string"}},{"id":"ecbbce08-5e08-4e93-9390-ebe5cb089a60","name":"example_cn","nameErrMsg":"","required":false,"schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::5be0d171-d5c6-4a44-a4b8-196cb9ec6723","id":"3521d160-f926-41fc-9f6a-e7e1373bd466","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"extract_word","parentNode":true,"value":"spark-llm::5be0d171-d5c6-4a44-a4b8-196cb9ec6723"},{"children":[{"references":[{"originId":"node-start::f28ebc83-6bab-4e8d-8b1f-2a0e6177e1ce","id":"72d2fa08-4e1d-493f-8e2e-ed3b4d602b0b","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::f28ebc83-6bab-4e8d-8b1f-2a0e6177e1ce"}],"status":"","updatable":false},"dragging":false,"height":1398,"id":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","position":{"x":380.0648875050731,"y":588.3116883116883},"positionAbsolute":{"x":380.0648875050731,"y":588.3116883116883},"selected":false,"type":"大模型","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"961d2e5f-7b37-454a-bac3-09cdcf756513","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"example_en","id":"ee8c97eb-89e4-474f-a804-6730f4ed0175","nodeId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e"},"contentErrMsg":"","type":"ref"}}}],"label":"文生图prompt","labelEdit":false,"nodeMeta":{"aliasName":"文生图prompt","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"> Based on the following English phrase, generate a concise illustration prompt in English.\\n>\\n> **Style:** Cute, clean, and colorful — ideal for children''s picture books or kawaii visuals.\\n>\\n> **Requirements:**\\n>\\n> * Clear composition\\n> * Soft pastel-like colors\\n> * Simple or minimal background\\n> * Inspiration may include: flat design, vector art, Studio Ghibli, Pixar, or children''s book illustrations\\n>\\n> **Output Format:**\\n> Write in a single descriptive paragraph. Follow this example format:\\n>\\n> > A cheerful farmer in a straw hat stands on a lush green ranch, surrounded by a small herd of playful, multicolored cows. The cows have soft, pastel fur and big, expressive eyes, with some wearing flower-patterned bells. In the background, rolling hills painted in gentle blues and yellows stretch toward a bright, cloud-filled sky. A red barn with a rainbow roof sits nearby, framed by fluffy white clouds and blooming sunflowers. The composition is clean and flat, with bold outlines and vibrant, kid-friendly colors, reminiscent of Studio Ghibli or Pixar charm.\\n>\\n> Keep the description moderately short, visual, and emotionally light.\\n>\\n> **Phrase:** {{input}}","apiKey":"5f93d1890c25748e68a514c62f79b8b1","modelId":141,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","apiSecret":"ODc3MDhkZjA4M2E4ZDgzODM0MmY4MzZk","llmId":141,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","multiMode":false,"uid":"1002771","patchId":"0","isThink":false,"templateErrMsg":"","domain":"xdeepseekv3","appId":"a01c2bc7","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"xdeepseekv3","respFormat":0},"outputs":[{"id":"d94e153a-22c8-4bd9-984e-48ad300b4412","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"5ce6dd82-6e0a-40dd-8ffa-1dd934a695ae","label":"word","type":"string","value":"word","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"71810806-00e5-428e-befa-9d1c19021ad2","label":"phonetic","type":"string","value":"phonetic","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"f1cdad10-420c-46f5-835b-191a383201b4","label":"part_of_speech","type":"string","value":"part_of_speech","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"15e526a8-d94a-4f9f-be32-fed7735c460c","label":"meaning_cn","type":"string","value":"meaning_cn","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"ee8c97eb-89e4-474f-a804-6730f4ed0175","label":"example_en","type":"string","value":"example_en","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"ecbbce08-5e08-4e93-9390-ebe5cb089a60","label":"example_cn","type":"string","value":"example_cn","fileType":""}],"label":"","value":""}],"label":"word_data","parentNode":true,"value":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e"},{"children":[{"references":[{"originId":"spark-llm::5be0d171-d5c6-4a44-a4b8-196cb9ec6723","id":"3521d160-f926-41fc-9f6a-e7e1373bd466","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"extract_word","parentNode":true,"value":"spark-llm::5be0d171-d5c6-4a44-a4b8-196cb9ec6723"},{"children":[{"references":[{"originId":"node-start::f28ebc83-6bab-4e8d-8b1f-2a0e6177e1ce","id":"72d2fa08-4e1d-493f-8e2e-ed3b4d602b0b","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::f28ebc83-6bab-4e8d-8b1f-2a0e6177e1ce"}],"status":"","updatable":false},"dragging":false,"height":1174,"id":"spark-llm::15451103-737e-44f1-a38e-34fabaef5204","position":{"x":1203.8418644835785,"y":-55.77961684003702},"positionAbsolute":{"x":1203.8418644835785,"y":-55.77961684003702},"selected":false,"type":"大模型","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"需要合成的文本","disabled":false,"fileType":"","id":"21b20c92-d983-44e4-a6cc-60b83015c296","name":"text","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"example_en","id":"ee8c97eb-89e4-474f-a804-6730f4ed0175","nodeId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e"},"contentErrMsg":"","type":"ref"}}},{"description":"特色发音人，目前可选（x4_lingfeiyi_oral； x4_lingxiaoxuan_oral）","disabled":false,"id":"75a8fbb0-f13a-4fd4-9a5f-90a99b77a370","name":"vcn","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":"x4_lingxiaoxuan_oral","contentErrMsg":"","type":"literal"}}},{"description":"语速：0对应默认语速的1/2，100对应默认语速的2倍; 默认值50","disabled":false,"id":"eea6a7b9-e92a-4df7-9494-1e7462a8140b","name":"speed","nameErrMsg":"","required":false,"schema":{"type":"integer","value":{"content":"40","contentErrMsg":"","type":"literal"}}}],"label":"超拟人合成_1","labelEdit":false,"nodeMeta":{"aliasName":"超拟人合成_1","nodeType":"工具"},"nodeParam":{"uid":"1002771","code":"","toolDescription":"用户上传一段话，选择特色发音人，生成一段更拟人的语音","apiKey":"5f93d1890c25748e68a514c62f79b8b1","pluginId":"tool@72213899d821000","appId":"a01c2bc7","operationId":"超拟人合成-7UcDosEk","apiSecret":"ODc3MDhkZjA4M2E4ZDgzODM0MmY4MzZk","businessInput":[]},"outputs":[{"id":"d654622d-e3e5-4de2-9fed-55c3473a10e2","name":"sid","schema":{"type":"string"}},{"id":"b89f63a7-2160-4e82-a21a-c4e578b6b830","name":"code","schema":{"type":"integer"}},{"id":"74d6ac20-c58a-46cb-8f33-35d4295ce7c2","name":"msg","schema":{"type":"string"}},{"id":"ba62612d-4e66-49d4-aa88-c727ebf4ddf4","name":"data","schema":{"properties":[{"id":"10f97b32-21df-4de0-b73a-f9026ed8227f","name":"voice_url","type":"string"}],"type":"object"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"5ce6dd82-6e0a-40dd-8ffa-1dd934a695ae","label":"word","type":"string","value":"word","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"71810806-00e5-428e-befa-9d1c19021ad2","label":"phonetic","type":"string","value":"phonetic","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"f1cdad10-420c-46f5-835b-191a383201b4","label":"part_of_speech","type":"string","value":"part_of_speech","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"15e526a8-d94a-4f9f-be32-fed7735c460c","label":"meaning_cn","type":"string","value":"meaning_cn","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"ee8c97eb-89e4-474f-a804-6730f4ed0175","label":"example_en","type":"string","value":"example_en","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"ecbbce08-5e08-4e93-9390-ebe5cb089a60","label":"example_cn","type":"string","value":"example_cn","fileType":""}],"label":"","value":""}],"label":"word_data","parentNode":true,"value":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e"},{"children":[{"references":[{"originId":"spark-llm::5be0d171-d5c6-4a44-a4b8-196cb9ec6723","id":"3521d160-f926-41fc-9f6a-e7e1373bd466","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"extract_word","parentNode":true,"value":"spark-llm::5be0d171-d5c6-4a44-a4b8-196cb9ec6723"},{"children":[{"references":[{"originId":"node-start::f28ebc83-6bab-4e8d-8b1f-2a0e6177e1ce","id":"72d2fa08-4e1d-493f-8e2e-ed3b4d602b0b","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::f28ebc83-6bab-4e8d-8b1f-2a0e6177e1ce"}],"status":"","updatable":false},"dragging":false,"height":482,"id":"plugin::91d47dd8-c9f7-45ea-9a53-9a3ea930d217","position":{"x":1831.09907705333,"y":1034.854810233409},"positionAbsolute":{"x":1831.09907705333,"y":1034.854810233409},"selected":false,"type":"工具","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"description","disabled":false,"fileType":"","id":"6fa8fbb7-fe99-4819-a74e-88d35fefb9a8","name":"prompt","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"output","id":"d94e153a-22c8-4bd9-984e-48ad300b4412","nodeId":"spark-llm::15451103-737e-44f1-a38e-34fabaef5204"},"contentErrMsg":"","type":"ref"}}},{"description":"分辨率，支持以下分辨率：512x512, 640x360, 640x480, 640x640, 680x512, 512x680, 768x768, 720x1280, 1280x720, 1024x1024","disabled":false,"id":"82ba0e1b-b0b5-4988-bab8-e2f007fcaaea","name":"width","nameErrMsg":"","required":true,"schema":{"type":"integer","value":{"content":"512","contentErrMsg":"","type":"literal"}}},{"description":"分辨率，支持以下分辨率：512x512, 640x360, 640x480, 640x640, 680x512, 512x680, 768x768, 720x1280, 1280x720, 1024x1024","disabled":false,"id":"e5e74f4f-fb3c-4f66-90e8-8a76b7ef44cc","name":"height","nameErrMsg":"","required":true,"schema":{"type":"integer","value":{"content":"512","contentErrMsg":"","type":"literal"}}}],"label":"文生图_1","labelEdit":false,"nodeMeta":{"aliasName":"文生图_1","nodeType":"工具"},"nodeParam":{"uid":"1002771","code":"","toolDescription":"根据输入的内容生成与内容有关的图片","apiKey":"5f93d1890c25748e68a514c62f79b8b1","pluginId":"tool@6af64fc92421000","appId":"a01c2bc7","operationId":"文生图-4y8oUAMe","apiSecret":"ODc3MDhkZjA4M2E4ZDgzODM0MmY4MzZk","businessInput":[]},"outputs":[{"id":"7e5764b2-b0f3-40fc-9bac-a87e4b22ec19","name":"code","schema":{"type":"number"}},{"id":"a1a1d0aa-29be-424a-a424-1e3edc6b8881","name":"message","schema":{"type":"string"}},{"id":"21385939-a43b-41f8-93c5-7f28eef44887","name":"data","schema":{"properties":[{"id":"5d4b4a71-8ea2-4468-96dd-fb166dc08fba","name":"image_url","type":"string"},{"id":"d280073d-3b54-4cae-8dec-8e6073fa4191","name":"image_url_md","type":"string"}],"type":"object"}},{"id":"6d7c8ec7-4b92-4591-b5a1-24aad2d15b27","name":"sid","schema":{"type":"string"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::15451103-737e-44f1-a38e-34fabaef5204","id":"d94e153a-22c8-4bd9-984e-48ad300b4412","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"文生图prompt","parentNode":true,"value":"spark-llm::15451103-737e-44f1-a38e-34fabaef5204"},{"children":[{"references":[{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"5ce6dd82-6e0a-40dd-8ffa-1dd934a695ae","label":"word","type":"string","value":"word","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"71810806-00e5-428e-befa-9d1c19021ad2","label":"phonetic","type":"string","value":"phonetic","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"f1cdad10-420c-46f5-835b-191a383201b4","label":"part_of_speech","type":"string","value":"part_of_speech","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"15e526a8-d94a-4f9f-be32-fed7735c460c","label":"meaning_cn","type":"string","value":"meaning_cn","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"ee8c97eb-89e4-474f-a804-6730f4ed0175","label":"example_en","type":"string","value":"example_en","fileType":""},{"originId":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","id":"ecbbce08-5e08-4e93-9390-ebe5cb089a60","label":"example_cn","type":"string","value":"example_cn","fileType":""}],"label":"","value":""}],"label":"word_data","parentNode":true,"value":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e"},{"children":[{"references":[{"originId":"spark-llm::5be0d171-d5c6-4a44-a4b8-196cb9ec6723","id":"3521d160-f926-41fc-9f6a-e7e1373bd466","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"extract_word","parentNode":true,"value":"spark-llm::5be0d171-d5c6-4a44-a4b8-196cb9ec6723"},{"children":[{"references":[{"originId":"node-start::f28ebc83-6bab-4e8d-8b1f-2a0e6177e1ce","id":"72d2fa08-4e1d-493f-8e2e-ed3b4d602b0b","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::f28ebc83-6bab-4e8d-8b1f-2a0e6177e1ce"}],"status":"","updatable":false},"dragging":false,"height":482,"id":"plugin::83f6c597-615d-4f20-8b63-53f9737513b6","position":{"x":2109.3220366400647,"y":245.32745081632038},"positionAbsolute":{"x":2109.3220366400647,"y":245.32745081632038},"selected":true,"type":"工具","width":586}],"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::f28ebc83-6bab-4e8d-8b1f-2a0e6177e1ce-spark-llm::5be0d171-d5c6-4a44-a4b8-196cb9ec6723","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-start::f28ebc83-6bab-4e8d-8b1f-2a0e6177e1ce","target":"spark-llm::5be0d171-d5c6-4a44-a4b8-196cb9ec6723","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::5be0d171-d5c6-4a44-a4b8-196cb9ec6723-spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::5be0d171-d5c6-4a44-a4b8-196cb9ec6723","target":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e-spark-llm::15451103-737e-44f1-a38e-34fabaef5204","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","target":"spark-llm::15451103-737e-44f1-a38e-34fabaef5204","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e-plugin::91d47dd8-c9f7-45ea-9a53-9a3ea930d217","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","target":"plugin::91d47dd8-c9f7-45ea-9a53-9a3ea930d217","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::15451103-737e-44f1-a38e-34fabaef5204-plugin::83f6c597-615d-4f20-8b63-53f9737513b6","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::15451103-737e-44f1-a38e-34fabaef5204","target":"plugin::83f6c597-615d-4f20-8b63-53f9737513b6","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e-node-end::f61f1b75-767e-49cb-bf52-e843426fe767node-end::f61f1b75-767e-49cb-bf52-e843426fe767","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::fd0c3512-6e3e-478d-83d4-153afc58f75e","target":"node-end::f61f1b75-767e-49cb-bf52-e843426fe767","targetHandle":"node-end::f61f1b75-767e-49cb-bf52-e843426fe767","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::83f6c597-615d-4f20-8b63-53f9737513b6-node-end::f61f1b75-767e-49cb-bf52-e843426fe767node-end::f61f1b75-767e-49cb-bf52-e843426fe767","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"plugin::83f6c597-615d-4f20-8b63-53f9737513b6","target":"node-end::f61f1b75-767e-49cb-bf52-e843426fe767","targetHandle":"node-end::f61f1b75-767e-49cb-bf52-e843426fe767","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::91d47dd8-c9f7-45ea-9a53-9a3ea930d217-node-end::f61f1b75-767e-49cb-bf52-e843426fe767node-end::f61f1b75-767e-49cb-bf52-e843426fe767","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"plugin::91d47dd8-c9f7-45ea-9a53-9a3ea930d217","target":"node-end::f61f1b75-767e-49cb-bf52-e843426fe767","targetHandle":"node-end::f61f1b75-767e-49cb-bf52-e843426fe767","type":"customEdge"}]}', 'https://oss-beijing-m8.openstorage.cn/SparkBotProd/icon/common/emojiitem_00_10@2x.png', '#FFEAD5', 0, 1, 0, 0, NULL, 0, NULL, 2, NULL, 1, NULL, '{"prologue":{"enabled":true,"inputExample":["cat","dog","我要一杯水！"],"prologueText":"现在，请输入你要生成插图的中文/英文单词吧！随便输入任意内容都行！！！"},"needGuide":false}', NULL, 17, NULL);
INSERT INTO workflow (id, uid, app_id, flow_id, name, description, deleted, is_public, create_time, update_time, published_data, `data`, avatar_icon, avatar_color, status, can_publish, app_updatable, top, edge_type, `order`, eval_set_id, source, bak, editing, eval_page_first_time, advanced_config, ext, category, space_id) VALUES(111203, 18879796086, '12a0a7e2', '7273250752174911488', '【模板勿动】大模型资讯小助手', '【模板勿动】大模型资讯小助手', 0, 0, '2024-12-13 16:21:50', '2025-05-22 17:58:52', '{"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3-ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","target":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1-spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","target":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105-spark-llm::b6217984-1375-483b-bb23-d623389150f9","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","target":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83-node-end::35c27b32-3a5d-41ba-8137-623d60c3cee2","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83","target":"node-end::35c27b32-3a5d-41ba-8137-623d60c3cee2","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::b6217984-1375-483b-bb23-d623389150f9-plugin::1ca7e695-da60-436d-aa09-c5efd895f527","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","target":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::1ca7e695-da60-436d-aa09-c5efd895f527-ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","target":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83","type":"customEdge"}],"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始","nodeType":"基础节点"},"nodeParam":{},"outputs":[{"deleteDisabled":true,"id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}}],"status":""},"dragging":false,"height":232,"id":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","position":{"x":0,"y":256.9962664348323},"positionAbsolute":{"x":-561.9636302884112,"y":-502.5764072506561},"selected":false,"type":"开始节点","width":658},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"id":"51f3a04e-9282-4408-af7d-18e7abe6f8b1","name":"output","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"result","id":"e212366c-9005-47a0-8303-b51909ae4636","nodeId":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束","nodeType":"基础节点"},"nodeParam":{"template":"{{output}}","streamOutput":false,"templateErrMsg":"","outputMode":1},"outputs":[],"references":[{"children":[{"references":[{"originId":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83","id":"e212366c-9005-47a0-8303-b51909ae4636","label":"result","type":"string","value":"result"}],"label":"","value":""}],"label":"输出格式美化","parentNode":true,"value":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83"},{"children":[{"references":[{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"e518c344-344c-413a-b339-aad7b6755f3f","label":"code","type":"number","value":"code"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"8894e78d-e884-484e-bf69-e28789e42909","label":"msg","type":"string","value":"msg"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"2715a61a-a44d-450a-a176-cceb2a34abc4","label":"total","type":"number","value":"total"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","children":[{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"8c2d2426-3098-4419-960c-6ec988dfabaf","label":"id","type":"number","value":"data.id","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"2673d03c-20c2-4ee6-a90d-e899ed5dccb4","label":"news_title","type":"string","value":"data.news_title","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"1e4b5411-ca88-41bb-afa6-d716fe743526","label":"news_link","type":"string","value":"data.news_link","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"6000b66a-77ff-415d-bd13-b676ec63fdd4","label":"news_img","type":"string","value":"data.news_img","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"e7bf1eed-9576-4f80-af5f-624ae7a3495d","label":"news_time","type":"string","value":"data.news_time","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"11159c8b-7970-46b5-a4ee-4bb5a01158db","label":"news_source","type":"string","value":"data.news_source","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"50af9fb3-5eed-45a3-b63d-d240dbed3243","label":"news_body","type":"string","value":"data.news_body","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"b826e26f-c219-4010-a7fe-165460f683d9","label":"news_summary","type":"string","value":"data.news_summary","parentType":"array-object"}],"id":"89785692-bc54-43a4-a15f-dbb517020c36","label":"data","type":"array-object","value":"data"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"5a25eca8-5e65-4b46-b6e3-33ed85563341","label":"page","type":"number","value":"page"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"fba5503f-cbde-45d7-aaf7-09a38765c583","label":"page_size","type":"number","value":"page_size"}],"label":"","value":""}],"label":"AI资讯收集工具","parentNode":true,"value":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527"},{"children":[{"references":[{"originId":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","id":"38b7de2a-323e-47fa-811d-3fe8de8eccc4","label":"start_time","type":"string","value":"start_time"}],"label":"","value":""}],"label":"计算开始时间","parentNode":true,"value":"spark-llm::b6217984-1375-483b-bb23-d623389150f9"},{"children":[{"references":[{"originId":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","id":"342749b3-84db-4b09-ac26-d6df7a1215a3","label":"end_time","type":"string","value":"end_time"}],"label":"","value":""}],"label":"计算结束时间","parentNode":true,"value":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105"},{"label":"获取当前时间","value":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","children":[{"label":"","value":"","references":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","originId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","label":"current_time","value":"current_time","type":"string"}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":""},"dragging":false,"height":451,"id":"node-end::35c27b32-3a5d-41ba-8137-623d60c3cee2","position":{"x":4332.755558665206,"y":147.17267664467417},"positionAbsolute":{"x":-379.59721843689675,"y":11.055456250577407},"selected":false,"type":"结束节点","width":408},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"id":"e74bb628-7809-4512-a543-6d8ab1121cf4","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","nodeId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"},"contentErrMsg":"","type":"ref"}}},{"id":"c7e29dc7-ff40-44ea-93ef-c18cddc25aae","name":"current_time","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"current_time","id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","nodeId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1"},"contentErrMsg":"","type":"ref"}}}],"label":"计算结束时间","labelEdit":false,"nodeMeta":{"aliasName":"计算结束时间","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"当前时间是{{current_time}},用户的问题是{{input}}。请基于以上信息输出资讯检索的结束时间，要求必须是yyyy-MM-dd结构，仅输出8位日期，不得有额外文本","enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"最大回复长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"生成多样性","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"apiKey":"d84b9d780b488cf919c5273686ee4e1a","auditing":"default","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"4.0Ultra","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm4","respFormat":0},"outputs":[{"id":"342749b3-84db-4b09-ac26-d6df7a1215a3","name":"end_time","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"获取当前时间","value":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","children":[{"label":"","value":"","references":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","originId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","label":"current_time","value":"current_time","type":"string"}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":""},"dragging":false,"height":644,"id":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","position":{"x":1491.6911799733232,"y":50.53480194836129},"positionAbsolute":{"x":-621.5692715272306,"y":-343.0339750941041},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"id":"42a41226-fae1-4bb7-943e-17890b31d223","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","nodeId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"},"contentErrMsg":"","type":"ref"}}},{"id":"9cc645f8-1052-48bb-8227-fd1860e044fc","name":"current_time","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"current_time","id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","nodeId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1"},"contentErrMsg":"","type":"ref"}}},{"id":"595cc875-dde7-48d7-923e-606de0488be0","name":"end_time","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"current_time","id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","nodeId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1"},"contentErrMsg":"","type":"ref"}}}],"label":"计算开始时间","labelEdit":false,"nodeMeta":{"aliasName":"计算开始时间","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"当前时间是{{current_time}},用户的问题是{{input}}，已知的结束时间是{{end_time}}。请基于以上信息输出资讯检索的开始时间，开始时间必须早于结束时间，至少早一天，日期结构要求必须是yyyy-MM-dd结构，仅输出8位日期，不得有额外文本","enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"最大回复长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"生成多样性","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"apiKey":"d84b9d780b488cf919c5273686ee4e1a","auditing":"default","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"4.0Ultra","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm4","respFormat":0},"outputs":[{"id":"38b7de2a-323e-47fa-811d-3fe8de8eccc4","name":"start_time","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","id":"342749b3-84db-4b09-ac26-d6df7a1215a3","label":"end_time","type":"string","value":"end_time"}],"label":"","value":""}],"label":"计算结束时间","parentNode":true,"value":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105"},{"label":"获取当前时间","value":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","children":[{"label":"","value":"","references":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","originId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","label":"current_time","value":"current_time","type":"string"}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":""},"dragging":false,"height":692,"id":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","position":{"x":2201.9572932545734,"y":26.481070169588406},"positionAbsolute":{"x":-189.24718432988846,"y":-343.4636583981619},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"id":"5f132795-1a9f-4120-95cf-f83de883227b","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","nodeId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"},"contentErrMsg":"","type":"ref"}}}],"label":"获取当前时间","labelEdit":false,"nodeMeta":{"aliasName":"获取当前时间","nodeType":"工具"},"nodeParam":{"uid":"0","code":"from datetime import datetime\\r\\n\\r\\ndef main(input):\\r\\n    # 获取当前时间\\r\\n    now = datetime.now()\\r\\n    # 格式化为 yyyy-MM-dd 的形式\\r\\n    time = now.strftime(''%Y-%m-%d'')\\r\\n    system_time = {\\r\\n        \\"current_time\\": time\\r\\n    }\\r\\n    return system_time","apiKey":"d84b9d780b488cf919c5273686ee4e1a","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","codeErrMsg":""},"outputs":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","name":"current_time","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":""},"dragging":false,"height":745,"id":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","position":{"x":781.4252155583081,"y":0},"positionAbsolute":{"x":-176.30314646833125,"y":-502.67031254547965},"selected":false,"type":"代码","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"id":"236ff198-46fc-417f-bcf8-ca77118e7e52","name":"json_data","nameErrMsg":"","schema":{"type":"array-object","value":{"content":{"name":"data","id":"89785692-bc54-43a4-a15f-dbb517020c36","nodeId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527"},"contentErrMsg":"","type":"ref"}}}],"label":"输出格式美化","labelEdit":false,"nodeMeta":{"aliasName":"输出格式美化","nodeType":"工具"},"nodeParam":{"uid":"0","code":"# -*- coding: utf-8 -*-\\nimport json\\n\\ndef main(json_data):\\n    result_str = \\"\\"\\n    for index, item in enumerate(json_data):\\n        # 提取标题、超链接和题图\\n        title = item.get(''news_title'', '''')\\n        link = item.get(''news_link'', '''')\\n        img = item.get(''news_img'', '''') \\n        summary = item.get(''news_summary'', '''') \\n        # 将结果添加到列表中\\n        #此处为新闻标题，并且设为可点击的超链接\\n        result_str+=\\"\\\\n\\"+str(index+1)+\\".\\"+f''<a href=\\"{link}\\">\\"{title}\\"</a>''+\\"\\\\n\\\\n\\"\\n        #此处为新闻摘要\\n        result_str+=\\"\\\\n资讯摘要：\\"+summary+\\"\\\\n\\"\\n        #此处为新闻题图\\n        result_str+=\\"![标题](\\"+img+\\")\\"\\n    \\n    result={\\"result\\":result_str}\\n    return result","apiKey":"d84b9d780b488cf919c5273686ee4e1a","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","codeErrMsg":""},"outputs":[{"id":"e212366c-9005-47a0-8303-b51909ae4636","name":"result","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"e518c344-344c-413a-b339-aad7b6755f3f","label":"code","type":"number","value":"code"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"8894e78d-e884-484e-bf69-e28789e42909","label":"msg","type":"string","value":"msg"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"2715a61a-a44d-450a-a176-cceb2a34abc4","label":"total","type":"number","value":"total"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","children":[{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"8c2d2426-3098-4419-960c-6ec988dfabaf","label":"id","type":"number","value":"data.id","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"2673d03c-20c2-4ee6-a90d-e899ed5dccb4","label":"news_title","type":"string","value":"data.news_title","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"1e4b5411-ca88-41bb-afa6-d716fe743526","label":"news_link","type":"string","value":"data.news_link","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"6000b66a-77ff-415d-bd13-b676ec63fdd4","label":"news_img","type":"string","value":"data.news_img","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"e7bf1eed-9576-4f80-af5f-624ae7a3495d","label":"news_time","type":"string","value":"data.news_time","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"11159c8b-7970-46b5-a4ee-4bb5a01158db","label":"news_source","type":"string","value":"data.news_source","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"50af9fb3-5eed-45a3-b63d-d240dbed3243","label":"news_body","type":"string","value":"data.news_body","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"b826e26f-c219-4010-a7fe-165460f683d9","label":"news_summary","type":"string","value":"data.news_summary","parentType":"array-object"}],"id":"89785692-bc54-43a4-a15f-dbb517020c36","label":"data","type":"array-object","value":"data"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"5a25eca8-5e65-4b46-b6e3-33ed85563341","label":"page","type":"number","value":"page"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"fba5503f-cbde-45d7-aaf7-09a38765c583","label":"page_size","type":"number","value":"page_size"}],"label":"","value":""}],"label":"AI资讯收集工具","parentNode":true,"value":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527"},{"children":[{"references":[{"originId":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","id":"38b7de2a-323e-47fa-811d-3fe8de8eccc4","label":"start_time","type":"string","value":"start_time"}],"label":"","value":""}],"label":"计算开始时间","parentNode":true,"value":"spark-llm::b6217984-1375-483b-bb23-d623389150f9"},{"children":[{"references":[{"originId":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","id":"342749b3-84db-4b09-ac26-d6df7a1215a3","label":"end_time","type":"string","value":"end_time"}],"label":"","value":""}],"label":"计算结束时间","parentNode":true,"value":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105"},{"label":"获取当前时间","value":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","children":[{"label":"","value":"","references":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","originId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","label":"current_time","value":"current_time","type":"string"}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":""},"dragging":false,"height":745,"id":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83","position":{"x":3622.489445383956,"y":0},"positionAbsolute":{"x":-189.6437693878923,"y":-173.57959398950644},"selected":true,"type":"代码","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"搜索关键字","disabled":false,"id":"2ca10c2d-6559-4633-aa0f-781e67d08c48","name":"keywords","nameErrMsg":"","required":false,"schema":{"type":"string","value":{"content":{"name":"","nodeId":""},"contentErrMsg":"","type":"ref"}},"type":"string"},{"description":"开始时间","disabled":false,"id":"afea7ff6-f5eb-4011-b553-088fa37ae139","name":"start_time","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"start_time","id":"38b7de2a-323e-47fa-811d-3fe8de8eccc4","nodeId":"spark-llm::b6217984-1375-483b-bb23-d623389150f9"},"contentErrMsg":"","type":"ref"}},"type":"string"},{"description":"结束时间","disabled":false,"id":"2e8361a0-4ec4-4db3-8218-8a23312406ac","name":"end_time","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"end_time","id":"342749b3-84db-4b09-ac26-d6df7a1215a3","nodeId":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105"},"contentErrMsg":"","type":"ref"}},"type":"string"},{"description":"页码","disabled":true,"id":"6f9428b9-dc86-48e0-af0a-82bf3e1e19a3","name":"page","nameErrMsg":"","required":true,"schema":{"type":"number","value":{"content":"1","contentErrMsg":"","type":"literal"}},"type":"number"},{"description":"每页条数","disabled":true,"id":"fe1268e7-9a23-4380-b848-a811a9a14187","name":"page_size","nameErrMsg":"","required":true,"schema":{"type":"number","value":{"content":"5","contentErrMsg":"","type":"literal"}},"type":"number"}],"label":"AI资讯收集工具","labelEdit":false,"nodeMeta":{"aliasName":"AI资讯收集工具","nodeType":"工具"},"nodeParam":{"uid":"0","code":"","toolDescription":"针对大模型最新技术的资讯收集","apiKey":"d84b9d780b488cf919c5273686ee4e1a","pluginId":"tool@6fefaedc6821000","appId":"12a0a7e2","operationId":"AI资讯收集-koAieDub","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","businessInput":["keywords","start_time","end_time"]},"outputs":[{"id":"e518c344-344c-413a-b339-aad7b6755f3f","name":"code","nameErrMsg":"","required":true,"schema":{"type":"number"}},{"id":"8894e78d-e884-484e-bf69-e28789e42909","name":"msg","nameErrMsg":"","required":true,"schema":{"default":"","type":"string"}},{"id":"2715a61a-a44d-450a-a176-cceb2a34abc4","name":"total","nameErrMsg":"","required":true,"schema":{"type":"number"}},{"id":"89785692-bc54-43a4-a15f-dbb517020c36","name":"data","nameErrMsg":"","required":true,"schema":{"properties":[{"id":"8c2d2426-3098-4419-960c-6ec988dfabaf","name":"id","required":true,"type":"number"},{"id":"2673d03c-20c2-4ee6-a90d-e899ed5dccb4","name":"news_title","required":true,"type":"string"},{"id":"1e4b5411-ca88-41bb-afa6-d716fe743526","name":"news_link","required":true,"type":"string"},{"id":"6000b66a-77ff-415d-bd13-b676ec63fdd4","name":"news_img","required":true,"type":"string"},{"id":"e7bf1eed-9576-4f80-af5f-624ae7a3495d","name":"news_time","required":true,"type":"string"},{"id":"11159c8b-7970-46b5-a4ee-4bb5a01158db","name":"news_source","required":true,"type":"string"},{"id":"50af9fb3-5eed-45a3-b63d-d240dbed3243","name":"news_body","required":true,"type":"string"},{"id":"b826e26f-c219-4010-a7fe-165460f683d9","name":"news_summary","required":true,"type":"string"}],"type":"array-object"}},{"id":"5a25eca8-5e65-4b46-b6e3-33ed85563341","name":"page","nameErrMsg":"","required":true,"schema":{"type":"number"}},{"id":"fba5503f-cbde-45d7-aaf7-09a38765c583","name":"page_size","nameErrMsg":"","required":true,"schema":{"type":"number"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","id":"38b7de2a-323e-47fa-811d-3fe8de8eccc4","label":"start_time","type":"string","value":"start_time"}],"label":"","value":""}],"label":"计算开始时间","parentNode":true,"value":"spark-llm::b6217984-1375-483b-bb23-d623389150f9"},{"children":[{"references":[{"originId":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","id":"342749b3-84db-4b09-ac26-d6df7a1215a3","label":"end_time","type":"string","value":"end_time"}],"label":"","value":""}],"label":"计算结束时间","parentNode":true,"value":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105"},{"label":"获取当前时间","value":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","children":[{"label":"","value":"","references":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","originId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","label":"current_time","value":"current_time","type":"string"}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":""},"dragging":false,"height":635,"id":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","position":{"x":2912.2234065358234,"y":54.96658697360897},"positionAbsolute":{"x":-608.5244305047684,"y":-173.45238156869405},"selected":false,"type":"工具","width":587}]}', '{"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始节点","nodeType":"基础节点"},"nodeParam":{},"outputs":[{"deleteDisabled":true,"id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}}],"status":"","updatable":false},"dragging":false,"height":256,"id":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","position":{"x":0,"y":256.9962664348323},"positionAbsolute":{"x":-561.9636302884112,"y":-502.5764072506561},"selected":false,"type":"开始节点","width":658},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"id":"51f3a04e-9282-4408-af7d-18e7abe6f8b1","name":"output","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"result","id":"e212366c-9005-47a0-8303-b51909ae4636","nodeId":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束节点","nodeType":"基础节点"},"nodeParam":{"template":"{{output}}","streamOutput":false,"templateErrMsg":"","outputMode":1},"outputs":[],"references":[{"children":[{"references":[{"originId":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83","id":"e212366c-9005-47a0-8303-b51909ae4636","label":"result","type":"string","value":"result"}],"label":"","value":""}],"label":"输出格式美化","parentNode":true,"value":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83"},{"children":[{"references":[{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"e518c344-344c-413a-b339-aad7b6755f3f","label":"code","type":"number","value":"code"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"8894e78d-e884-484e-bf69-e28789e42909","label":"msg","type":"string","value":"msg"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"2715a61a-a44d-450a-a176-cceb2a34abc4","label":"total","type":"number","value":"total"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","children":[{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"8c2d2426-3098-4419-960c-6ec988dfabaf","label":"id","type":"number","value":"data.id","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"2673d03c-20c2-4ee6-a90d-e899ed5dccb4","label":"news_title","type":"string","value":"data.news_title","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"1e4b5411-ca88-41bb-afa6-d716fe743526","label":"news_link","type":"string","value":"data.news_link","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"6000b66a-77ff-415d-bd13-b676ec63fdd4","label":"news_img","type":"string","value":"data.news_img","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"e7bf1eed-9576-4f80-af5f-624ae7a3495d","label":"news_time","type":"string","value":"data.news_time","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"11159c8b-7970-46b5-a4ee-4bb5a01158db","label":"news_source","type":"string","value":"data.news_source","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"50af9fb3-5eed-45a3-b63d-d240dbed3243","label":"news_body","type":"string","value":"data.news_body","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"b826e26f-c219-4010-a7fe-165460f683d9","label":"news_summary","type":"string","value":"data.news_summary","parentType":"array-object"}],"id":"89785692-bc54-43a4-a15f-dbb517020c36","label":"data","type":"array-object","value":"data"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"5a25eca8-5e65-4b46-b6e3-33ed85563341","label":"page","type":"number","value":"page"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"fba5503f-cbde-45d7-aaf7-09a38765c583","label":"page_size","type":"number","value":"page_size"}],"label":"","value":""}],"label":"AI资讯收集工具","parentNode":true,"value":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527"},{"children":[{"references":[{"originId":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","id":"38b7de2a-323e-47fa-811d-3fe8de8eccc4","label":"start_time","type":"string","value":"start_time"}],"label":"","value":""}],"label":"计算开始时间","parentNode":true,"value":"spark-llm::b6217984-1375-483b-bb23-d623389150f9"},{"children":[{"references":[{"originId":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","id":"342749b3-84db-4b09-ac26-d6df7a1215a3","label":"end_time","type":"string","value":"end_time"}],"label":"","value":""}],"label":"计算结束时间","parentNode":true,"value":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105"},{"label":"获取当前时间","value":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","children":[{"label":"","value":"","references":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","originId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","label":"current_time","value":"current_time","type":"string"}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":"","updatable":false},"dragging":false,"height":617,"id":"node-end::35c27b32-3a5d-41ba-8137-623d60c3cee2","position":{"x":4332.755558665206,"y":147.17267664467417},"positionAbsolute":{"x":-379.59721843689675,"y":11.055456250577407},"selected":false,"type":"结束节点","width":408},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"id":"e74bb628-7809-4512-a543-6d8ab1121cf4","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","nodeId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"},"contentErrMsg":"","type":"ref"}}},{"id":"c7e29dc7-ff40-44ea-93ef-c18cddc25aae","name":"current_time","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"current_time","id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","nodeId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1"},"contentErrMsg":"","type":"ref"}}}],"label":"计算结束时间","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"当前时间是{{current_time}},用户的问题是{{input}}。请基于以上信息输出资讯检索的结束时间，要求必须是yyyy-MM-dd结构，仅输出8位日期，不得有额外文本","enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"最大回复长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"生成多样性","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"auditing":"default","url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"4.0Ultra","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm4","respFormat":0},"outputs":[{"id":"342749b3-84db-4b09-ac26-d6df7a1215a3","name":"end_time","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"获取当前时间","value":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","children":[{"label":"","value":"","references":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","originId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","label":"current_time","value":"current_time","type":"string"}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":"","updatable":false},"dragging":false,"height":644,"id":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","position":{"x":1491.6911799733232,"y":50.53480194836129},"positionAbsolute":{"x":-621.5692715272306,"y":-343.0339750941041},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"id":"42a41226-fae1-4bb7-943e-17890b31d223","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","nodeId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"},"contentErrMsg":"","type":"ref"}}},{"id":"9cc645f8-1052-48bb-8227-fd1860e044fc","name":"current_time","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"current_time","id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","nodeId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1"},"contentErrMsg":"","type":"ref"}}},{"id":"595cc875-dde7-48d7-923e-606de0488be0","name":"end_time","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"current_time","id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","nodeId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1"},"contentErrMsg":"","type":"ref"}}}],"label":"计算开始时间","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"当前时间是{{current_time}},用户的问题是{{input}}，已知的结束时间是{{end_time}}。请基于以上信息输出资讯检索的开始时间，开始时间必须早于结束时间，至少早一天，日期结构要求必须是yyyy-MM-dd结构，仅输出8位日期，不得有额外文本","enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"最大回复长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"生成多样性","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"auditing":"default","url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"4.0Ultra","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm4","respFormat":0},"outputs":[{"id":"38b7de2a-323e-47fa-811d-3fe8de8eccc4","name":"start_time","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","id":"342749b3-84db-4b09-ac26-d6df7a1215a3","label":"end_time","type":"string","value":"end_time"}],"label":"","value":""}],"label":"计算结束时间","parentNode":true,"value":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105"},{"label":"获取当前时间","value":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","children":[{"label":"","value":"","references":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","originId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","label":"current_time","value":"current_time","type":"string"}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":"","updatable":false},"dragging":false,"height":692,"id":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","position":{"x":2201.9572932545734,"y":26.481070169588406},"positionAbsolute":{"x":-189.24718432988846,"y":-343.4636583981619},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"id":"5f132795-1a9f-4120-95cf-f83de883227b","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","nodeId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"},"contentErrMsg":"","type":"ref"}}}],"label":"获取当前时间","labelEdit":false,"nodeMeta":{"aliasName":"代码","nodeType":"工具"},"nodeParam":{"uid":"0","code":"from datetime import datetime\\r\\n\\r\\ndef main(input):\\r\\n    # 获取当前时间\\r\\n    now = datetime.now()\\r\\n    # 格式化为 yyyy-MM-dd 的形式\\r\\n    time = now.strftime(''%Y-%m-%d'')\\r\\n    system_time = {\\r\\n        \\"current_time\\": time\\r\\n    }\\r\\n    return system_time","appId":"12a0a7e2","codeErrMsg":""},"outputs":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","name":"current_time","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":"","updatable":false},"dragging":false,"height":745,"id":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","position":{"x":781.4252155583081,"y":0},"positionAbsolute":{"x":-176.30314646833125,"y":-502.67031254547965},"selected":false,"type":"代码","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"id":"236ff198-46fc-417f-bcf8-ca77118e7e52","name":"json_data","nameErrMsg":"","schema":{"type":"array-object","value":{"content":{"name":"data","id":"89785692-bc54-43a4-a15f-dbb517020c36","nodeId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527"},"contentErrMsg":"","type":"ref"}}}],"label":"输出格式美化","labelEdit":false,"nodeMeta":{"aliasName":"代码","nodeType":"工具"},"nodeParam":{"uid":"0","code":"# -*- coding: utf-8 -*-\\nimport json\\n\\ndef main(json_data):\\n    result_str = \\"\\"\\n    for index, item in enumerate(json_data):\\n        # 提取标题、超链接和题图\\n        title = item.get(''news_title'', '''')\\n        link = item.get(''news_link'', '''')\\n        img = item.get(''news_img'', '''') \\n        summary = item.get(''news_summary'', '''') \\n        # 将结果添加到列表中\\n        #此处为新闻标题，并且设为可点击的超链接\\n        result_str+=\\"\\\\n\\"+str(index+1)+\\".\\"+f''<a href=\\"{link}\\">\\"{title}\\"</a>''+\\"\\\\n\\\\n\\"\\n        #此处为新闻摘要\\n        result_str+=\\"\\\\n资讯摘要：\\"+summary+\\"\\\\n\\"\\n        #此处为新闻题图\\n        result_str+=\\"![标题](\\"+img+\\")\\"\\n    \\n    result={\\"result\\":result_str}\\n    return result","appId":"12a0a7e2","codeErrMsg":""},"outputs":[{"id":"e212366c-9005-47a0-8303-b51909ae4636","name":"result","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"e518c344-344c-413a-b339-aad7b6755f3f","label":"code","type":"number","value":"code"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"8894e78d-e884-484e-bf69-e28789e42909","label":"msg","type":"string","value":"msg"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"2715a61a-a44d-450a-a176-cceb2a34abc4","label":"total","type":"number","value":"total"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","children":[{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"8c2d2426-3098-4419-960c-6ec988dfabaf","label":"id","type":"number","value":"data.id","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"2673d03c-20c2-4ee6-a90d-e899ed5dccb4","label":"news_title","type":"string","value":"data.news_title","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"1e4b5411-ca88-41bb-afa6-d716fe743526","label":"news_link","type":"string","value":"data.news_link","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"6000b66a-77ff-415d-bd13-b676ec63fdd4","label":"news_img","type":"string","value":"data.news_img","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"e7bf1eed-9576-4f80-af5f-624ae7a3495d","label":"news_time","type":"string","value":"data.news_time","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"11159c8b-7970-46b5-a4ee-4bb5a01158db","label":"news_source","type":"string","value":"data.news_source","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"50af9fb3-5eed-45a3-b63d-d240dbed3243","label":"news_body","type":"string","value":"data.news_body","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"b826e26f-c219-4010-a7fe-165460f683d9","label":"news_summary","type":"string","value":"data.news_summary","parentType":"array-object"}],"id":"89785692-bc54-43a4-a15f-dbb517020c36","label":"data","type":"array-object","value":"data"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"5a25eca8-5e65-4b46-b6e3-33ed85563341","label":"page","type":"number","value":"page"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"fba5503f-cbde-45d7-aaf7-09a38765c583","label":"page_size","type":"number","value":"page_size"}],"label":"","value":""}],"label":"AI资讯收集工具","parentNode":true,"value":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527"},{"children":[{"references":[{"originId":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","id":"38b7de2a-323e-47fa-811d-3fe8de8eccc4","label":"start_time","type":"string","value":"start_time"}],"label":"","value":""}],"label":"计算开始时间","parentNode":true,"value":"spark-llm::b6217984-1375-483b-bb23-d623389150f9"},{"children":[{"references":[{"originId":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","id":"342749b3-84db-4b09-ac26-d6df7a1215a3","label":"end_time","type":"string","value":"end_time"}],"label":"","value":""}],"label":"计算结束时间","parentNode":true,"value":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105"},{"label":"获取当前时间","value":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","children":[{"label":"","value":"","references":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","originId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","label":"current_time","value":"current_time","type":"string"}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":"","updatable":false},"dragging":false,"height":745,"id":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83","position":{"x":3622.489445383956,"y":0},"positionAbsolute":{"x":-189.6437693878923,"y":-173.57959398950644},"selected":false,"type":"代码","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"搜索关键字","disabled":false,"id":"2ca10c2d-6559-4633-aa0f-781e67d08c48","name":"keywords","nameErrMsg":"","required":false,"schema":{"type":"string","value":{"content":{"name":"","nodeId":""},"contentErrMsg":"","type":"ref"}}},{"description":"开始时间","disabled":false,"id":"afea7ff6-f5eb-4011-b553-088fa37ae139","name":"start_time","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"start_time","id":"38b7de2a-323e-47fa-811d-3fe8de8eccc4","nodeId":"spark-llm::b6217984-1375-483b-bb23-d623389150f9"},"contentErrMsg":"","type":"ref"}}},{"description":"结束时间","disabled":false,"id":"2e8361a0-4ec4-4db3-8218-8a23312406ac","name":"end_time","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"end_time","id":"342749b3-84db-4b09-ac26-d6df7a1215a3","nodeId":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105"},"contentErrMsg":"","type":"ref"}}},{"description":"页码","disabled":true,"id":"6f9428b9-dc86-48e0-af0a-82bf3e1e19a3","name":"page","nameErrMsg":"","required":true,"schema":{"type":"number","value":{"content":"1","contentErrMsg":"","type":"literal"}}},{"description":"每页条数","disabled":true,"id":"fe1268e7-9a23-4380-b848-a811a9a14187","name":"page_size","nameErrMsg":"","required":true,"schema":{"type":"number","value":{"content":"5","contentErrMsg":"","type":"literal"}}}],"label":"AI资讯收集工具","labelEdit":false,"nodeMeta":{"aliasName":"AI资讯收集","nodeType":"工具"},"nodeParam":{"uid":"0","code":"","toolDescription":"针对大模型最新技术的资讯收集","pluginId":"tool@6fefaedc6821000","appId":"12a0a7e2","operationId":"AI资讯收集-koAieDub","businessInput":["keywords","start_time","end_time"]},"outputs":[{"id":"e518c344-344c-413a-b339-aad7b6755f3f","name":"code","nameErrMsg":"","required":true,"schema":{"type":"number"}},{"id":"8894e78d-e884-484e-bf69-e28789e42909","name":"msg","nameErrMsg":"","required":true,"schema":{"default":"","type":"string"}},{"id":"2715a61a-a44d-450a-a176-cceb2a34abc4","name":"total","nameErrMsg":"","required":true,"schema":{"type":"number"}},{"id":"89785692-bc54-43a4-a15f-dbb517020c36","name":"data","nameErrMsg":"","required":true,"schema":{"properties":[{"id":"8c2d2426-3098-4419-960c-6ec988dfabaf","name":"id","required":true,"type":"number"},{"id":"2673d03c-20c2-4ee6-a90d-e899ed5dccb4","name":"news_title","required":true,"type":"string"},{"id":"1e4b5411-ca88-41bb-afa6-d716fe743526","name":"news_link","required":true,"type":"string"},{"id":"6000b66a-77ff-415d-bd13-b676ec63fdd4","name":"news_img","required":true,"type":"string"},{"id":"e7bf1eed-9576-4f80-af5f-624ae7a3495d","name":"news_time","required":true,"type":"string"},{"id":"11159c8b-7970-46b5-a4ee-4bb5a01158db","name":"news_source","required":true,"type":"string"},{"id":"50af9fb3-5eed-45a3-b63d-d240dbed3243","name":"news_body","required":true,"type":"string"},{"id":"b826e26f-c219-4010-a7fe-165460f683d9","name":"news_summary","required":true,"type":"string"}],"type":"array-object"}},{"id":"5a25eca8-5e65-4b46-b6e3-33ed85563341","name":"page","nameErrMsg":"","required":true,"schema":{"type":"number"}},{"id":"fba5503f-cbde-45d7-aaf7-09a38765c583","name":"page_size","nameErrMsg":"","required":true,"schema":{"type":"number"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","id":"38b7de2a-323e-47fa-811d-3fe8de8eccc4","label":"start_time","type":"string","value":"start_time"}],"label":"","value":""}],"label":"计算开始时间","parentNode":true,"value":"spark-llm::b6217984-1375-483b-bb23-d623389150f9"},{"children":[{"references":[{"originId":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","id":"342749b3-84db-4b09-ac26-d6df7a1215a3","label":"end_time","type":"string","value":"end_time"}],"label":"","value":""}],"label":"计算结束时间","parentNode":true,"value":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105"},{"label":"获取当前时间","value":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","children":[{"label":"","value":"","references":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","originId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","label":"current_time","value":"current_time","type":"string"}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":"","updatable":false},"dragging":false,"height":635,"id":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","position":{"x":2912.2234065358234,"y":54.96658697360897},"positionAbsolute":{"x":-608.5244305047684,"y":-173.45238156869405},"selected":false,"type":"工具","width":587}],"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3-ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","target":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1-spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","target":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105-spark-llm::b6217984-1375-483b-bb23-d623389150f9","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","target":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83-node-end::35c27b32-3a5d-41ba-8137-623d60c3cee2","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83","target":"node-end::35c27b32-3a5d-41ba-8137-623d60c3cee2","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::b6217984-1375-483b-bb23-d623389150f9-plugin::1ca7e695-da60-436d-aa09-c5efd895f527","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","target":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::1ca7e695-da60-436d-aa09-c5efd895f527-ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","target":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83","type":"customEdge"}]}', 'https://bjcdn.openstorage.cn/xinghuo-privatedata/personality/1729649279117.jpg?width=204&height=204', '', 1, 1, 0, 0, NULL, 0, 31536, 2, NULL, 1, NULL, '{"needGuide":false}', NULL, NULL, NULL);
INSERT INTO workflow (id, uid, app_id, flow_id, name, description, deleted, is_public, create_time, update_time, published_data, `data`, avatar_icon, avatar_color, status, can_publish, app_updatable, top, edge_type, `order`, eval_set_id, source, bak, editing, eval_page_first_time, advanced_config, ext, category, space_id) VALUES(86255, 11143393282, '12a0a7e2', '7320350037499285506', '诗词散文意境配图', '为您的诗词、散文画出一幅绝美意境的配图', 0, 0, '2025-04-22 15:37:34', '2025-06-25 17:42:58', NULL, '{"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始节点","nodeType":"基础节点"},"nodeParam":{},"outputs":[{"deleteDisabled":true,"id":"eb680c13-2105-4f20-8355-8d8d5ce6b382","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}}],"status":"","updatable":false},"dragging":false,"height":256,"id":"node-start::73adfbff-36fa-42e0-9967-3c16ceecbbe4","position":{"x":3,"y":188},"positionAbsolute":{"x":3,"y":188},"selected":false,"type":"开始节点","width":658},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"fileType":"","id":"54e5cbc0-ac13-49cc-8521-53358b22d932","name":"output","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"903dc791-0b2e-43d4-bd88-2dfd92abdb46","nodeId":"plugin::16ed6ba4-592d-4acd-a0ee-848d3e87dd3c","name":"data.image_url"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"e3c31c7d-433d-41a7-abaa-6ed751ca5a8d","name":"output1","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"eb680c13-2105-4f20-8355-8d8d5ce6b382","nodeId":"node-start::73adfbff-36fa-42e0-9967-3c16ceecbbe4","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束节点","nodeType":"基础节点"},"nodeParam":{"template":"✨{{output1}}✨\\n<figure style=margin: 0; padding: 0; border: 1px solid #ddd;\\">\\n  <img src=\\"{{output}}\\" style=\\"width: 100%; height: 100%; object-fit: contain; display: block;\\">\\n</figure>","streamOutput":true,"templateErrMsg":"","outputMode":1},"outputs":[],"references":[{"label":"文本处理节点_1","value":"text-joiner::338fdcec-c1f1-4809-b50c-b799174d7087","children":[{"label":"","value":"","references":[{"id":"ccdf3a82-fe33-4c1f-82c5-dff7785fe288","originId":"text-joiner::338fdcec-c1f1-4809-b50c-b799174d7087","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"大模型_1","value":"spark-llm::fd76a1a3-8e0e-47ac-a163-6ef69ea1c2a9","children":[{"label":"","value":"","references":[{"id":"7f01f3ae-3bc2-4f8e-8679-af20a7e6c631","originId":"spark-llm::fd76a1a3-8e0e-47ac-a163-6ef69ea1c2a9","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::73adfbff-36fa-42e0-9967-3c16ceecbbe4","children":[{"label":"","value":"","references":[{"id":"eb680c13-2105-4f20-8355-8d8d5ce6b382","originId":"node-start::73adfbff-36fa-42e0-9967-3c16ceecbbe4","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true},{"label":"文生图 - 可灵版_1","value":"plugin::16ed6ba4-592d-4acd-a0ee-848d3e87dd3c","children":[{"label":"","value":"","references":[{"id":"c567e6ce-6837-44bc-a82a-c2e1bc868331","originId":"plugin::16ed6ba4-592d-4acd-a0ee-848d3e87dd3c","label":"sid","value":"sid","type":"string","fileType":""},{"id":"e9764785-4223-4255-9baf-7faad71323c4","originId":"plugin::16ed6ba4-592d-4acd-a0ee-848d3e87dd3c","label":"code","value":"code","type":"integer","fileType":""},{"id":"5e6fca9a-3af9-49c0-ae34-a9ddd387b5ac","originId":"plugin::16ed6ba4-592d-4acd-a0ee-848d3e87dd3c","label":"message","value":"message","type":"string","fileType":""},{"id":"216573d2-25e5-443c-b661-a809caf19c85","originId":"plugin::16ed6ba4-592d-4acd-a0ee-848d3e87dd3c","label":"data","value":"data","type":"object","fileType":"","children":[{"id":"903dc791-0b2e-43d4-bd88-2dfd92abdb46","label":"image_url","value":"data.image_url","type":"string","originId":"plugin::16ed6ba4-592d-4acd-a0ee-848d3e87dd3c","parentType":"object","fileType":""}]}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":695,"id":"node-end::59c08ea4-d3c7-49f9-80c2-28cb72154dae","position":{"x":3177.6223690241745,"y":-116.48590480623449},"positionAbsolute":{"x":3177.6223690241745,"y":-116.48590480623449},"selected":true,"type":"结束节点","width":408},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"6cd29d14-f06f-4cb3-95eb-42c4c693a3bf","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"eb680c13-2105-4f20-8355-8d8d5ce6b382","nodeId":"node-start::73adfbff-36fa-42e0-9967-3c16ceecbbe4","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}}],"label":"大模型_1","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"你是一位精通文学和绘画艺术的专家，你需要根据用户提供的诗词、散文等文字，描述一张与诗词意境相符的图片，帮助用户更好地理解和感受文学之美。\\n输出不超过100字。\\n接下来我的输入是：{{input}}\\n\\n","modelId":110,"enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","llmId":110,"url":"wss://spark-api.xf-yun.com/v4.0/chat","multiMode":false,"uid":"0","patchId":"0","isThink":false,"templateErrMsg":"","domain":"4.0Ultra","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm4","respFormat":0},"outputs":[{"id":"7f01f3ae-3bc2-4f8e-8679-af20a7e6c631","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"开始","value":"node-start::73adfbff-36fa-42e0-9967-3c16ceecbbe4","children":[{"label":"","value":"","references":[{"id":"eb680c13-2105-4f20-8355-8d8d5ce6b382","originId":"node-start::73adfbff-36fa-42e0-9967-3c16ceecbbe4","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":806,"id":"spark-llm::fd76a1a3-8e0e-47ac-a163-6ef69ea1c2a9","position":{"x":806.623210313244,"y":75.4661443843313},"positionAbsolute":{"x":806.623210313244,"y":75.4661443843313},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"用于按照指定格式规则处理多个字符串变量","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/text-splicing-icon.png","inputs":[{"fileType":"","id":"86230e7f-30fe-45dd-a513-b3bc52ff1202","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"7f01f3ae-3bc2-4f8e-8679-af20a7e6c631","nodeId":"spark-llm::fd76a1a3-8e0e-47ac-a163-6ef69ea1c2a9","name":"output"},"contentErrMsg":"","type":"ref"}}},{"id":"fa47e49b-2a27-4cde-a8d3-eec180642e13","name":"input1","nameErrMsg":"","schema":{"type":"string","value":{"content":"水墨画风格，极简风，整体构图采用传统国画的疏密布局，大量留白让画面充满呼吸感。符合现实逻辑，有景深、有透视、空间布局","contentErrMsg":"","type":"literal"}}}],"label":"文本处理节点_1","labelEdit":false,"nodeMeta":{"aliasName":"文本拼接","nodeType":"工具"},"nodeParam":{"uid":"0","separatorErrMsg":"","appId":"12a0a7e2","prompt":"{{input1}}{{input}}}"},"outputs":[{"id":"ccdf3a82-fe33-4c1f-82c5-dff7785fe288","name":"output","nameErrMsg":"","schema":{"type":"string"}}],"references":[{"label":"大模型_1","value":"spark-llm::fd76a1a3-8e0e-47ac-a163-6ef69ea1c2a9","children":[{"label":"","value":"","references":[{"id":"7f01f3ae-3bc2-4f8e-8679-af20a7e6c631","originId":"spark-llm::fd76a1a3-8e0e-47ac-a163-6ef69ea1c2a9","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::73adfbff-36fa-42e0-9967-3c16ceecbbe4","children":[{"label":"","value":"","references":[{"id":"eb680c13-2105-4f20-8355-8d8d5ce6b382","originId":"node-start::73adfbff-36fa-42e0-9967-3c16ceecbbe4","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":603,"id":"text-joiner::338fdcec-c1f1-4809-b50c-b799174d7087","position":{"x":1550.710927006619,"y":-25.314853167693528},"positionAbsolute":{"x":1550.710927006619,"y":-25.314853167693528},"selected":false,"type":"文本拼接","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"用户输入 （示例：落霞与孤鹜齐飞，秋水共长天一色）","disabled":false,"fileType":"","id":"bb155377-2754-4471-8c84-fcd2a7380954","name":"description","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"id":"ccdf3a82-fe33-4c1f-82c5-dff7785fe288","nodeId":"text-joiner::338fdcec-c1f1-4809-b50c-b799174d7087","name":"output"},"contentErrMsg":"","type":"ref"}}}],"label":"文生图 - 可灵版_1","labelEdit":false,"nodeMeta":{"aliasName":"工具","nodeType":"工具"},"nodeParam":{"uid":"11143393282","code":"","toolDescription":"根据输入的描述，生成对应图片","pluginId":"tool@73690d6a0021000","appId":"12a0a7e2","operationId":"文生图 - 可灵版-X3Q0UT3s","businessInput":[]},"outputs":[{"id":"c567e6ce-6837-44bc-a82a-c2e1bc868331","name":"sid","schema":{"type":"string"}},{"id":"e9764785-4223-4255-9baf-7faad71323c4","name":"code","schema":{"type":"integer"}},{"id":"5e6fca9a-3af9-49c0-ae34-a9ddd387b5ac","name":"message","schema":{"type":"string"}},{"id":"216573d2-25e5-443c-b661-a809caf19c85","name":"data","schema":{"properties":[{"id":"903dc791-0b2e-43d4-bd88-2dfd92abdb46","name":"image_url","type":"string"}],"type":"object"}}],"references":[{"label":"文本处理节点_1","value":"text-joiner::338fdcec-c1f1-4809-b50c-b799174d7087","children":[{"label":"","value":"","references":[{"id":"ccdf3a82-fe33-4c1f-82c5-dff7785fe288","originId":"text-joiner::338fdcec-c1f1-4809-b50c-b799174d7087","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"大模型_1","value":"spark-llm::fd76a1a3-8e0e-47ac-a163-6ef69ea1c2a9","children":[{"label":"","value":"","references":[{"id":"7f01f3ae-3bc2-4f8e-8679-af20a7e6c631","originId":"spark-llm::fd76a1a3-8e0e-47ac-a163-6ef69ea1c2a9","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::73adfbff-36fa-42e0-9967-3c16ceecbbe4","children":[{"label":"","value":"","references":[{"id":"eb680c13-2105-4f20-8355-8d8d5ce6b382","originId":"node-start::73adfbff-36fa-42e0-9967-3c16ceecbbe4","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":387,"id":"plugin::16ed6ba4-592d-4acd-a0ee-848d3e87dd3c","position":{"x":2518.873181364273,"y":-21.25156963698241},"positionAbsolute":{"x":2518.873181364273,"y":-21.25156963698241},"selected":false,"type":"工具","width":587}],"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::73adfbff-36fa-42e0-9967-3c16ceecbbe4-spark-llm::fd76a1a3-8e0e-47ac-a163-6ef69ea1c2a9","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-start::73adfbff-36fa-42e0-9967-3c16ceecbbe4","target":"spark-llm::fd76a1a3-8e0e-47ac-a163-6ef69ea1c2a9","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::fd76a1a3-8e0e-47ac-a163-6ef69ea1c2a9-text-joiner::338fdcec-c1f1-4809-b50c-b799174d7087","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"spark-llm::fd76a1a3-8e0e-47ac-a163-6ef69ea1c2a9","target":"text-joiner::338fdcec-c1f1-4809-b50c-b799174d7087","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-text-joiner::338fdcec-c1f1-4809-b50c-b799174d7087-plugin::16ed6ba4-592d-4acd-a0ee-848d3e87dd3c","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"text-joiner::338fdcec-c1f1-4809-b50c-b799174d7087","target":"plugin::16ed6ba4-592d-4acd-a0ee-848d3e87dd3c","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::16ed6ba4-592d-4acd-a0ee-848d3e87dd3c-node-end::59c08ea4-d3c7-49f9-80c2-28cb72154daenode-end::59c08ea4-d3c7-49f9-80c2-28cb72154dae","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"plugin::16ed6ba4-592d-4acd-a0ee-848d3e87dd3c","target":"node-end::59c08ea4-d3c7-49f9-80c2-28cb72154dae","targetHandle":"node-end::59c08ea4-d3c7-49f9-80c2-28cb72154dae","type":"customEdge"}]}', 'https://bjcdn.openstorage.cn/xinghuo-privatedata/personality/1745310568104.jpg?width=204&height=204', '#FFEAD5', -1, 1, 0, 0, NULL, 0, NULL, 2, NULL, 1, NULL, '{"prologue":{"enabled":true,"inputExample":["静夜思 床前明月光， 疑是地上霜。 举头望明月， 低头思故乡。","凉州词 黄河远上白云间，一片孤城万仞山。羌笛何须怨杨柳，春风不度玉门关。","相思 红豆生南国，春来发几枝？愿君多采撷，此物最相思。"],"prologueText":"输入您想配图的诗词散文内容，我将为您画出一幅符合意境的图片"},"needGuide":false,"textToSpeech":{"enabled":true,"vcn":"x4_lingxiaoqi_cts"},"backgroundPic":"https://bjcdn.openstorage.cn/xinghuo-privatedata/personality_2025-05-23_fdgmv5a7_cropped-image.jpeg?width=857&height=1152"}', '{"botId":2786663}', 13, NULL);
INSERT INTO workflow (id, uid, app_id, flow_id, name, description, deleted, is_public, create_time, update_time, published_data, `data`, avatar_icon, avatar_color, status, can_publish, app_updatable, top, edge_type, `order`, eval_set_id, source, bak, editing, eval_page_first_time, advanced_config, ext, category, space_id) VALUES(75140, 18882349618, '12a0a7e2', '7311207728616894466', '【勿动】AI播客模板', 'AI有声', 0, 0, '2025-03-28 10:09:18', '2025-04-19 16:30:17', '{"edges":[{"data":{"edgeType":"polyline"},"id":"reactflow__edge-spark-llm::5e38f84e-5bac-45b7-a117-8758076cd2ba-plugin::6557df0c-97fb-4353-9a45-2ff0457b72ec","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::5e38f84e-5bac-45b7-a117-8758076cd2ba","target":"plugin::6557df0c-97fb-4353-9a45-2ff0457b72ec","type":"customEdge"},{"data":{"edgeType":"polyline"},"id":"reactflow__edge-plugin::6557df0c-97fb-4353-9a45-2ff0457b72ec-node-end::bf6a1cdd-a6a4-448a-8f3b-e3f291ab2a0anode-end::bf6a1cdd-a6a4-448a-8f3b-e3f291ab2a0a","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"plugin::6557df0c-97fb-4353-9a45-2ff0457b72ec","target":"node-end::bf6a1cdd-a6a4-448a-8f3b-e3f291ab2a0a","targetHandle":"node-end::bf6a1cdd-a6a4-448a-8f3b-e3f291ab2a0a","type":"customEdge"},{"data":{"edgeType":"polyline"},"id":"reactflow__edge-node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12-ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12","target":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","type":"customEdge"},{"data":{"edgeType":"polyline"},"id":"reactflow__edge-ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f-if-else::0a38a0da-f662-4039-9aed-658595885613","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","target":"if-else::0a38a0da-f662-4039-9aed-658595885613","type":"customEdge"},{"data":{"edgeType":"polyline"},"id":"reactflow__edge-if-else::0a38a0da-f662-4039-9aed-658595885613branch_one_of::2192a758-4498-4294-9e49-57f4e083c187-plugin::08a9d252-71a0-4b5f-b681-01c6f77e75d7","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"if-else::0a38a0da-f662-4039-9aed-658595885613","sourceHandle":"branch_one_of::2192a758-4498-4294-9e49-57f4e083c187","target":"plugin::08a9d252-71a0-4b5f-b681-01c6f77e75d7","type":"customEdge"},{"data":{"edgeType":"polyline"},"id":"reactflow__edge-if-else::0a38a0da-f662-4039-9aed-658595885613branch_one_of::a0a0cfd9-41da-4c56-be33-7fc22016bda9-spark-llm::5e38f84e-5bac-45b7-a117-8758076cd2ba","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"if-else::0a38a0da-f662-4039-9aed-658595885613","sourceHandle":"branch_one_of::a0a0cfd9-41da-4c56-be33-7fc22016bda9","target":"spark-llm::5e38f84e-5bac-45b7-a117-8758076cd2ba","type":"customEdge"},{"data":{"edgeType":"polyline"},"id":"reactflow__edge-plugin::08a9d252-71a0-4b5f-b681-01c6f77e75d7-spark-llm::5e38f84e-5bac-45b7-a117-8758076cd2ba","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"plugin::08a9d252-71a0-4b5f-b681-01c6f77e75d7","target":"spark-llm::5e38f84e-5bac-45b7-a117-8758076cd2ba","type":"customEdge"}],"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始","nodeType":"基础节点"},"nodeParam":{},"outputs":[{"deleteDisabled":true,"id":"4cb707a4-3708-4523-ae5d-215cdbc1c500","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}}],"status":"success"},"dragging":false,"height":256,"id":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12","position":{"x":-2564.4526716900527,"y":-1786.5159591940044},"positionAbsolute":{"x":-2564.4526716900527,"y":-1786.5159591940044},"selected":false,"type":"开始节点","width":658},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"id":"6b8905ed-9efe-4cbf-8702-0a4d42c54066","name":"audio_url","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"data.voice_url","id":"10f97b32-21df-4de0-b73a-f9026ed8227f","nodeId":"plugin::6557df0c-97fb-4353-9a45-2ff0457b72ec"},"contentErrMsg":"","type":"ref"}}},{"id":"6000bd78-1994-4295-b8b2-44e5eb554f66","name":"article_titile","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"828a7629-3638-419b-b41d-6488c095d877","nodeId":"spark-llm::5e38f84e-5bac-45b7-a117-8758076cd2ba"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束","nodeType":"基础节点"},"nodeParam":{"template":"<audio preload=\\"none\\" controls>\\n            <source src=\\"{{audio_url}}\\" type=\\"audio/mpeg\\">\\n        </audio>","streamOutput":false,"templateErrMsg":"","outputMode":1},"outputs":[],"references":[{"children":[{"references":[{"originId":"spark-llm::5e38f84e-5bac-45b7-a117-8758076cd2ba","id":"828a7629-3638-419b-b41d-6488c095d877","label":"output","type":"string","value":"output"}],"label":"","value":""}],"label":"播客风格内容生成","parentNode":true,"value":"spark-llm::5e38f84e-5bac-45b7-a117-8758076cd2ba"},{"children":[{"references":[{"originId":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12","id":"4cb707a4-3708-4523-ae5d-215cdbc1c500","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12"},{"children":[{"references":[{"originId":"plugin::6557df0c-97fb-4353-9a45-2ff0457b72ec","id":"71c444e8-b003-4905-a7af-cd8d18622e6f","label":"sid","type":"string","value":"sid"},{"originId":"plugin::6557df0c-97fb-4353-9a45-2ff0457b72ec","id":"70686705-b058-48de-8878-8406ef71e827","label":"code","type":"integer","value":"code"},{"originId":"plugin::6557df0c-97fb-4353-9a45-2ff0457b72ec","id":"49286b6b-3339-45e4-a78b-18d149f03e8a","label":"msg","type":"string","value":"msg"},{"originId":"plugin::6557df0c-97fb-4353-9a45-2ff0457b72ec","children":[{"originId":"plugin::6557df0c-97fb-4353-9a45-2ff0457b72ec","id":"10f97b32-21df-4de0-b73a-f9026ed8227f","label":"voice_url","type":"string","value":"data.voice_url","parentType":"object"}],"id":"d5a978de-b445-4f05-9223-ea3955c8e7d9","label":"data","type":"object","value":"data"}],"label":"","value":""}],"label":"语音合成","parentNode":true,"value":"plugin::6557df0c-97fb-4353-9a45-2ff0457b72ec"},{"children":[{"references":[{"originId":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","id":"b1166877-aa4f-4a76-ac81-5bfd0e906e1f","label":"url","type":"string","value":"url"},{"originId":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","children":[],"id":"e9434d56-4eaa-47d3-be66-f377fdb7b32b","label":"is_content_url","type":"string","value":"is_content_url"}],"label":"","value":""}],"label":"进行用户场景的分析，目前支持URL输入和文本输入","parentNode":true,"value":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f"},{"children":[{"references":[{"originId":"plugin::08a9d252-71a0-4b5f-b681-01c6f77e75d7","id":"4b3626aa-957b-4851-9cde-1e5583e7b389","label":"code","type":"integer","value":"code"},{"originId":"plugin::08a9d252-71a0-4b5f-b681-01c6f77e75d7","id":"4c957639-68a3-41e1-9397-44fe85c252f8","label":"msg","type":"string","value":"msg"},{"originId":"plugin::08a9d252-71a0-4b5f-b681-01c6f77e75d7","children":[{"originId":"plugin::08a9d252-71a0-4b5f-b681-01c6f77e75d7","id":"6a9b619c-5f7d-4366-a6d4-adafa104956d","label":"title","type":"string","value":"data.title","parentType":"object"},{"originId":"plugin::08a9d252-71a0-4b5f-b681-01c6f77e75d7","id":"6549c72a-aadc-4b2b-aa95-41846c460525","label":"content","type":"string","value":"data.content","parentType":"object"}],"id":"f52d3ff7-fbd8-458c-8c32-a0170c1335b4","label":"data","type":"object","value":"data"}],"label":"","value":""}],"label":"解析URL内容","parentNode":true,"value":"plugin::08a9d252-71a0-4b5f-b681-01c6f77e75d7"}],"status":"success"},"dragging":false,"height":499,"id":"node-end::bf6a1cdd-a6a4-448a-8f3b-e3f291ab2a0a","position":{"x":2058.3781854281156,"y":-1760.1879328372493},"positionAbsolute":{"x":2058.3781854281156,"y":-1760.1879328372493},"selected":false,"type":"结束节点","width":408},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"id":"0c98c01a-cd4f-42ca-a37e-d2a29f268f2c","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"4cb707a4-3708-4523-ae5d-215cdbc1c500","nodeId":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12"},"contentErrMsg":"","type":"ref"}}},{"id":"9d8c0513-d253-47a3-a368-38f1e7ed12b5","name":"input_oral","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"4cb707a4-3708-4523-ae5d-215cdbc1c500","nodeId":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12"},"contentErrMsg":"","type":"ref"}}}],"label":"播客风格内容生成","labelEdit":false,"nodeMeta":{"aliasName":"播客风格内容生成","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"你是一位专业的广播节目编辑，负责制作一档名为“AI电台”的节目。你的任务是将用户提供的原始内容改编为适合单口相声播客节目的脚本。请遵循以下步骤：\\n将原始内容分解为若干主题或问题，确保每段对话涵盖关键点，并自然过渡。\\n确保对话语言口语化、易懂。\\n对于专业术语或复杂概念，使用简单明了的语言进行解释，使听众更易理解。\\n保持对话节奏轻松、有趣，并加入适当的幽默和互动，以提高听众的参与感。\\n示例对话风格： \\n欢迎收听AI电台，今天咱们的节目一定让你们大开眼界！ \\n没错！今天的主题绝对精彩，快搬小板凳听好哦！ \\n那么，今天我们要讨论的内容是……\\n原始内容输入：{{input}}和{{input_oral}}","enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"最大回复长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"生成多样性","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"apiKey":"d84b9d780b488cf919c5273686ee4e1a","auditing":"default","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","llmId":110,"url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"4.0Ultra","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm4","respFormat":0},"outputs":[{"id":"828a7629-3638-419b-b41d-6488c095d877","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","id":"b1166877-aa4f-4a76-ac81-5bfd0e906e1f","label":"url","type":"string","value":"url"},{"originId":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","children":[],"id":"e9434d56-4eaa-47d3-be66-f377fdb7b32b","label":"is_content_url","type":"string","value":"is_content_url"}],"label":"","value":""}],"label":"进行用户场景的分析，目前支持URL输入和文本输入","parentNode":true,"value":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f"},{"children":[{"references":[{"originId":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12","id":"4cb707a4-3708-4523-ae5d-215cdbc1c500","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12"},{"children":[{"references":[{"originId":"plugin::08a9d252-71a0-4b5f-b681-01c6f77e75d7","id":"4b3626aa-957b-4851-9cde-1e5583e7b389","label":"code","type":"integer","value":"code"},{"originId":"plugin::08a9d252-71a0-4b5f-b681-01c6f77e75d7","id":"4c957639-68a3-41e1-9397-44fe85c252f8","label":"msg","type":"string","value":"msg"},{"originId":"plugin::08a9d252-71a0-4b5f-b681-01c6f77e75d7","children":[{"originId":"plugin::08a9d252-71a0-4b5f-b681-01c6f77e75d7","id":"6a9b619c-5f7d-4366-a6d4-adafa104956d","label":"title","type":"string","value":"data.title","parentType":"object"},{"originId":"plugin::08a9d252-71a0-4b5f-b681-01c6f77e75d7","id":"6549c72a-aadc-4b2b-aa95-41846c460525","label":"content","type":"string","value":"data.content","parentType":"object"}],"id":"f52d3ff7-fbd8-458c-8c32-a0170c1335b4","label":"data","type":"object","value":"data"}],"label":"","value":""}],"label":"解析URL内容","parentNode":true,"value":"plugin::08a9d252-71a0-4b5f-b681-01c6f77e75d7"}],"status":"success"},"dragging":false,"height":774,"id":"spark-llm::5e38f84e-5bac-45b7-a117-8758076cd2ba","position":{"x":906.3748272099806,"y":-2168.961093642761},"positionAbsolute":{"x":906.3748272099806,"y":-2168.961093642761},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"url链接","disabled":false,"id":"301779d6-1139-489f-bfb3-ec9e8bcab74b","name":"url","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"url","id":"b1166877-aa4f-4a76-ac81-5bfd0e906e1f","nodeId":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f"},"contentErrMsg":"","type":"ref"}}}],"label":"解析URL内容","labelEdit":false,"nodeMeta":{"aliasName":"解析URL内容","nodeType":"工具"},"nodeParam":{"uid":"0","code":"","toolDescription":"此工具用于获取URL链接的内容。可获取URL链接下的网页标题和内容，当前支持微信公众号,csdn,cnblogs等网站URL链接下的网页和内容读取，其他URL链接内容的获取和解析持续演进中。","apiKey":"d84b9d780b488cf919c5273686ee4e1a","pluginId":"tool@70ee9fd1c821000","appId":"12a0a7e2","operationId":"linkRader-sMgPXVRU","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","businessInput":[]},"outputs":[{"id":"4b3626aa-957b-4851-9cde-1e5583e7b389","name":"code","schema":{"type":"integer"}},{"id":"4c957639-68a3-41e1-9397-44fe85c252f8","name":"msg","schema":{"type":"string"}},{"id":"f52d3ff7-fbd8-458c-8c32-a0170c1335b4","name":"data","schema":{"properties":[{"id":"6a9b619c-5f7d-4366-a6d4-adafa104956d","name":"title","type":"string"},{"id":"6549c72a-aadc-4b2b-aa95-41846c460525","name":"content","type":"string"}],"type":"object"}}],"references":[{"children":[{"references":[{"originId":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12","id":"4cb707a4-3708-4523-ae5d-215cdbc1c500","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12"},{"children":[{"references":[{"originId":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","id":"b1166877-aa4f-4a76-ac81-5bfd0e906e1f","label":"url","type":"string","value":"url"},{"originId":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","children":[],"id":"e9434d56-4eaa-47d3-be66-f377fdb7b32b","label":"is_content_url","type":"string","value":"is_content_url"}],"label":"","value":""}],"label":"进行用户场景的分析，目前支持URL输入和文本输入","parentNode":true,"value":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f"}],"status":""},"dragging":false,"height":397,"id":"plugin::08a9d252-71a0-4b5f-b681-01c6f77e75d7","position":{"x":-171.16637413693422,"y":-1930.240588590217},"positionAbsolute":{"x":-171.16637413693422,"y":-1930.240588590217},"selected":false,"type":"工具","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"需要合成的文本","disabled":false,"id":"3c863804-af63-4dd3-843e-0be036e0f492","name":"text","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"output","id":"828a7629-3638-419b-b41d-6488c095d877","nodeId":"spark-llm::5e38f84e-5bac-45b7-a117-8758076cd2ba"},"contentErrMsg":"","type":"ref"}}},{"description":"特色发音人，目前可选（x4_lingfeiyi_oral； x4_lingxiaoxuan_oral）","disabled":false,"id":"b33b15eb-c9c3-4852-89d0-36b3f60b6d9b","name":"vcn","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":"x4_lingfeiyi_oral","contentErrMsg":"","type":"literal"}}},{"description":"语速：0对应默认语速的1/2，100对应默认语速的2倍; 默认值50","disabled":false,"id":"6f8a4ecf-c8c8-4a3a-b428-df5f256fc412","name":"speed","nameErrMsg":"","required":false,"schema":{"type":"integer","value":{"content":"50","contentErrMsg":"","type":"literal"}}}],"label":"语音合成","labelEdit":false,"nodeMeta":{"aliasName":"语音合成","nodeType":"工具"},"nodeParam":{"uid":"0","code":"","toolDescription":"用户上传一段话，选择特色发音人，生成一段更拟人的语音","apiKey":"d84b9d780b488cf919c5273686ee4e1a","pluginId":"tool@72213899d821000","appId":"12a0a7e2","operationId":"超拟人合成-7UcDosEk","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","businessInput":[]},"outputs":[{"id":"71c444e8-b003-4905-a7af-cd8d18622e6f","name":"sid","schema":{"type":"string"}},{"id":"70686705-b058-48de-8878-8406ef71e827","name":"code","schema":{"type":"integer"}},{"id":"49286b6b-3339-45e4-a78b-18d149f03e8a","name":"msg","schema":{"type":"string"}},{"id":"d5a978de-b445-4f05-9223-ea3955c8e7d9","name":"data","schema":{"properties":[{"id":"10f97b32-21df-4de0-b73a-f9026ed8227f","name":"voice_url","type":"string"}],"type":"object"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::5e38f84e-5bac-45b7-a117-8758076cd2ba","id":"828a7629-3638-419b-b41d-6488c095d877","label":"output","type":"string","value":"output"}],"label":"","value":""}],"label":"播客风格内容生成","parentNode":true,"value":"spark-llm::5e38f84e-5bac-45b7-a117-8758076cd2ba"},{"children":[{"references":[{"originId":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12","id":"4cb707a4-3708-4523-ae5d-215cdbc1c500","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12"},{"children":[{"references":[{"originId":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","id":"b1166877-aa4f-4a76-ac81-5bfd0e906e1f","label":"url","type":"string","value":"url"},{"originId":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","children":[],"id":"e9434d56-4eaa-47d3-be66-f377fdb7b32b","label":"is_content_url","type":"string","value":"is_content_url"}],"label":"","value":""}],"label":"进行用户场景的分析，目前支持URL输入和文本输入","parentNode":true,"value":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f"},{"children":[{"references":[{"originId":"plugin::08a9d252-71a0-4b5f-b681-01c6f77e75d7","id":"4b3626aa-957b-4851-9cde-1e5583e7b389","label":"code","type":"integer","value":"code"},{"originId":"plugin::08a9d252-71a0-4b5f-b681-01c6f77e75d7","id":"4c957639-68a3-41e1-9397-44fe85c252f8","label":"msg","type":"string","value":"msg"},{"originId":"plugin::08a9d252-71a0-4b5f-b681-01c6f77e75d7","children":[{"originId":"plugin::08a9d252-71a0-4b5f-b681-01c6f77e75d7","id":"6a9b619c-5f7d-4366-a6d4-adafa104956d","label":"title","type":"string","value":"data.title","parentType":"object"},{"originId":"plugin::08a9d252-71a0-4b5f-b681-01c6f77e75d7","id":"6549c72a-aadc-4b2b-aa95-41846c460525","label":"content","type":"string","value":"data.content","parentType":"object"}],"id":"f52d3ff7-fbd8-458c-8c32-a0170c1335b4","label":"data","type":"object","value":"data"}],"label":"","value":""}],"label":"解析URL内容","parentNode":true,"value":"plugin::08a9d252-71a0-4b5f-b681-01c6f77e75d7"}],"status":"success"},"dragging":false,"height":483,"id":"plugin::6557df0c-97fb-4353-9a45-2ff0457b72ec","position":{"x":1822.4908023044898,"y":-2127.890644688282},"positionAbsolute":{"x":1822.4908023044898,"y":-2127.890644688282},"selected":false,"type":"工具","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"id":"a4cd8402-1224-432d-9f54-cecf2b9c5de9","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"4cb707a4-3708-4523-ae5d-215cdbc1c500","nodeId":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12"},"contentErrMsg":"","type":"ref"}}}],"label":"获取用户输入的URL","labelEdit":false,"nodeMeta":{"aliasName":"获取用户输入的URL","nodeType":"工具"},"nodeParam":{"uid":"0","code":"import re\\n\\ndef main(input):\\n    # findall() 查找匹配正则表达式的字符串\\n    url = re.findall(''https?://(?:[-\\\\w.]|(?:%[\\\\da-fA-F]{2}))+'', input)\\n    ret = {\\n        \\"url\\": url[0] if url else '''',\\n        \\"is_content_url\\": ''true'' if url else ''false''\\n    }\\n    return ret","apiKey":"d84b9d780b488cf919c5273686ee4e1a","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","codeErrMsg":""},"outputs":[{"id":"b1166877-aa4f-4a76-ac81-5bfd0e906e1f","name":"url","nameErrMsg":"","schema":{"default":"","type":"string"}},{"id":"e9434d56-4eaa-47d3-be66-f377fdb7b32b","name":"is_content_url","nameErrMsg":"","required":false,"schema":{"default":"","properties":[],"type":"string"}}],"references":[{"children":[{"references":[{"originId":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12","id":"4cb707a4-3708-4523-ae5d-215cdbc1c500","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12"}],"status":"success"},"dragging":false,"height":786,"id":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","position":{"x":-1764.3867814299724,"y":-2048.563380631832},"positionAbsolute":{"x":-1764.3867814299724,"y":-2048.563380631832},"selected":false,"type":"代码","width":587},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"根据设立的条件，判断选择分支走向","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/if-else-node-icon.png","inputs":[{"id":"f099d559-55ec-409d-8535-d258ed9ba551","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"is_content_url","id":"e9434d56-4eaa-47d3-be66-f377fdb7b32b","nodeId":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f"},"contentErrMsg":"","type":"ref"}}},{"id":"373ce76e-0a4c-4a45-a8fd-56bd3d5a4fdd","name":"input1","nameErrMsg":"","schema":{"type":"string","value":{"content":"true","contentErrMsg":"","type":"literal"}}}],"label":"判断是否有URL","labelEdit":false,"nodeMeta":{"aliasName":"判断是否有URL","nodeType":"分支器"},"nodeParam":{"uid":"0","cases":[{"level":1,"logicalOperator":"and","id":"branch_one_of::2192a758-4498-4294-9e49-57f4e083c187","conditions":[{"leftVarIndex":"f099d559-55ec-409d-8535-d258ed9ba551","rightVarIndex":"373ce76e-0a4c-4a45-a8fd-56bd3d5a4fdd","compareOperatorErrMsg":"","id":"","compareOperator":"is"}]},{"level":999,"logicalOperator":"and","id":"branch_one_of::a0a0cfd9-41da-4c56-be33-7fc22016bda9","conditions":[]}],"apiKey":"d84b9d780b488cf919c5273686ee4e1a","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw"},"outputs":[],"references":[{"children":[{"references":[{"originId":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","id":"b1166877-aa4f-4a76-ac81-5bfd0e906e1f","label":"url","type":"string","value":"url"},{"originId":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","children":[],"id":"e9434d56-4eaa-47d3-be66-f377fdb7b32b","label":"is_content_url","type":"string","value":"is_content_url"}],"label":"","value":""}],"label":"进行用户场景的分析，目前支持URL输入和文本输入","parentNode":true,"value":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f"},{"children":[{"references":[{"originId":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12","id":"4cb707a4-3708-4523-ae5d-215cdbc1c500","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12"}],"status":"success"},"dragging":false,"height":368,"id":"if-else::0a38a0da-f662-4039-9aed-658595885613","position":{"x":-1077.9743541295918,"y":-1831.41657721748},"positionAbsolute":{"x":-1077.9743541295918,"y":-1831.41657721748},"selected":false,"type":"分支器","width":684}]}', '{"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始","nodeType":"基础节点"},"nodeParam":{},"outputs":[{"deleteDisabled":true,"id":"4cb707a4-3708-4523-ae5d-215cdbc1c500","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}}],"status":"","updatable":false},"dragging":false,"height":254,"id":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12","position":{"x":-2564.4526716900527,"y":-1786.5159591940044},"positionAbsolute":{"x":-2564.4526716900527,"y":-1786.5159591940044},"selected":false,"type":"开始节点","width":657},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"id":"6b8905ed-9efe-4cbf-8702-0a4d42c54066","name":"audio_url","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"data.voice_url","id":"10f97b32-21df-4de0-b73a-f9026ed8227f","nodeId":"plugin::6557df0c-97fb-4353-9a45-2ff0457b72ec"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"6000bd78-1994-4295-b8b2-44e5eb554f66","name":"article_titile","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"828a7629-3638-419b-b41d-6488c095d877","nodeId":"spark-llm::5e38f84e-5bac-45b7-a117-8758076cd2ba"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束","nodeType":"基础节点"},"nodeParam":{"template":"<audio preload=\\"none\\" controls>\\n            <source src=\\"{{audio_url}}\\" type=\\"audio/mpeg\\">\\n        </audio>","streamOutput":false,"templateErrMsg":"","outputMode":1},"outputs":[],"references":[{"label":"播客风格内容生成","value":"spark-llm::5e38f84e-5bac-45b7-a117-8758076cd2ba","children":[{"label":"","value":"","references":[{"id":"828a7629-3638-419b-b41d-6488c095d877","originId":"spark-llm::5e38f84e-5bac-45b7-a117-8758076cd2ba","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12","id":"4cb707a4-3708-4523-ae5d-215cdbc1c500","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12"},{"children":[{"references":[{"originId":"plugin::6557df0c-97fb-4353-9a45-2ff0457b72ec","id":"71c444e8-b003-4905-a7af-cd8d18622e6f","label":"sid","type":"string","value":"sid"},{"originId":"plugin::6557df0c-97fb-4353-9a45-2ff0457b72ec","id":"70686705-b058-48de-8878-8406ef71e827","label":"code","type":"integer","value":"code"},{"originId":"plugin::6557df0c-97fb-4353-9a45-2ff0457b72ec","id":"49286b6b-3339-45e4-a78b-18d149f03e8a","label":"msg","type":"string","value":"msg"},{"originId":"plugin::6557df0c-97fb-4353-9a45-2ff0457b72ec","children":[{"originId":"plugin::6557df0c-97fb-4353-9a45-2ff0457b72ec","id":"10f97b32-21df-4de0-b73a-f9026ed8227f","label":"voice_url","type":"string","value":"data.voice_url","parentType":"object"}],"id":"d5a978de-b445-4f05-9223-ea3955c8e7d9","label":"data","type":"object","value":"data"}],"label":"","value":""}],"label":"语音合成","parentNode":true,"value":"plugin::6557df0c-97fb-4353-9a45-2ff0457b72ec"},{"label":"获取用户输入的URL","value":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","children":[{"label":"","value":"","references":[{"id":"b1166877-aa4f-4a76-ac81-5bfd0e906e1f","originId":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","label":"url","value":"url","type":"string","fileType":""},{"id":"e9434d56-4eaa-47d3-be66-f377fdb7b32b","originId":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","label":"is_content_url","value":"is_content_url","type":"string","fileType":"","children":[]}]}],"parentNode":true},{"label":"linkReader","value":"plugin::98724914-f631-4d53-9615-85a70a4b2d6e","children":[{"label":"","value":"","references":[{"id":"ffb20bfb-dc83-4785-bd3e-883beb4b65c4","originId":"plugin::98724914-f631-4d53-9615-85a70a4b2d6e","label":"code","value":"code","type":"integer","fileType":""},{"id":"ccfc29a2-0b93-4129-b2b1-40798fa5b088","originId":"plugin::98724914-f631-4d53-9615-85a70a4b2d6e","label":"msg","value":"msg","type":"string","fileType":""},{"id":"abdac358-0a04-4536-b798-64a9556ceef8","originId":"plugin::98724914-f631-4d53-9615-85a70a4b2d6e","label":"data","value":"data","type":"object","fileType":"","children":[{"id":"6a9b619c-5f7d-4366-a6d4-adafa104956d","label":"title","value":"data.title","type":"string","originId":"plugin::98724914-f631-4d53-9615-85a70a4b2d6e","parentType":"object","fileType":""},{"id":"6549c72a-aadc-4b2b-aa95-41846c460525","label":"content","value":"data.content","type":"string","originId":"plugin::98724914-f631-4d53-9615-85a70a4b2d6e","parentType":"object","fileType":""}]}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":663,"id":"node-end::bf6a1cdd-a6a4-448a-8f3b-e3f291ab2a0a","position":{"x":2605.24604318639,"y":-1943.2910102116718},"positionAbsolute":{"x":2605.24604318639,"y":-1943.2910102116718},"selected":false,"type":"结束节点","width":407},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"0c98c01a-cd4f-42ca-a37e-d2a29f268f2c","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"6549c72a-aadc-4b2b-aa95-41846c460525","nodeId":"plugin::98724914-f631-4d53-9615-85a70a4b2d6e","name":"data.content"},"contentErrMsg":"","type":"ref"}}},{"id":"9d8c0513-d253-47a3-a368-38f1e7ed12b5","name":"input_oral","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"4cb707a4-3708-4523-ae5d-215cdbc1c500","nodeId":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12"},"contentErrMsg":"","type":"ref"}}}],"label":"播客风格内容生成","labelEdit":false,"nodeMeta":{"aliasName":"播客风格内容生成","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"# 角色\\n你是一位专业的广播节目编辑，负责制作一档名为“AI电台”的节目。你的任务是将用户提供的原始内容改编为适合单口相声播客节目的逐字稿。\\n# 任务\\n将原始内容分解为若干主题或问题，确保每段对话涵盖关键点，并自然过渡。\\n# 注意点\\n确保对话语言口语化、易懂。\\n对于专业术语或复杂概念，使用简单明了的语言进行解释，使听众更易理解。\\n保持对话节奏轻松、有趣，并加入适当的幽默和互动，以提高听众的参与感。\\n注意：我会直接将你生成的内容朗读出来，不要输出口播稿以外的东西，不要带格式，\\n# 示例 \\n欢迎收听AI电台，今天咱们的节目一定让你们大开眼界！ \\n没错！今天的主题绝对精彩，快搬小板凳听好哦！ \\n那么，今天我们要讨论的内容是……\\n# 原始内容：{{input}}和{{input_oral}}","enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"最大回复长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"生成多样性","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"apiKey":"d84b9d780b488cf919c5273686ee4e1a","auditing":"default","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","llmId":141,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"xdeepseekv3","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"xdeepseekv3","respFormat":0},"outputs":[{"id":"828a7629-3638-419b-b41d-6488c095d877","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"获取用户输入的URL","value":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","children":[{"label":"","value":"","references":[{"id":"b1166877-aa4f-4a76-ac81-5bfd0e906e1f","originId":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","label":"url","value":"url","type":"string","fileType":""},{"id":"e9434d56-4eaa-47d3-be66-f377fdb7b32b","originId":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","label":"is_content_url","value":"is_content_url","type":"string","fileType":"","children":[]}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12","id":"4cb707a4-3708-4523-ae5d-215cdbc1c500","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12"},{"label":"linkReader","value":"plugin::98724914-f631-4d53-9615-85a70a4b2d6e","children":[{"label":"","value":"","references":[{"id":"ffb20bfb-dc83-4785-bd3e-883beb4b65c4","originId":"plugin::98724914-f631-4d53-9615-85a70a4b2d6e","label":"code","value":"code","type":"integer","fileType":""},{"id":"ccfc29a2-0b93-4129-b2b1-40798fa5b088","originId":"plugin::98724914-f631-4d53-9615-85a70a4b2d6e","label":"msg","value":"msg","type":"string","fileType":""},{"id":"abdac358-0a04-4536-b798-64a9556ceef8","originId":"plugin::98724914-f631-4d53-9615-85a70a4b2d6e","label":"data","value":"data","type":"object","fileType":"","children":[{"id":"6a9b619c-5f7d-4366-a6d4-adafa104956d","label":"title","value":"data.title","type":"string","originId":"plugin::98724914-f631-4d53-9615-85a70a4b2d6e","parentType":"object","fileType":""},{"id":"6549c72a-aadc-4b2b-aa95-41846c460525","label":"content","value":"data.content","type":"string","originId":"plugin::98724914-f631-4d53-9615-85a70a4b2d6e","parentType":"object","fileType":""}]}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":863,"id":"spark-llm::5e38f84e-5bac-45b7-a117-8758076cd2ba","position":{"x":906.3748272099806,"y":-2168.961093642761},"positionAbsolute":{"x":906.3748272099806,"y":-2168.961093642761},"selected":false,"type":"大模型","width":686},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"需要合成的文本","disabled":false,"fileType":"","id":"3c863804-af63-4dd3-843e-0be036e0f492","name":"text","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"output","id":"828a7629-3638-419b-b41d-6488c095d877","nodeId":"spark-llm::5e38f84e-5bac-45b7-a117-8758076cd2ba"},"contentErrMsg":"","type":"ref"}}},{"description":"特色发音人，目前可选（x4_lingfeiyi_oral； x4_lingxiaoxuan_oral）","disabled":false,"id":"b33b15eb-c9c3-4852-89d0-36b3f60b6d9b","name":"vcn","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":"x4_lingfeiyi_oral","contentErrMsg":"","type":"literal"}}},{"description":"语速：0对应默认语速的1/2，100对应默认语速的2倍; 默认值50","disabled":false,"id":"6f8a4ecf-c8c8-4a3a-b428-df5f256fc412","name":"speed","nameErrMsg":"","required":false,"schema":{"type":"integer","value":{"content":"50","contentErrMsg":"","type":"literal"}}}],"label":"语音合成","labelEdit":false,"nodeMeta":{"aliasName":"语音合成","nodeType":"工具"},"nodeParam":{"uid":"0","code":"","toolDescription":"用户上传一段话，选择特色发音人，生成一段更拟人的语音","apiKey":"d84b9d780b488cf919c5273686ee4e1a","pluginId":"tool@72213899d821000","appId":"12a0a7e2","operationId":"超拟人合成-7UcDosEk","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","businessInput":[]},"outputs":[{"id":"71c444e8-b003-4905-a7af-cd8d18622e6f","name":"sid","schema":{"type":"string"}},{"id":"70686705-b058-48de-8878-8406ef71e827","name":"code","schema":{"type":"integer"}},{"id":"49286b6b-3339-45e4-a78b-18d149f03e8a","name":"msg","schema":{"type":"string"}},{"id":"d5a978de-b445-4f05-9223-ea3955c8e7d9","name":"data","schema":{"properties":[{"id":"10f97b32-21df-4de0-b73a-f9026ed8227f","name":"voice_url","type":"string"}],"type":"object"}}],"references":[{"label":"播客风格内容生成","value":"spark-llm::5e38f84e-5bac-45b7-a117-8758076cd2ba","children":[{"label":"","value":"","references":[{"id":"828a7629-3638-419b-b41d-6488c095d877","originId":"spark-llm::5e38f84e-5bac-45b7-a117-8758076cd2ba","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12","id":"4cb707a4-3708-4523-ae5d-215cdbc1c500","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12"},{"label":"获取用户输入的URL","value":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","children":[{"label":"","value":"","references":[{"id":"b1166877-aa4f-4a76-ac81-5bfd0e906e1f","originId":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","label":"url","value":"url","type":"string","fileType":""},{"id":"e9434d56-4eaa-47d3-be66-f377fdb7b32b","originId":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","label":"is_content_url","value":"is_content_url","type":"string","fileType":"","children":[]}]}],"parentNode":true},{"label":"linkReader","value":"plugin::98724914-f631-4d53-9615-85a70a4b2d6e","children":[{"label":"","value":"","references":[{"id":"ffb20bfb-dc83-4785-bd3e-883beb4b65c4","originId":"plugin::98724914-f631-4d53-9615-85a70a4b2d6e","label":"code","value":"code","type":"integer","fileType":""},{"id":"ccfc29a2-0b93-4129-b2b1-40798fa5b088","originId":"plugin::98724914-f631-4d53-9615-85a70a4b2d6e","label":"msg","value":"msg","type":"string","fileType":""},{"id":"abdac358-0a04-4536-b798-64a9556ceef8","originId":"plugin::98724914-f631-4d53-9615-85a70a4b2d6e","label":"data","value":"data","type":"object","fileType":"","children":[{"id":"6a9b619c-5f7d-4366-a6d4-adafa104956d","label":"title","value":"data.title","type":"string","originId":"plugin::98724914-f631-4d53-9615-85a70a4b2d6e","parentType":"object","fileType":""},{"id":"6549c72a-aadc-4b2b-aa95-41846c460525","label":"content","value":"data.content","type":"string","originId":"plugin::98724914-f631-4d53-9615-85a70a4b2d6e","parentType":"object","fileType":""}]}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":482,"id":"plugin::6557df0c-97fb-4353-9a45-2ff0457b72ec","position":{"x":1680.8910891349367,"y":-2027.7942957235978},"positionAbsolute":{"x":1680.8910891349367,"y":-2027.7942957235978},"selected":false,"type":"工具","width":586},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"id":"a4cd8402-1224-432d-9f54-cecf2b9c5de9","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"4cb707a4-3708-4523-ae5d-215cdbc1c500","nodeId":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12"},"contentErrMsg":"","type":"ref"}}}],"label":"获取用户输入的URL","labelEdit":false,"nodeMeta":{"aliasName":"获取用户输入的URL","nodeType":"工具"},"nodeParam":{"uid":"0","code":"import re\\n\\ndef main(input):\\n    # findall() 查找匹配正则表达式的字符串\\n    url = re.findall(''https?://(?:[-\\\\w.]|(?:%[\\\\da-fA-F]{2}))+'', input)\\n    ret = {\\n        \\"url\\": url[0] if url else '''',\\n        \\"is_content_url\\": ''true'' if url else ''false''\\n    }\\n    return ret","apiKey":"d84b9d780b488cf919c5273686ee4e1a","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","codeErrMsg":""},"outputs":[{"id":"b1166877-aa4f-4a76-ac81-5bfd0e906e1f","name":"url","nameErrMsg":"","schema":{"default":"","type":"string"}},{"id":"e9434d56-4eaa-47d3-be66-f377fdb7b32b","name":"is_content_url","nameErrMsg":"","required":false,"schema":{"default":"","properties":[],"type":"string"}}],"references":[{"children":[{"references":[{"originId":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12","id":"4cb707a4-3708-4523-ae5d-215cdbc1c500","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12"}],"status":"","updatable":false},"dragging":false,"height":783,"id":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","position":{"x":-1764.3867814299724,"y":-2048.563380631832},"positionAbsolute":{"x":-1764.3867814299724,"y":-2048.563380631832},"selected":false,"type":"代码","width":586},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"根据设立的条件，判断选择分支走向","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/if-else-node-icon.png","inputs":[{"fileType":"","id":"f099d559-55ec-409d-8535-d258ed9ba551","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"is_content_url","id":"e9434d56-4eaa-47d3-be66-f377fdb7b32b","nodeId":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f"},"contentErrMsg":"","type":"ref"}}},{"id":"373ce76e-0a4c-4a45-a8fd-56bd3d5a4fdd","name":"input1","nameErrMsg":"","schema":{"type":"string","value":{"content":"true","contentErrMsg":"","type":"literal"}}}],"label":"判断是否有URL","labelEdit":false,"nodeMeta":{"aliasName":"判断是否有URL","nodeType":"分支器"},"nodeParam":{"uid":"0","cases":[{"level":1,"logicalOperator":"and","id":"branch_one_of::2192a758-4498-4294-9e49-57f4e083c187","conditions":[{"leftVarIndex":"f099d559-55ec-409d-8535-d258ed9ba551","rightVarIndex":"373ce76e-0a4c-4a45-a8fd-56bd3d5a4fdd","compareOperatorErrMsg":"","id":"","compareOperator":"is"}]},{"level":999,"logicalOperator":"and","id":"branch_one_of::a0a0cfd9-41da-4c56-be33-7fc22016bda9","conditions":[]}],"apiKey":"d84b9d780b488cf919c5273686ee4e1a","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw"},"outputs":[],"references":[{"label":"获取用户输入的URL","value":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","children":[{"label":"","value":"","references":[{"id":"b1166877-aa4f-4a76-ac81-5bfd0e906e1f","originId":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","label":"url","value":"url","type":"string","fileType":""},{"id":"e9434d56-4eaa-47d3-be66-f377fdb7b32b","originId":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","label":"is_content_url","value":"is_content_url","type":"string","fileType":"","children":[]}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12","id":"4cb707a4-3708-4523-ae5d-215cdbc1c500","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12"}],"status":"","updatable":false},"dragging":false,"height":366,"id":"if-else::0a38a0da-f662-4039-9aed-658595885613","position":{"x":-1077.9743541295918,"y":-1831.41657721748},"positionAbsolute":{"x":-1077.9743541295918,"y":-1831.41657721748},"selected":false,"type":"分支器","width":683},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"url链接","disabled":false,"id":"d792d820-a974-4c2f-8768-cd63e0e9f1b4","name":"url","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"id":"4cb707a4-3708-4523-ae5d-215cdbc1c500","nodeId":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}}],"label":"linkReader","labelEdit":false,"nodeMeta":{"aliasName":"工具","nodeType":"工具"},"nodeParam":{"uid":"0","code":"","toolDescription":"此工具用于获取URL链接的内容。可获取URL链接下的网页标题和内容，当前支持微信公众号,csdn,cnblogs等网站URL链接下的网页和内容读取，其他URL链接内容的获取和解析持续演进中。","pluginId":"tool@70ee9fd1c821000","appId":"12a0a7e2","operationId":"linkRader-sMgPXVRU","businessInput":[]},"outputs":[{"id":"ffb20bfb-dc83-4785-bd3e-883beb4b65c4","name":"code","schema":{"type":"integer"}},{"id":"ccfc29a2-0b93-4129-b2b1-40798fa5b088","name":"msg","schema":{"type":"string"}},{"id":"abdac358-0a04-4536-b798-64a9556ceef8","name":"data","schema":{"properties":[{"id":"6a9b619c-5f7d-4366-a6d4-adafa104956d","name":"title","type":"string"},{"id":"6549c72a-aadc-4b2b-aa95-41846c460525","name":"content","type":"string"}],"type":"object"}}],"references":[{"label":"获取用户输入的URL","value":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","children":[{"label":"","value":"","references":[{"id":"b1166877-aa4f-4a76-ac81-5bfd0e906e1f","originId":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","label":"url","value":"url","type":"string","fileType":""},{"id":"e9434d56-4eaa-47d3-be66-f377fdb7b32b","originId":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","label":"is_content_url","value":"is_content_url","type":"string","fileType":"","children":[]}]}],"parentNode":true},{"label":"开始","value":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12","children":[{"label":"","value":"","references":[{"id":"4cb707a4-3708-4523-ae5d-215cdbc1c500","originId":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":377,"id":"plugin::98724914-f631-4d53-9615-85a70a4b2d6e","position":{"x":-63.38711128526688,"y":-1922.7106145371033},"positionAbsolute":{"x":-63.38711128526688,"y":-1922.7106145371033},"selected":false,"type":"工具","width":586}],"edges":[{"data":{"edgeType":"polyline"},"id":"reactflow__edge-spark-llm::5e38f84e-5bac-45b7-a117-8758076cd2ba-plugin::6557df0c-97fb-4353-9a45-2ff0457b72ec","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::5e38f84e-5bac-45b7-a117-8758076cd2ba","target":"plugin::6557df0c-97fb-4353-9a45-2ff0457b72ec","type":"customEdge"},{"data":{"edgeType":"polyline"},"id":"reactflow__edge-plugin::6557df0c-97fb-4353-9a45-2ff0457b72ec-node-end::bf6a1cdd-a6a4-448a-8f3b-e3f291ab2a0anode-end::bf6a1cdd-a6a4-448a-8f3b-e3f291ab2a0a","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"plugin::6557df0c-97fb-4353-9a45-2ff0457b72ec","target":"node-end::bf6a1cdd-a6a4-448a-8f3b-e3f291ab2a0a","targetHandle":"node-end::bf6a1cdd-a6a4-448a-8f3b-e3f291ab2a0a","type":"customEdge"},{"data":{"edgeType":"polyline"},"id":"reactflow__edge-node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12-ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-start::bb83bdc5-7b01-44ac-9a2c-ad97a95aad12","target":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","type":"customEdge"},{"data":{"edgeType":"polyline"},"id":"reactflow__edge-ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f-if-else::0a38a0da-f662-4039-9aed-658595885613","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"ifly-code::f1c220b9-b3ae-4fbf-aab9-8034fa65c68f","target":"if-else::0a38a0da-f662-4039-9aed-658595885613","type":"customEdge"},{"data":{"edgeType":"polyline"},"id":"reactflow__edge-if-else::0a38a0da-f662-4039-9aed-658595885613branch_one_of::a0a0cfd9-41da-4c56-be33-7fc22016bda9-spark-llm::5e38f84e-5bac-45b7-a117-8758076cd2ba","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"if-else::0a38a0da-f662-4039-9aed-658595885613","sourceHandle":"branch_one_of::a0a0cfd9-41da-4c56-be33-7fc22016bda9","target":"spark-llm::5e38f84e-5bac-45b7-a117-8758076cd2ba","type":"customEdge"},{"data":{"edgeType":"polyline"},"id":"reactflow__edge-if-else::0a38a0da-f662-4039-9aed-658595885613branch_one_of::2192a758-4498-4294-9e49-57f4e083c187-plugin::98724914-f631-4d53-9615-85a70a4b2d6e","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::0a38a0da-f662-4039-9aed-658595885613","sourceHandle":"branch_one_of::2192a758-4498-4294-9e49-57f4e083c187","target":"plugin::98724914-f631-4d53-9615-85a70a4b2d6e","type":"customEdge"},{"data":{"edgeType":"polyline"},"id":"reactflow__edge-plugin::98724914-f631-4d53-9615-85a70a4b2d6e-spark-llm::5e38f84e-5bac-45b7-a117-8758076cd2ba","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"plugin::98724914-f631-4d53-9615-85a70a4b2d6e","target":"spark-llm::5e38f84e-5bac-45b7-a117-8758076cd2ba","type":"customEdge"}]}', 'https://bjcdn.openstorage.cn/xinghuo-privatedata/personality/1743127750552.jpg?width=204&height=204', '', 0, 1, 0, 0, NULL, 0, 31494, 2, NULL, 1, NULL, '{"needGuide":false,"prologue":{"enabled":true,"inputExample":["https://mp.weixin.qq.com/s/FxSZskzI4k-0cS-ZaXi3-Q","https://mp.weixin.qq.com/s/V9xm74qcOPJcqmRNQfAEvg","https://mp.weixin.qq.com/s/uFQi6fw7B3rBfjM4lnvpJw"]}}', NULL, NULL, NULL);
INSERT INTO workflow (id, uid, app_id, flow_id, name, description, deleted, is_public, create_time, update_time, published_data, `data`, avatar_icon, avatar_color, status, can_publish, app_updatable, top, edge_type, `order`, eval_set_id, source, bak, editing, eval_page_first_time, advanced_config, ext, category, space_id) VALUES(73352, 10374628632, '12a0a7e2', '7309931388743180290', '十万+毒舌影评', '', 0, 0, '2025-03-24 21:37:35', '2025-03-26 09:52:48', NULL, '{"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::666c7524-ff95-4f26-9e27-a0512ddfbb7a-spark-llm::e9343d94-7144-4168-a9dc-2f2656d91778","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-start::666c7524-ff95-4f26-9e27-a0512ddfbb7a","target":"spark-llm::e9343d94-7144-4168-a9dc-2f2656d91778","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::e9343d94-7144-4168-a9dc-2f2656d91778-text-joiner::f5b164ca-b6f3-4857-b2be-df248cf515aa","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"spark-llm::e9343d94-7144-4168-a9dc-2f2656d91778","target":"text-joiner::f5b164ca-b6f3-4857-b2be-df248cf515aa","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-text-joiner::f5b164ca-b6f3-4857-b2be-df248cf515aa-plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"text-joiner::f5b164ca-b6f3-4857-b2be-df248cf515aa","target":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0-spark-llm::ade97d47-887f-4bc9-9f0b-4e5bb179a2f4","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","target":"spark-llm::ade97d47-887f-4bc9-9f0b-4e5bb179a2f4","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0-spark-llm::fa8a37b6-5f72-48c1-b9a3-4362270354db","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","target":"spark-llm::fa8a37b6-5f72-48c1-b9a3-4362270354db","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::ade97d47-887f-4bc9-9f0b-4e5bb179a2f4-node-end::ca06c9ac-ae5b-4e17-b578-ee4ea650b98anode-end::ca06c9ac-ae5b-4e17-b578-ee4ea650b98a","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"spark-llm::ade97d47-887f-4bc9-9f0b-4e5bb179a2f4","target":"node-end::ca06c9ac-ae5b-4e17-b578-ee4ea650b98a","targetHandle":"node-end::ca06c9ac-ae5b-4e17-b578-ee4ea650b98a","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::fa8a37b6-5f72-48c1-b9a3-4362270354db-node-end::ca06c9ac-ae5b-4e17-b578-ee4ea650b98anode-end::ca06c9ac-ae5b-4e17-b578-ee4ea650b98a","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"spark-llm::fa8a37b6-5f72-48c1-b9a3-4362270354db","target":"node-end::ca06c9ac-ae5b-4e17-b578-ee4ea650b98a","targetHandle":"node-end::ca06c9ac-ae5b-4e17-b578-ee4ea650b98a","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0-ifly-code::ca2d8d29-c3fe-4f8c-b68f-4b9ca451d5b1","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","target":"ifly-code::ca2d8d29-c3fe-4f8c-b68f-4b9ca451d5b1","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::ca2d8d29-c3fe-4f8c-b68f-4b9ca451d5b1-node-end::ca06c9ac-ae5b-4e17-b578-ee4ea650b98anode-end::ca06c9ac-ae5b-4e17-b578-ee4ea650b98a","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"ifly-code::ca2d8d29-c3fe-4f8c-b68f-4b9ca451d5b1","target":"node-end::ca06c9ac-ae5b-4e17-b578-ee4ea650b98a","targetHandle":"node-end::ca06c9ac-ae5b-4e17-b578-ee4ea650b98a","type":"customEdge"}],"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始节点","nodeType":"基础节点"},"nodeParam":{},"outputs":[{"deleteDisabled":true,"id":"356f8c59-0f02-44da-b7e5-0ac921a85cbb","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}}],"status":"success","updatable":false},"height":256,"id":"node-start::666c7524-ff95-4f26-9e27-a0512ddfbb7a","position":{"x":100,"y":300},"selected":false,"type":"开始节点","width":658},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"fileType":"","id":"c33fed15-82f9-416c-a5f1-13550a3056be","name":"score","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"87e8bbfa-a03d-4a75-8a23-63c1390ab4f2","nodeId":"spark-llm::ade97d47-887f-4bc9-9f0b-4e5bb179a2f4","name":"output"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"74b32279-94f8-407c-80ce-503477bad636","name":"content","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"87e8bbfa-a03d-4a75-8a23-63c1390ab4f2","nodeId":"spark-llm::fa8a37b6-5f72-48c1-b9a3-4362270354db","name":"output"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"dcfe9f4d-fca7-47d6-b702-6f7de54b7ff2","name":"url","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"83bf9195-89f8-40da-b410-019aa1ac3f6a","nodeId":"ifly-code::ca2d8d29-c3fe-4f8c-b68f-4b9ca451d5b1","name":"result"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束节点","nodeType":"基础节点"},"nodeParam":{"template":"{{score}}\\n————————————————————————\\n{{content}}\\n————————————————————————\\n{{url}}\\n","streamOutput":true,"templateErrMsg":"","outputMode":1},"outputs":[],"references":[{"label":"电影打分","value":"spark-llm::ade97d47-887f-4bc9-9f0b-4e5bb179a2f4","children":[{"label":"","value":"","references":[{"id":"87e8bbfa-a03d-4a75-8a23-63c1390ab4f2","originId":"spark-llm::ade97d47-887f-4bc9-9f0b-4e5bb179a2f4","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"bing搜索_1","value":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","children":[{"label":"","value":"","references":[{"id":"4aa485e1-d74d-46df-b9d7-6fa13b658d12","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"msg","value":"msg","type":"string","fileType":""},{"id":"55669db0-4de4-4773-8063-0e7d1c2325ce","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"result","value":"result","type":"array-object","fileType":"","children":[{"id":"6889bad9-3055-4f73-b6a9-7002b55e5c01","label":"summary","value":"result.summary","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"9035b42e-d825-4263-a3f6-8528a1fa28c9","label":"img","value":"result.img","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"e53d48df-d96e-4297-8437-26fdf6216a86","label":"domain","value":"result.domain","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"b10e3026-a6c8-4c66-9d7b-5b45f8746e1a","label":"name","value":"result.name","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"91a0b750-a76e-4ea3-9a67-073f4e04182b","label":"is_high_summary","value":"result.is_high_summary","type":"boolean","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"abe71f0e-67cc-488d-a114-6612ef3ddb61","label":"siteName","value":"result.siteName","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"7f9f764e-97f0-4b8e-98bc-4a4a12c315fd","label":"source","value":"result.source","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"761a52fe-70da-4ccf-b3b3-e75855621c7b","label":"type","value":"result.type","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"9ba4e0bf-1e78-4eef-821d-35bfc24c186c","label":"url","value":"result.url","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""}]},{"id":"eaa298a6-82d5-463d-b3e1-d068ff9bacda","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"rc","value":"rc","type":"string","fileType":""},{"id":"b84f0064-83da-4a7c-a1cd-162fc348e49b","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"semantic","value":"semantic","type":"array-string","fileType":"","children":[]},{"id":"4bf37973-7fba-48f7-8ece-be18421c55a0","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"total","value":"total","type":"string","fileType":""},{"id":"87c1c11f-0027-4ac1-97f8-4d43386e7a57","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"offset","value":"offset","type":"string","fileType":""},{"id":"a3f6b82a-f536-46f6-baa6-5439149f6626","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"limit","value":"limit","type":"string","fileType":""},{"id":"fd1a4efc-cdfc-433a-bc4c-bf5401578315","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"sid","value":"sid","type":"string","fileType":""}]}],"parentNode":true},{"label":"文本拼接_1","value":"text-joiner::f5b164ca-b6f3-4857-b2be-df248cf515aa","children":[{"label":"","value":"","references":[{"id":"f91d90f0-cd6a-4818-918d-13752b9b8cbb","originId":"text-joiner::f5b164ca-b6f3-4857-b2be-df248cf515aa","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"大模型_1","value":"spark-llm::e9343d94-7144-4168-a9dc-2f2656d91778","children":[{"label":"","value":"","references":[{"id":"3220af9a-4d54-4d89-8cac-82c3e08607e2","originId":"spark-llm::e9343d94-7144-4168-a9dc-2f2656d91778","label":"movie","value":"movie","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::666c7524-ff95-4f26-9e27-a0512ddfbb7a","children":[{"label":"","value":"","references":[{"id":"356f8c59-0f02-44da-b7e5-0ac921a85cbb","originId":"node-start::666c7524-ff95-4f26-9e27-a0512ddfbb7a","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true},{"label":"电影评论","value":"spark-llm::fa8a37b6-5f72-48c1-b9a3-4362270354db","children":[{"label":"","value":"","references":[{"id":"87e8bbfa-a03d-4a75-8a23-63c1390ab4f2","originId":"spark-llm::fa8a37b6-5f72-48c1-b9a3-4362270354db","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"代码_1","value":"ifly-code::ca2d8d29-c3fe-4f8c-b68f-4b9ca451d5b1","children":[{"label":"","value":"","references":[{"id":"83bf9195-89f8-40da-b410-019aa1ac3f6a","originId":"ifly-code::ca2d8d29-c3fe-4f8c-b68f-4b9ca451d5b1","label":"result","value":"result","type":"string","fileType":"","children":[]}]}],"parentNode":true}],"status":"success","updatable":false},"dragging":false,"height":783,"id":"node-end::ca06c9ac-ae5b-4e17-b578-ee4ea650b98a","position":{"x":4492.087737257574,"y":414.17333869202525},"positionAbsolute":{"x":4492.087737257574,"y":414.17333869202525},"selected":false,"type":"结束节点","width":408},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"56cd698d-be0b-494a-8def-8ac0211f5b9a","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"356f8c59-0f02-44da-b7e5-0ac921a85cbb","nodeId":"node-start::666c7524-ff95-4f26-9e27-a0512ddfbb7a","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}}],"label":"大模型_1","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"从用户提问里提取电影名称进行输出，不要自行发挥，仅输出电影名称。用户的提问是{{input}}","enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","llmId":141,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"xdeepseekv3","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"xdeepseekv3","respFormat":0},"outputs":[{"id":"3220af9a-4d54-4d89-8cac-82c3e08607e2","name":"movie","nameErrMsg":"","schema":{"default":"电影名称","type":"string"}}],"references":[{"label":"开始","value":"node-start::666c7524-ff95-4f26-9e27-a0512ddfbb7a","children":[{"label":"","value":"","references":[{"id":"356f8c59-0f02-44da-b7e5-0ac921a85cbb","originId":"node-start::666c7524-ff95-4f26-9e27-a0512ddfbb7a","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"success","updatable":false},"dragging":false,"height":596,"id":"spark-llm::e9343d94-7144-4168-a9dc-2f2656d91778","position":{"x":872.1843712365646,"y":159.84283433489605},"positionAbsolute":{"x":872.1843712365646,"y":159.84283433489605},"selected":false,"type":"大模型","width":671},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"需要搜索的问题","disabled":false,"id":"73dc2642-535c-4a33-a96c-9d06732d73f6","name":"name","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"id":"f91d90f0-cd6a-4818-918d-13752b9b8cbb","nodeId":"text-joiner::f5b164ca-b6f3-4857-b2be-df248cf515aa","name":"output"},"contentErrMsg":"","type":"ref"}}}],"label":"bing搜索_1","labelEdit":false,"nodeMeta":{"aliasName":"bing搜索","nodeType":"工具"},"nodeParam":{"uid":"0","code":"","toolDescription":"使用网络搜索公开信息","pluginId":"tool@665b86a9b821000","appId":"12a0a7e2","operationId":"聚合搜索-hL0CqmNi","businessInput":[]},"outputs":[{"id":"4aa485e1-d74d-46df-b9d7-6fa13b658d12","name":"msg","schema":{"type":"string"}},{"id":"55669db0-4de4-4773-8063-0e7d1c2325ce","name":"result","schema":{"properties":[{"id":"6889bad9-3055-4f73-b6a9-7002b55e5c01","name":"summary","type":"string"},{"id":"9035b42e-d825-4263-a3f6-8528a1fa28c9","name":"img","type":"string"},{"id":"e53d48df-d96e-4297-8437-26fdf6216a86","name":"domain","type":"string"},{"id":"b10e3026-a6c8-4c66-9d7b-5b45f8746e1a","name":"name","type":"string"},{"id":"91a0b750-a76e-4ea3-9a67-073f4e04182b","name":"is_high_summary","type":"boolean"},{"id":"abe71f0e-67cc-488d-a114-6612ef3ddb61","name":"siteName","type":"string"},{"id":"7f9f764e-97f0-4b8e-98bc-4a4a12c315fd","name":"source","type":"string"},{"id":"761a52fe-70da-4ccf-b3b3-e75855621c7b","name":"type","type":"string"},{"id":"9ba4e0bf-1e78-4eef-821d-35bfc24c186c","name":"url","type":"string"}],"type":"array-object"}},{"id":"eaa298a6-82d5-463d-b3e1-d068ff9bacda","name":"rc","schema":{"type":"string"}},{"id":"b84f0064-83da-4a7c-a1cd-162fc348e49b","name":"semantic","schema":{"properties":[],"type":"array-string"}},{"id":"4bf37973-7fba-48f7-8ece-be18421c55a0","name":"total","schema":{"type":"string"}},{"id":"87c1c11f-0027-4ac1-97f8-4d43386e7a57","name":"offset","schema":{"type":"string"}},{"id":"a3f6b82a-f536-46f6-baa6-5439149f6626","name":"limit","schema":{"type":"string"}},{"id":"fd1a4efc-cdfc-433a-bc4c-bf5401578315","name":"sid","schema":{"type":"string"}}],"references":[{"label":"文本拼接_1","value":"text-joiner::f5b164ca-b6f3-4857-b2be-df248cf515aa","children":[{"label":"","value":"","references":[{"id":"f91d90f0-cd6a-4818-918d-13752b9b8cbb","originId":"text-joiner::f5b164ca-b6f3-4857-b2be-df248cf515aa","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"大模型_1","value":"spark-llm::e9343d94-7144-4168-a9dc-2f2656d91778","children":[{"label":"","value":"","references":[{"id":"3220af9a-4d54-4d89-8cac-82c3e08607e2","originId":"spark-llm::e9343d94-7144-4168-a9dc-2f2656d91778","label":"movie","value":"movie","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::666c7524-ff95-4f26-9e27-a0512ddfbb7a","children":[{"label":"","value":"","references":[{"id":"356f8c59-0f02-44da-b7e5-0ac921a85cbb","originId":"node-start::666c7524-ff95-4f26-9e27-a0512ddfbb7a","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"success","updatable":false},"dragging":false,"height":539,"id":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","position":{"x":2341.070169587201,"y":318.01886212328736},"positionAbsolute":{"x":2341.070169587201,"y":318.01886212328736},"selected":false,"type":"工具","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"将定义过的变量用{{变量名}}的方式引用，节点会按照拼接规则输出内容","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/text-splicing-icon.png","inputs":[{"fileType":"","id":"fafd8d5c-9a3c-4d05-8f76-ba38ee6e826c","name":"movie","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"3220af9a-4d54-4d89-8cac-82c3e08607e2","nodeId":"spark-llm::e9343d94-7144-4168-a9dc-2f2656d91778","name":"movie"},"contentErrMsg":"","type":"ref"}}}],"label":"文本拼接_1","labelEdit":false,"nodeMeta":{"aliasName":"文本拼接","nodeType":"工具"},"nodeParam":{"uid":"0","separatorErrMsg":"","appId":"12a0a7e2","prompt":"website: douban.com {{movie}}"},"outputs":[{"id":"f91d90f0-cd6a-4818-918d-13752b9b8cbb","name":"output","nameErrMsg":"","schema":{"type":"string"}}],"references":[{"label":"大模型_1","value":"spark-llm::e9343d94-7144-4168-a9dc-2f2656d91778","children":[{"label":"","value":"","references":[{"id":"3220af9a-4d54-4d89-8cac-82c3e08607e2","originId":"spark-llm::e9343d94-7144-4168-a9dc-2f2656d91778","label":"movie","value":"movie","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::666c7524-ff95-4f26-9e27-a0512ddfbb7a","children":[{"label":"","value":"","references":[{"id":"356f8c59-0f02-44da-b7e5-0ac921a85cbb","originId":"node-start::666c7524-ff95-4f26-9e27-a0512ddfbb7a","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"success","updatable":false},"dragging":false,"height":595,"id":"text-joiner::f5b164ca-b6f3-4857-b2be-df248cf515aa","position":{"x":1661.0527054523104,"y":245.81886212328737},"positionAbsolute":{"x":1661.0527054523104,"y":245.81886212328737},"selected":false,"type":"文本拼接","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"703abdd7-19c4-47bd-a938-121cbad35d1f","name":"summary","nameErrMsg":"","schema":{"type":"array-string","value":{"content":{"id":"6889bad9-3055-4f73-b6a9-7002b55e5c01","nodeId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","name":"result.summary"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"3c0411c0-b27a-41ad-9a48-83959e22993b","name":"movie","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"3220af9a-4d54-4d89-8cac-82c3e08607e2","nodeId":"spark-llm::e9343d94-7144-4168-a9dc-2f2656d91778","name":"movie"},"contentErrMsg":"","type":"ref"}}}],"label":"电影打分","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"电影名称是：{{movie}}\\n\\n电影剧情摘要是：{{summary}}\\n\\n角色设定：你是一个影视评论家，为这篇影评取一个标题，再进行打分。\\n要求先输出评论标题，但不需要出现“评论标题”四个字，然后换行，输出电影打分：在10分制下为电影/电视剧打个分数，以及评价值不值得推荐。\\n仅输出影评标题，电影评分和推荐度，不超过40字。\\n","enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"4.0Ultra","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm4","respFormat":0},"outputs":[{"id":"87e8bbfa-a03d-4a75-8a23-63c1390ab4f2","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"bing搜索_1","value":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","children":[{"label":"","value":"","references":[{"id":"4aa485e1-d74d-46df-b9d7-6fa13b658d12","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"msg","value":"msg","type":"string","fileType":""},{"id":"55669db0-4de4-4773-8063-0e7d1c2325ce","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"result","value":"result","type":"array-object","fileType":"","children":[{"id":"6889bad9-3055-4f73-b6a9-7002b55e5c01","label":"summary","value":"result.summary","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"9035b42e-d825-4263-a3f6-8528a1fa28c9","label":"img","value":"result.img","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"e53d48df-d96e-4297-8437-26fdf6216a86","label":"domain","value":"result.domain","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"b10e3026-a6c8-4c66-9d7b-5b45f8746e1a","label":"name","value":"result.name","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"91a0b750-a76e-4ea3-9a67-073f4e04182b","label":"is_high_summary","value":"result.is_high_summary","type":"boolean","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"abe71f0e-67cc-488d-a114-6612ef3ddb61","label":"siteName","value":"result.siteName","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"7f9f764e-97f0-4b8e-98bc-4a4a12c315fd","label":"source","value":"result.source","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"761a52fe-70da-4ccf-b3b3-e75855621c7b","label":"type","value":"result.type","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"9ba4e0bf-1e78-4eef-821d-35bfc24c186c","label":"url","value":"result.url","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""}]},{"id":"eaa298a6-82d5-463d-b3e1-d068ff9bacda","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"rc","value":"rc","type":"string","fileType":""},{"id":"b84f0064-83da-4a7c-a1cd-162fc348e49b","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"semantic","value":"semantic","type":"array-string","fileType":"","children":[]},{"id":"4bf37973-7fba-48f7-8ece-be18421c55a0","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"total","value":"total","type":"string","fileType":""},{"id":"87c1c11f-0027-4ac1-97f8-4d43386e7a57","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"offset","value":"offset","type":"string","fileType":""},{"id":"a3f6b82a-f536-46f6-baa6-5439149f6626","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"limit","value":"limit","type":"string","fileType":""},{"id":"fd1a4efc-cdfc-433a-bc4c-bf5401578315","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"sid","value":"sid","type":"string","fileType":""}]}],"parentNode":true},{"label":"文本拼接_1","value":"text-joiner::f5b164ca-b6f3-4857-b2be-df248cf515aa","children":[{"label":"","value":"","references":[{"id":"f91d90f0-cd6a-4818-918d-13752b9b8cbb","originId":"text-joiner::f5b164ca-b6f3-4857-b2be-df248cf515aa","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"大模型_1","value":"spark-llm::e9343d94-7144-4168-a9dc-2f2656d91778","children":[{"label":"","value":"","references":[{"id":"3220af9a-4d54-4d89-8cac-82c3e08607e2","originId":"spark-llm::e9343d94-7144-4168-a9dc-2f2656d91778","label":"movie","value":"movie","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::666c7524-ff95-4f26-9e27-a0512ddfbb7a","children":[{"label":"","value":"","references":[{"id":"356f8c59-0f02-44da-b7e5-0ac921a85cbb","originId":"node-start::666c7524-ff95-4f26-9e27-a0512ddfbb7a","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"success","updatable":false},"dragging":false,"height":774,"id":"spark-llm::ade97d47-887f-4bc9-9f0b-4e5bb179a2f4","position":{"x":3157.996494499316,"y":-0.4146695204755666},"positionAbsolute":{"x":3157.996494499316,"y":-0.4146695204755666},"selected":true,"type":"大模型","width":687},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"588421a9-85db-4175-b6a6-fe85dc2ad2d7","name":"summary","nameErrMsg":"","schema":{"type":"array-string","value":{"content":{"id":"6889bad9-3055-4f73-b6a9-7002b55e5c01","nodeId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","name":"result.summary"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"91cc2fb4-f1d2-4f6a-8ae1-7a3b4eed391f","name":"movie","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"3220af9a-4d54-4d89-8cac-82c3e08607e2","nodeId":"spark-llm::e9343d94-7144-4168-a9dc-2f2656d91778","name":"movie"},"contentErrMsg":"","type":"ref"}}}],"label":"电影评论","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"电影名称是：{{movie}}\\n\\n电影剧情摘要是：{{summary}}\\n\\n角色设定：你是一个影视评论家\\n目标任务：根据我提供的影视作品，写一篇影视评论\\n评论说明：要求文笔细腻、叙事流畅有逻辑、观点突出，模仿专栏作家写法，使用比喻、象征、对照等文学典型手法；\\n内容可以包括主创阵容、影像视觉、主旨内涵、文化现象等维度，最好有电影/电视剧中的细节予以佐证；\\n输出格式要求为：先输出评论标题，但不需要出现“评论标题”四个字，然后换行，再然后是评论内容。后面绝不要再有额外的输出。使用Markdown样式美化输出格式。\\n\\n","enableChatHistoryV2":{"isEnabled":false,"rounds":1},"auditing":"default","url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"4.0Ultra","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm4","respFormat":0},"outputs":[{"id":"87e8bbfa-a03d-4a75-8a23-63c1390ab4f2","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"bing搜索_1","value":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","children":[{"label":"","value":"","references":[{"id":"4aa485e1-d74d-46df-b9d7-6fa13b658d12","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"msg","value":"msg","type":"string","fileType":""},{"id":"55669db0-4de4-4773-8063-0e7d1c2325ce","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"result","value":"result","type":"array-object","fileType":"","children":[{"id":"6889bad9-3055-4f73-b6a9-7002b55e5c01","label":"summary","value":"result.summary","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"9035b42e-d825-4263-a3f6-8528a1fa28c9","label":"img","value":"result.img","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"e53d48df-d96e-4297-8437-26fdf6216a86","label":"domain","value":"result.domain","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"b10e3026-a6c8-4c66-9d7b-5b45f8746e1a","label":"name","value":"result.name","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"91a0b750-a76e-4ea3-9a67-073f4e04182b","label":"is_high_summary","value":"result.is_high_summary","type":"boolean","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"abe71f0e-67cc-488d-a114-6612ef3ddb61","label":"siteName","value":"result.siteName","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"7f9f764e-97f0-4b8e-98bc-4a4a12c315fd","label":"source","value":"result.source","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"761a52fe-70da-4ccf-b3b3-e75855621c7b","label":"type","value":"result.type","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"9ba4e0bf-1e78-4eef-821d-35bfc24c186c","label":"url","value":"result.url","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""}]},{"id":"eaa298a6-82d5-463d-b3e1-d068ff9bacda","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"rc","value":"rc","type":"string","fileType":""},{"id":"b84f0064-83da-4a7c-a1cd-162fc348e49b","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"semantic","value":"semantic","type":"array-string","fileType":"","children":[]},{"id":"4bf37973-7fba-48f7-8ece-be18421c55a0","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"total","value":"total","type":"string","fileType":""},{"id":"87c1c11f-0027-4ac1-97f8-4d43386e7a57","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"offset","value":"offset","type":"string","fileType":""},{"id":"a3f6b82a-f536-46f6-baa6-5439149f6626","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"limit","value":"limit","type":"string","fileType":""},{"id":"fd1a4efc-cdfc-433a-bc4c-bf5401578315","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"sid","value":"sid","type":"string","fileType":""}]}],"parentNode":true},{"label":"文本拼接_1","value":"text-joiner::f5b164ca-b6f3-4857-b2be-df248cf515aa","children":[{"label":"","value":"","references":[{"id":"f91d90f0-cd6a-4818-918d-13752b9b8cbb","originId":"text-joiner::f5b164ca-b6f3-4857-b2be-df248cf515aa","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"大模型_1","value":"spark-llm::e9343d94-7144-4168-a9dc-2f2656d91778","children":[{"label":"","value":"","references":[{"id":"3220af9a-4d54-4d89-8cac-82c3e08607e2","originId":"spark-llm::e9343d94-7144-4168-a9dc-2f2656d91778","label":"movie","value":"movie","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::666c7524-ff95-4f26-9e27-a0512ddfbb7a","children":[{"label":"","value":"","references":[{"id":"356f8c59-0f02-44da-b7e5-0ac921a85cbb","originId":"node-start::666c7524-ff95-4f26-9e27-a0512ddfbb7a","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"success","updatable":false},"dragging":false,"height":874,"id":"spark-llm::fa8a37b6-5f72-48c1-b9a3-4362270354db","position":{"x":3158.37161553241,"y":823.2793806800518},"positionAbsolute":{"x":3158.37161553241,"y":823.2793806800518},"selected":false,"type":"大模型","width":687},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"fileType":"","id":"c4a2e3c1-e75b-4718-8a4f-f5e21a07af18","name":"urlList","nameErrMsg":"","schema":{"type":"array-string","value":{"content":{"id":"9ba4e0bf-1e78-4eef-821d-35bfc24c186c","nodeId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","name":"result.url"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"7c87f29f-b293-4c68-a4b8-856c5f0f18a6","name":"nameList","nameErrMsg":"","schema":{"type":"array-string","value":{"content":{"id":"b10e3026-a6c8-4c66-9d7b-5b45f8746e1a","nodeId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","name":"result.name"},"contentErrMsg":"","type":"ref"}}}],"label":"信源提取","labelEdit":true,"nodeMeta":{"aliasName":"代码","nodeType":"工具"},"nodeParam":{"uid":"0","code":"def main(urlList,nameList):\\n    # 生成超链接列表\\n    hyperlinks = [\\n        f''<a href=\\"{url}\\">{name}</a>''\\n        for name, url in zip(nameList, urlList)\\n    ]\\n    \\n    # 转换为带编号的字符串\\n    result_str = \\"\\\\n\\".join(\\n        [f\\"{idx}. {link}\\" for idx, link in enumerate(hyperlinks, 1)]\\n    )\\n    ret = {\\n        \\"result\\": result_str\\n    }\\n    return ret","appId":"12a0a7e2","codeErrMsg":""},"outputs":[{"id":"83bf9195-89f8-40da-b410-019aa1ac3f6a","name":"result","nameErrMsg":"","schema":{"default":"","properties":[],"type":"string"}}],"references":[{"label":"bing搜索_1","value":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","children":[{"label":"","value":"","references":[{"id":"4aa485e1-d74d-46df-b9d7-6fa13b658d12","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"msg","value":"msg","type":"string","fileType":""},{"id":"55669db0-4de4-4773-8063-0e7d1c2325ce","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"result","value":"result","type":"array-object","fileType":"","children":[{"id":"6889bad9-3055-4f73-b6a9-7002b55e5c01","label":"summary","value":"result.summary","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"9035b42e-d825-4263-a3f6-8528a1fa28c9","label":"img","value":"result.img","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"e53d48df-d96e-4297-8437-26fdf6216a86","label":"domain","value":"result.domain","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"b10e3026-a6c8-4c66-9d7b-5b45f8746e1a","label":"name","value":"result.name","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"91a0b750-a76e-4ea3-9a67-073f4e04182b","label":"is_high_summary","value":"result.is_high_summary","type":"boolean","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"abe71f0e-67cc-488d-a114-6612ef3ddb61","label":"siteName","value":"result.siteName","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"7f9f764e-97f0-4b8e-98bc-4a4a12c315fd","label":"source","value":"result.source","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"761a52fe-70da-4ccf-b3b3-e75855621c7b","label":"type","value":"result.type","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""},{"id":"9ba4e0bf-1e78-4eef-821d-35bfc24c186c","label":"url","value":"result.url","type":"string","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","parentType":"array-object","fileType":""}]},{"id":"eaa298a6-82d5-463d-b3e1-d068ff9bacda","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"rc","value":"rc","type":"string","fileType":""},{"id":"b84f0064-83da-4a7c-a1cd-162fc348e49b","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"semantic","value":"semantic","type":"array-string","fileType":"","children":[]},{"id":"4bf37973-7fba-48f7-8ece-be18421c55a0","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"total","value":"total","type":"string","fileType":""},{"id":"87c1c11f-0027-4ac1-97f8-4d43386e7a57","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"offset","value":"offset","type":"string","fileType":""},{"id":"a3f6b82a-f536-46f6-baa6-5439149f6626","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"limit","value":"limit","type":"string","fileType":""},{"id":"fd1a4efc-cdfc-433a-bc4c-bf5401578315","originId":"plugin::053d9c64-ff26-4652-b68a-250b42d8d7f0","label":"sid","value":"sid","type":"string","fileType":""}]}],"parentNode":true},{"label":"文本拼接_1","value":"text-joiner::f5b164ca-b6f3-4857-b2be-df248cf515aa","children":[{"label":"","value":"","references":[{"id":"f91d90f0-cd6a-4818-918d-13752b9b8cbb","originId":"text-joiner::f5b164ca-b6f3-4857-b2be-df248cf515aa","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"大模型_1","value":"spark-llm::e9343d94-7144-4168-a9dc-2f2656d91778","children":[{"label":"","value":"","references":[{"id":"3220af9a-4d54-4d89-8cac-82c3e08607e2","originId":"spark-llm::e9343d94-7144-4168-a9dc-2f2656d91778","label":"movie","value":"movie","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::666c7524-ff95-4f26-9e27-a0512ddfbb7a","children":[{"label":"","value":"","references":[{"id":"356f8c59-0f02-44da-b7e5-0ac921a85cbb","originId":"node-start::666c7524-ff95-4f26-9e27-a0512ddfbb7a","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"success","updatable":false},"dragging":false,"height":839,"id":"ifly-code::ca2d8d29-c3fe-4f8c-b68f-4b9ca451d5b1","position":{"x":3198.936939340525,"y":1720.580867192227},"positionAbsolute":{"x":3198.936939340525,"y":1720.580867192227},"selected":false,"type":"代码","width":587}]}', 'https://bjcdn.openstorage.cn/xinghuo-privatedata/personality_2025-03-26_kl89ilu1_cropped-image.jpeg?width=209&height=209', '#FFEAD5', -1, 1, 0, 0, NULL, 0, NULL, 2, NULL, 1, NULL, '{"prologue":{"enabled":true,"inputExample":[],"prologueText":""},"needGuide":false}', '{"botId":2676751}', NULL, NULL);
INSERT INTO workflow (id, uid, app_id, flow_id, name, description, deleted, is_public, create_time, update_time, published_data, `data`, avatar_icon, avatar_color, status, can_publish, app_updatable, top, edge_type, `order`, eval_set_id, source, bak, editing, eval_page_first_time, advanced_config, ext, category, space_id) VALUES(72366, 18882349618, '12a0a7e2', '7308756054656868352', '【勿动！】知识库查询模板', '', 0, 0, '2025-03-21 15:47:13', '2025-03-27 14:31:34', NULL, '{"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-knowledge-base::b539f76f-2ac3-4f48-a5de-b752f52122b8-spark-llm::f8e853bd-0f31-4737-8013-a8c9f91651b0","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"knowledge-base::b539f76f-2ac3-4f48-a5de-b752f52122b8","target":"spark-llm::f8e853bd-0f31-4737-8013-a8c9f91651b0","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::f8e853bd-0f31-4737-8013-a8c9f91651b0-node-end::cd2bdce9-2e20-440e-a28b-20fda24cf1c8node-end::cd2bdce9-2e20-440e-a28b-20fda24cf1c8","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"spark-llm::f8e853bd-0f31-4737-8013-a8c9f91651b0","target":"node-end::cd2bdce9-2e20-440e-a28b-20fda24cf1c8","targetHandle":"node-end::cd2bdce9-2e20-440e-a28b-20fda24cf1c8","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::ec0babb2-72c1-46e6-9354-5e4f84cab8c4-knowledge-base::b539f76f-2ac3-4f48-a5de-b752f52122b8","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-start::ec0babb2-72c1-46e6-9354-5e4f84cab8c4","target":"knowledge-base::b539f76f-2ac3-4f48-a5de-b752f52122b8","type":"customEdge"}],"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始节点","nodeType":"基础节点"},"nodeParam":{},"outputs":[{"deleteDisabled":true,"id":"70ff989b-7c8b-42da-a1cb-2fd3ab0c7e9d","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}}],"status":"","updatable":false},"dragging":false,"height":296,"id":"node-start::ec0babb2-72c1-46e6-9354-5e4f84cab8c4","position":{"x":286.72196897609933,"y":213.98781490023484},"positionAbsolute":{"x":286.72196897609933,"y":213.98781490023484},"selected":false,"type":"开始节点","width":658},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"id":"25dac5c9-4c21-4c3b-924a-37e1e682015f","name":"LLMoutput","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"d695790b-24bc-4df2-a3cf-e736c6c6d70d","nodeId":"spark-llm::f8e853bd-0f31-4737-8013-a8c9f91651b0","name":"LLMoutput"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束节点","nodeType":"基础节点"},"nodeParam":{"template":"{{LLMoutput}}","streamOutput":true,"templateErrMsg":"","outputMode":1},"outputs":[],"references":[{"label":"大模型_1","value":"spark-llm::f8e853bd-0f31-4737-8013-a8c9f91651b0","children":[{"label":"","value":"","references":[{"id":"d695790b-24bc-4df2-a3cf-e736c6c6d70d","originId":"spark-llm::f8e853bd-0f31-4737-8013-a8c9f91651b0","label":"LLMoutput","value":"LLMoutput","type":"string","fileType":""}]}],"parentNode":true},{"label":"知识库_1","value":"knowledge-base::b539f76f-2ac3-4f48-a5de-b752f52122b8","children":[{"label":"","value":"","references":[{"id":"15d61193-0fff-4323-94e1-3110efd08f91","originId":"knowledge-base::b539f76f-2ac3-4f48-a5de-b752f52122b8","label":"results","value":"results","type":"array-object","fileType":"","children":[{"id":"2a513e2a-ddb8-4386-8ec7-786f95fb9dfa","label":"score","value":"results.score","type":"number","originId":"knowledge-base::b539f76f-2ac3-4f48-a5de-b752f52122b8","parentType":"array-object","fileType":""},{"id":"883a2b2f-ed6d-4a3a-9bc6-3e1c454f0661","label":"index","value":"results.index","type":"number","originId":"knowledge-base::b539f76f-2ac3-4f48-a5de-b752f52122b8","parentType":"array-object","fileType":""},{"id":"aa4a3680-5f34-420e-a502-c3907d089b4f","label":"type","value":"results.type","type":"string","originId":"knowledge-base::b539f76f-2ac3-4f48-a5de-b752f52122b8","parentType":"array-object","fileType":""},{"id":"8bae45db-489c-4786-86f9-b01421045f35","label":"content","value":"results.content","type":"string","originId":"knowledge-base::b539f76f-2ac3-4f48-a5de-b752f52122b8","parentType":"array-object","fileType":""},{"id":"aa8abdaf-5d5d-4d33-9e27-c83fdb981c8f","label":"fileType","value":"results.fileType","type":"string","originId":"knowledge-base::b539f76f-2ac3-4f48-a5de-b752f52122b8","parentType":"array-object","fileType":""},{"id":"97390574-6a2f-4e25-b0e5-72a0bd024592","label":"fileId","value":"results.fileId","type":"string","originId":"knowledge-base::b539f76f-2ac3-4f48-a5de-b752f52122b8","parentType":"array-object","fileType":""}]}]}],"parentNode":true},{"label":"开始","value":"node-start::ec0babb2-72c1-46e6-9354-5e4f84cab8c4","children":[{"label":"","value":"","references":[{"id":"70ff989b-7c8b-42da-a1cb-2fd3ab0c7e9d","originId":"node-start::ec0babb2-72c1-46e6-9354-5e4f84cab8c4","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":617,"id":"node-end::cd2bdce9-2e20-440e-a28b-20fda24cf1c8","position":{"x":2596.4367854791526,"y":66.80089575294384},"positionAbsolute":{"x":2596.4367854791526,"y":66.80089575294384},"selected":false,"type":"结束节点","width":408},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"调用知识库，可以指定知识库进行知识检索和答复","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/knowledgeIcon.png","inputs":[{"id":"1c210447-cf13-4bd3-be9c-a32afa8022b0","name":"query","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"70ff989b-7c8b-42da-a1cb-2fd3ab0c7e9d","nodeId":"node-start::ec0babb2-72c1-46e6-9354-5e4f84cab8c4","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}}],"label":"知识库_1","labelEdit":false,"nodeMeta":{"aliasName":"知识库","nodeType":"工具"},"nodeParam":{"repoId":["2110039"],"uid":"0","appId":"12a0a7e2","repoList":[{"id":2110039,"name":"消防安全知识","outerRepoId":"2110039","coreRepoId":"2110039","description":"消防安全知识","status":2,"createTime":"2025-03-24T05:39:32.000+00:00","updateTime":"2025-03-24T05:39:32.000+00:00","charCount":963}],"repoIdErrMsg":"","flowId":"7308756054656868352","ragType":"SparkDesk-RAG","topN":1},"outputs":[{"id":"15d61193-0fff-4323-94e1-3110efd08f91","name":"results","nameErrMsg":"","required":true,"schema":{"properties":[{"id":"2a513e2a-ddb8-4386-8ec7-786f95fb9dfa","name":"score","required":true,"type":"number"},{"id":"883a2b2f-ed6d-4a3a-9bc6-3e1c454f0661","name":"index","required":true,"type":"number"},{"id":"aa4a3680-5f34-420e-a502-c3907d089b4f","name":"type","required":true,"type":"string"},{"id":"8bae45db-489c-4786-86f9-b01421045f35","name":"content","required":true,"type":"string"},{"id":"aa8abdaf-5d5d-4d33-9e27-c83fdb981c8f","name":"fileType","required":true,"type":"string"},{"id":"97390574-6a2f-4e25-b0e5-72a0bd024592","name":"fileId","required":true,"type":"string"}],"type":"array-object"}}],"references":[{"label":"开始","value":"node-start::ec0babb2-72c1-46e6-9354-5e4f84cab8c4","children":[{"label":"","value":"","references":[{"id":"70ff989b-7c8b-42da-a1cb-2fd3ab0c7e9d","originId":"node-start::ec0babb2-72c1-46e6-9354-5e4f84cab8c4","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":450,"id":"knowledge-base::b539f76f-2ac3-4f48-a5de-b752f52122b8","position":{"x":1158.0688905110937,"y":78.89602000220596},"positionAbsolute":{"x":1158.0688905110937,"y":78.89602000220596},"selected":false,"type":"知识库","width":476},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"id":"b652dd23-ad30-4334-bb7a-2a148ecfda8e","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"70ff989b-7c8b-42da-a1cb-2fd3ab0c7e9d","nodeId":"node-start::ec0babb2-72c1-46e6-9354-5e4f84cab8c4","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"5ec6a753-8965-4a7e-a84f-61c950fbcfa4","name":"knowledge","nameErrMsg":"","schema":{"type":"array-object","value":{"content":{"id":"15d61193-0fff-4323-94e1-3110efd08f91","nodeId":"knowledge-base::b539f76f-2ac3-4f48-a5de-b752f52122b8","name":"results"},"contentErrMsg":"","type":"ref"}}}],"label":"大模型_1","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"# 角色\\n你是一个知识库查询助手，根据用户问题和内部知识库，给用户返回问题答案。\\n务必按照知识库来生成答案，不要自己发挥。\\n\\n# 工作流程\\n## \\n判断知识库查询结果{{knowledge}}与用户提问{{input}}的相关度。这一步不用向用户说明。\\n##\\n如果相关度很低，则告诉用户：抱歉，您的问题不在知识库范围内，我无法作答。换个问题再试试呢。如果相关度较高，则回答用户问题。","enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"回答的tokens的最大长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"从k个中随机选择一个(非等概率)","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"auditing":"default","llmId":141,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"xdeepseekv3","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"xdeepseekv3","respFormat":0},"outputs":[{"id":"d695790b-24bc-4df2-a3cf-e736c6c6d70d","name":"LLMoutput","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"知识库_1","value":"knowledge-base::b539f76f-2ac3-4f48-a5de-b752f52122b8","children":[{"label":"","value":"","references":[{"id":"15d61193-0fff-4323-94e1-3110efd08f91","originId":"knowledge-base::b539f76f-2ac3-4f48-a5de-b752f52122b8","label":"results","value":"results","type":"array-object","fileType":"","children":[{"id":"2a513e2a-ddb8-4386-8ec7-786f95fb9dfa","label":"score","value":"results.score","type":"number","originId":"knowledge-base::b539f76f-2ac3-4f48-a5de-b752f52122b8","parentType":"array-object","fileType":""},{"id":"883a2b2f-ed6d-4a3a-9bc6-3e1c454f0661","label":"index","value":"results.index","type":"number","originId":"knowledge-base::b539f76f-2ac3-4f48-a5de-b752f52122b8","parentType":"array-object","fileType":""},{"id":"aa4a3680-5f34-420e-a502-c3907d089b4f","label":"type","value":"results.type","type":"string","originId":"knowledge-base::b539f76f-2ac3-4f48-a5de-b752f52122b8","parentType":"array-object","fileType":""},{"id":"8bae45db-489c-4786-86f9-b01421045f35","label":"content","value":"results.content","type":"string","originId":"knowledge-base::b539f76f-2ac3-4f48-a5de-b752f52122b8","parentType":"array-object","fileType":""},{"id":"aa8abdaf-5d5d-4d33-9e27-c83fdb981c8f","label":"fileType","value":"results.fileType","type":"string","originId":"knowledge-base::b539f76f-2ac3-4f48-a5de-b752f52122b8","parentType":"array-object","fileType":""},{"id":"97390574-6a2f-4e25-b0e5-72a0bd024592","label":"fileId","value":"results.fileId","type":"string","originId":"knowledge-base::b539f76f-2ac3-4f48-a5de-b752f52122b8","parentType":"array-object","fileType":""}]}]}],"parentNode":true},{"label":"开始","value":"node-start::ec0babb2-72c1-46e6-9354-5e4f84cab8c4","children":[{"label":"","value":"","references":[{"id":"70ff989b-7c8b-42da-a1cb-2fd3ab0c7e9d","originId":"node-start::ec0babb2-72c1-46e6-9354-5e4f84cab8c4","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":765,"id":"spark-llm::f8e853bd-0f31-4737-8013-a8c9f91651b0","position":{"x":1769.209852568089,"y":-24.301731951131423},"positionAbsolute":{"x":1769.209852568089,"y":-24.301731951131423},"selected":false,"type":"大模型","width":687}]}', 'https://bjcdn.openstorage.cn/xinghuo-privatedata/personality/1742543227708.jpg?width=204&height=204', '#FFEAD5', -1, 1, 0, 0, NULL, 0, NULL, 2, NULL, 1, NULL, '{"prologue":{"enabled":true,"inputExample":["火灾后如何逃生？","消防安全的英文","防火灾注意事项"],"prologueText":""},"needGuide":false}', NULL, NULL, NULL);
INSERT INTO workflow (id, uid, app_id, flow_id, name, description, deleted, is_public, create_time, update_time, published_data, `data`, avatar_icon, avatar_color, status, can_publish, app_updatable, top, edge_type, `order`, eval_set_id, source, bak, editing, eval_page_first_time, advanced_config, ext, category, space_id) VALUES(71494, 14954733327, '12a0a7e2', '7308057435709698048', '随机抽题', '随机抽题模板，集成后修改题库，即可实现出题功能。
注意：请严格按照题库示例中的格式修改题库', 0, 0, '2025-03-19 17:31:09', '2025-03-14 05:30:00', NULL, '{"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578-text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","target":"text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed-ifly-code::70f668a6-9ab6-478d-a954-33cde6d913a8","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed","target":"ifly-code::70f668a6-9ab6-478d-a954-33cde6d913a8","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::58c2ebf3-4fdd-4947-b5f4-32753c95bd9a-ifly-code::ea199055-7a86-4735-882e-86c22794d701","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"spark-llm::58c2ebf3-4fdd-4947-b5f4-32753c95bd9a","target":"ifly-code::ea199055-7a86-4735-882e-86c22794d701","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::ea199055-7a86-4735-882e-86c22794d701-node-end::f04d03e8-21e4-4945-a2a3-a18e48c4d91bnode-end::f04d03e8-21e4-4945-a2a3-a18e48c4d91b","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"ifly-code::ea199055-7a86-4735-882e-86c22794d701","target":"node-end::f04d03e8-21e4-4945-a2a3-a18e48c4d91b","targetHandle":"node-end::f04d03e8-21e4-4945-a2a3-a18e48c4d91b","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-text-joiner::df133263-7e60-436e-bd12-c044941952ad-node-end::f04d03e8-21e4-4945-a2a3-a18e48c4d91bnode-end::f04d03e8-21e4-4945-a2a3-a18e48c4d91b","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"text-joiner::df133263-7e60-436e-bd12-c044941952ad","target":"node-end::f04d03e8-21e4-4945-a2a3-a18e48c4d91b","targetHandle":"node-end::f04d03e8-21e4-4945-a2a3-a18e48c4d91b","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::c9068fa7-905c-4b57-8167-f5757f3eacb6-if-else::73b6247d-da70-4900-be83-119c40317b46","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"ifly-code::c9068fa7-905c-4b57-8167-f5757f3eacb6","target":"if-else::73b6247d-da70-4900-be83-119c40317b46","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::73b6247d-da70-4900-be83-119c40317b46branch_one_of::7e3c5dff-6836-437b-95ed-b695a531d8b0-text-joiner::df133263-7e60-436e-bd12-c044941952ad","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::73b6247d-da70-4900-be83-119c40317b46","sourceHandle":"branch_one_of::7e3c5dff-6836-437b-95ed-b695a531d8b0","target":"text-joiner::df133263-7e60-436e-bd12-c044941952ad","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::73b6247d-da70-4900-be83-119c40317b46branch_one_of::15f8e4fb-1d66-4fee-8e0d-5dbcd067653b-ifly-code::dc58ea48-1990-4766-848d-5bd149249191","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::73b6247d-da70-4900-be83-119c40317b46","sourceHandle":"branch_one_of::15f8e4fb-1d66-4fee-8e0d-5dbcd067653b","target":"ifly-code::dc58ea48-1990-4766-848d-5bd149249191","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::dc58ea48-1990-4766-848d-5bd149249191-node-end::f04d03e8-21e4-4945-a2a3-a18e48c4d91bnode-end::f04d03e8-21e4-4945-a2a3-a18e48c4d91b","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"ifly-code::dc58ea48-1990-4766-848d-5bd149249191","target":"node-end::f04d03e8-21e4-4945-a2a3-a18e48c4d91b","targetHandle":"node-end::f04d03e8-21e4-4945-a2a3-a18e48c4d91b","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::70f668a6-9ab6-478d-a954-33cde6d913a8-spark-llm::89851ad8-a2e4-443c-bfcf-fe0c713fdb86","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"ifly-code::70f668a6-9ab6-478d-a954-33cde6d913a8","target":"spark-llm::89851ad8-a2e4-443c-bfcf-fe0c713fdb86","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::89851ad8-a2e4-443c-bfcf-fe0c713fdb86-if-else::75c18000-0a9f-4e98-b425-6d48ebcfb1d9","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"spark-llm::89851ad8-a2e4-443c-bfcf-fe0c713fdb86","target":"if-else::75c18000-0a9f-4e98-b425-6d48ebcfb1d9","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::75c18000-0a9f-4e98-b425-6d48ebcfb1d9branch_one_of::2db3e298-2822-4736-bfec-fd8942b0e715-spark-llm::58c2ebf3-4fdd-4947-b5f4-32753c95bd9a","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::75c18000-0a9f-4e98-b425-6d48ebcfb1d9","sourceHandle":"branch_one_of::2db3e298-2822-4736-bfec-fd8942b0e715","target":"spark-llm::58c2ebf3-4fdd-4947-b5f4-32753c95bd9a","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::75c18000-0a9f-4e98-b425-6d48ebcfb1d9branch_one_of::93ccf247-ef92-4bed-9d04-5fe6a0137bcd-ifly-code::c9068fa7-905c-4b57-8167-f5757f3eacb6","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::75c18000-0a9f-4e98-b425-6d48ebcfb1d9","sourceHandle":"branch_one_of::93ccf247-ef92-4bed-9d04-5fe6a0137bcd","target":"ifly-code::c9068fa7-905c-4b57-8167-f5757f3eacb6","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::75c18000-0a9f-4e98-b425-6d48ebcfb1d9branch_one_of::ac47bc0f-618c-49d8-828d-2a94ebcbbd33-text-joiner::df133263-7e60-436e-bd12-c044941952ad","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"if-else::75c18000-0a9f-4e98-b425-6d48ebcfb1d9","sourceHandle":"branch_one_of::ac47bc0f-618c-49d8-828d-2a94ebcbbd33","target":"text-joiner::df133263-7e60-436e-bd12-c044941952ad","type":"customEdge"}],"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始节点","nodeType":"基础节点"},"nodeParam":{},"outputs":[{"deleteDisabled":true,"id":"9b84dc65-1134-4bf8-b1dc-670f72906a90","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}}],"status":"","updatable":false},"dragging":false,"height":256,"id":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","position":{"x":-2580.4297028566,"y":451.87196325433246},"positionAbsolute":{"x":-2580.4297028566,"y":451.87196325433246},"selected":false,"type":"开始节点","width":658},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"id":"77db9aae-4f34-46f5-80a0-ad5bf2c7f78f","name":"output1","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"ba8678a5-476a-4d8c-8c4e-dc5f945e4eef","nodeId":"ifly-code::ea199055-7a86-4735-882e-86c22794d701","name":"result"},"contentErrMsg":"","type":"ref"}}},{"id":"1b908d7c-9330-4f6a-8121-52df11293c78","name":"output2","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"ba8678a5-476a-4d8c-8c4e-dc5f945e4eef","nodeId":"ifly-code::dc58ea48-1990-4766-848d-5bd149249191","name":"result"},"contentErrMsg":"","type":"ref"}}},{"id":"73b40b1f-7262-4463-a5e9-71b3931fab48","name":"output3","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"9fc73d90-79ef-401f-a28b-38eb7949e264","nodeId":"text-joiner::df133263-7e60-436e-bd12-c044941952ad","name":"output"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束节点","nodeType":"基础节点"},"nodeParam":{"template":"{{output1}}{{output2}}{{output3}}\\n","streamOutput":false,"templateErrMsg":"","outputMode":1},"outputs":[],"references":[{"label":"抽题","value":"ifly-code::ea199055-7a86-4735-882e-86c22794d701","children":[{"label":"","value":"","references":[{"id":"ba8678a5-476a-4d8c-8c4e-dc5f945e4eef","originId":"ifly-code::ea199055-7a86-4735-882e-86c22794d701","label":"result","value":"result","type":"string","fileType":""}]}],"parentNode":true},{"label":"规范用户输入","value":"spark-llm::58c2ebf3-4fdd-4947-b5f4-32753c95bd9a","children":[{"label":"","value":"","references":[{"id":"66cf6151-032d-4f43-90f3-896488bb8e6c","originId":"spark-llm::58c2ebf3-4fdd-4947-b5f4-32753c95bd9a","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"兜底回复","value":"text-joiner::df133263-7e60-436e-bd12-c044941952ad","children":[{"label":"","value":"","references":[{"id":"9fc73d90-79ef-401f-a28b-38eb7949e264","originId":"text-joiner::df133263-7e60-436e-bd12-c044941952ad","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"获取题目类型","value":"ifly-code::70f668a6-9ab6-478d-a954-33cde6d913a8","children":[{"label":"","value":"","references":[{"id":"2f297eae-5b6b-446e-b542-bb855723ca0e","originId":"ifly-code::70f668a6-9ab6-478d-a954-33cde6d913a8","label":"classifications","value":"classifications","type":"string","fileType":""}]}],"parentNode":true},{"label":"题库","value":"text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed","children":[{"label":"","value":"","references":[{"id":"36daa07c-9275-4992-aacc-9f132474b4f8","originId":"text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","children":[{"label":"","value":"","references":[{"id":"9b84dc65-1134-4bf8-b1dc-670f72906a90","originId":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true},{"label":"规整用户说法","value":"ifly-code::c9068fa7-905c-4b57-8167-f5757f3eacb6","children":[{"label":"","value":"","references":[{"id":"ba8678a5-476a-4d8c-8c4e-dc5f945e4eef","originId":"ifly-code::c9068fa7-905c-4b57-8167-f5757f3eacb6","label":"result","value":"result","type":"string","fileType":""}]}],"parentNode":true},{"label":"抽题_1","value":"ifly-code::dc58ea48-1990-4766-848d-5bd149249191","children":[{"label":"","value":"","references":[{"id":"ba8678a5-476a-4d8c-8c4e-dc5f945e4eef","originId":"ifly-code::dc58ea48-1990-4766-848d-5bd149249191","label":"result","value":"result","type":"string","fileType":""}]}],"parentNode":true},{"label":"用户意图理解","value":"spark-llm::89851ad8-a2e4-443c-bfcf-fe0c713fdb86","children":[{"label":"","value":"","references":[{"id":"0789070a-f3ee-4d76-a647-0a2a01ad9c50","originId":"spark-llm::89851ad8-a2e4-443c-bfcf-fe0c713fdb86","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":753,"id":"node-end::f04d03e8-21e4-4945-a2a3-a18e48c4d91b","position":{"x":4909.246865383252,"y":428.1086886560544},"positionAbsolute":{"x":4909.246865383252,"y":428.1086886560544},"selected":false,"type":"结束节点","width":408},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"将定义过的变量用{{变量名}}的方式引用，节点会按照拼接规则输出内容","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/text-splicing-icon.png","inputs":[{"id":"6edca785-c912-4221-9ffd-44ca57924cad","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"9b84dc65-1134-4bf8-b1dc-670f72906a90","nodeId":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}}],"label":"题库","labelEdit":false,"nodeMeta":{"aliasName":"文本拼接","nodeType":"工具"},"nodeParam":{"uid":"0","appId":"12a0a7e2","prompt":"{\\n\\"历史\\": [\\n{\\n\\"question\\": \\"鸦片战争后，中国被迫签订的第一个不平等条约是？\\\\nA. 南京条约\\\\nB. 北京条约\\\\nC. 马关条约\\\\nD. 辛丑条约\\",\\n\\"answer\\": \\"A\\",\\n\\"analysis\\": \\"1842年《南京条约》是近代中国第一个不平等条约，标志中国开始沦为半殖民地半封建社会‌\\"\\n},\\n{\\n\\"question\\": \\"战国时期秦国实现富国强兵的根本措施是？\\\\nA. 奖励军功\\\\nB. 商鞅变法\\\\nC. 修建都江堰\\\\nD. 统一度量衡\\",\\n\\"answer\\": \\"B\\",\\n\\"analysis\\": \\"商鞅变法通过废井田、重农桑、奖军功等改革，奠定秦国统一基础‌\\"\\n},\\n{\\n\\"question\\": \\"新文化运动的核心思想是？\\\\nA. 师夷长技\\\\nB. 民主与科学\\\\nC. 三民主义\\\\nD. 变法图强\\",\\n\\"answer\\": \\"B\\",\\n\\"analysis\\": \\"陈独秀等人提出\\\\\\"德先生\\\\\\"（民主）与\\\\\\"赛先生\\\\\\"（科学）口号，推动思想解放‌\\"\\n},\\n{\\n\\"question\\": \\"郑和七下西洋最远到达的地区是？\\\\nA. 印度洋沿岸\\\\nB. 波斯湾\\\\nC. 红海沿岸和非洲\\\\nD. 东南亚\\",\\n\\"answer\\": \\"C\\",\\n\\"analysis\\": \\"郑和船队曾抵达阿拉伯半岛和非洲东海岸，创世界航海史壮举‌\\"\\n},\\n{\\n\\"question\\": \\"奠定三国鼎立局面的著名战役是？\\\\nA. 官渡之战\\\\nB. 赤壁之战\\\\nC. 淝水之战\\\\nD. 巨鹿之战\\",\\n\\"answer\\": \\"B\\",\\n\\"analysis\\": \\"208年孙刘联军火攻破曹的赤壁之战，阻止曹操统一，形成三国格局‌\\"\\n}\\n],\\n\\"数学\\": [\\n{\\n\\"question\\": \\"若一次函数y=kx+b经过点(2,5)和(4,11)，则k的值为？\\\\nA. 2\\\\nB. 3\\\\nC. 4\\\\nD. 5\\",\\n\\"answer\\": \\"B\\",\\n\\"analysis\\": \\"利用斜率公式计算：k=(11-5)/(4-2)=6/2=3‌\\"\\n},\\n{\\n\\"question\\": \\"直角三角形两直角边分别为3cm和4cm，则斜边长为？\\\\nA. 5cm\\\\nB. 6cm\\\\nC. 7cm\\\\nD. 8cm\\",\\n\\"answer\\": \\"A\\",\\n\\"analysis\\": \\"根据勾股定理：√(3²+4²)=5cm‌\\"\\n},\\n{\\n\\"question\\": \\"抛一枚均匀硬币两次，恰好一次正面朝上的概率是？\\\\nA. 1/4\\\\nB. 1/2\\\\nC. 3/4\\\\nD. 1/3\\",\\n\\"answer\\": \\"B\\",\\n\\"analysis\\": \\"所有可能结果：{正正,正反,反正,反反}，符合条件的有2种，概率为2/4=1/2‌\\"\\n},\\n{\\n\\"question\\": \\"等腰三角形底角为50°，则顶角度数是？\\\\nA. 60°\\\\nB. 70°\\\\nC. 80°\\\\nD. 90°\\",\\n\\"answer\\": \\"C\\",\\n\\"analysis\\": \\"三角形内角和180°，顶角=180-2×50=80°‌\\"\\n},\\n{\\n\\"question\\": \\"若x²-5x+6=0，则方程的解集是？\\\\nA. {2,3}\\\\nB. {-2,3}\\\\nC. {2,-3}\\\\nD. {1,6}\\",\\n\\"answer\\": \\"A\\",\\n\\"analysis\\": \\"因式分解得(x-2)(x-3)=0，解得x=2或3‌\\"\\n},\\n{\\n\\"question\\": \\"圆的半径为3cm，其面积是？（π取3.14）\\\\nA. 9.42cm²\\\\nB. 18.84cm²\\\\nC. 28.26cm²\\\\nD. 37.68cm²\\",\\n\\"answer\\": \\"C\\",\\n\\"analysis\\": \\"面积公式S=πr²=3.14×3²=28.26cm²‌\\"\\n},\\n{\\n\\"question\\": \\"某班40名学生，60%喜欢篮球，30%同时喜欢篮球和足球，则只喜欢篮球的人数是？\\\\nA. 12\\\\nB. 16\\\\nC. 20\\\\nD. 24\\",\\n\\"answer\\": \\"A\\",\\n\\"analysis\\": \\"总喜欢篮球人数40×60%=24人，只喜欢篮球人数=24-40×30%=24-12=12‌\\"\\n},\\n{\\n\\"question\\": \\"下列哪组数能构成三角形的三边？\\\\nA. 3,4,5\\\\nB. 2,2,5\\\\nC. 1,1,3\\\\nD. 4,5,10\\",\\n\\"answer\\": \\"A\\",\\n\\"analysis\\": \\"三角形两边之和大于第三边，仅选项A满足3+4>5，且4+5>3，3+5>4‌\\"\\n},\\n{\\n\\"question\\": \\"若a:b=3:4，且b=12，则a的值为？\\\\nA. 9\\\\nB. 12\\\\nC. 15\\\\nD. 16\\",\\n\\"answer\\": \\"A\\",\\n\\"analysis\\": \\"根据比例关系：3/4=a/12 → a=(3×12)/4=9‌\\"\\n},\\n{\\n\\"question\\": \\"正方体的棱长扩大为原来的2倍，体积变为原来的多少倍？\\\\nA. 2倍\\\\nB. 4倍\\\\nC. 6倍\\\\nD. 8倍\\",\\n\\"answer\\": \\"D\\",\\n\\"analysis\\": \\"体积与棱长立方成正比，2³=8倍‌\\"\\n}\\n],\\n\\"英语\\": [\\n{\\n\\"question\\": \\"— Have you ever ______ to Paris? \\\\n— No, but I plan to visit it next year.\\\\nA. been\\\\nB. gone\\\\nC. went\\\\nD. being\\",\\n\\"answer\\": \\"A\\",\\n\\"analysis\\": \\"现在完成时结构为have/has + 过去分词，且表示经历用been代替gone‌\\"\\n},\\n{\\n\\"question\\": \\"She is interested ______ learning Spanish.\\\\nA. at\\\\nB. in\\\\nC. on\\\\nD. with\\",\\n\\"answer\\": \\"B\\",\\n\\"analysis\\": \\"固定搭配be interested in doing sth，表示\\\\\\"对...感兴趣\\\\\\"\\"\\n},\\n{\\n\\"question\\": \\"______ useful book you lent me yesterday!\\\\nA. What a\\\\nB. What an\\\\nC. How a\\\\nD. How\\",\\n\\"answer\\": \\"A\\",\\n\\"analysis\\": \\"感叹句结构：What + (a/an) + adj + n，useful以辅音音素开头用a‌\\"\\n},\\n{\\n\\"question\\": \\"The Yangtze River is ______ river in Asia.\\\\nA. long\\\\nB. longer\\\\nC. longest\\\\nD. the longest\\",\\n\\"answer\\": \\"D\\",\\n\\"analysis\\": \\"三者及以上比较用最高级，形容词最高级前需加定冠词the‌\\"\\n},\\n{\\n\\"question\\": \\"You ______ cross the road when the red light is on.\\\\nA. must\\\\nB. mustn''t\\\\nC. needn''t\\\\nD. may\\",\\n\\"answer\\": \\"B\\",\\n\\"analysis\\": \\"mustn''t表示禁止，符合交通规则语境‌\\"\\n},\\n{\\n\\"question\\": \\"While I ______ TV, the phone rang.\\\\nA. watched\\\\nB. was watching\\\\nC. am watching\\\\nD. watch\\",\\n\\"answer\\": \\"B\\",\\n\\"analysis\\": \\"过去进行时表示过去某个时刻正在进行的动作，结构为was/were + doing‌\\"\\n},\\n{\\n\\"question\\": \\"There is ______ with my computer. It won''t turn on.\\\\nA. wrong something\\\\nB. something wrong\\\\nC. anything wrong\\\\nD. wrong anything\\",\\n\\"answer\\": \\"B\\",\\n\\"analysis\\": \\"复合不定代词+形容词作后置定语，肯定句用something‌\\"\\n},\\n{\\n\\"question\\": \\"The new bridge ______ last month.\\\\nA. completes\\\\nB. completed\\\\nC. was completed\\\\nD. has completed\\",\\n\\"answer\\": \\"C\\",\\n\\"analysis\\": \\"被动语态结构：be + 过去分词，时间状语last month表明过去时‌\\"\\n},\\n{\\n\\"question\\": \\"Could you tell me ______?\\\\nA. where is the library\\\\nB. where the library is\\\\nC. the library is where\\\\nD. where the library\\",\\n\\"answer\\": \\"B\\",\\n\\"analysis\\": \\"宾语从句需用陈述语序，排除疑问句式选项A‌\\"\\n},\\n{\\n\\"question\\": \\"It''s important ______ breakfast every day.\\\\nA. have\\\\nB. has\\\\nC. to have\\\\nD. having\\",\\n\\"answer\\": \\"C\\",\\n\\"analysis\\": \\"It''s + adj + to do sth固定句型，不定式作真正主语‌\\"\\n}\\n]\\n}"},"outputs":[{"id":"36daa07c-9275-4992-aacc-9f132474b4f8","name":"output","nameErrMsg":"","schema":{"type":"string"}}],"references":[{"label":"开始","value":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","children":[{"label":"","value":"","references":[{"id":"9b84dc65-1134-4bf8-b1dc-670f72906a90","originId":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":917,"id":"text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed","position":{"x":-1765.9979933548516,"y":122.54595260415414},"positionAbsolute":{"x":-1765.9979933548516,"y":122.54595260415414},"selected":false,"type":"文本拼接","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"id":"1b92fdfb-5838-4eb5-a51d-a9422475c1ea","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"36daa07c-9275-4992-aacc-9f132474b4f8","nodeId":"text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed","name":"output"},"contentErrMsg":"","type":"ref"}}}],"label":"获取题目类型","labelEdit":false,"nodeMeta":{"aliasName":"代码","nodeType":"工具"},"nodeParam":{"uid":"0","code":"import json\\ndef main(input):\\n    # 解析JSON数据\\n    data = json.loads(input)\\n\\n    # 提取分类键（直接获取字典的key）\\n    classifications = list(data.keys())\\n\\n    str_output = '', ''.join(classifications)\\n    ret = {\\n        \\"classifications\\": str_output\\n    }\\n    return ret","appId":"12a0a7e2","codeErrMsg":""},"outputs":[{"id":"2f297eae-5b6b-446e-b542-bb855723ca0e","name":"classifications","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"题库","value":"text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed","children":[{"label":"","value":"","references":[{"id":"36daa07c-9275-4992-aacc-9f132474b4f8","originId":"text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","children":[{"label":"","value":"","references":[{"id":"9b84dc65-1134-4bf8-b1dc-670f72906a90","originId":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":785,"id":"ifly-code::70f668a6-9ab6-478d-a954-33cde6d913a8","position":{"x":-979.452049073556,"y":200.5951615268647},"positionAbsolute":{"x":-979.452049073556,"y":200.5951615268647},"selected":false,"type":"代码","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"id":"a7313c87-c2db-4328-8d1c-a1f4a805d627","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"9b84dc65-1134-4bf8-b1dc-670f72906a90","nodeId":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"067a76a4-3810-4ae3-8b73-04a7ffec66df","name":"classifications","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"2f297eae-5b6b-446e-b542-bb855723ca0e","nodeId":"ifly-code::70f668a6-9ab6-478d-a954-33cde6d913a8","name":"classifications"},"contentErrMsg":"","type":"ref"}}}],"label":"规范用户输入","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"你是一个语义大师，请你理解用户输入的语义，提炼出题目类型和题目数量，然后按照以下格式返回。\\n返回格式:\\n[\\n{\\n\\"题目类型\\": \\"天文\\",\\n\\"题目数量\\": 3\\n},\\n{\\n\\"题目类型\\": \\"地理\\",\\n\\"题目数量\\": 5\\n}\\n]\\n题目类型:严格规定为{{classifications}}中所列举的值，如果是其他值，则不需要返回。\\n题目数量:一般为数字，数量。\\n如果用户输入中涉及每一类或者每一种，每种等意图，则根据{{classifications}}中所列举的值，返回对应的结果。\\n用户的输入:{{input}}","enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"回答的tokens的最大长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"从k个中随机选择一个(非等概率)","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"auditing":"default","url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"4.0Ultra","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm4","respFormat":2},"outputs":[{"id":"66cf6151-032d-4f43-90f3-896488bb8e6c","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"获取题目类型","value":"ifly-code::70f668a6-9ab6-478d-a954-33cde6d913a8","children":[{"label":"","value":"","references":[{"id":"2f297eae-5b6b-446e-b542-bb855723ca0e","originId":"ifly-code::70f668a6-9ab6-478d-a954-33cde6d913a8","label":"classifications","value":"classifications","type":"string","fileType":""}]}],"parentNode":true},{"label":"题库","value":"text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed","children":[{"label":"","value":"","references":[{"id":"36daa07c-9275-4992-aacc-9f132474b4f8","originId":"text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","children":[{"label":"","value":"","references":[{"id":"9b84dc65-1134-4bf8-b1dc-670f72906a90","originId":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true},{"label":"用户意图理解","value":"spark-llm::89851ad8-a2e4-443c-bfcf-fe0c713fdb86","children":[{"label":"","value":"","references":[{"id":"0789070a-f3ee-4d76-a647-0a2a01ad9c50","originId":"spark-llm::89851ad8-a2e4-443c-bfcf-fe0c713fdb86","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":938,"id":"spark-llm::58c2ebf3-4fdd-4947-b5f4-32753c95bd9a","position":{"x":1522.9149314402034,"y":-782.138314110632},"positionAbsolute":{"x":1522.9149314402034,"y":-782.138314110632},"selected":false,"type":"大模型","width":687},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"id":"bdbc29c5-ed13-4edd-85d0-bed74b4ab20b","name":"question","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"66cf6151-032d-4f43-90f3-896488bb8e6c","nodeId":"spark-llm::58c2ebf3-4fdd-4947-b5f4-32753c95bd9a","name":"output"},"contentErrMsg":"","type":"ref"}}},{"id":"d3a07200-01d1-461b-8557-9ea3da863808","name":"group","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"36daa07c-9275-4992-aacc-9f132474b4f8","nodeId":"text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed","name":"output"},"contentErrMsg":"","type":"ref"}}}],"label":"抽题","labelEdit":false,"nodeMeta":{"aliasName":"代码","nodeType":"工具"},"nodeParam":{"uid":"0","code":"import json\\nimport random\\ndef main(question,group):\\n    user_input = json.loads(question)\\n    question_bank = json.loads(group)\\n\\n    result = []\\n\\n    for req in user_input:\\n        subject = req[\\"题目类型\\"]\\n        req_num = req[\\"题目数量\\"]\\n\\n        # 跳过不存在的科目类型\\n        if subject not in question_bank:\\n            continue\\n\\n        # 获取题库列表并计算实际抽题数量\\n        pool = question_bank[subject]\\n        actual_num = min(req_num, len(pool))\\n\\n        # 执行随机抽样\\n        selected_questions = random.sample(pool, actual_num)\\n\\n        # 构建返回结构\\n        result.append({\\n            \\"题目类型\\": subject,\\n            \\"题目列表\\": selected_questions\\n        })\\n\\n\\n    \\n    result_str = json.dumps(result, ensure_ascii=False, indent=2)\\n    if result_str == \\"[]\\":\\n        result_str = \\"题库中没有此类型题目。\\"\\n    else :\\n        output = []\\n        question_count = 1\\n\\n        for category in result:\\n            q_type = category[\\"题目类型\\"]\\n            for question in category[\\"题目列表\\"]:\\n                # 组装题目信息\\n                block = [\\n                    f\\"{question_count}.题目类型：{q_type}\\", \\n                    f\\"问题：{question[''question'']}\\",\\n                    f\\"答案：{question[''answer'']}\\",\\n                    f\\"分析：{question[''analysis'']}\\",\\n                    \\"\\"  # 用于添加空行分隔\\n                ]\\n                output.append(\\"\\\\n\\".join(block))\\n                question_count += 1\\n        # 移除最后一个多余的空行\\n        result_str = \\"\\\\n\\".join(output).strip()\\n\\n\\n\\n\\n\\n    ret = {\\n        \\"result\\": result_str\\n    }\\n    return ret","appId":"12a0a7e2","codeErrMsg":""},"outputs":[{"id":"ba8678a5-476a-4d8c-8c4e-dc5f945e4eef","name":"result","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"规范用户输入","value":"spark-llm::58c2ebf3-4fdd-4947-b5f4-32753c95bd9a","children":[{"label":"","value":"","references":[{"id":"66cf6151-032d-4f43-90f3-896488bb8e6c","originId":"spark-llm::58c2ebf3-4fdd-4947-b5f4-32753c95bd9a","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"获取题目类型","value":"ifly-code::70f668a6-9ab6-478d-a954-33cde6d913a8","children":[{"label":"","value":"","references":[{"id":"2f297eae-5b6b-446e-b542-bb855723ca0e","originId":"ifly-code::70f668a6-9ab6-478d-a954-33cde6d913a8","label":"classifications","value":"classifications","type":"string","fileType":""}]}],"parentNode":true},{"label":"题库","value":"text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed","children":[{"label":"","value":"","references":[{"id":"36daa07c-9275-4992-aacc-9f132474b4f8","originId":"text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","children":[{"label":"","value":"","references":[{"id":"9b84dc65-1134-4bf8-b1dc-670f72906a90","originId":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true},{"label":"用户意图理解","value":"spark-llm::89851ad8-a2e4-443c-bfcf-fe0c713fdb86","children":[{"label":"","value":"","references":[{"id":"0789070a-f3ee-4d76-a647-0a2a01ad9c50","originId":"spark-llm::89851ad8-a2e4-443c-bfcf-fe0c713fdb86","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":833,"id":"ifly-code::ea199055-7a86-4735-882e-86c22794d701","position":{"x":3747.850002622065,"y":-623.4674878401918},"positionAbsolute":{"x":3747.850002622065,"y":-623.4674878401918},"selected":false,"type":"代码","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"id":"6f1a33b0-9203-4375-a84a-02b229c6397a","name":"question","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"9b84dc65-1134-4bf8-b1dc-670f72906a90","nodeId":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"487fb7d1-ff8d-47ea-accf-145dc3b5a02f","name":"group","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"2f297eae-5b6b-446e-b542-bb855723ca0e","nodeId":"ifly-code::70f668a6-9ab6-478d-a954-33cde6d913a8","name":"classifications"},"contentErrMsg":"","type":"ref"}}}],"label":"规整用户说法","labelEdit":false,"nodeMeta":{"aliasName":"代码","nodeType":"工具"},"nodeParam":{"uid":"0","code":"import json\\nimport re\\ndef main(question,group):\\n    result_str = \\"\\"\\n    question_num = 0\\n    # 提取数字\\n    digits = ''''.join(re.findall(r''\\\\d'', question))\\n    if not digits:\\n        units = {''十'': 10, ''百'': 100, ''千'': 1000}\\n        digits = {''一'': 1, ''二'': 2, ''三'': 3, ''四'': 4, ''五'': 5, ''六'': 6, ''七'': 7, ''八'': 8, ''九'': 9}\\n\\n        total = 0\\n        current = 0\\n        for char in question:\\n            if char in digits:\\n                current = digits[char]\\n            elif char in units:\\n                total += current * units[char]\\n                current = 0\\n        question_num =  total + current\\n\\n    else:\\n        question_num = int(digits)\\n    if question_num:\\n        # 解析分类\\n        try:\\n            categories = [c.strip() for c in group.split('', '')]\\n            # 生成结构\\n            query = [\\n                {\\"题目类型\\": category, \\"题目数量\\": question_num}\\n                for category in categories\\n            ]\\n            result_str = json.dumps(query, indent=2, ensure_ascii=False)\\n        except (json.JSONDecodeError, KeyError):\\n            result_str = \\"\\"\\n \\n    ret = {\\n        \\"result\\": result_str\\n    }\\n    return ret","appId":"12a0a7e2","codeErrMsg":""},"outputs":[{"id":"ba8678a5-476a-4d8c-8c4e-dc5f945e4eef","name":"result","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"获取题目类型","value":"ifly-code::70f668a6-9ab6-478d-a954-33cde6d913a8","children":[{"label":"","value":"","references":[{"id":"2f297eae-5b6b-446e-b542-bb855723ca0e","originId":"ifly-code::70f668a6-9ab6-478d-a954-33cde6d913a8","label":"classifications","value":"classifications","type":"string","fileType":""}]}],"parentNode":true},{"label":"题库","value":"text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed","children":[{"label":"","value":"","references":[{"id":"36daa07c-9275-4992-aacc-9f132474b4f8","originId":"text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","children":[{"label":"","value":"","references":[{"id":"9b84dc65-1134-4bf8-b1dc-670f72906a90","originId":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true},{"label":"用户意图理解","value":"spark-llm::89851ad8-a2e4-443c-bfcf-fe0c713fdb86","children":[{"label":"","value":"","references":[{"id":"0789070a-f3ee-4d76-a647-0a2a01ad9c50","originId":"spark-llm::89851ad8-a2e4-443c-bfcf-fe0c713fdb86","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":793,"id":"ifly-code::c9068fa7-905c-4b57-8167-f5757f3eacb6","position":{"x":1556.9010789560718,"y":250.0767081808482},"positionAbsolute":{"x":1556.9010789560718,"y":250.0767081808482},"selected":false,"type":"代码","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"将定义过的变量用{{变量名}}的方式引用，节点会按照拼接规则输出内容","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/text-splicing-icon.png","inputs":[{"id":"7f48df1d-c30f-4db6-a217-96e26a35fa8f","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"2f297eae-5b6b-446e-b542-bb855723ca0e","nodeId":"ifly-code::70f668a6-9ab6-478d-a954-33cde6d913a8","name":"classifications"},"contentErrMsg":"","type":"ref"}}}],"label":"兜底回复","labelEdit":false,"nodeMeta":{"aliasName":"文本拼接","nodeType":"工具"},"nodeParam":{"uid":"0","appId":"12a0a7e2","prompt":"您没有明确指明题目类型，请告诉我需要抽取的题目类型以及题目数量，例如“帮我出3道语文题”。当前题库中所有的题目类型为:{{input}}"},"outputs":[{"id":"9fc73d90-79ef-401f-a28b-38eb7949e264","name":"output","nameErrMsg":"","schema":{"type":"string"}}],"references":[{"label":"获取题目类型","value":"ifly-code::70f668a6-9ab6-478d-a954-33cde6d913a8","children":[{"label":"","value":"","references":[{"id":"2f297eae-5b6b-446e-b542-bb855723ca0e","originId":"ifly-code::70f668a6-9ab6-478d-a954-33cde6d913a8","label":"classifications","value":"classifications","type":"string","fileType":""}]}],"parentNode":true},{"label":"题库","value":"text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed","children":[{"label":"","value":"","references":[{"id":"36daa07c-9275-4992-aacc-9f132474b4f8","originId":"text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","children":[{"label":"","value":"","references":[{"id":"9b84dc65-1134-4bf8-b1dc-670f72906a90","originId":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true},{"label":"规整用户说法","value":"ifly-code::c9068fa7-905c-4b57-8167-f5757f3eacb6","children":[{"label":"","value":"","references":[{"id":"ba8678a5-476a-4d8c-8c4e-dc5f945e4eef","originId":"ifly-code::c9068fa7-905c-4b57-8167-f5757f3eacb6","label":"result","value":"result","type":"string","fileType":""}]}],"parentNode":true},{"label":"用户意图理解","value":"spark-llm::89851ad8-a2e4-443c-bfcf-fe0c713fdb86","children":[{"label":"","value":"","references":[{"id":"0789070a-f3ee-4d76-a647-0a2a01ad9c50","originId":"spark-llm::89851ad8-a2e4-443c-bfcf-fe0c713fdb86","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":517,"id":"text-joiner::df133263-7e60-436e-bd12-c044941952ad","position":{"x":3781.573866085315,"y":1155.0078108428697},"positionAbsolute":{"x":3781.573866085315,"y":1155.0078108428697},"selected":false,"type":"文本拼接","width":587},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"根据设立的条件，判断选择分支走向","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/if-else-node-icon.png","inputs":[{"id":"baa48333-c943-49e8-9a4a-dfce6030cd2a","name":"inputfc49d3bb460740539890039b68247867","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"ba8678a5-476a-4d8c-8c4e-dc5f945e4eef","nodeId":"ifly-code::c9068fa7-905c-4b57-8167-f5757f3eacb6","name":"result"},"contentErrMsg":"","type":"ref"}}},{"id":"24306367-98f6-44df-8888-d6c4f152f868","name":"input9095182ee9a94556aa01be4a40e87d6f","nameErrMsg":"","schema":{"type":"string","value":{"content":"","contentErrMsg":"","type":"literal"}}},{"id":"0eb27603-2fa6-4e73-b5a7-7975944de133","name":"inpute61ec6d128174527aa5f24a5b256bbf1","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"ba8678a5-476a-4d8c-8c4e-dc5f945e4eef","nodeId":"ifly-code::c9068fa7-905c-4b57-8167-f5757f3eacb6","name":"result"},"contentErrMsg":"","type":"ref"}}},{"id":"3f1f6cb2-988f-46ee-a209-29e4a1978264","name":"inputed5a534591d14743a448cf34a9dc497d","nameErrMsg":"","schema":{"type":"string","value":{"content":"","contentErrMsg":"","type":"literal"}}}],"label":"分支器_1","labelEdit":false,"nodeMeta":{"aliasName":"分支器","nodeType":"分支器"},"nodeParam":{"uid":"0","cases":[{"level":1,"logicalOperator":"or","id":"branch_one_of::7e3c5dff-6836-437b-95ed-b695a531d8b0","conditions":[{"id":"af89028d-6df7-4117-8880-819ee17492e9","leftVarIndex":"baa48333-c943-49e8-9a4a-dfce6030cd2a","rightVarIndex":"24306367-98f6-44df-8888-d6c4f152f868","compareOperator":"empty","compareOperatorErrMsg":""},{"id":"f2fd796b-7d81-4ab1-ac7c-f675d457efe4","leftVarIndex":"0eb27603-2fa6-4e73-b5a7-7975944de133","rightVarIndex":"3f1f6cb2-988f-46ee-a209-29e4a1978264","compareOperator":"null","compareOperatorErrMsg":""}]},{"level":999,"logicalOperator":"and","id":"branch_one_of::15f8e4fb-1d66-4fee-8e0d-5dbcd067653b","conditions":[]}],"appId":"12a0a7e2"},"outputs":[],"references":[{"label":"规整用户说法","value":"ifly-code::c9068fa7-905c-4b57-8167-f5757f3eacb6","children":[{"label":"","value":"","references":[{"id":"ba8678a5-476a-4d8c-8c4e-dc5f945e4eef","originId":"ifly-code::c9068fa7-905c-4b57-8167-f5757f3eacb6","label":"result","value":"result","type":"string","fileType":""}]}],"parentNode":true},{"label":"获取题目类型","value":"ifly-code::70f668a6-9ab6-478d-a954-33cde6d913a8","children":[{"label":"","value":"","references":[{"id":"2f297eae-5b6b-446e-b542-bb855723ca0e","originId":"ifly-code::70f668a6-9ab6-478d-a954-33cde6d913a8","label":"classifications","value":"classifications","type":"string","fileType":""}]}],"parentNode":true},{"label":"题库","value":"text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed","children":[{"label":"","value":"","references":[{"id":"36daa07c-9275-4992-aacc-9f132474b4f8","originId":"text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","children":[{"label":"","value":"","references":[{"id":"9b84dc65-1134-4bf8-b1dc-670f72906a90","originId":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true},{"label":"用户意图理解","value":"spark-llm::89851ad8-a2e4-443c-bfcf-fe0c713fdb86","children":[{"label":"","value":"","references":[{"id":"0789070a-f3ee-4d76-a647-0a2a01ad9c50","originId":"spark-llm::89851ad8-a2e4-443c-bfcf-fe0c713fdb86","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":410,"id":"if-else::73b6247d-da70-4900-be83-119c40317b46","position":{"x":2242.361787451401,"y":461.9034836630104},"positionAbsolute":{"x":2242.361787451401,"y":461.9034836630104},"selected":false,"type":"分支器","width":684},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"id":"06669551-dc87-47b3-a1a9-b25a617c0f45","name":"question","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"ba8678a5-476a-4d8c-8c4e-dc5f945e4eef","nodeId":"ifly-code::c9068fa7-905c-4b57-8167-f5757f3eacb6","name":"result"},"contentErrMsg":"","type":"ref"}}},{"id":"1055d985-4c59-48be-abed-f4ed9964dbea","name":"group","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"36daa07c-9275-4992-aacc-9f132474b4f8","nodeId":"text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed","name":"output"},"contentErrMsg":"","type":"ref"}}}],"label":"抽题_1","labelEdit":false,"nodeMeta":{"aliasName":"代码","nodeType":"工具"},"nodeParam":{"uid":"0","code":"import json\\nimport random\\ndef main(question,group):\\n    user_input = json.loads(question)\\n    question_bank = json.loads(group)\\n\\n    result = []\\n\\n    for req in user_input:\\n        subject = req[\\"题目类型\\"]\\n        req_num = req[\\"题目数量\\"]\\n\\n        # 跳过不存在的科目类型\\n        if subject not in question_bank:\\n            continue\\n\\n        # 获取题库列表并计算实际抽题数量\\n        pool = question_bank[subject]\\n        actual_num = min(req_num, len(pool))\\n\\n        # 执行随机抽样\\n        selected_questions = random.sample(pool, actual_num)\\n\\n        # 构建返回结构\\n        result.append({\\n            \\"题目类型\\": subject,\\n            \\"题目列表\\": selected_questions\\n        })\\n\\n    result_str = json.dumps(result, ensure_ascii=False, indent=2)\\n    if result_str == \\"[]\\":\\n        result_str = \\"题库中没有此类型题目。\\"\\n    else :\\n        output = []\\n        question_count = 1\\n\\n        for category in result:\\n            q_type = category[\\"题目类型\\"]\\n            for question in category[\\"题目列表\\"]:\\n                # 组装题目信息\\n                block = [\\n                    f\\"{question_count}.题目类型：{q_type}\\",                    \\n                    f\\"问题：{question[''question'']}\\",\\n                    f\\"答案：{question[''answer'']}\\",\\n                    f\\"分析：{question[''analysis'']}\\",\\n                    \\"\\"  # 用于添加空行分隔\\n                ]\\n                output.append(\\"\\\\n\\".join(block))\\n                question_count += 1\\n        # 移除最后一个多余的空行\\n        result_str = \\"\\\\n\\".join(output).strip()\\n\\n    ret = {\\n        \\"result\\": result_str\\n    }\\n    return ret","appId":"12a0a7e2","codeErrMsg":""},"outputs":[{"id":"ba8678a5-476a-4d8c-8c4e-dc5f945e4eef","name":"result","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"规整用户说法","value":"ifly-code::c9068fa7-905c-4b57-8167-f5757f3eacb6","children":[{"label":"","value":"","references":[{"id":"ba8678a5-476a-4d8c-8c4e-dc5f945e4eef","originId":"ifly-code::c9068fa7-905c-4b57-8167-f5757f3eacb6","label":"result","value":"result","type":"string","fileType":""}]}],"parentNode":true},{"label":"获取题目类型","value":"ifly-code::70f668a6-9ab6-478d-a954-33cde6d913a8","children":[{"label":"","value":"","references":[{"id":"2f297eae-5b6b-446e-b542-bb855723ca0e","originId":"ifly-code::70f668a6-9ab6-478d-a954-33cde6d913a8","label":"classifications","value":"classifications","type":"string","fileType":""}]}],"parentNode":true},{"label":"题库","value":"text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed","children":[{"label":"","value":"","references":[{"id":"36daa07c-9275-4992-aacc-9f132474b4f8","originId":"text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","children":[{"label":"","value":"","references":[{"id":"9b84dc65-1134-4bf8-b1dc-670f72906a90","originId":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true},{"label":"用户意图理解","value":"spark-llm::89851ad8-a2e4-443c-bfcf-fe0c713fdb86","children":[{"label":"","value":"","references":[{"id":"0789070a-f3ee-4d76-a647-0a2a01ad9c50","originId":"spark-llm::89851ad8-a2e4-443c-bfcf-fe0c713fdb86","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":793,"id":"ifly-code::dc58ea48-1990-4766-848d-5bd149249191","position":{"x":3781.573778892236,"y":318.88217586621664},"positionAbsolute":{"x":3781.573778892236,"y":318.88217586621664},"selected":false,"type":"代码","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"id":"411c5a07-8967-4aeb-b27e-de534e88f4b5","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"9b84dc65-1134-4bf8-b1dc-670f72906a90","nodeId":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"9d8685c9-44bc-467b-9cc1-9c698d17160e","name":"classifications","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"2f297eae-5b6b-446e-b542-bb855723ca0e","nodeId":"ifly-code::70f668a6-9ab6-478d-a954-33cde6d913a8","name":"classifications"},"contentErrMsg":"","type":"ref"}}}],"label":"用户意图理解","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"你是一个意图识别的助手，请根据{{Query}}的意图进行分类。\\n1.如果用户的输入中的包含题目类型列举的关键词，则返回1\\n2.如果用户的输入中的题目类型为每一类，每一种，每种等表达全部，所有的意图时，返回2\\n3.如果用户的输入中包含多个题目类型列举的关键词，则返回1\\n4.如果以上均不是，则返回3\\n用户输入为:{{input}}\\n题目类型为:{{classifications}}\\n要求：请严格按照规定的值返回，不要发散，不要增加其他任何内容，输出结果仅返回1或者2或者3，不需要返回解释内容\\n\\n#输入输出示例说明：\\n示例1：\\n输入：帮我出1道英语题\\n输出：1\\n\\n示例2：\\n输入：帮我出1道英语题,2道数学题\\n输出：1\\n\\n示例3：\\n输入：帮我出1道英语题,2道天文题\\n输出：1\\n\\n示例4：\\n输入：帮我出2道天文题\\n输出：3\\n\\n示例5：\\n输入：每种类型都出2道题\\n输出：2\\n\\n示例6：\\n输入：随便出1道题\\n输出：3\\n\\n示例7：\\n输入：每种类型都出2道题\\n输出：3\\n\\n\\n\\n\\n","enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"回答的tokens的最大长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"从k个中随机选择一个(非等概率)","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"auditing":"default","url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"4.0Ultra","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm4","respFormat":0},"outputs":[{"id":"0789070a-f3ee-4d76-a647-0a2a01ad9c50","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"获取题目类型","value":"ifly-code::70f668a6-9ab6-478d-a954-33cde6d913a8","children":[{"label":"","value":"","references":[{"id":"2f297eae-5b6b-446e-b542-bb855723ca0e","originId":"ifly-code::70f668a6-9ab6-478d-a954-33cde6d913a8","label":"classifications","value":"classifications","type":"string","fileType":""}]}],"parentNode":true},{"label":"题库","value":"text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed","children":[{"label":"","value":"","references":[{"id":"36daa07c-9275-4992-aacc-9f132474b4f8","originId":"text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","children":[{"label":"","value":"","references":[{"id":"9b84dc65-1134-4bf8-b1dc-670f72906a90","originId":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":1044,"id":"spark-llm::89851ad8-a2e4-443c-bfcf-fe0c713fdb86","position":{"x":-208.22332637798866,"y":106.5802228842961},"positionAbsolute":{"x":-208.22332637798866,"y":106.5802228842961},"selected":false,"type":"大模型","width":687},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"根据设立的条件，判断选择分支走向","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/if-else-node-icon.png","inputs":[{"id":"0a5482a1-e4f9-46fc-8ec1-134b74c83334","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"0789070a-f3ee-4d76-a647-0a2a01ad9c50","nodeId":"spark-llm::89851ad8-a2e4-443c-bfcf-fe0c713fdb86","name":"output"},"contentErrMsg":"","type":"ref"}}},{"id":"56815391-c873-4cb0-b5d6-4f1ea86e0208","name":"input1","nameErrMsg":"","schema":{"type":"string","value":{"content":"1","contentErrMsg":"","type":"literal"}}},{"id":"b19441f6-68ac-412e-8048-cb00b12d08b8","name":"inputa71c415bce774f55b605578417f6e9bc","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"0789070a-f3ee-4d76-a647-0a2a01ad9c50","nodeId":"spark-llm::89851ad8-a2e4-443c-bfcf-fe0c713fdb86","name":"output"},"contentErrMsg":"","type":"ref"}}},{"id":"b8cca240-0b45-42ea-98b6-249b650a4392","name":"input5ce2039beaaf4badb3561c31cc3760ea","nameErrMsg":"","schema":{"type":"string","value":{"content":"2","contentErrMsg":"","type":"literal"}}},{"id":"694ddb96-20e7-4825-8547-f845a24c3913","name":"input4a6d828fe089498d920492fc4d8fc7d9","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"0789070a-f3ee-4d76-a647-0a2a01ad9c50","nodeId":"spark-llm::89851ad8-a2e4-443c-bfcf-fe0c713fdb86","name":"output"},"contentErrMsg":"","type":"ref"}}},{"id":"875b6c97-2ebd-496e-96ec-b2b8e4e10729","name":"input53d5574055f542f8a446ecae3eb58c17","nameErrMsg":"","schema":{"type":"string","value":{"content":"输出：1","contentErrMsg":"","type":"literal"}}},{"id":"ee9323aa-7ffe-4e7b-81a2-9f3f8d9fe285","name":"input3b20cfb645fc4b0baf09a22e03706783","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"0789070a-f3ee-4d76-a647-0a2a01ad9c50","nodeId":"spark-llm::89851ad8-a2e4-443c-bfcf-fe0c713fdb86","name":"output"},"contentErrMsg":"","type":"ref"}}},{"id":"99ab35a6-0262-4f60-95aa-7bb9a7a1c565","name":"inputb9880afca38647a3b44de1d342e36531","nameErrMsg":"","schema":{"type":"string","value":{"content":"输出：2","contentErrMsg":"","type":"literal"}}}],"label":"意图分类","labelEdit":false,"nodeMeta":{"aliasName":"分支器","nodeType":"分支器"},"nodeParam":{"uid":"0","cases":[{"level":1,"logicalOperator":"or","id":"branch_one_of::2db3e298-2822-4736-bfec-fd8942b0e715","conditions":[{"leftVarIndex":"0a5482a1-e4f9-46fc-8ec1-134b74c83334","rightVarIndex":"56815391-c873-4cb0-b5d6-4f1ea86e0208","id":"","compareOperator":"is","compareOperatorErrMsg":""},{"id":"5e3564d7-d5cc-49e7-ab4e-107a551cd923","leftVarIndex":"694ddb96-20e7-4825-8547-f845a24c3913","rightVarIndex":"875b6c97-2ebd-496e-96ec-b2b8e4e10729","compareOperator":"is","compareOperatorErrMsg":""}]},{"id":"branch_one_of::93ccf247-ef92-4bed-9d04-5fe6a0137bcd","level":2,"logicalOperator":"or","conditions":[{"id":"f9999688-04e3-4a2f-924e-c5a5e4f9f4c5","leftVarIndex":"b19441f6-68ac-412e-8048-cb00b12d08b8","rightVarIndex":"b8cca240-0b45-42ea-98b6-249b650a4392","compareOperator":"is","compareOperatorErrMsg":""},{"id":"23b5f33f-951f-431f-a8e9-798d9fa7fc32","leftVarIndex":"ee9323aa-7ffe-4e7b-81a2-9f3f8d9fe285","rightVarIndex":"99ab35a6-0262-4f60-95aa-7bb9a7a1c565","compareOperator":"is","compareOperatorErrMsg":""}]},{"level":999,"logicalOperator":"and","id":"branch_one_of::ac47bc0f-618c-49d8-828d-2a94ebcbbd33","conditions":[]}],"appId":"12a0a7e2"},"outputs":[],"references":[{"label":"用户意图理解","value":"spark-llm::89851ad8-a2e4-443c-bfcf-fe0c713fdb86","children":[{"label":"","value":"","references":[{"id":"0789070a-f3ee-4d76-a647-0a2a01ad9c50","originId":"spark-llm::89851ad8-a2e4-443c-bfcf-fe0c713fdb86","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"获取题目类型","value":"ifly-code::70f668a6-9ab6-478d-a954-33cde6d913a8","children":[{"label":"","value":"","references":[{"id":"2f297eae-5b6b-446e-b542-bb855723ca0e","originId":"ifly-code::70f668a6-9ab6-478d-a954-33cde6d913a8","label":"classifications","value":"classifications","type":"string","fileType":""}]}],"parentNode":true},{"label":"题库","value":"text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed","children":[{"label":"","value":"","references":[{"id":"36daa07c-9275-4992-aacc-9f132474b4f8","originId":"text-joiner::f0ae644b-3afc-426a-acdc-0f9c918203ed","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","children":[{"label":"","value":"","references":[{"id":"9b84dc65-1134-4bf8-b1dc-670f72906a90","originId":"node-start::d7e49e3f-cdf1-4efc-8304-a9d0d5389578","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":611,"id":"if-else::75c18000-0a9f-4e98-b425-6d48ebcfb1d9","position":{"x":661.968489625546,"y":233.582859296187},"positionAbsolute":{"x":661.968489625546,"y":233.582859296187},"selected":false,"type":"分支器","width":684}]}', 'https://bjcdn.openstorage.cn/xinghuo-privatedata/personality/1742376666771.jpg?width=204&height=204', '#FFEAD5', -1, 1, 0, 0, NULL, 0, NULL, 2, NULL, 1, NULL, '{"prologue":{"enabled":true,"inputExample":["帮我出1道历史题","每种类型都出1道题","帮我出3道历史题和1道英语题"]},"needGuide":false}', NULL, NULL, NULL);
INSERT INTO workflow (id, uid, app_id, flow_id, name, description, deleted, is_public, create_time, update_time, published_data, `data`, avatar_icon, avatar_color, status, can_publish, app_updatable, top, edge_type, `order`, eval_set_id, source, bak, editing, eval_page_first_time, advanced_config, ext, category, space_id) VALUES(67530, 10374628632, '12a0a7e2', '7304676066420002818', '图像分类测试', '123', 0, 0, '2025-03-10 09:34:48', '2025-06-30 16:11:00', NULL, '{"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始节点","nodeType":"基础节点"},"nodeParam":{},"outputs":[{"deleteDisabled":true,"id":"a4bef3bd-cc65-45de-8b08-014ea5cfa311","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}},{"allowedFileType":["image"],"customParameterType":"xfyun-file","fileType":"file","id":"3a75d2d6-eccb-4caa-8d22-056d7df01e20","name":"file","nameErrMsg":"","required":false,"schema":{"default":"","type":"string"}}],"status":"","updatable":false},"dragging":false,"height":273,"id":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","position":{"x":-600.9492441646842,"y":441.77404722672475},"positionAbsolute":{"x":-600.9492441646842,"y":441.77404722672475},"selected":false,"type":"开始节点","width":658},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"id":"29cd5a9e-d362-49ee-804b-4e91487d9525","name":"output1","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"05a0a92a-07eb-480b-a46d-4a8f4a21b246","nodeId":"text-joiner::c00a8c50-73bf-4c45-b91f-467c47850f11","name":"output"},"contentErrMsg":"","type":"ref"}}},{"id":"4a06ab61-ca55-4ab8-90d1-81cb783cddc1","name":"output2","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"05a0a92a-07eb-480b-a46d-4a8f4a21b246","nodeId":"text-joiner::cc78a6b3-ac9e-412f-825d-4c003c814d0f","name":"output"},"contentErrMsg":"","type":"ref"}}},{"id":"10acad74-65c7-4dbe-9012-b25fb30dec92","name":"output3","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"05a0a92a-07eb-480b-a46d-4a8f4a21b246","nodeId":"text-joiner::369b5947-d66b-4227-8c9b-8e5f8c185d81","name":"output"},"contentErrMsg":"","type":"ref"}}},{"id":"9bad700f-afeb-4951-a764-56354bae1ee4","name":"output4","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"05a0a92a-07eb-480b-a46d-4a8f4a21b246","nodeId":"text-joiner::f7576a53-acae-44ef-9b0e-19d623e6fa2b","name":"output"},"contentErrMsg":"","type":"ref"}}},{"id":"efde6427-544e-43bf-b38f-954eb1731f42","name":"output5","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"05a0a92a-07eb-480b-a46d-4a8f4a21b246","nodeId":"text-joiner::a7266e60-20b4-424d-9cb9-579b002fa41e","name":"output"},"contentErrMsg":"","type":"ref"}}},{"id":"e6cf5f3d-b7fa-45cd-9f3c-cd469bd1913e","name":"output6","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"05a0a92a-07eb-480b-a46d-4a8f4a21b246","nodeId":"text-joiner::fa7c0199-c3de-4f92-8627-ec48911cca45","name":"output"},"contentErrMsg":"","type":"ref"}}},{"id":"dff9260e-028d-42ac-ac6e-d66e71c40786","name":"output7","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"05a0a92a-07eb-480b-a46d-4a8f4a21b246","nodeId":"text-joiner::7631d255-6a91-401c-88bf-ee1c362eeb92","name":"output"},"contentErrMsg":"","type":"ref"}}},{"id":"42fc6bd5-b059-4714-9366-11ddaebc77e1","name":"output8","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"05a0a92a-07eb-480b-a46d-4a8f4a21b246","nodeId":"text-joiner::e8cb7845-ecd3-493e-91d7-9ede009df9fe","name":"output"},"contentErrMsg":"","type":"ref"}}},{"id":"3fefbbe1-820c-49e4-8cc1-22c035f6d4ca","name":"output9","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"05a0a92a-07eb-480b-a46d-4a8f4a21b246","nodeId":"text-joiner::a8056133-4c33-4401-bda8-fb2b1dc71589","name":"output"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束节点","nodeType":"基础节点"},"nodeParam":{"template":"{{output1}}{{output2}}{{output3}}{{output4}}{{output5}}{{output6}}{{output7}}{{output8}}{{output9}}","streamOutput":false,"templateErrMsg":"","outputMode":1},"outputs":[],"references":[{"label":"文本拼接_1","value":"text-joiner::c00a8c50-73bf-4c45-b91f-467c47850f11","children":[{"label":"","value":"","references":[{"id":"05a0a92a-07eb-480b-a46d-4a8f4a21b246","originId":"text-joiner::c00a8c50-73bf-4c45-b91f-467c47850f11","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"决策_1","value":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","children":[{"label":"","value":"","references":[{"id":"abd4fe39-fde6-4af5-992a-ceb915f6e930","originId":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","label":"class_name","value":"class_name","type":"string","fileType":""}]}],"parentNode":true},{"label":"文本拼接_6","value":"text-joiner::fa7c0199-c3de-4f92-8627-ec48911cca45","children":[{"label":"","value":"","references":[{"id":"05a0a92a-07eb-480b-a46d-4a8f4a21b246","originId":"text-joiner::fa7c0199-c3de-4f92-8627-ec48911cca45","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"文本拼接_7","value":"text-joiner::7631d255-6a91-401c-88bf-ee1c362eeb92","children":[{"label":"","value":"","references":[{"id":"05a0a92a-07eb-480b-a46d-4a8f4a21b246","originId":"text-joiner::7631d255-6a91-401c-88bf-ee1c362eeb92","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"文本拼接_8","value":"text-joiner::e8cb7845-ecd3-493e-91d7-9ede009df9fe","children":[{"label":"","value":"","references":[{"id":"05a0a92a-07eb-480b-a46d-4a8f4a21b246","originId":"text-joiner::e8cb7845-ecd3-493e-91d7-9ede009df9fe","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"文本拼接_9","value":"text-joiner::a8056133-4c33-4401-bda8-fb2b1dc71589","children":[{"label":"","value":"","references":[{"id":"05a0a92a-07eb-480b-a46d-4a8f4a21b246","originId":"text-joiner::a8056133-4c33-4401-bda8-fb2b1dc71589","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"文本拼接_2","value":"text-joiner::cc78a6b3-ac9e-412f-825d-4c003c814d0f","children":[{"label":"","value":"","references":[{"id":"05a0a92a-07eb-480b-a46d-4a8f4a21b246","originId":"text-joiner::cc78a6b3-ac9e-412f-825d-4c003c814d0f","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"文本拼接_3","value":"text-joiner::369b5947-d66b-4227-8c9b-8e5f8c185d81","children":[{"label":"","value":"","references":[{"id":"05a0a92a-07eb-480b-a46d-4a8f4a21b246","originId":"text-joiner::369b5947-d66b-4227-8c9b-8e5f8c185d81","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"文本拼接_4","value":"text-joiner::f7576a53-acae-44ef-9b0e-19d623e6fa2b","children":[{"label":"","value":"","references":[{"id":"05a0a92a-07eb-480b-a46d-4a8f4a21b246","originId":"text-joiner::f7576a53-acae-44ef-9b0e-19d623e6fa2b","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"负向分类筛选","value":"decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","children":[{"label":"","value":"","references":[{"id":"f83c490d-78e0-49f3-a6c2-4ce74929d264","originId":"decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","label":"class_name","value":"class_name","type":"string","fileType":""}]}],"parentNode":true},{"label":"通用OCR大模型_1","value":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","children":[{"label":"","value":"","references":[{"id":"c0873978-1663-4b83-9152-491341968a27","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"code","value":"code","type":"number","fileType":""},{"id":"00f36a3c-b10c-46fa-b985-ef7247f435d0","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"data","value":"data","type":"array-object","fileType":"","children":[{"id":"fbb440ae-1a98-4ba9-9415-6d75957e4acc","label":"file_index","value":"data.file_index","type":"number","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"d6c91842-caf3-42d7-8571-ab374b4259ef","label":"content","value":"data.content","type":"array-object","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":"","children":[{"id":"f6e85257-8e8a-49d5-8a45-3bca72a6e78b","label":"name","value":"data.content.name","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"b7b620c4-f447-4ea1-adc1-af3e89b44822","label":"value","value":"data.content.value","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"b84a01bb-4e08-436f-aed1-5eec3e76e959","label":"source_data","value":"data.content.source_data","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""}]}]},{"id":"04bea3b4-91ae-4982-8b77-b71a3afd5bb1","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"message","value":"message","type":"string","fileType":""}]}],"parentNode":true},{"label":"文本拼接_5","value":"text-joiner::a7266e60-20b4-424d-9cb9-579b002fa41e","children":[{"label":"","value":"","references":[{"id":"05a0a92a-07eb-480b-a46d-4a8f4a21b246","originId":"text-joiner::a7266e60-20b4-424d-9cb9-579b002fa41e","label":"output","value":"output","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","children":[{"label":"","value":"","references":[{"id":"a4bef3bd-cc65-45de-8b08-014ea5cfa311","originId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""},{"id":"3a75d2d6-eccb-4caa-8d22-056d7df01e20","originId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","label":"file","value":"file","type":"string","fileType":"image"}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":1001,"id":"node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","position":{"x":3772.4382536967664,"y":293.0984703699059},"positionAbsolute":{"x":3772.4382536967664,"y":293.0984703699059},"selected":false,"type":"结束节点","width":408},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"需要识别的ocr文件地址。当前支持图片和pdf","disabled":false,"id":"3eee7551-de15-4a4b-949b-5fba8e0c0000","name":"file_url","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"id":"3a75d2d6-eccb-4caa-8d22-056d7df01e20","nodeId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","name":"file"},"contentErrMsg":"","type":"ref"}}},{"description":"针对文档数据，指定识别的页码开始范围，从0开始，-1表示不限制","disabled":false,"id":"e95f884f-b08e-4d46-be03-eaa5e182ab3a","name":"ocr_document_page_start","nameErrMsg":"","required":false,"schema":{"type":"integer","value":{"content":"0","contentErrMsg":"","type":"literal"}}},{"description":"针对文档数据，指定识别的页码结束范围，从0开始，-1表示不限制","disabled":false,"id":"0297f00d-2c5e-4857-b929-b81434e5e255","name":"ocr_document_page_end","nameErrMsg":"","required":false,"schema":{"type":"integer","value":{"content":"0","contentErrMsg":"","type":"literal"}}}],"label":"通用OCR大模型_1","labelEdit":false,"nodeMeta":{"aliasName":"通用OCR大模型","nodeType":"工具"},"nodeParam":{"uid":"0","code":"","toolDescription":"通用OCR大模型","pluginId":"tool@6dc893527421000","appId":"12a0a7e2","operationId":"通用OCR大模型-TIwV01Hv","businessInput":[]},"outputs":[{"id":"c0873978-1663-4b83-9152-491341968a27","name":"code","schema":{"type":"number"}},{"id":"00f36a3c-b10c-46fa-b985-ef7247f435d0","name":"data","schema":{"properties":[{"id":"fbb440ae-1a98-4ba9-9415-6d75957e4acc","name":"file_index","type":"number"},{"id":"d6c91842-caf3-42d7-8571-ab374b4259ef","name":"content","properties":[{"id":"f6e85257-8e8a-49d5-8a45-3bca72a6e78b","name":"name","type":"string"},{"id":"b7b620c4-f447-4ea1-adc1-af3e89b44822","name":"value","type":"string"},{"id":"b84a01bb-4e08-436f-aed1-5eec3e76e959","name":"source_data","type":"string"}],"type":"array-object"}],"type":"array-object"}},{"id":"04bea3b4-91ae-4982-8b77-b71a3afd5bb1","name":"message","schema":{"type":"string"}}],"references":[{"label":"开始","value":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","children":[{"label":"","value":"","references":[{"id":"a4bef3bd-cc65-45de-8b08-014ea5cfa311","originId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""},{"id":"3a75d2d6-eccb-4caa-8d22-056d7df01e20","originId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","label":"file","value":"file","type":"string","fileType":"image"}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":455,"id":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","position":{"x":212.2509576783483,"y":333.50325670427077},"positionAbsolute":{"x":212.2509576783483,"y":333.50325670427077},"selected":false,"type":"工具","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"结合输入的参数与填写的意图，决定后续的逻辑走向","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/designMakeIcon.png","inputs":[{"id":"de12caf8-d59b-458a-b457-98662ee62792","name":"Query","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"b7b620c4-f447-4ea1-adc1-af3e89b44822","nodeId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","name":"data.content.value"},"contentErrMsg":"","type":"ref"}}}],"label":"负向分类筛选","labelEdit":false,"nodeMeta":{"aliasName":"决策","nodeType":"基础节点"},"nodeParam":{"topK":4,"enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"回答的tokens的最大长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"从k个中随机选择一个(非等概率)","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"reasonMode":1,"auditing":"default","promptPrefix":"","url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"0","patchId":"0","intentChains":[{"intentType":2,"name":"其他","description":"文本内容中包含浙江省社会保险参保证明文本时归类为此类。","id":"intent-one-of::af07a50a-e091-4d37-8658-135e4007ba50","nameErrMsg":"","descriptionErrMsg":""},{"intentType":2,"id":"intent-one-of::bc2758bf-9aa8-4b42-8707-c6d710a48c7c","name":"其他意图","description":"输入的内容中包含行驶证、二手车交易凭证、车辆抵押合同、收获回租合同、机动车购车发票","nameErrMsg":"","descriptionErrMsg":""},{"intentType":1,"name":"default","description":"默认意图","id":"intent-one-of::8f532c85-91f0-4a49-b445-c07b356211eb","nameErrMsg":"","descriptionErrMsg":""}],"domain":"4.0Ultra","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","useFunctionCall":true,"serviceId":"bm4"},"outputs":[{"id":"f83c490d-78e0-49f3-a6c2-4ce74929d264","name":"class_name","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"通用OCR大模型_1","value":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","children":[{"label":"","value":"","references":[{"id":"c0873978-1663-4b83-9152-491341968a27","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"code","value":"code","type":"number","fileType":""},{"id":"00f36a3c-b10c-46fa-b985-ef7247f435d0","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"data","value":"data","type":"array-object","fileType":"","children":[{"id":"fbb440ae-1a98-4ba9-9415-6d75957e4acc","label":"file_index","value":"data.file_index","type":"number","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"d6c91842-caf3-42d7-8571-ab374b4259ef","label":"content","value":"data.content","type":"array-object","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":"","children":[{"id":"f6e85257-8e8a-49d5-8a45-3bca72a6e78b","label":"name","value":"data.content.name","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"b7b620c4-f447-4ea1-adc1-af3e89b44822","label":"value","value":"data.content.value","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"b84a01bb-4e08-436f-aed1-5eec3e76e959","label":"source_data","value":"data.content.source_data","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""}]}]},{"id":"04bea3b4-91ae-4982-8b77-b71a3afd5bb1","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"message","value":"message","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","children":[{"label":"","value":"","references":[{"id":"a4bef3bd-cc65-45de-8b08-014ea5cfa311","originId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""},{"id":"3a75d2d6-eccb-4caa-8d22-056d7df01e20","originId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","label":"file","value":"file","type":"string","fileType":"image"}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":975,"id":"decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","position":{"x":898.6920579934347,"y":151.86964874940065},"positionAbsolute":{"x":898.6920579934347,"y":151.86964874940065},"selected":false,"type":"决策","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"结合输入的参数与填写的意图，决定后续的逻辑走向","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/designMakeIcon.png","inputs":[{"id":"25bf3ad3-6cc6-43bb-953c-14b85e291faa","name":"Query","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"b7b620c4-f447-4ea1-adc1-af3e89b44822","nodeId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","name":"data.content.value"},"contentErrMsg":"","type":"ref"}}}],"label":"决策_1","labelEdit":false,"nodeMeta":{"aliasName":"决策","nodeType":"基础节点"},"nodeParam":{"topK":4,"enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"回答的tokens的最大长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"从k个中随机选择一个(非等概率)","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"reasonMode":1,"auditing":"default","promptPrefix":"","url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"0","patchId":"0","intentChains":[{"intentType":2,"name":"发票","description":"输入的信息中包含：销售统一发票、发票代码、发票号码、开票日期、税控码、纳税人识别号、二手车市场等信息时，认为输入的是发票。","id":"intent-one-of::51e6f29b-4adb-43f9-a6d3-a556ca3d1698","nameErrMsg":"","descriptionErrMsg":""},{"intentType":2,"id":"intent-one-of::f1bc4145-e45c-474b-b730-1b8139b95c03","name":"行驶证","description":"输入的信息中包含：机动车行驶证、车辆类型、使用性质、发动机号码、车辆识别码、档案编号、核定人数等信息时，认为是行驶证。","nameErrMsg":"","descriptionErrMsg":""},{"intentType":2,"id":"intent-one-of::cf13a7a0-fe53-4325-b72f-fb211dd52263","name":"二手车交易凭证","description":"输入的信息中包含：交易凭证、购买方、出让方、经销商、营业执照号码等全部或部分信息是，认为是交易凭证。","nameErrMsg":"","descriptionErrMsg":""},{"intentType":2,"id":"intent-one-of::7037c033-e4d3-465d-9a83-9b1ebbf09f4a","name":"车辆抵押贷款合同","description":"输入的信息中包含车辆抵押贷款合同、贷款本金金额、贷款期限、贷款利率等信息时，则认为是车辆抵押贷款合同。","nameErrMsg":"","descriptionErrMsg":""},{"intentType":2,"id":"intent-one-of::69afd81a-ec31-47b4-ba2a-eaf7a29e4593","name":"售后回租合同","description":"输入的信息中包含售后回租合同、售后回租、售后回租融资租赁交易等信息时，人为该信息分类为售后回租合同","nameErrMsg":"","descriptionErrMsg":""},{"intentType":2,"id":"intent-one-of::b49eceda-972b-4770-9c66-8534d060a456","name":"机动车购车发票","description":"输入的信息为机动车销售，包含包含销售单位名称、进口证明书号、合格证号信息等为机动车购车发票","nameErrMsg":"","descriptionErrMsg":""},{"intentType":2,"id":"intent-one-of::bcd29056-31c5-45d8-ae23-973229ecf548","name":"银行卡","description":"输入信息中包含银联、银行卡号、闪付等信息，人为是银行卡。","nameErrMsg":"","descriptionErrMsg":""},{"intentType":2,"id":"intent-one-of::dc9a3802-20d8-43d3-895f-64358ba305e1","name":"其他","description":"文本内容中包含：浙江省社会保险参保证明时，归类为其他。","nameErrMsg":"","descriptionErrMsg":""},{"intentType":2,"id":"intent-one-of::f47c8f74-6730-458d-9337-4c29efdf5116","name":"证件","description":"输入信息里必须同时存在存在中华人民共和国、签证机关、住址、性别、名族等部分信息时，认为为输入的信息为身份证信息","nameErrMsg":"","descriptionErrMsg":""},{"intentType":1,"name":"default","description":"默认意图","id":"intent-one-of::431f9a41-444e-4425-a4e8-7e75c50105a8","nameErrMsg":"","descriptionErrMsg":""}],"domain":"4.0Ultra","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","useFunctionCall":true,"serviceId":"bm4"},"outputs":[{"id":"abd4fe39-fde6-4af5-992a-ceb915f6e930","name":"class_name","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"负向分类筛选","value":"decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","children":[{"label":"","value":"","references":[{"id":"f83c490d-78e0-49f3-a6c2-4ce74929d264","originId":"decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","label":"class_name","value":"class_name","type":"string","fileType":""}]}],"parentNode":true},{"label":"通用OCR大模型_1","value":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","children":[{"label":"","value":"","references":[{"id":"c0873978-1663-4b83-9152-491341968a27","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"code","value":"code","type":"number","fileType":""},{"id":"00f36a3c-b10c-46fa-b985-ef7247f435d0","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"data","value":"data","type":"array-object","fileType":"","children":[{"id":"fbb440ae-1a98-4ba9-9415-6d75957e4acc","label":"file_index","value":"data.file_index","type":"number","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"d6c91842-caf3-42d7-8571-ab374b4259ef","label":"content","value":"data.content","type":"array-object","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":"","children":[{"id":"f6e85257-8e8a-49d5-8a45-3bca72a6e78b","label":"name","value":"data.content.name","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"b7b620c4-f447-4ea1-adc1-af3e89b44822","label":"value","value":"data.content.value","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"b84a01bb-4e08-436f-aed1-5eec3e76e959","label":"source_data","value":"data.content.source_data","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""}]}]},{"id":"04bea3b4-91ae-4982-8b77-b71a3afd5bb1","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"message","value":"message","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","children":[{"label":"","value":"","references":[{"id":"a4bef3bd-cc65-45de-8b08-014ea5cfa311","originId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""},{"id":"3a75d2d6-eccb-4caa-8d22-056d7df01e20","originId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","label":"file","value":"file","type":"string","fileType":"image"}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":2223,"id":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","position":{"x":1705.66259074336,"y":-17.237051329980545},"positionAbsolute":{"x":1705.66259074336,"y":-17.237051329980545},"selected":false,"type":"决策","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"将定义过的变量用{{变量名}}的方式引用，节点会按照拼接规则输出内容","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/text-splicing-icon.png","inputs":[{"id":"7bc40567-6c5a-4dc6-8b08-e76fac720eed","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"a4bef3bd-cc65-45de-8b08-014ea5cfa311","nodeId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}}],"label":"文本拼接_1","labelEdit":false,"nodeMeta":{"aliasName":"文本拼接","nodeType":"工具"},"nodeParam":{"uid":"0","separatorErrMsg":"","appId":"12a0a7e2","prompt":"该文件不属于已有分类，请人工确认"},"outputs":[{"id":"05a0a92a-07eb-480b-a46d-4a8f4a21b246","name":"output","nameErrMsg":"","schema":{"type":"string"}}],"references":[{"label":"负向分类筛选","value":"decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","children":[{"label":"","value":"","references":[{"id":"f83c490d-78e0-49f3-a6c2-4ce74929d264","originId":"decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","label":"class_name","value":"class_name","type":"string","fileType":""}]}],"parentNode":true},{"label":"通用OCR大模型_1","value":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","children":[{"label":"","value":"","references":[{"id":"c0873978-1663-4b83-9152-491341968a27","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"code","value":"code","type":"number","fileType":""},{"id":"00f36a3c-b10c-46fa-b985-ef7247f435d0","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"data","value":"data","type":"array-object","fileType":"","children":[{"id":"fbb440ae-1a98-4ba9-9415-6d75957e4acc","label":"file_index","value":"data.file_index","type":"number","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"d6c91842-caf3-42d7-8571-ab374b4259ef","label":"content","value":"data.content","type":"array-object","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":"","children":[{"id":"f6e85257-8e8a-49d5-8a45-3bca72a6e78b","label":"name","value":"data.content.name","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"b7b620c4-f447-4ea1-adc1-af3e89b44822","label":"value","value":"data.content.value","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"b84a01bb-4e08-436f-aed1-5eec3e76e959","label":"source_data","value":"data.content.source_data","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""}]}]},{"id":"04bea3b4-91ae-4982-8b77-b71a3afd5bb1","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"message","value":"message","type":"string","fileType":""}]}],"parentNode":true},{"label":"决策_1","value":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","children":[{"label":"","value":"","references":[{"id":"abd4fe39-fde6-4af5-992a-ceb915f6e930","originId":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","label":"class_name","value":"class_name","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","children":[{"label":"","value":"","references":[{"id":"a4bef3bd-cc65-45de-8b08-014ea5cfa311","originId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""},{"id":"3a75d2d6-eccb-4caa-8d22-056d7df01e20","originId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","label":"file","value":"file","type":"string","fileType":"image"}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":555,"id":"text-joiner::c00a8c50-73bf-4c45-b91f-467c47850f11","position":{"x":2804.0229349117562,"y":2881.666767365951},"positionAbsolute":{"x":2804.0229349117562,"y":2881.666767365951},"selected":false,"type":"文本拼接","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"将定义过的变量用{{变量名}}的方式引用，节点会按照拼接规则输出内容","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/text-splicing-icon.png","inputs":[{"id":"8b7f5d2b-6202-4c7c-be96-2099d77a0369","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"a4bef3bd-cc65-45de-8b08-014ea5cfa311","nodeId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}}],"label":"文本拼接_2","labelEdit":false,"nodeMeta":{"aliasName":"文本拼接","nodeType":"工具"},"nodeParam":{"uid":"0","separatorErrMsg":"","appId":"12a0a7e2","prompt":"该文件是车辆抵押贷款合同"},"outputs":[{"id":"05a0a92a-07eb-480b-a46d-4a8f4a21b246","name":"output","nameErrMsg":"","schema":{"type":"string"}}],"references":[{"label":"决策_1","value":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","children":[{"label":"","value":"","references":[{"id":"abd4fe39-fde6-4af5-992a-ceb915f6e930","originId":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","label":"class_name","value":"class_name","type":"string","fileType":""}]}],"parentNode":true},{"label":"负向分类筛选","value":"decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","children":[{"label":"","value":"","references":[{"id":"f83c490d-78e0-49f3-a6c2-4ce74929d264","originId":"decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","label":"class_name","value":"class_name","type":"string","fileType":""}]}],"parentNode":true},{"label":"通用OCR大模型_1","value":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","children":[{"label":"","value":"","references":[{"id":"c0873978-1663-4b83-9152-491341968a27","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"code","value":"code","type":"number","fileType":""},{"id":"00f36a3c-b10c-46fa-b985-ef7247f435d0","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"data","value":"data","type":"array-object","fileType":"","children":[{"id":"fbb440ae-1a98-4ba9-9415-6d75957e4acc","label":"file_index","value":"data.file_index","type":"number","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"d6c91842-caf3-42d7-8571-ab374b4259ef","label":"content","value":"data.content","type":"array-object","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":"","children":[{"id":"f6e85257-8e8a-49d5-8a45-3bca72a6e78b","label":"name","value":"data.content.name","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"b7b620c4-f447-4ea1-adc1-af3e89b44822","label":"value","value":"data.content.value","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"b84a01bb-4e08-436f-aed1-5eec3e76e959","label":"source_data","value":"data.content.source_data","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""}]}]},{"id":"04bea3b4-91ae-4982-8b77-b71a3afd5bb1","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"message","value":"message","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","children":[{"label":"","value":"","references":[{"id":"a4bef3bd-cc65-45de-8b08-014ea5cfa311","originId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""},{"id":"3a75d2d6-eccb-4caa-8d22-056d7df01e20","originId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","label":"file","value":"file","type":"string","fileType":"image"}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":555,"id":"text-joiner::cc78a6b3-ac9e-412f-825d-4c003c814d0f","position":{"x":2790.9632175188344,"y":831.835807924209},"positionAbsolute":{"x":2790.9632175188344,"y":831.835807924209},"selected":false,"type":"文本拼接","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"将定义过的变量用{{变量名}}的方式引用，节点会按照拼接规则输出内容","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/text-splicing-icon.png","inputs":[{"id":"16773921-086d-4d35-871b-64c4fb032326","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"a4bef3bd-cc65-45de-8b08-014ea5cfa311","nodeId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}}],"label":"文本拼接_3","labelEdit":false,"nodeMeta":{"aliasName":"文本拼接","nodeType":"工具"},"nodeParam":{"uid":"0","separatorErrMsg":"","appId":"12a0a7e2","prompt":"该文件是售后回租合同"},"outputs":[{"id":"05a0a92a-07eb-480b-a46d-4a8f4a21b246","name":"output","nameErrMsg":"","schema":{"type":"string"}}],"references":[{"label":"决策_1","value":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","children":[{"label":"","value":"","references":[{"id":"abd4fe39-fde6-4af5-992a-ceb915f6e930","originId":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","label":"class_name","value":"class_name","type":"string","fileType":""}]}],"parentNode":true},{"label":"负向分类筛选","value":"decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","children":[{"label":"","value":"","references":[{"id":"f83c490d-78e0-49f3-a6c2-4ce74929d264","originId":"decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","label":"class_name","value":"class_name","type":"string","fileType":""}]}],"parentNode":true},{"label":"通用OCR大模型_1","value":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","children":[{"label":"","value":"","references":[{"id":"c0873978-1663-4b83-9152-491341968a27","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"code","value":"code","type":"number","fileType":""},{"id":"00f36a3c-b10c-46fa-b985-ef7247f435d0","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"data","value":"data","type":"array-object","fileType":"","children":[{"id":"fbb440ae-1a98-4ba9-9415-6d75957e4acc","label":"file_index","value":"data.file_index","type":"number","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"d6c91842-caf3-42d7-8571-ab374b4259ef","label":"content","value":"data.content","type":"array-object","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":"","children":[{"id":"f6e85257-8e8a-49d5-8a45-3bca72a6e78b","label":"name","value":"data.content.name","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"b7b620c4-f447-4ea1-adc1-af3e89b44822","label":"value","value":"data.content.value","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"b84a01bb-4e08-436f-aed1-5eec3e76e959","label":"source_data","value":"data.content.source_data","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""}]}]},{"id":"04bea3b4-91ae-4982-8b77-b71a3afd5bb1","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"message","value":"message","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","children":[{"label":"","value":"","references":[{"id":"a4bef3bd-cc65-45de-8b08-014ea5cfa311","originId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""},{"id":"3a75d2d6-eccb-4caa-8d22-056d7df01e20","originId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","label":"file","value":"file","type":"string","fileType":"image"}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":555,"id":"text-joiner::369b5947-d66b-4227-8c9b-8e5f8c185d81","position":{"x":2794.609639698949,"y":1345.791087544359},"positionAbsolute":{"x":2794.609639698949,"y":1345.791087544359},"selected":false,"type":"文本拼接","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"将定义过的变量用{{变量名}}的方式引用，节点会按照拼接规则输出内容","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/text-splicing-icon.png","inputs":[{"id":"b829e9d3-a259-4ecf-9fee-945d3640d5ab","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"a4bef3bd-cc65-45de-8b08-014ea5cfa311","nodeId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}}],"label":"文本拼接_4","labelEdit":false,"nodeMeta":{"aliasName":"文本拼接","nodeType":"工具"},"nodeParam":{"uid":"0","separatorErrMsg":"","appId":"12a0a7e2","prompt":"该文件是机动车购车发票"},"outputs":[{"id":"05a0a92a-07eb-480b-a46d-4a8f4a21b246","name":"output","nameErrMsg":"","schema":{"type":"string"}}],"references":[{"label":"决策_1","value":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","children":[{"label":"","value":"","references":[{"id":"abd4fe39-fde6-4af5-992a-ceb915f6e930","originId":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","label":"class_name","value":"class_name","type":"string","fileType":""}]}],"parentNode":true},{"label":"负向分类筛选","value":"decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","children":[{"label":"","value":"","references":[{"id":"f83c490d-78e0-49f3-a6c2-4ce74929d264","originId":"decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","label":"class_name","value":"class_name","type":"string","fileType":""}]}],"parentNode":true},{"label":"通用OCR大模型_1","value":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","children":[{"label":"","value":"","references":[{"id":"c0873978-1663-4b83-9152-491341968a27","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"code","value":"code","type":"number","fileType":""},{"id":"00f36a3c-b10c-46fa-b985-ef7247f435d0","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"data","value":"data","type":"array-object","fileType":"","children":[{"id":"fbb440ae-1a98-4ba9-9415-6d75957e4acc","label":"file_index","value":"data.file_index","type":"number","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"d6c91842-caf3-42d7-8571-ab374b4259ef","label":"content","value":"data.content","type":"array-object","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":"","children":[{"id":"f6e85257-8e8a-49d5-8a45-3bca72a6e78b","label":"name","value":"data.content.name","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"b7b620c4-f447-4ea1-adc1-af3e89b44822","label":"value","value":"data.content.value","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"b84a01bb-4e08-436f-aed1-5eec3e76e959","label":"source_data","value":"data.content.source_data","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""}]}]},{"id":"04bea3b4-91ae-4982-8b77-b71a3afd5bb1","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"message","value":"message","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","children":[{"label":"","value":"","references":[{"id":"a4bef3bd-cc65-45de-8b08-014ea5cfa311","originId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""},{"id":"3a75d2d6-eccb-4caa-8d22-056d7df01e20","originId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","label":"file","value":"file","type":"string","fileType":"image"}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":555,"id":"text-joiner::f7576a53-acae-44ef-9b0e-19d623e6fa2b","position":{"x":2814.545742054765,"y":1878.3230076099849},"positionAbsolute":{"x":2814.545742054765,"y":1878.3230076099849},"selected":false,"type":"文本拼接","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"将定义过的变量用{{变量名}}的方式引用，节点会按照拼接规则输出内容","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/text-splicing-icon.png","inputs":[{"id":"731b6765-6792-435f-a3d1-f80a96493c32","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"a4bef3bd-cc65-45de-8b08-014ea5cfa311","nodeId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}}],"label":"文本拼接_6","labelEdit":false,"nodeMeta":{"aliasName":"文本拼接","nodeType":"工具"},"nodeParam":{"uid":"0","separatorErrMsg":"","appId":"12a0a7e2","prompt":"该文件是身份证。"},"outputs":[{"id":"05a0a92a-07eb-480b-a46d-4a8f4a21b246","name":"output","nameErrMsg":"","schema":{"type":"string"}}],"references":[{"label":"决策_1","value":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","children":[{"label":"","value":"","references":[{"id":"abd4fe39-fde6-4af5-992a-ceb915f6e930","originId":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","label":"class_name","value":"class_name","type":"string","fileType":""}]}],"parentNode":true},{"label":"负向分类筛选","value":"decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","children":[{"label":"","value":"","references":[{"id":"f83c490d-78e0-49f3-a6c2-4ce74929d264","originId":"decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","label":"class_name","value":"class_name","type":"string","fileType":""}]}],"parentNode":true},{"label":"通用OCR大模型_1","value":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","children":[{"label":"","value":"","references":[{"id":"c0873978-1663-4b83-9152-491341968a27","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"code","value":"code","type":"number","fileType":""},{"id":"00f36a3c-b10c-46fa-b985-ef7247f435d0","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"data","value":"data","type":"array-object","fileType":"","children":[{"id":"fbb440ae-1a98-4ba9-9415-6d75957e4acc","label":"file_index","value":"data.file_index","type":"number","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"d6c91842-caf3-42d7-8571-ab374b4259ef","label":"content","value":"data.content","type":"array-object","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":"","children":[{"id":"f6e85257-8e8a-49d5-8a45-3bca72a6e78b","label":"name","value":"data.content.name","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"b7b620c4-f447-4ea1-adc1-af3e89b44822","label":"value","value":"data.content.value","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"b84a01bb-4e08-436f-aed1-5eec3e76e959","label":"source_data","value":"data.content.source_data","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""}]}]},{"id":"04bea3b4-91ae-4982-8b77-b71a3afd5bb1","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"message","value":"message","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","children":[{"label":"","value":"","references":[{"id":"a4bef3bd-cc65-45de-8b08-014ea5cfa311","originId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""},{"id":"3a75d2d6-eccb-4caa-8d22-056d7df01e20","originId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","label":"file","value":"file","type":"string","fileType":"image"}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":555,"id":"text-joiner::fa7c0199-c3de-4f92-8627-ec48911cca45","position":{"x":2792.4221476481853,"y":-1249.1995005606027},"positionAbsolute":{"x":2792.4221476481853,"y":-1249.1995005606027},"selected":false,"type":"文本拼接","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"将定义过的变量用{{变量名}}的方式引用，节点会按照拼接规则输出内容","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/text-splicing-icon.png","inputs":[{"id":"15ea41c8-5751-44f0-bde1-97f3f6215eb9","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"a4bef3bd-cc65-45de-8b08-014ea5cfa311","nodeId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}}],"label":"文本拼接_7","labelEdit":false,"nodeMeta":{"aliasName":"文本拼接","nodeType":"工具"},"nodeParam":{"uid":"0","separatorErrMsg":"","appId":"12a0a7e2","prompt":"该文件是二手车销售统一发票"},"outputs":[{"id":"05a0a92a-07eb-480b-a46d-4a8f4a21b246","name":"output","nameErrMsg":"","schema":{"type":"string"}}],"references":[{"label":"决策_1","value":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","children":[{"label":"","value":"","references":[{"id":"abd4fe39-fde6-4af5-992a-ceb915f6e930","originId":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","label":"class_name","value":"class_name","type":"string","fileType":""}]}],"parentNode":true},{"label":"负向分类筛选","value":"decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","children":[{"label":"","value":"","references":[{"id":"f83c490d-78e0-49f3-a6c2-4ce74929d264","originId":"decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","label":"class_name","value":"class_name","type":"string","fileType":""}]}],"parentNode":true},{"label":"通用OCR大模型_1","value":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","children":[{"label":"","value":"","references":[{"id":"c0873978-1663-4b83-9152-491341968a27","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"code","value":"code","type":"number","fileType":""},{"id":"00f36a3c-b10c-46fa-b985-ef7247f435d0","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"data","value":"data","type":"array-object","fileType":"","children":[{"id":"fbb440ae-1a98-4ba9-9415-6d75957e4acc","label":"file_index","value":"data.file_index","type":"number","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"d6c91842-caf3-42d7-8571-ab374b4259ef","label":"content","value":"data.content","type":"array-object","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":"","children":[{"id":"f6e85257-8e8a-49d5-8a45-3bca72a6e78b","label":"name","value":"data.content.name","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"b7b620c4-f447-4ea1-adc1-af3e89b44822","label":"value","value":"data.content.value","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"b84a01bb-4e08-436f-aed1-5eec3e76e959","label":"source_data","value":"data.content.source_data","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""}]}]},{"id":"04bea3b4-91ae-4982-8b77-b71a3afd5bb1","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"message","value":"message","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","children":[{"label":"","value":"","references":[{"id":"a4bef3bd-cc65-45de-8b08-014ea5cfa311","originId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""},{"id":"3a75d2d6-eccb-4caa-8d22-056d7df01e20","originId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","label":"file","value":"file","type":"string","fileType":"image"}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":555,"id":"text-joiner::7631d255-6a91-401c-88bf-ee1c362eeb92","position":{"x":2796.7971317497136,"y":-715.5939175685445},"positionAbsolute":{"x":2796.7971317497136,"y":-715.5939175685445},"selected":false,"type":"文本拼接","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"将定义过的变量用{{变量名}}的方式引用，节点会按照拼接规则输出内容","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/text-splicing-icon.png","inputs":[{"id":"0109202a-a943-49a2-b8fd-149b12718b52","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"a4bef3bd-cc65-45de-8b08-014ea5cfa311","nodeId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}}],"label":"文本拼接_8","labelEdit":false,"nodeMeta":{"aliasName":"文本拼接","nodeType":"工具"},"nodeParam":{"uid":"0","separatorErrMsg":"","appId":"12a0a7e2","prompt":"该文件是行驶证"},"outputs":[{"id":"05a0a92a-07eb-480b-a46d-4a8f4a21b246","name":"output","nameErrMsg":"","schema":{"type":"string"}}],"references":[{"label":"决策_1","value":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","children":[{"label":"","value":"","references":[{"id":"abd4fe39-fde6-4af5-992a-ceb915f6e930","originId":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","label":"class_name","value":"class_name","type":"string","fileType":""}]}],"parentNode":true},{"label":"负向分类筛选","value":"decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","children":[{"label":"","value":"","references":[{"id":"f83c490d-78e0-49f3-a6c2-4ce74929d264","originId":"decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","label":"class_name","value":"class_name","type":"string","fileType":""}]}],"parentNode":true},{"label":"通用OCR大模型_1","value":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","children":[{"label":"","value":"","references":[{"id":"c0873978-1663-4b83-9152-491341968a27","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"code","value":"code","type":"number","fileType":""},{"id":"00f36a3c-b10c-46fa-b985-ef7247f435d0","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"data","value":"data","type":"array-object","fileType":"","children":[{"id":"fbb440ae-1a98-4ba9-9415-6d75957e4acc","label":"file_index","value":"data.file_index","type":"number","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"d6c91842-caf3-42d7-8571-ab374b4259ef","label":"content","value":"data.content","type":"array-object","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":"","children":[{"id":"f6e85257-8e8a-49d5-8a45-3bca72a6e78b","label":"name","value":"data.content.name","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"b7b620c4-f447-4ea1-adc1-af3e89b44822","label":"value","value":"data.content.value","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"b84a01bb-4e08-436f-aed1-5eec3e76e959","label":"source_data","value":"data.content.source_data","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""}]}]},{"id":"04bea3b4-91ae-4982-8b77-b71a3afd5bb1","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"message","value":"message","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","children":[{"label":"","value":"","references":[{"id":"a4bef3bd-cc65-45de-8b08-014ea5cfa311","originId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""},{"id":"3a75d2d6-eccb-4caa-8d22-056d7df01e20","originId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","label":"file","value":"file","type":"string","fileType":"image"}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":555,"id":"text-joiner::e8cb7845-ecd3-493e-91d7-9ede009df9fe","position":{"x":2793.366137591092,"y":-206.64286893369604},"positionAbsolute":{"x":2793.366137591092,"y":-206.64286893369604},"selected":false,"type":"文本拼接","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"将定义过的变量用{{变量名}}的方式引用，节点会按照拼接规则输出内容","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/text-splicing-icon.png","inputs":[{"id":"df2f2eb4-6094-4457-9163-dbf27d152885","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"a4bef3bd-cc65-45de-8b08-014ea5cfa311","nodeId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}}],"label":"文本拼接_9","labelEdit":false,"nodeMeta":{"aliasName":"文本拼接","nodeType":"工具"},"nodeParam":{"uid":"0","separatorErrMsg":"","appId":"12a0a7e2","prompt":"该文件是二手车交易凭证"},"outputs":[{"id":"05a0a92a-07eb-480b-a46d-4a8f4a21b246","name":"output","nameErrMsg":"","schema":{"type":"string"}}],"references":[{"label":"决策_1","value":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","children":[{"label":"","value":"","references":[{"id":"abd4fe39-fde6-4af5-992a-ceb915f6e930","originId":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","label":"class_name","value":"class_name","type":"string","fileType":""}]}],"parentNode":true},{"label":"负向分类筛选","value":"decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","children":[{"label":"","value":"","references":[{"id":"f83c490d-78e0-49f3-a6c2-4ce74929d264","originId":"decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","label":"class_name","value":"class_name","type":"string","fileType":""}]}],"parentNode":true},{"label":"通用OCR大模型_1","value":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","children":[{"label":"","value":"","references":[{"id":"c0873978-1663-4b83-9152-491341968a27","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"code","value":"code","type":"number","fileType":""},{"id":"00f36a3c-b10c-46fa-b985-ef7247f435d0","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"data","value":"data","type":"array-object","fileType":"","children":[{"id":"fbb440ae-1a98-4ba9-9415-6d75957e4acc","label":"file_index","value":"data.file_index","type":"number","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"d6c91842-caf3-42d7-8571-ab374b4259ef","label":"content","value":"data.content","type":"array-object","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":"","children":[{"id":"f6e85257-8e8a-49d5-8a45-3bca72a6e78b","label":"name","value":"data.content.name","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"b7b620c4-f447-4ea1-adc1-af3e89b44822","label":"value","value":"data.content.value","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"b84a01bb-4e08-436f-aed1-5eec3e76e959","label":"source_data","value":"data.content.source_data","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""}]}]},{"id":"04bea3b4-91ae-4982-8b77-b71a3afd5bb1","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"message","value":"message","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","children":[{"label":"","value":"","references":[{"id":"a4bef3bd-cc65-45de-8b08-014ea5cfa311","originId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""},{"id":"3a75d2d6-eccb-4caa-8d22-056d7df01e20","originId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","label":"file","value":"file","type":"string","fileType":"image"}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":555,"id":"text-joiner::a8056133-4c33-4401-bda8-fb2b1dc71589","position":{"x":2788.4225782928297,"y":324.0367889564536},"positionAbsolute":{"x":2788.4225782928297,"y":324.0367889564536},"selected":false,"type":"文本拼接","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"将定义过的变量用{{变量名}}的方式引用，节点会按照拼接规则输出内容","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/text-splicing-icon.png","inputs":[{"id":"1bf57967-fb6e-4786-9060-f75d8adf96e5","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"a4bef3bd-cc65-45de-8b08-014ea5cfa311","nodeId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}}],"label":"文本拼接_5","labelEdit":false,"nodeMeta":{"aliasName":"文本拼接","nodeType":"工具"},"nodeParam":{"uid":"0","separatorErrMsg":"","appId":"12a0a7e2","prompt":"该文件是银行卡"},"outputs":[{"id":"05a0a92a-07eb-480b-a46d-4a8f4a21b246","name":"output","nameErrMsg":"","schema":{"type":"string"}}],"references":[{"label":"决策_1","value":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","children":[{"label":"","value":"","references":[{"id":"abd4fe39-fde6-4af5-992a-ceb915f6e930","originId":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","label":"class_name","value":"class_name","type":"string","fileType":""}]}],"parentNode":true},{"label":"负向分类筛选","value":"decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","children":[{"label":"","value":"","references":[{"id":"f83c490d-78e0-49f3-a6c2-4ce74929d264","originId":"decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","label":"class_name","value":"class_name","type":"string","fileType":""}]}],"parentNode":true},{"label":"通用OCR大模型_1","value":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","children":[{"label":"","value":"","references":[{"id":"c0873978-1663-4b83-9152-491341968a27","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"code","value":"code","type":"number","fileType":""},{"id":"00f36a3c-b10c-46fa-b985-ef7247f435d0","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"data","value":"data","type":"array-object","fileType":"","children":[{"id":"fbb440ae-1a98-4ba9-9415-6d75957e4acc","label":"file_index","value":"data.file_index","type":"number","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"d6c91842-caf3-42d7-8571-ab374b4259ef","label":"content","value":"data.content","type":"array-object","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":"","children":[{"id":"f6e85257-8e8a-49d5-8a45-3bca72a6e78b","label":"name","value":"data.content.name","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"b7b620c4-f447-4ea1-adc1-af3e89b44822","label":"value","value":"data.content.value","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""},{"id":"b84a01bb-4e08-436f-aed1-5eec3e76e959","label":"source_data","value":"data.content.source_data","type":"string","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","parentType":"array-object","fileType":""}]}]},{"id":"04bea3b4-91ae-4982-8b77-b71a3afd5bb1","originId":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","label":"message","value":"message","type":"string","fileType":""}]}],"parentNode":true},{"label":"开始","value":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","children":[{"label":"","value":"","references":[{"id":"a4bef3bd-cc65-45de-8b08-014ea5cfa311","originId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string","fileType":""},{"id":"3a75d2d6-eccb-4caa-8d22-056d7df01e20","originId":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","label":"file","value":"file","type":"string","fileType":"image"}]}],"parentNode":true}],"status":"","updatable":false},"dragging":false,"height":555,"id":"text-joiner::a7266e60-20b4-424d-9cb9-579b002fa41e","position":{"x":2808.0463634810662,"y":2384.452137070821},"positionAbsolute":{"x":2808.0463634810662,"y":2384.452137070821},"selected":false,"type":"文本拼接","width":587}],"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c-decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","target":"decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74intent-one-of::431f9a41-444e-4425-a4e8-7e75c50105a8-text-joiner::c00a8c50-73bf-4c45-b91f-467c47850f11","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","sourceHandle":"intent-one-of::431f9a41-444e-4425-a4e8-7e75c50105a8","target":"text-joiner::c00a8c50-73bf-4c45-b91f-467c47850f11","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-text-joiner::c00a8c50-73bf-4c45-b91f-467c47850f11-node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"text-joiner::c00a8c50-73bf-4c45-b91f-467c47850f11","target":"node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","targetHandle":"node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-text-joiner::fa7c0199-c3de-4f92-8627-ec48911cca45-node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"text-joiner::fa7c0199-c3de-4f92-8627-ec48911cca45","target":"node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","targetHandle":"node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-text-joiner::7631d255-6a91-401c-88bf-ee1c362eeb92-node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"text-joiner::7631d255-6a91-401c-88bf-ee1c362eeb92","target":"node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","targetHandle":"node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-text-joiner::e8cb7845-ecd3-493e-91d7-9ede009df9fe-node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"text-joiner::e8cb7845-ecd3-493e-91d7-9ede009df9fe","target":"node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","targetHandle":"node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-text-joiner::a8056133-4c33-4401-bda8-fb2b1dc71589-node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"text-joiner::a8056133-4c33-4401-bda8-fb2b1dc71589","target":"node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","targetHandle":"node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-text-joiner::cc78a6b3-ac9e-412f-825d-4c003c814d0f-node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"text-joiner::cc78a6b3-ac9e-412f-825d-4c003c814d0f","target":"node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","targetHandle":"node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-text-joiner::369b5947-d66b-4227-8c9b-8e5f8c185d81-node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"text-joiner::369b5947-d66b-4227-8c9b-8e5f8c185d81","target":"node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","targetHandle":"node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-text-joiner::f7576a53-acae-44ef-9b0e-19d623e6fa2b-node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"text-joiner::f7576a53-acae-44ef-9b0e-19d623e6fa2b","target":"node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","targetHandle":"node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80intent-one-of::af07a50a-e091-4d37-8658-135e4007ba50-text-joiner::c00a8c50-73bf-4c45-b91f-467c47850f11","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","sourceHandle":"intent-one-of::af07a50a-e091-4d37-8658-135e4007ba50","target":"text-joiner::c00a8c50-73bf-4c45-b91f-467c47850f11","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80intent-one-of::bc2758bf-9aa8-4b42-8707-c6d710a48c7c-decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","sourceHandle":"intent-one-of::bc2758bf-9aa8-4b42-8707-c6d710a48c7c","target":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80intent-one-of::8f532c85-91f0-4a49-b445-c07b356211eb-decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"decision-making::882fee17-a5a7-4f64-9809-39d52bb7dd80","sourceHandle":"intent-one-of::8f532c85-91f0-4a49-b445-c07b356211eb","target":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74intent-one-of::51e6f29b-4adb-43f9-a6d3-a556ca3d1698-text-joiner::7631d255-6a91-401c-88bf-ee1c362eeb92","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","sourceHandle":"intent-one-of::51e6f29b-4adb-43f9-a6d3-a556ca3d1698","target":"text-joiner::7631d255-6a91-401c-88bf-ee1c362eeb92","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74intent-one-of::f1bc4145-e45c-474b-b730-1b8139b95c03-text-joiner::e8cb7845-ecd3-493e-91d7-9ede009df9fe","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","sourceHandle":"intent-one-of::f1bc4145-e45c-474b-b730-1b8139b95c03","target":"text-joiner::e8cb7845-ecd3-493e-91d7-9ede009df9fe","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74intent-one-of::cf13a7a0-fe53-4325-b72f-fb211dd52263-text-joiner::a8056133-4c33-4401-bda8-fb2b1dc71589","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","sourceHandle":"intent-one-of::cf13a7a0-fe53-4325-b72f-fb211dd52263","target":"text-joiner::a8056133-4c33-4401-bda8-fb2b1dc71589","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74intent-one-of::7037c033-e4d3-465d-9a83-9b1ebbf09f4a-text-joiner::cc78a6b3-ac9e-412f-825d-4c003c814d0f","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","sourceHandle":"intent-one-of::7037c033-e4d3-465d-9a83-9b1ebbf09f4a","target":"text-joiner::cc78a6b3-ac9e-412f-825d-4c003c814d0f","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74intent-one-of::69afd81a-ec31-47b4-ba2a-eaf7a29e4593-text-joiner::369b5947-d66b-4227-8c9b-8e5f8c185d81","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","sourceHandle":"intent-one-of::69afd81a-ec31-47b4-ba2a-eaf7a29e4593","target":"text-joiner::369b5947-d66b-4227-8c9b-8e5f8c185d81","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74intent-one-of::b49eceda-972b-4770-9c66-8534d060a456-text-joiner::f7576a53-acae-44ef-9b0e-19d623e6fa2b","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","sourceHandle":"intent-one-of::b49eceda-972b-4770-9c66-8534d060a456","target":"text-joiner::f7576a53-acae-44ef-9b0e-19d623e6fa2b","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74intent-one-of::bcd29056-31c5-45d8-ae23-973229ecf548-text-joiner::a7266e60-20b4-424d-9cb9-579b002fa41e","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","sourceHandle":"intent-one-of::bcd29056-31c5-45d8-ae23-973229ecf548","target":"text-joiner::a7266e60-20b4-424d-9cb9-579b002fa41e","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74intent-one-of::dc9a3802-20d8-43d3-895f-64358ba305e1-text-joiner::c00a8c50-73bf-4c45-b91f-467c47850f11","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","sourceHandle":"intent-one-of::dc9a3802-20d8-43d3-895f-64358ba305e1","target":"text-joiner::c00a8c50-73bf-4c45-b91f-467c47850f11","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74intent-one-of::f47c8f74-6730-458d-9337-4c29efdf5116-text-joiner::fa7c0199-c3de-4f92-8627-ec48911cca45","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"decision-making::0af41fa4-dd4f-4586-8e91-cf46d2ef8d74","sourceHandle":"intent-one-of::f47c8f74-6730-458d-9337-4c29efdf5116","target":"text-joiner::fa7c0199-c3de-4f92-8627-ec48911cca45","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-text-joiner::a7266e60-20b4-424d-9cb9-579b002fa41e-node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"text-joiner::a7266e60-20b4-424d-9cb9-579b002fa41e","target":"node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","targetHandle":"node-end::cb762891-e201-4d65-8508-42b7ffe4bbd8","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11-plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-start::f80c8fad-9f19-4eb9-9343-9cb4a5fcee11","target":"plugin::8843b4f6-9ed6-4105-a06b-bec8f5ef9f9c","type":"customEdge"}]}', 'https://bjcdn.openstorage.cn/xinghuo-privatedata/personality/1741570486611.jpg?width=204&height=204', '#FFEAD5', -1, 1, 0, 0, NULL, 0, NULL, 2, NULL, 1, NULL, '{"prologue":{"enabled":true,"inputExample":["123","234","344"],"prologueText":""},"needGuide":false}', NULL, NULL, NULL);
INSERT INTO workflow (id, uid, app_id, flow_id, name, description, deleted, is_public, create_time, update_time, published_data, `data`, avatar_icon, avatar_color, status, can_publish, app_updatable, top, edge_type, `order`, eval_set_id, source, bak, editing, eval_page_first_time, advanced_config, ext, category, space_id) VALUES(66892, 10374628632, '12a0a7e2', '7303726466862505986', '车险保单的OCR提取助手', '一个专业的车险保单OCR提取小助手', 0, 0, '2025-03-07 18:41:26', '2025-10-15 11:19:37', '{"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::df679514-fa75-4d00-b709-56f15890a83e-plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-start::df679514-fa75-4d00-b709-56f15890a83e","target":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f-if-else::26c50ed5-e049-440b-bd7f-80b3bd2a3717","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","target":"if-else::26c50ed5-e049-440b-bd7f-80b3bd2a3717","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::26c50ed5-e049-440b-bd7f-80b3bd2a3717branch_one_of::6f23f678-7de8-4b55-ba28-8398e116213b-text-joiner::3dd4fd23-18bd-42a9-8705-8e9fcc6330f7","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"if-else::26c50ed5-e049-440b-bd7f-80b3bd2a3717","sourceHandle":"branch_one_of::6f23f678-7de8-4b55-ba28-8398e116213b","target":"text-joiner::3dd4fd23-18bd-42a9-8705-8e9fcc6330f7","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::26c50ed5-e049-440b-bd7f-80b3bd2a3717branch_one_of::e0b7ae3d-cc5a-4a18-9213-6de9be0ebf0a-spark-llm::f2ebca50-65cb-4c00-b1b6-8bbd26e52d41","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"if-else::26c50ed5-e049-440b-bd7f-80b3bd2a3717","sourceHandle":"branch_one_of::e0b7ae3d-cc5a-4a18-9213-6de9be0ebf0a","target":"spark-llm::f2ebca50-65cb-4c00-b1b6-8bbd26e52d41","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::f2ebca50-65cb-4c00-b1b6-8bbd26e52d41-node-end::116b098d-b9d4-4178-8637-9a4fe6d0e155node-end::116b098d-b9d4-4178-8637-9a4fe6d0e155","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::f2ebca50-65cb-4c00-b1b6-8bbd26e52d41","target":"node-end::116b098d-b9d4-4178-8637-9a4fe6d0e155","targetHandle":"node-end::116b098d-b9d4-4178-8637-9a4fe6d0e155","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-text-joiner::3dd4fd23-18bd-42a9-8705-8e9fcc6330f7-node-end::116b098d-b9d4-4178-8637-9a4fe6d0e155node-end::116b098d-b9d4-4178-8637-9a4fe6d0e155","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"text-joiner::3dd4fd23-18bd-42a9-8705-8e9fcc6330f7","target":"node-end::116b098d-b9d4-4178-8637-9a4fe6d0e155","targetHandle":"node-end::116b098d-b9d4-4178-8637-9a4fe6d0e155","type":"customEdge"}],"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始","nodeType":"基础节点"},"nodeParam":{"apiKey":"d84b9d780b488cf919c5273686ee4e1a","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw"},"outputs":[{"deleteDisabled":true,"id":"29a875d9-0cc2-47a5-8abd-067a0eb9ff2a","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}},{"allowedFileType":["image"],"customParameterType":"xfyun-file","fileType":"file","id":"3c366695-8ab1-48dd-adbb-344b28776185","name":"file","nameErrMsg":"","required":false,"schema":{"properties":[],"type":"string"}}],"status":"","updatable":false},"dragging":false,"height":273,"id":"node-start::df679514-fa75-4d00-b709-56f15890a83e","position":{"x":-127.44397488890195,"y":246.17737998812248},"positionAbsolute":{"x":-127.44397488890195,"y":246.17737998812248},"selected":false,"type":"开始节点","width":658},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"id":"7ca4eea7-17fe-4bee-996e-02452f71fa18","name":"output1","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"4a4003fe-5c98-4df7-9545-cabc862abcc4","nodeId":"spark-llm::f2ebca50-65cb-4c00-b1b6-8bbd26e52d41"},"contentErrMsg":"","type":"ref"}}},{"id":"4b1b076f-95b2-4905-bf1a-5068162d2f62","name":"error1","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"d480ae6e-a743-46ab-a84e-fc19558b5163","nodeId":"text-joiner::3dd4fd23-18bd-42a9-8705-8e9fcc6330f7"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束","nodeType":"基础节点"},"nodeParam":{"template":"{{error1}}\\n{{output1}}","streamOutput":true,"apiKey":"d84b9d780b488cf919c5273686ee4e1a","templateErrMsg":"","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","outputMode":1},"outputs":[],"references":[{"children":[{"references":[{"originId":"spark-llm::f2ebca50-65cb-4c00-b1b6-8bbd26e52d41","id":"4a4003fe-5c98-4df7-9545-cabc862abcc4","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"大模型_1","parentNode":true,"value":"spark-llm::f2ebca50-65cb-4c00-b1b6-8bbd26e52d41"},{"children":[{"references":[{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"00b4aed2-ca27-4f9c-a522-12f4db77c751","label":"code","type":"number","value":"code","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","children":[{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"fbb440ae-1a98-4ba9-9415-6d75957e4acc","label":"file_index","type":"number","value":"data.file_index","parentType":"array-object","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","children":[{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"f6e85257-8e8a-49d5-8a45-3bca72a6e78b","label":"name","type":"string","value":"data.content.name","parentType":"array-object","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"b7b620c4-f447-4ea1-adc1-af3e89b44822","label":"value","type":"string","value":"data.content.value","parentType":"array-object","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"b84a01bb-4e08-436f-aed1-5eec3e76e959","label":"source_data","type":"string","value":"data.content.source_data","parentType":"array-object","fileType":""}],"id":"d6c91842-caf3-42d7-8571-ab374b4259ef","label":"content","type":"array-object","value":"data.content","parentType":"array-object","fileType":""}],"id":"dda69baf-afd4-4291-8b91-fb36e0395754","label":"data","type":"array-object","value":"data","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"b0180abd-be7a-444f-baf9-9e7617a5cc34","label":"message","type":"string","value":"message","fileType":""}],"label":"","value":""}],"label":"通用OCR大模型_1","parentNode":true,"value":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f"},{"children":[{"references":[{"originId":"node-start::df679514-fa75-4d00-b709-56f15890a83e","id":"29a875d9-0cc2-47a5-8abd-067a0eb9ff2a","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::df679514-fa75-4d00-b709-56f15890a83e","children":[],"id":"3c366695-8ab1-48dd-adbb-344b28776185","label":"file","type":"string","value":"file","fileType":"image"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::df679514-fa75-4d00-b709-56f15890a83e"},{"children":[{"references":[{"originId":"text-joiner::3dd4fd23-18bd-42a9-8705-8e9fcc6330f7","id":"d480ae6e-a743-46ab-a84e-fc19558b5163","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"文本拼接_1","parentNode":true,"value":"text-joiner::3dd4fd23-18bd-42a9-8705-8e9fcc6330f7"}],"status":"","updatable":false},"dragging":false,"height":665,"id":"node-end::116b098d-b9d4-4178-8637-9a4fe6d0e155","position":{"x":4050.111715083755,"y":23.574095425815628},"positionAbsolute":{"x":4050.111715083755,"y":23.574095425815628},"selected":false,"type":"结束节点","width":408},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"需要识别的ocr文件地址。当前支持图片和pdf","disabled":false,"id":"91f47602-1d6b-49ae-8ecf-0ef61caa3f13","name":"file_url","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"file","id":"3c366695-8ab1-48dd-adbb-344b28776185","nodeId":"node-start::df679514-fa75-4d00-b709-56f15890a83e"},"contentErrMsg":"","type":"ref"}}},{"description":"针对文档数据，指定识别的页码开始范围，从0开始，-1表示不限制","disabled":false,"id":"1d97e1f8-3af4-4fa7-a1dc-ce14f7e9bb98","name":"ocr_document_page_start","nameErrMsg":"","required":false,"schema":{"type":"integer","value":{"content":"0","contentErrMsg":"","type":"literal"}}},{"description":"针对文档数据，指定识别的页码结束范围，从0开始，-1表示不限制","disabled":false,"id":"481e2d2a-5254-4649-a142-34ada5b8065d","name":"ocr_document_page_end","nameErrMsg":"","required":false,"schema":{"type":"integer","value":{"content":"0","contentErrMsg":"","type":"literal"}}}],"label":"通用OCR大模型_1","labelEdit":false,"nodeMeta":{"aliasName":"通用OCR大模型_1","nodeType":"工具"},"nodeParam":{"uid":"0","code":"","toolDescription":"通用OCR大模型","apiKey":"d84b9d780b488cf919c5273686ee4e1a","pluginId":"tool@6dc893527421000","appId":"12a0a7e2","operationId":"通用OCR大模型-TIwV01Hv","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","businessInput":[]},"outputs":[{"id":"00b4aed2-ca27-4f9c-a522-12f4db77c751","name":"code","schema":{"type":"number"}},{"id":"dda69baf-afd4-4291-8b91-fb36e0395754","name":"data","schema":{"properties":[{"id":"fbb440ae-1a98-4ba9-9415-6d75957e4acc","name":"file_index","type":"number"},{"id":"d6c91842-caf3-42d7-8571-ab374b4259ef","name":"content","properties":[{"id":"f6e85257-8e8a-49d5-8a45-3bca72a6e78b","name":"name","type":"string"},{"id":"b7b620c4-f447-4ea1-adc1-af3e89b44822","name":"value","type":"string"},{"id":"b84a01bb-4e08-436f-aed1-5eec3e76e959","name":"source_data","type":"string"}],"type":"array-object"}],"type":"array-object"}},{"id":"b0180abd-be7a-444f-baf9-9e7617a5cc34","name":"message","schema":{"type":"string"}}],"references":[{"children":[{"references":[{"originId":"node-start::df679514-fa75-4d00-b709-56f15890a83e","id":"29a875d9-0cc2-47a5-8abd-067a0eb9ff2a","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::df679514-fa75-4d00-b709-56f15890a83e","children":[],"id":"3c366695-8ab1-48dd-adbb-344b28776185","label":"file","type":"string","value":"file","fileType":"image"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::df679514-fa75-4d00-b709-56f15890a83e"}],"status":"","updatable":false},"dragging":false,"height":455,"id":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","position":{"x":915.0777520721487,"y":223.32699615946845},"positionAbsolute":{"x":915.0777520721487,"y":223.32699615946845},"selected":false,"type":"工具","width":587},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"根据设立的条件，判断选择分支走向","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/if-else-node-icon.png","inputs":[{"id":"f9159718-43d5-48eb-88ed-40421bc2021f","name":"input","nameErrMsg":"","schema":{"type":"number","value":{"content":{"name":"code","id":"00b4aed2-ca27-4f9c-a522-12f4db77c751","nodeId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f"},"contentErrMsg":"","type":"ref"}}},{"id":"c7952a97-615a-432e-8bc4-1ae679f724f3","name":"input1","nameErrMsg":"","schema":{"type":"string","value":{"content":"0","contentErrMsg":"","type":"literal"}}}],"label":"分支器_1","labelEdit":false,"nodeMeta":{"aliasName":"分支器_1","nodeType":"分支器"},"nodeParam":{"uid":"0","cases":[{"level":1,"logicalOperator":"and","id":"branch_one_of::e0b7ae3d-cc5a-4a18-9213-6de9be0ebf0a","conditions":[{"leftVarIndex":"f9159718-43d5-48eb-88ed-40421bc2021f","rightVarIndex":"c7952a97-615a-432e-8bc4-1ae679f724f3","compareOperatorErrMsg":"","id":"","compareOperator":"is"}]},{"level":999,"logicalOperator":"and","id":"branch_one_of::6f23f678-7de8-4b55-ba28-8398e116213b","conditions":[]}],"apiKey":"d84b9d780b488cf919c5273686ee4e1a","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw"},"outputs":[],"references":[{"children":[{"references":[{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"00b4aed2-ca27-4f9c-a522-12f4db77c751","label":"code","type":"number","value":"code","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","children":[{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"fbb440ae-1a98-4ba9-9415-6d75957e4acc","label":"file_index","type":"number","value":"data.file_index","parentType":"array-object","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","children":[{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"f6e85257-8e8a-49d5-8a45-3bca72a6e78b","label":"name","type":"string","value":"data.content.name","parentType":"array-object","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"b7b620c4-f447-4ea1-adc1-af3e89b44822","label":"value","type":"string","value":"data.content.value","parentType":"array-object","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"b84a01bb-4e08-436f-aed1-5eec3e76e959","label":"source_data","type":"string","value":"data.content.source_data","parentType":"array-object","fileType":""}],"id":"d6c91842-caf3-42d7-8571-ab374b4259ef","label":"content","type":"array-object","value":"data.content","parentType":"array-object","fileType":""}],"id":"dda69baf-afd4-4291-8b91-fb36e0395754","label":"data","type":"array-object","value":"data","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"b0180abd-be7a-444f-baf9-9e7617a5cc34","label":"message","type":"string","value":"message","fileType":""}],"label":"","value":""}],"label":"通用OCR大模型_1","parentNode":true,"value":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f"},{"children":[{"references":[{"originId":"node-start::df679514-fa75-4d00-b709-56f15890a83e","id":"29a875d9-0cc2-47a5-8abd-067a0eb9ff2a","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::df679514-fa75-4d00-b709-56f15890a83e","children":[],"id":"3c366695-8ab1-48dd-adbb-344b28776185","label":"file","type":"string","value":"file","fileType":"image"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::df679514-fa75-4d00-b709-56f15890a83e"}],"status":"","updatable":false},"dragging":false,"height":368,"id":"if-else::26c50ed5-e049-440b-bd7f-80b3bd2a3717","position":{"x":1696.4562196893273,"y":186.70005901201745},"positionAbsolute":{"x":1696.4562196893273,"y":186.70005901201745},"selected":false,"type":"分支器","width":684},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"id":"6414e882-de8d-476a-bc4f-18dc35cc6f74","name":"ocr_result","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"data.content.value","id":"b7b620c4-f447-4ea1-adc1-af3e89b44822","nodeId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f"},"contentErrMsg":"","type":"ref"}}}],"label":"大模型_1","labelEdit":false,"nodeMeta":{"aliasName":"大模型_1","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"你是一个精准的数据提取员，能够仔细阅读用户提供的资料，准确提取指定 key 对应的 value 值。 只需输出用户要抽取的字段，多余字段请不要输出。确保按照输出示例以markdown 格式输出。\\n\\n# 提取参数流程\\nStep 1: 仔细阅读用户提供的数据，注意识别表格头部与数据行的对应关系\\nStep 2: 根据 key 名和描述，从提供的数据中提取相关参数。\\nStep 3: 将提取的参数构建为指定markdown格式。\\nStep 4: 确保 markdown 格式正确，请按照输出示例规整格式。\\n\\n# 输出结构\\nkey1:value1\\nkey2:value2\\n\\n\\n# 限制\\n1. 严格遵循给定的 markdown 格式，不添加额外内容，每个字段逐行输出。\\n2. value处理：\\n  2.1 若有多个值，用数组存储。\\n  2.2 若无相关值，设置为null，不进行推测和假设。\\n\\n# 用户需要抽取的文本字段（使用逗号分隔）：\\n保单名称，被保险人姓名，被保险人证件号码，车架号，机动车损失险，机动车第三者责任险，机动车损失保险金额，机动车第三者责任险保险限额，保费合计，保险起始日期，保单章，特别约定第一受益人\\n\\n#字段说明：\\n特别约定可能存在多条，需要全部逐条输出。\\n机动车损失险：取值为有或无，判断保单承保险种中是否购买了机动车责任险及其保险金额，如果有，则机动车损失险值为有，如果没有则值为无。\\n机动车责任险: 取值为有或无，取值判断保单单承保险种中是否购买了机动车责任险及其保险金额，如果有则取值为有，如果没有则取值为无。\\n特别约定第一受益人：取值为有或无，取值判断保单中是否有特别约定第一受益人，如果保障中有说明第一受益人，则取值为有，如果没有则取值为无。\\n\\n\\n# 用户提供的数据如下：\\n``````\\n{{ocr_result}}\\n\\n``````\\n\\n开始","enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"回答的tokens的最大长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"从k个中随机选择一个(非等概率)","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"apiKey":"d84b9d780b488cf919c5273686ee4e1a","auditing":"default","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","llmId":141,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"xdeepseekv3","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"xdeepseekv3","respFormat":0},"outputs":[{"id":"4a4003fe-5c98-4df7-9545-cabc862abcc4","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"00b4aed2-ca27-4f9c-a522-12f4db77c751","label":"code","type":"number","value":"code","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","children":[{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"fbb440ae-1a98-4ba9-9415-6d75957e4acc","label":"file_index","type":"number","value":"data.file_index","parentType":"array-object","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","children":[{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"f6e85257-8e8a-49d5-8a45-3bca72a6e78b","label":"name","type":"string","value":"data.content.name","parentType":"array-object","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"b7b620c4-f447-4ea1-adc1-af3e89b44822","label":"value","type":"string","value":"data.content.value","parentType":"array-object","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"b84a01bb-4e08-436f-aed1-5eec3e76e959","label":"source_data","type":"string","value":"data.content.source_data","parentType":"array-object","fileType":""}],"id":"d6c91842-caf3-42d7-8571-ab374b4259ef","label":"content","type":"array-object","value":"data.content","parentType":"array-object","fileType":""}],"id":"dda69baf-afd4-4291-8b91-fb36e0395754","label":"data","type":"array-object","value":"data","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"b0180abd-be7a-444f-baf9-9e7617a5cc34","label":"message","type":"string","value":"message","fileType":""}],"label":"","value":""}],"label":"通用OCR大模型_1","parentNode":true,"value":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f"},{"children":[{"references":[{"originId":"node-start::df679514-fa75-4d00-b709-56f15890a83e","id":"29a875d9-0cc2-47a5-8abd-067a0eb9ff2a","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::df679514-fa75-4d00-b709-56f15890a83e","children":[],"id":"3c366695-8ab1-48dd-adbb-344b28776185","label":"file","type":"string","value":"file","fileType":"image"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::df679514-fa75-4d00-b709-56f15890a83e"}],"status":"","updatable":false},"dragging":false,"height":1007,"id":"spark-llm::f2ebca50-65cb-4c00-b1b6-8bbd26e52d41","position":{"x":2793.1452155734514,"y":-201.0538092906114},"positionAbsolute":{"x":2793.1452155734514,"y":-201.0538092906114},"selected":false,"type":"大模型","width":687},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"将定义过的变量用{{变量名}}的方式引用，节点会按照拼接规则输出内容","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/text-splicing-icon.png","inputs":[{"id":"2739f936-c48f-4852-88f9-d4597226ab7f","name":"code","nameErrMsg":"","schema":{"type":"number","value":{"content":{"name":"code","id":"00b4aed2-ca27-4f9c-a522-12f4db77c751","nodeId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f"},"contentErrMsg":"","type":"ref"}}},{"id":"20149b0a-24fb-4c63-a470-0a87c7c32948","name":"message","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"message","id":"b0180abd-be7a-444f-baf9-9e7617a5cc34","nodeId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f"},"contentErrMsg":"","type":"ref"}}}],"label":"文本拼接_1","labelEdit":false,"nodeMeta":{"aliasName":"文本拼接_1","nodeType":"工具"},"nodeParam":{"uid":"0","apiKey":"d84b9d780b488cf919c5273686ee4e1a","separatorErrMsg":"","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","prompt":"{\\n  \\"code\\": {{code}},\\n  \\"message\\": \\"{{message}}\\"\\n}"},"outputs":[{"id":"d480ae6e-a743-46ab-a84e-fc19558b5163","name":"output","nameErrMsg":"","schema":{"type":"string"}}],"references":[{"children":[{"references":[{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"00b4aed2-ca27-4f9c-a522-12f4db77c751","label":"code","type":"number","value":"code","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","children":[{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"fbb440ae-1a98-4ba9-9415-6d75957e4acc","label":"file_index","type":"number","value":"data.file_index","parentType":"array-object","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","children":[{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"f6e85257-8e8a-49d5-8a45-3bca72a6e78b","label":"name","type":"string","value":"data.content.name","parentType":"array-object","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"b7b620c4-f447-4ea1-adc1-af3e89b44822","label":"value","type":"string","value":"data.content.value","parentType":"array-object","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"b84a01bb-4e08-436f-aed1-5eec3e76e959","label":"source_data","type":"string","value":"data.content.source_data","parentType":"array-object","fileType":""}],"id":"d6c91842-caf3-42d7-8571-ab374b4259ef","label":"content","type":"array-object","value":"data.content","parentType":"array-object","fileType":""}],"id":"dda69baf-afd4-4291-8b91-fb36e0395754","label":"data","type":"array-object","value":"data","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"b0180abd-be7a-444f-baf9-9e7617a5cc34","label":"message","type":"string","value":"message","fileType":""}],"label":"","value":""}],"label":"通用OCR大模型_1","parentNode":true,"value":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f"},{"children":[{"references":[{"originId":"node-start::df679514-fa75-4d00-b709-56f15890a83e","id":"29a875d9-0cc2-47a5-8abd-067a0eb9ff2a","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::df679514-fa75-4d00-b709-56f15890a83e","children":[],"id":"3c366695-8ab1-48dd-adbb-344b28776185","label":"file","type":"string","value":"file","fileType":"image"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::df679514-fa75-4d00-b709-56f15890a83e"}],"status":"","updatable":false},"dragging":false,"height":603,"id":"text-joiner::3dd4fd23-18bd-42a9-8705-8e9fcc6330f7","position":{"x":2811.520801757818,"y":846.1000785013766},"positionAbsolute":{"x":2811.520801757818,"y":846.1000785013766},"selected":false,"type":"文本拼接","width":587}]}', '{"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始节点","nodeType":"基础节点"},"nodeParam":{},"outputs":[{"deleteDisabled":true,"id":"29a875d9-0cc2-47a5-8abd-067a0eb9ff2a","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}},{"allowedFileType":["image"],"customParameterType":"xfyun-file","fileType":"file","id":"3c366695-8ab1-48dd-adbb-344b28776185","name":"file","nameErrMsg":"","required":false,"schema":{"properties":[],"type":"string"}}],"status":"","updatable":false},"dragging":false,"height":297,"id":"node-start::df679514-fa75-4d00-b709-56f15890a83e","position":{"x":-127.44397488890195,"y":246.17737998812248},"positionAbsolute":{"x":-127.44397488890195,"y":246.17737998812248},"selected":false,"type":"开始节点","width":658},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"fileType":"","id":"7ca4eea7-17fe-4bee-996e-02452f71fa18","name":"output1","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"4a4003fe-5c98-4df7-9545-cabc862abcc4","nodeId":"spark-llm::f2ebca50-65cb-4c00-b1b6-8bbd26e52d41"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"4b1b076f-95b2-4905-bf1a-5068162d2f62","name":"error1","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"d480ae6e-a743-46ab-a84e-fc19558b5163","nodeId":"text-joiner::3dd4fd23-18bd-42a9-8705-8e9fcc6330f7"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束节点","nodeType":"基础节点"},"nodeParam":{"template":"{{error1}}\\n{{output1}}","streamOutput":true,"templateErrMsg":"","outputMode":1},"outputs":[],"references":[{"children":[{"references":[{"originId":"spark-llm::f2ebca50-65cb-4c00-b1b6-8bbd26e52d41","id":"4a4003fe-5c98-4df7-9545-cabc862abcc4","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"保单字段抽取","parentNode":true,"value":"spark-llm::f2ebca50-65cb-4c00-b1b6-8bbd26e52d41"},{"children":[{"references":[{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"5ea01172-742d-4718-a611-87ecad605e89","label":"code","type":"number","value":"code","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","children":[{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"fbb440ae-1a98-4ba9-9415-6d75957e4acc","label":"file_index","type":"number","value":"data.file_index","parentType":"array-object","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","children":[{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"f6e85257-8e8a-49d5-8a45-3bca72a6e78b","label":"name","type":"string","value":"data.content.name","parentType":"array-object","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"b7b620c4-f447-4ea1-adc1-af3e89b44822","label":"value","type":"string","value":"data.content.value","parentType":"array-object","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"b84a01bb-4e08-436f-aed1-5eec3e76e959","label":"source_data","type":"string","value":"data.content.source_data","parentType":"array-object","fileType":""}],"id":"d6c91842-caf3-42d7-8571-ab374b4259ef","label":"content","type":"array-object","value":"data.content","parentType":"array-object","fileType":""}],"id":"1f034ae7-e033-43b5-a645-d2ee24b4e15a","label":"data","type":"array-object","value":"data","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"803cf099-60fc-464b-96fb-a256d2ba617e","label":"message","type":"string","value":"message","fileType":""}],"label":"","value":""}],"label":"通用OCR大模型_1","parentNode":true,"value":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f"},{"children":[{"references":[{"originId":"node-start::df679514-fa75-4d00-b709-56f15890a83e","id":"29a875d9-0cc2-47a5-8abd-067a0eb9ff2a","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::df679514-fa75-4d00-b709-56f15890a83e","children":[],"id":"3c366695-8ab1-48dd-adbb-344b28776185","label":"file","type":"string","value":"file","fileType":"image"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::df679514-fa75-4d00-b709-56f15890a83e"},{"children":[{"references":[{"originId":"text-joiner::3dd4fd23-18bd-42a9-8705-8e9fcc6330f7","id":"d480ae6e-a743-46ab-a84e-fc19558b5163","label":"output","type":"string","value":"output","fileType":""}],"label":"","value":""}],"label":"文本拼接_1","parentNode":true,"value":"text-joiner::3dd4fd23-18bd-42a9-8705-8e9fcc6330f7"}],"status":"","updatable":false},"dragging":false,"height":665,"id":"node-end::116b098d-b9d4-4178-8637-9a4fe6d0e155","position":{"x":4050.111715083755,"y":23.574095425815628},"positionAbsolute":{"x":4050.111715083755,"y":23.574095425815628},"selected":false,"type":"结束节点","width":408},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"需要识别的ocr文件地址。当前支持图片和pdf","disabled":false,"id":"ff9dcad7-b76c-4f2f-b75c-580b6ee10730","name":"file_url","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"file","id":"3c366695-8ab1-48dd-adbb-344b28776185","nodeId":"node-start::df679514-fa75-4d00-b709-56f15890a83e"},"contentErrMsg":"","type":"ref"}}},{"description":"针对文档数据，指定识别的页码开始范围，从0开始，-1表示不限制","disabled":false,"id":"12442b88-46b3-4036-9b2c-9870d5a544c5","name":"page_start","nameErrMsg":"","required":false,"schema":{"type":"integer","value":{"content":"0","contentErrMsg":"","type":"literal"}}},{"description":"针对文档数据，指定识别的页码结束范围，从0开始，-1表示不限制","disabled":false,"id":"3fc10e96-5d8d-4365-8575-ba1730370f8e","name":"page_end","nameErrMsg":"","required":false,"schema":{"type":"integer","value":{"content":"0","contentErrMsg":"","type":"literal"}}}],"isLatest":true,"label":"通用OCR大模型_1","labelEdit":false,"nodeMeta":{"aliasName":"通用OCR大模型","nodeType":"工具"},"nodeParam":{"uid":"0","code":"","toolDescription":"通用OCR大模型","pluginId":"tool@6dc893527421000","appId":"12a0a7e2","operationId":"通用OCR大模型-9ek2zzw4","version":"V2.0","businessInput":[]},"outputs":[{"id":"5ea01172-742d-4718-a611-87ecad605e89","name":"code","schema":{"type":"number"}},{"id":"1f034ae7-e033-43b5-a645-d2ee24b4e15a","name":"data","schema":{"properties":[{"id":"fbb440ae-1a98-4ba9-9415-6d75957e4acc","name":"file_index","type":"number"},{"id":"d6c91842-caf3-42d7-8571-ab374b4259ef","name":"content","properties":[{"id":"f6e85257-8e8a-49d5-8a45-3bca72a6e78b","name":"name","type":"string"},{"id":"b7b620c4-f447-4ea1-adc1-af3e89b44822","name":"value","type":"string"},{"id":"b84a01bb-4e08-436f-aed1-5eec3e76e959","name":"source_data","type":"string"}],"type":"array-object"}],"type":"array-object"}},{"id":"803cf099-60fc-464b-96fb-a256d2ba617e","name":"message","schema":{"type":"string"}}],"pluginName":"通用OCR大模型","references":[{"children":[{"references":[{"originId":"node-start::df679514-fa75-4d00-b709-56f15890a83e","id":"29a875d9-0cc2-47a5-8abd-067a0eb9ff2a","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::df679514-fa75-4d00-b709-56f15890a83e","children":[],"id":"3c366695-8ab1-48dd-adbb-344b28776185","label":"file","type":"string","value":"file","fileType":"image"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::df679514-fa75-4d00-b709-56f15890a83e"}],"status":"","updatable":false},"dragging":false,"height":515,"id":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","position":{"x":915.0777520721487,"y":223.32699615946845},"positionAbsolute":{"x":915.0777520721487,"y":223.32699615946845},"selected":false,"type":"工具","width":587},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"根据设立的条件，判断选择分支走向","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/if-else-node-icon.png","inputs":[{"id":"f9159718-43d5-48eb-88ed-40421bc2021f","name":"input","nameErrMsg":"","schema":{"type":"number","value":{"content":{"name":"code","id":"5ea01172-742d-4718-a611-87ecad605e89","nodeId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f"},"contentErrMsg":"","type":"ref"}}},{"id":"c7952a97-615a-432e-8bc4-1ae679f724f3","name":"input1","nameErrMsg":"","schema":{"type":"string","value":{"content":"0","contentErrMsg":"","type":"literal"}}}],"label":"分支器_1","labelEdit":false,"nodeMeta":{"aliasName":"分支器","nodeType":"分支器"},"nodeParam":{"uid":"0","cases":[{"level":1,"logicalOperator":"and","id":"branch_one_of::e0b7ae3d-cc5a-4a18-9213-6de9be0ebf0a","conditions":[{"leftVarIndex":"f9159718-43d5-48eb-88ed-40421bc2021f","rightVarIndex":"c7952a97-615a-432e-8bc4-1ae679f724f3","compareOperatorErrMsg":"","id":"","compareOperator":"is"}]},{"level":999,"logicalOperator":"and","id":"branch_one_of::6f23f678-7de8-4b55-ba28-8398e116213b","conditions":[]}],"appId":"12a0a7e2"},"outputs":[],"references":[{"children":[{"references":[{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"5ea01172-742d-4718-a611-87ecad605e89","label":"code","type":"number","value":"code","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","children":[{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"fbb440ae-1a98-4ba9-9415-6d75957e4acc","label":"file_index","type":"number","value":"data.file_index","parentType":"array-object","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","children":[{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"f6e85257-8e8a-49d5-8a45-3bca72a6e78b","label":"name","type":"string","value":"data.content.name","parentType":"array-object","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"b7b620c4-f447-4ea1-adc1-af3e89b44822","label":"value","type":"string","value":"data.content.value","parentType":"array-object","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"b84a01bb-4e08-436f-aed1-5eec3e76e959","label":"source_data","type":"string","value":"data.content.source_data","parentType":"array-object","fileType":""}],"id":"d6c91842-caf3-42d7-8571-ab374b4259ef","label":"content","type":"array-object","value":"data.content","parentType":"array-object","fileType":""}],"id":"1f034ae7-e033-43b5-a645-d2ee24b4e15a","label":"data","type":"array-object","value":"data","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"803cf099-60fc-464b-96fb-a256d2ba617e","label":"message","type":"string","value":"message","fileType":""}],"label":"","value":""}],"label":"通用OCR大模型_1","parentNode":true,"value":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f"},{"children":[{"references":[{"originId":"node-start::df679514-fa75-4d00-b709-56f15890a83e","id":"29a875d9-0cc2-47a5-8abd-067a0eb9ff2a","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::df679514-fa75-4d00-b709-56f15890a83e","children":[],"id":"3c366695-8ab1-48dd-adbb-344b28776185","label":"file","type":"string","value":"file","fileType":"image"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::df679514-fa75-4d00-b709-56f15890a83e"}],"status":"","updatable":false},"dragging":false,"height":368,"id":"if-else::26c50ed5-e049-440b-bd7f-80b3bd2a3717","position":{"x":1696.4562196893273,"y":186.70005901201745},"positionAbsolute":{"x":1696.4562196893273,"y":186.70005901201745},"selected":false,"type":"分支器","width":684},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"fileType":"","id":"6414e882-de8d-476a-bc4f-18dc35cc6f74","name":"ocr_result","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"data.content.value","id":"b7b620c4-f447-4ea1-adc1-af3e89b44822","nodeId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f"},"contentErrMsg":"","type":"ref"}}}],"label":"保单字段抽取","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"你是一个精准的数据提取员，能够仔细阅读用户提供的资料，准确提取指定 key 对应的 value 值。 只需输出用户要抽取的字段，多余字段请不要输出。确保按照输出示例以markdown 格式输出。\\n\\n# 提取参数流程\\nStep 1: 仔细阅读用户提供的数据，注意识别表格头部与数据行的对应关系\\nStep 2: 根据 key 名和描述，从提供的数据中提取相关参数。\\nStep 3: 将提取的参数构建为指定markdown格式。\\nStep 4: 确保 markdown 格式正确，请按照输出示例规整格式。\\n\\n# 输出结构\\nkey1:value1\\nkey2:value2\\n\\n\\n# 限制\\n1. 严格遵循给定的 markdown 格式，不添加额外内容，每个字段逐行输出。\\n2. value处理：\\n  2.1 若有多个值，用数组存储。\\n  2.2 若无相关值，设置为null，不进行推测和假设。\\n\\n# 用户需要抽取的文本字段（使用逗号分隔）：\\n保单名称，被保险人姓名，被保险人证件号码，车架号，机动车损失险，机动车第三者责任险，机动车损失保险金额，机动车第三者责任险保险限额，保费合计，保险起始日期，保单章，特别约定第一受益人\\n\\n#字段说明：\\n特别约定可能存在多条，需要全部逐条输出。\\n机动车损失险：取值为有或无，判断保单承保险种中是否购买了机动车责任险及其保险金额，如果有，则机动车损失险值为有，如果没有则值为无。\\n机动车责任险: 取值为有或无，取值判断保单单承保险种中是否购买了机动车责任险及其保险金额，如果有则取值为有，如果没有则取值为无。\\n特别约定第一受益人：取值为有或无，取值判断保单中是否有特别约定第一受益人，如果保障中有说明第一受益人，则取值为有，如果没有则取值为无。\\n\\n\\n# 用户提供的数据如下：\\n``````\\n{{ocr_result}}\\n\\n``````\\n\\n开始","enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"回答的tokens的最大长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"从k个中随机选择一个(非等概率)","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"auditing":"default","llmId":141,"url":"wss://maas-api.cn-huabei-1.xf-yun.com/v1.1/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"xdeepseekv3","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"xdeepseekv3","respFormat":0,"llmIdErrMsg":""},"outputs":[{"id":"4a4003fe-5c98-4df7-9545-cabc862abcc4","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"5ea01172-742d-4718-a611-87ecad605e89","label":"code","type":"number","value":"code","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","children":[{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"fbb440ae-1a98-4ba9-9415-6d75957e4acc","label":"file_index","type":"number","value":"data.file_index","parentType":"array-object","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","children":[{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"f6e85257-8e8a-49d5-8a45-3bca72a6e78b","label":"name","type":"string","value":"data.content.name","parentType":"array-object","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"b7b620c4-f447-4ea1-adc1-af3e89b44822","label":"value","type":"string","value":"data.content.value","parentType":"array-object","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"b84a01bb-4e08-436f-aed1-5eec3e76e959","label":"source_data","type":"string","value":"data.content.source_data","parentType":"array-object","fileType":""}],"id":"d6c91842-caf3-42d7-8571-ab374b4259ef","label":"content","type":"array-object","value":"data.content","parentType":"array-object","fileType":""}],"id":"1f034ae7-e033-43b5-a645-d2ee24b4e15a","label":"data","type":"array-object","value":"data","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"803cf099-60fc-464b-96fb-a256d2ba617e","label":"message","type":"string","value":"message","fileType":""}],"label":"","value":""}],"label":"通用OCR大模型_1","parentNode":true,"value":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f"},{"children":[{"references":[{"originId":"node-start::df679514-fa75-4d00-b709-56f15890a83e","id":"29a875d9-0cc2-47a5-8abd-067a0eb9ff2a","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::df679514-fa75-4d00-b709-56f15890a83e","children":[],"id":"3c366695-8ab1-48dd-adbb-344b28776185","label":"file","type":"string","value":"file","fileType":"image"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::df679514-fa75-4d00-b709-56f15890a83e"}],"status":"","updatable":false},"dragging":false,"height":1234,"id":"spark-llm::f2ebca50-65cb-4c00-b1b6-8bbd26e52d41","position":{"x":2793.1452155734514,"y":-201.0538092906114},"positionAbsolute":{"x":2793.1452155734514,"y":-201.0538092906114},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"将定义过的变量用{{变量名}}的方式引用，节点会按照拼接规则输出内容","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/text-splicing-icon.png","inputs":[{"fileType":"","id":"2739f936-c48f-4852-88f9-d4597226ab7f","name":"code","nameErrMsg":"","schema":{"type":"number","value":{"content":{"name":"code","id":"5ea01172-742d-4718-a611-87ecad605e89","nodeId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f"},"contentErrMsg":"","type":"ref"}}},{"fileType":"","id":"20149b0a-24fb-4c63-a470-0a87c7c32948","name":"message","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"message","id":"803cf099-60fc-464b-96fb-a256d2ba617e","nodeId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f"},"contentErrMsg":"","type":"ref"}}}],"label":"文本拼接_1","labelEdit":false,"nodeMeta":{"aliasName":"文本拼接","nodeType":"工具"},"nodeParam":{"uid":"0","separatorErrMsg":"","appId":"12a0a7e2","prompt":"{\\n  \\"code\\": {{code}},\\n  \\"message\\": \\"{{message}}\\"\\n}"},"outputs":[{"id":"d480ae6e-a743-46ab-a84e-fc19558b5163","name":"output","nameErrMsg":"","schema":{"type":"string"}}],"references":[{"children":[{"references":[{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"5ea01172-742d-4718-a611-87ecad605e89","label":"code","type":"number","value":"code","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","children":[{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"fbb440ae-1a98-4ba9-9415-6d75957e4acc","label":"file_index","type":"number","value":"data.file_index","parentType":"array-object","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","children":[{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"f6e85257-8e8a-49d5-8a45-3bca72a6e78b","label":"name","type":"string","value":"data.content.name","parentType":"array-object","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"b7b620c4-f447-4ea1-adc1-af3e89b44822","label":"value","type":"string","value":"data.content.value","parentType":"array-object","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"b84a01bb-4e08-436f-aed1-5eec3e76e959","label":"source_data","type":"string","value":"data.content.source_data","parentType":"array-object","fileType":""}],"id":"d6c91842-caf3-42d7-8571-ab374b4259ef","label":"content","type":"array-object","value":"data.content","parentType":"array-object","fileType":""}],"id":"1f034ae7-e033-43b5-a645-d2ee24b4e15a","label":"data","type":"array-object","value":"data","fileType":""},{"originId":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","id":"803cf099-60fc-464b-96fb-a256d2ba617e","label":"message","type":"string","value":"message","fileType":""}],"label":"","value":""}],"label":"通用OCR大模型_1","parentNode":true,"value":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f"},{"children":[{"references":[{"originId":"node-start::df679514-fa75-4d00-b709-56f15890a83e","id":"29a875d9-0cc2-47a5-8abd-067a0eb9ff2a","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT","fileType":""},{"originId":"node-start::df679514-fa75-4d00-b709-56f15890a83e","children":[],"id":"3c366695-8ab1-48dd-adbb-344b28776185","label":"file","type":"string","value":"file","fileType":"image"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::df679514-fa75-4d00-b709-56f15890a83e"}],"status":"","updatable":false},"dragging":false,"height":603,"id":"text-joiner::3dd4fd23-18bd-42a9-8705-8e9fcc6330f7","position":{"x":2781.20647042761,"y":1092.404020559316},"positionAbsolute":{"x":2781.20647042761,"y":1092.404020559316},"selected":false,"type":"文本拼接","width":587}],"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::df679514-fa75-4d00-b709-56f15890a83e-plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-start::df679514-fa75-4d00-b709-56f15890a83e","target":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f-if-else::26c50ed5-e049-440b-bd7f-80b3bd2a3717","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"plugin::88fa14a8-2c3f-45bb-a1a5-c5c025a9024f","target":"if-else::26c50ed5-e049-440b-bd7f-80b3bd2a3717","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::26c50ed5-e049-440b-bd7f-80b3bd2a3717branch_one_of::6f23f678-7de8-4b55-ba28-8398e116213b-text-joiner::3dd4fd23-18bd-42a9-8705-8e9fcc6330f7","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"if-else::26c50ed5-e049-440b-bd7f-80b3bd2a3717","sourceHandle":"branch_one_of::6f23f678-7de8-4b55-ba28-8398e116213b","target":"text-joiner::3dd4fd23-18bd-42a9-8705-8e9fcc6330f7","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-if-else::26c50ed5-e049-440b-bd7f-80b3bd2a3717branch_one_of::e0b7ae3d-cc5a-4a18-9213-6de9be0ebf0a-spark-llm::f2ebca50-65cb-4c00-b1b6-8bbd26e52d41","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"if-else::26c50ed5-e049-440b-bd7f-80b3bd2a3717","sourceHandle":"branch_one_of::e0b7ae3d-cc5a-4a18-9213-6de9be0ebf0a","target":"spark-llm::f2ebca50-65cb-4c00-b1b6-8bbd26e52d41","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::f2ebca50-65cb-4c00-b1b6-8bbd26e52d41-node-end::116b098d-b9d4-4178-8637-9a4fe6d0e155node-end::116b098d-b9d4-4178-8637-9a4fe6d0e155","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::f2ebca50-65cb-4c00-b1b6-8bbd26e52d41","target":"node-end::116b098d-b9d4-4178-8637-9a4fe6d0e155","targetHandle":"node-end::116b098d-b9d4-4178-8637-9a4fe6d0e155","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-text-joiner::3dd4fd23-18bd-42a9-8705-8e9fcc6330f7-node-end::116b098d-b9d4-4178-8637-9a4fe6d0e155node-end::116b098d-b9d4-4178-8637-9a4fe6d0e155","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"text-joiner::3dd4fd23-18bd-42a9-8705-8e9fcc6330f7","target":"node-end::116b098d-b9d4-4178-8637-9a4fe6d0e155","targetHandle":"node-end::116b098d-b9d4-4178-8637-9a4fe6d0e155","type":"customEdge"}]}', 'https://bjcdn.openstorage.cn/xinghuo-privatedata/personality/1741344082690.jpg?width=204&height=204', '#FFEAD5', 1, 1, 0, 0, NULL, 0, NULL, 2, NULL, 1, NULL, '{"prologue":{"enabled":true,"inputExample":["","",""],"prologueText":"一个专业的车险保单OCR提取小助手"},"needGuide":false}', NULL, NULL, NULL);
INSERT INTO workflow (id, uid, app_id, flow_id, name, description, deleted, is_public, create_time, update_time, published_data, `data`, avatar_icon, avatar_color, status, can_publish, app_updatable, top, edge_type, `order`, eval_set_id, source, bak, editing, eval_page_first_time, advanced_config, ext, category, space_id) VALUES(31094, 10374628632, '12a0a7e2', '7273250752174911488', '【模板勿动】大模型资讯小助手', '【模板勿动】大模型资讯小助手', 0, 0, '2024-12-13 16:21:50', '2025-07-01 14:20:58', '{"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3-ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","target":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1-spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","target":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105-spark-llm::b6217984-1375-483b-bb23-d623389150f9","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","target":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83-node-end::35c27b32-3a5d-41ba-8137-623d60c3cee2","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83","target":"node-end::35c27b32-3a5d-41ba-8137-623d60c3cee2","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::b6217984-1375-483b-bb23-d623389150f9-plugin::1ca7e695-da60-436d-aa09-c5efd895f527","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","target":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::1ca7e695-da60-436d-aa09-c5efd895f527-ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","target":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83","type":"customEdge"}],"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始","nodeType":"基础节点"},"nodeParam":{},"outputs":[{"deleteDisabled":true,"id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}}],"status":""},"dragging":false,"height":232,"id":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","position":{"x":0,"y":256.9962664348323},"positionAbsolute":{"x":-561.9636302884112,"y":-502.5764072506561},"selected":false,"type":"开始节点","width":658},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"id":"51f3a04e-9282-4408-af7d-18e7abe6f8b1","name":"output","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"result","id":"e212366c-9005-47a0-8303-b51909ae4636","nodeId":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束","nodeType":"基础节点"},"nodeParam":{"template":"{{output}}","streamOutput":false,"templateErrMsg":"","outputMode":1},"outputs":[],"references":[{"children":[{"references":[{"originId":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83","id":"e212366c-9005-47a0-8303-b51909ae4636","label":"result","type":"string","value":"result"}],"label":"","value":""}],"label":"输出格式美化","parentNode":true,"value":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83"},{"children":[{"references":[{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"e518c344-344c-413a-b339-aad7b6755f3f","label":"code","type":"number","value":"code"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"8894e78d-e884-484e-bf69-e28789e42909","label":"msg","type":"string","value":"msg"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"2715a61a-a44d-450a-a176-cceb2a34abc4","label":"total","type":"number","value":"total"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","children":[{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"8c2d2426-3098-4419-960c-6ec988dfabaf","label":"id","type":"number","value":"data.id","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"2673d03c-20c2-4ee6-a90d-e899ed5dccb4","label":"news_title","type":"string","value":"data.news_title","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"1e4b5411-ca88-41bb-afa6-d716fe743526","label":"news_link","type":"string","value":"data.news_link","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"6000b66a-77ff-415d-bd13-b676ec63fdd4","label":"news_img","type":"string","value":"data.news_img","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"e7bf1eed-9576-4f80-af5f-624ae7a3495d","label":"news_time","type":"string","value":"data.news_time","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"11159c8b-7970-46b5-a4ee-4bb5a01158db","label":"news_source","type":"string","value":"data.news_source","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"50af9fb3-5eed-45a3-b63d-d240dbed3243","label":"news_body","type":"string","value":"data.news_body","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"b826e26f-c219-4010-a7fe-165460f683d9","label":"news_summary","type":"string","value":"data.news_summary","parentType":"array-object"}],"id":"89785692-bc54-43a4-a15f-dbb517020c36","label":"data","type":"array-object","value":"data"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"5a25eca8-5e65-4b46-b6e3-33ed85563341","label":"page","type":"number","value":"page"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"fba5503f-cbde-45d7-aaf7-09a38765c583","label":"page_size","type":"number","value":"page_size"}],"label":"","value":""}],"label":"AI资讯收集工具","parentNode":true,"value":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527"},{"children":[{"references":[{"originId":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","id":"38b7de2a-323e-47fa-811d-3fe8de8eccc4","label":"start_time","type":"string","value":"start_time"}],"label":"","value":""}],"label":"计算开始时间","parentNode":true,"value":"spark-llm::b6217984-1375-483b-bb23-d623389150f9"},{"children":[{"references":[{"originId":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","id":"342749b3-84db-4b09-ac26-d6df7a1215a3","label":"end_time","type":"string","value":"end_time"}],"label":"","value":""}],"label":"计算结束时间","parentNode":true,"value":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105"},{"label":"获取当前时间","value":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","children":[{"label":"","value":"","references":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","originId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","label":"current_time","value":"current_time","type":"string"}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":""},"dragging":false,"height":451,"id":"node-end::35c27b32-3a5d-41ba-8137-623d60c3cee2","position":{"x":4332.755558665206,"y":147.17267664467417},"positionAbsolute":{"x":-379.59721843689675,"y":11.055456250577407},"selected":false,"type":"结束节点","width":408},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"id":"e74bb628-7809-4512-a543-6d8ab1121cf4","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","nodeId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"},"contentErrMsg":"","type":"ref"}}},{"id":"c7e29dc7-ff40-44ea-93ef-c18cddc25aae","name":"current_time","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"current_time","id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","nodeId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1"},"contentErrMsg":"","type":"ref"}}}],"label":"计算结束时间","labelEdit":false,"nodeMeta":{"aliasName":"计算结束时间","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"当前时间是{{current_time}},用户的问题是{{input}}。请基于以上信息输出资讯检索的结束时间，要求必须是yyyy-MM-dd结构，仅输出8位日期，不得有额外文本","enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"最大回复长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"生成多样性","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"apiKey":"d84b9d780b488cf919c5273686ee4e1a","auditing":"default","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"4.0Ultra","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm4","respFormat":0},"outputs":[{"id":"342749b3-84db-4b09-ac26-d6df7a1215a3","name":"end_time","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"获取当前时间","value":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","children":[{"label":"","value":"","references":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","originId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","label":"current_time","value":"current_time","type":"string"}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":""},"dragging":false,"height":644,"id":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","position":{"x":1491.6911799733232,"y":50.53480194836129},"positionAbsolute":{"x":-621.5692715272306,"y":-343.0339750941041},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"id":"42a41226-fae1-4bb7-943e-17890b31d223","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","nodeId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"},"contentErrMsg":"","type":"ref"}}},{"id":"9cc645f8-1052-48bb-8227-fd1860e044fc","name":"current_time","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"current_time","id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","nodeId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1"},"contentErrMsg":"","type":"ref"}}},{"id":"595cc875-dde7-48d7-923e-606de0488be0","name":"end_time","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"current_time","id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","nodeId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1"},"contentErrMsg":"","type":"ref"}}}],"label":"计算开始时间","labelEdit":false,"nodeMeta":{"aliasName":"计算开始时间","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"当前时间是{{current_time}},用户的问题是{{input}}，已知的结束时间是{{end_time}}。请基于以上信息输出资讯检索的开始时间，开始时间必须早于结束时间，至少早一天，日期结构要求必须是yyyy-MM-dd结构，仅输出8位日期，不得有额外文本","enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"最大回复长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"生成多样性","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"apiKey":"d84b9d780b488cf919c5273686ee4e1a","auditing":"default","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"4.0Ultra","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm4","respFormat":0},"outputs":[{"id":"38b7de2a-323e-47fa-811d-3fe8de8eccc4","name":"start_time","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","id":"342749b3-84db-4b09-ac26-d6df7a1215a3","label":"end_time","type":"string","value":"end_time"}],"label":"","value":""}],"label":"计算结束时间","parentNode":true,"value":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105"},{"label":"获取当前时间","value":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","children":[{"label":"","value":"","references":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","originId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","label":"current_time","value":"current_time","type":"string"}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":""},"dragging":false,"height":692,"id":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","position":{"x":2201.9572932545734,"y":26.481070169588406},"positionAbsolute":{"x":-189.24718432988846,"y":-343.4636583981619},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"id":"5f132795-1a9f-4120-95cf-f83de883227b","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","nodeId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"},"contentErrMsg":"","type":"ref"}}}],"label":"获取当前时间","labelEdit":false,"nodeMeta":{"aliasName":"获取当前时间","nodeType":"工具"},"nodeParam":{"uid":"0","code":"from datetime import datetime\\r\\n\\r\\ndef main(input):\\r\\n    # 获取当前时间\\r\\n    now = datetime.now()\\r\\n    # 格式化为 yyyy-MM-dd 的形式\\r\\n    time = now.strftime(''%Y-%m-%d'')\\r\\n    system_time = {\\r\\n        \\"current_time\\": time\\r\\n    }\\r\\n    return system_time","apiKey":"d84b9d780b488cf919c5273686ee4e1a","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","codeErrMsg":""},"outputs":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","name":"current_time","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":""},"dragging":false,"height":745,"id":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","position":{"x":781.4252155583081,"y":0},"positionAbsolute":{"x":-176.30314646833125,"y":-502.67031254547965},"selected":false,"type":"代码","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"id":"236ff198-46fc-417f-bcf8-ca77118e7e52","name":"json_data","nameErrMsg":"","schema":{"type":"array-object","value":{"content":{"name":"data","id":"89785692-bc54-43a4-a15f-dbb517020c36","nodeId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527"},"contentErrMsg":"","type":"ref"}}}],"label":"输出格式美化","labelEdit":false,"nodeMeta":{"aliasName":"输出格式美化","nodeType":"工具"},"nodeParam":{"uid":"0","code":"# -*- coding: utf-8 -*-\\nimport json\\n\\ndef main(json_data):\\n    result_str = \\"\\"\\n    for index, item in enumerate(json_data):\\n        # 提取标题、超链接和题图\\n        title = item.get(''news_title'', '''')\\n        link = item.get(''news_link'', '''')\\n        img = item.get(''news_img'', '''') \\n        summary = item.get(''news_summary'', '''') \\n        # 将结果添加到列表中\\n        #此处为新闻标题，并且设为可点击的超链接\\n        result_str+=\\"\\\\n\\"+str(index+1)+\\".\\"+f''<a href=\\"{link}\\">\\"{title}\\"</a>''+\\"\\\\n\\\\n\\"\\n        #此处为新闻摘要\\n        result_str+=\\"\\\\n资讯摘要：\\"+summary+\\"\\\\n\\"\\n        #此处为新闻题图\\n        result_str+=\\"![标题](\\"+img+\\")\\"\\n    \\n    result={\\"result\\":result_str}\\n    return result","apiKey":"d84b9d780b488cf919c5273686ee4e1a","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","codeErrMsg":""},"outputs":[{"id":"e212366c-9005-47a0-8303-b51909ae4636","name":"result","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"e518c344-344c-413a-b339-aad7b6755f3f","label":"code","type":"number","value":"code"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"8894e78d-e884-484e-bf69-e28789e42909","label":"msg","type":"string","value":"msg"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"2715a61a-a44d-450a-a176-cceb2a34abc4","label":"total","type":"number","value":"total"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","children":[{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"8c2d2426-3098-4419-960c-6ec988dfabaf","label":"id","type":"number","value":"data.id","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"2673d03c-20c2-4ee6-a90d-e899ed5dccb4","label":"news_title","type":"string","value":"data.news_title","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"1e4b5411-ca88-41bb-afa6-d716fe743526","label":"news_link","type":"string","value":"data.news_link","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"6000b66a-77ff-415d-bd13-b676ec63fdd4","label":"news_img","type":"string","value":"data.news_img","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"e7bf1eed-9576-4f80-af5f-624ae7a3495d","label":"news_time","type":"string","value":"data.news_time","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"11159c8b-7970-46b5-a4ee-4bb5a01158db","label":"news_source","type":"string","value":"data.news_source","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"50af9fb3-5eed-45a3-b63d-d240dbed3243","label":"news_body","type":"string","value":"data.news_body","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"b826e26f-c219-4010-a7fe-165460f683d9","label":"news_summary","type":"string","value":"data.news_summary","parentType":"array-object"}],"id":"89785692-bc54-43a4-a15f-dbb517020c36","label":"data","type":"array-object","value":"data"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"5a25eca8-5e65-4b46-b6e3-33ed85563341","label":"page","type":"number","value":"page"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"fba5503f-cbde-45d7-aaf7-09a38765c583","label":"page_size","type":"number","value":"page_size"}],"label":"","value":""}],"label":"AI资讯收集工具","parentNode":true,"value":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527"},{"children":[{"references":[{"originId":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","id":"38b7de2a-323e-47fa-811d-3fe8de8eccc4","label":"start_time","type":"string","value":"start_time"}],"label":"","value":""}],"label":"计算开始时间","parentNode":true,"value":"spark-llm::b6217984-1375-483b-bb23-d623389150f9"},{"children":[{"references":[{"originId":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","id":"342749b3-84db-4b09-ac26-d6df7a1215a3","label":"end_time","type":"string","value":"end_time"}],"label":"","value":""}],"label":"计算结束时间","parentNode":true,"value":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105"},{"label":"获取当前时间","value":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","children":[{"label":"","value":"","references":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","originId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","label":"current_time","value":"current_time","type":"string"}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":""},"dragging":false,"height":745,"id":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83","position":{"x":3622.489445383956,"y":0},"positionAbsolute":{"x":-189.6437693878923,"y":-173.57959398950644},"selected":true,"type":"代码","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"搜索关键字","disabled":false,"id":"2ca10c2d-6559-4633-aa0f-781e67d08c48","name":"keywords","nameErrMsg":"","required":false,"schema":{"type":"string","value":{"content":{"name":"","nodeId":""},"contentErrMsg":"","type":"ref"}},"type":"string"},{"description":"开始时间","disabled":false,"id":"afea7ff6-f5eb-4011-b553-088fa37ae139","name":"start_time","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"start_time","id":"38b7de2a-323e-47fa-811d-3fe8de8eccc4","nodeId":"spark-llm::b6217984-1375-483b-bb23-d623389150f9"},"contentErrMsg":"","type":"ref"}},"type":"string"},{"description":"结束时间","disabled":false,"id":"2e8361a0-4ec4-4db3-8218-8a23312406ac","name":"end_time","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"end_time","id":"342749b3-84db-4b09-ac26-d6df7a1215a3","nodeId":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105"},"contentErrMsg":"","type":"ref"}},"type":"string"},{"description":"页码","disabled":true,"id":"6f9428b9-dc86-48e0-af0a-82bf3e1e19a3","name":"page","nameErrMsg":"","required":true,"schema":{"type":"number","value":{"content":"1","contentErrMsg":"","type":"literal"}},"type":"number"},{"description":"每页条数","disabled":true,"id":"fe1268e7-9a23-4380-b848-a811a9a14187","name":"page_size","nameErrMsg":"","required":true,"schema":{"type":"number","value":{"content":"5","contentErrMsg":"","type":"literal"}},"type":"number"}],"label":"AI资讯收集工具","labelEdit":false,"nodeMeta":{"aliasName":"AI资讯收集工具","nodeType":"工具"},"nodeParam":{"uid":"0","code":"","toolDescription":"针对大模型最新技术的资讯收集","apiKey":"d84b9d780b488cf919c5273686ee4e1a","pluginId":"tool@6fefaedc6821000","appId":"12a0a7e2","operationId":"AI资讯收集-koAieDub","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","businessInput":["keywords","start_time","end_time"]},"outputs":[{"id":"e518c344-344c-413a-b339-aad7b6755f3f","name":"code","nameErrMsg":"","required":true,"schema":{"type":"number"}},{"id":"8894e78d-e884-484e-bf69-e28789e42909","name":"msg","nameErrMsg":"","required":true,"schema":{"default":"","type":"string"}},{"id":"2715a61a-a44d-450a-a176-cceb2a34abc4","name":"total","nameErrMsg":"","required":true,"schema":{"type":"number"}},{"id":"89785692-bc54-43a4-a15f-dbb517020c36","name":"data","nameErrMsg":"","required":true,"schema":{"properties":[{"id":"8c2d2426-3098-4419-960c-6ec988dfabaf","name":"id","required":true,"type":"number"},{"id":"2673d03c-20c2-4ee6-a90d-e899ed5dccb4","name":"news_title","required":true,"type":"string"},{"id":"1e4b5411-ca88-41bb-afa6-d716fe743526","name":"news_link","required":true,"type":"string"},{"id":"6000b66a-77ff-415d-bd13-b676ec63fdd4","name":"news_img","required":true,"type":"string"},{"id":"e7bf1eed-9576-4f80-af5f-624ae7a3495d","name":"news_time","required":true,"type":"string"},{"id":"11159c8b-7970-46b5-a4ee-4bb5a01158db","name":"news_source","required":true,"type":"string"},{"id":"50af9fb3-5eed-45a3-b63d-d240dbed3243","name":"news_body","required":true,"type":"string"},{"id":"b826e26f-c219-4010-a7fe-165460f683d9","name":"news_summary","required":true,"type":"string"}],"type":"array-object"}},{"id":"5a25eca8-5e65-4b46-b6e3-33ed85563341","name":"page","nameErrMsg":"","required":true,"schema":{"type":"number"}},{"id":"fba5503f-cbde-45d7-aaf7-09a38765c583","name":"page_size","nameErrMsg":"","required":true,"schema":{"type":"number"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","id":"38b7de2a-323e-47fa-811d-3fe8de8eccc4","label":"start_time","type":"string","value":"start_time"}],"label":"","value":""}],"label":"计算开始时间","parentNode":true,"value":"spark-llm::b6217984-1375-483b-bb23-d623389150f9"},{"children":[{"references":[{"originId":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","id":"342749b3-84db-4b09-ac26-d6df7a1215a3","label":"end_time","type":"string","value":"end_time"}],"label":"","value":""}],"label":"计算结束时间","parentNode":true,"value":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105"},{"label":"获取当前时间","value":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","children":[{"label":"","value":"","references":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","originId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","label":"current_time","value":"current_time","type":"string"}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":""},"dragging":false,"height":635,"id":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","position":{"x":2912.2234065358234,"y":54.96658697360897},"positionAbsolute":{"x":-608.5244305047684,"y":-173.45238156869405},"selected":false,"type":"工具","width":587}]}', '{"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始节点","nodeType":"基础节点"},"nodeParam":{},"outputs":[{"deleteDisabled":true,"id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}}],"status":"","updatable":false},"dragging":false,"height":256,"id":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","position":{"x":0,"y":256.9962664348323},"positionAbsolute":{"x":-561.9636302884112,"y":-502.5764072506561},"selected":false,"type":"开始节点","width":658},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"id":"51f3a04e-9282-4408-af7d-18e7abe6f8b1","name":"output","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"result","id":"e212366c-9005-47a0-8303-b51909ae4636","nodeId":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束节点","nodeType":"基础节点"},"nodeParam":{"template":"{{output}}","streamOutput":false,"templateErrMsg":"","outputMode":1},"outputs":[],"references":[{"children":[{"references":[{"originId":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83","id":"e212366c-9005-47a0-8303-b51909ae4636","label":"result","type":"string","value":"result"}],"label":"","value":""}],"label":"输出格式美化","parentNode":true,"value":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83"},{"children":[{"references":[{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"e518c344-344c-413a-b339-aad7b6755f3f","label":"code","type":"number","value":"code"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"8894e78d-e884-484e-bf69-e28789e42909","label":"msg","type":"string","value":"msg"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"2715a61a-a44d-450a-a176-cceb2a34abc4","label":"total","type":"number","value":"total"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","children":[{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"8c2d2426-3098-4419-960c-6ec988dfabaf","label":"id","type":"number","value":"data.id","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"2673d03c-20c2-4ee6-a90d-e899ed5dccb4","label":"news_title","type":"string","value":"data.news_title","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"1e4b5411-ca88-41bb-afa6-d716fe743526","label":"news_link","type":"string","value":"data.news_link","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"6000b66a-77ff-415d-bd13-b676ec63fdd4","label":"news_img","type":"string","value":"data.news_img","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"e7bf1eed-9576-4f80-af5f-624ae7a3495d","label":"news_time","type":"string","value":"data.news_time","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"11159c8b-7970-46b5-a4ee-4bb5a01158db","label":"news_source","type":"string","value":"data.news_source","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"50af9fb3-5eed-45a3-b63d-d240dbed3243","label":"news_body","type":"string","value":"data.news_body","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"b826e26f-c219-4010-a7fe-165460f683d9","label":"news_summary","type":"string","value":"data.news_summary","parentType":"array-object"}],"id":"89785692-bc54-43a4-a15f-dbb517020c36","label":"data","type":"array-object","value":"data"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"5a25eca8-5e65-4b46-b6e3-33ed85563341","label":"page","type":"number","value":"page"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"fba5503f-cbde-45d7-aaf7-09a38765c583","label":"page_size","type":"number","value":"page_size"}],"label":"","value":""}],"label":"AI资讯收集工具","parentNode":true,"value":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527"},{"children":[{"references":[{"originId":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","id":"38b7de2a-323e-47fa-811d-3fe8de8eccc4","label":"start_time","type":"string","value":"start_time"}],"label":"","value":""}],"label":"计算开始时间","parentNode":true,"value":"spark-llm::b6217984-1375-483b-bb23-d623389150f9"},{"children":[{"references":[{"originId":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","id":"342749b3-84db-4b09-ac26-d6df7a1215a3","label":"end_time","type":"string","value":"end_time"}],"label":"","value":""}],"label":"计算结束时间","parentNode":true,"value":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105"},{"label":"获取当前时间","value":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","children":[{"label":"","value":"","references":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","originId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","label":"current_time","value":"current_time","type":"string"}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":"","updatable":false},"dragging":false,"height":617,"id":"node-end::35c27b32-3a5d-41ba-8137-623d60c3cee2","position":{"x":4332.755558665206,"y":147.17267664467417},"positionAbsolute":{"x":-379.59721843689675,"y":11.055456250577407},"selected":false,"type":"结束节点","width":408},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"id":"e74bb628-7809-4512-a543-6d8ab1121cf4","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","nodeId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"},"contentErrMsg":"","type":"ref"}}},{"id":"c7e29dc7-ff40-44ea-93ef-c18cddc25aae","name":"current_time","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"current_time","id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","nodeId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1"},"contentErrMsg":"","type":"ref"}}}],"label":"计算结束时间","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"当前时间是{{current_time}},用户的问题是{{input}}。请基于以上信息输出资讯检索的结束时间，要求必须是yyyy-MM-dd结构，仅输出8位日期，不得有额外文本","enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"最大回复长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"生成多样性","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"auditing":"default","url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"4.0Ultra","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm4","respFormat":0},"outputs":[{"id":"342749b3-84db-4b09-ac26-d6df7a1215a3","name":"end_time","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"获取当前时间","value":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","children":[{"label":"","value":"","references":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","originId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","label":"current_time","value":"current_time","type":"string"}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":"","updatable":false},"dragging":false,"height":644,"id":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","position":{"x":1491.6911799733232,"y":50.53480194836129},"positionAbsolute":{"x":-621.5692715272306,"y":-343.0339750941041},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"id":"42a41226-fae1-4bb7-943e-17890b31d223","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","nodeId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"},"contentErrMsg":"","type":"ref"}}},{"id":"9cc645f8-1052-48bb-8227-fd1860e044fc","name":"current_time","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"current_time","id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","nodeId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1"},"contentErrMsg":"","type":"ref"}}},{"id":"595cc875-dde7-48d7-923e-606de0488be0","name":"end_time","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"current_time","id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","nodeId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1"},"contentErrMsg":"","type":"ref"}}}],"label":"计算开始时间","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"当前时间是{{current_time}},用户的问题是{{input}}，已知的结束时间是{{end_time}}。请基于以上信息输出资讯检索的开始时间，开始时间必须早于结束时间，至少早一天，日期结构要求必须是yyyy-MM-dd结构，仅输出8位日期，不得有额外文本","enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"最大回复长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"生成多样性","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"auditing":"default","url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"4.0Ultra","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm4","respFormat":0},"outputs":[{"id":"38b7de2a-323e-47fa-811d-3fe8de8eccc4","name":"start_time","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","id":"342749b3-84db-4b09-ac26-d6df7a1215a3","label":"end_time","type":"string","value":"end_time"}],"label":"","value":""}],"label":"计算结束时间","parentNode":true,"value":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105"},{"label":"获取当前时间","value":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","children":[{"label":"","value":"","references":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","originId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","label":"current_time","value":"current_time","type":"string"}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":"","updatable":false},"dragging":false,"height":692,"id":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","position":{"x":2201.9572932545734,"y":26.481070169588406},"positionAbsolute":{"x":-189.24718432988846,"y":-343.4636583981619},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"id":"5f132795-1a9f-4120-95cf-f83de883227b","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","nodeId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"},"contentErrMsg":"","type":"ref"}}}],"label":"获取当前时间","labelEdit":false,"nodeMeta":{"aliasName":"代码","nodeType":"工具"},"nodeParam":{"uid":"0","code":"from datetime import datetime\\r\\n\\r\\ndef main(input):\\r\\n    # 获取当前时间\\r\\n    now = datetime.now()\\r\\n    # 格式化为 yyyy-MM-dd 的形式\\r\\n    time = now.strftime(''%Y-%m-%d'')\\r\\n    system_time = {\\r\\n        \\"current_time\\": time\\r\\n    }\\r\\n    return system_time","appId":"12a0a7e2","codeErrMsg":""},"outputs":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","name":"current_time","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":"","updatable":false},"dragging":false,"height":745,"id":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","position":{"x":781.4252155583081,"y":0},"positionAbsolute":{"x":-176.30314646833125,"y":-502.67031254547965},"selected":false,"type":"代码","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"id":"236ff198-46fc-417f-bcf8-ca77118e7e52","name":"json_data","nameErrMsg":"","schema":{"type":"array-object","value":{"content":{"name":"data","id":"89785692-bc54-43a4-a15f-dbb517020c36","nodeId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527"},"contentErrMsg":"","type":"ref"}}}],"label":"输出格式美化","labelEdit":false,"nodeMeta":{"aliasName":"代码","nodeType":"工具"},"nodeParam":{"uid":"0","code":"# -*- coding: utf-8 -*-\\nimport json\\n\\ndef main(json_data):\\n    result_str = \\"\\"\\n    for index, item in enumerate(json_data):\\n        # 提取标题、超链接和题图\\n        title = item.get(''news_title'', '''')\\n        link = item.get(''news_link'', '''')\\n        img = item.get(''news_img'', '''') \\n        summary = item.get(''news_summary'', '''') \\n        # 将结果添加到列表中\\n        #此处为新闻标题，并且设为可点击的超链接\\n        result_str+=\\"\\\\n\\"+str(index+1)+\\".\\"+f''<a href=\\"{link}\\">\\"{title}\\"</a>''+\\"\\\\n\\\\n\\"\\n        #此处为新闻摘要\\n        result_str+=\\"\\\\n资讯摘要：\\"+summary+\\"\\\\n\\"\\n        #此处为新闻题图\\n        result_str+=\\"![标题](\\"+img+\\")\\"\\n    \\n    result={\\"result\\":result_str}\\n    return result","appId":"12a0a7e2","codeErrMsg":""},"outputs":[{"id":"e212366c-9005-47a0-8303-b51909ae4636","name":"result","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"e518c344-344c-413a-b339-aad7b6755f3f","label":"code","type":"number","value":"code"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"8894e78d-e884-484e-bf69-e28789e42909","label":"msg","type":"string","value":"msg"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"2715a61a-a44d-450a-a176-cceb2a34abc4","label":"total","type":"number","value":"total"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","children":[{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"8c2d2426-3098-4419-960c-6ec988dfabaf","label":"id","type":"number","value":"data.id","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"2673d03c-20c2-4ee6-a90d-e899ed5dccb4","label":"news_title","type":"string","value":"data.news_title","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"1e4b5411-ca88-41bb-afa6-d716fe743526","label":"news_link","type":"string","value":"data.news_link","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"6000b66a-77ff-415d-bd13-b676ec63fdd4","label":"news_img","type":"string","value":"data.news_img","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"e7bf1eed-9576-4f80-af5f-624ae7a3495d","label":"news_time","type":"string","value":"data.news_time","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"11159c8b-7970-46b5-a4ee-4bb5a01158db","label":"news_source","type":"string","value":"data.news_source","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"50af9fb3-5eed-45a3-b63d-d240dbed3243","label":"news_body","type":"string","value":"data.news_body","parentType":"array-object"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"b826e26f-c219-4010-a7fe-165460f683d9","label":"news_summary","type":"string","value":"data.news_summary","parentType":"array-object"}],"id":"89785692-bc54-43a4-a15f-dbb517020c36","label":"data","type":"array-object","value":"data"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"5a25eca8-5e65-4b46-b6e3-33ed85563341","label":"page","type":"number","value":"page"},{"originId":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","id":"fba5503f-cbde-45d7-aaf7-09a38765c583","label":"page_size","type":"number","value":"page_size"}],"label":"","value":""}],"label":"AI资讯收集工具","parentNode":true,"value":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527"},{"children":[{"references":[{"originId":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","id":"38b7de2a-323e-47fa-811d-3fe8de8eccc4","label":"start_time","type":"string","value":"start_time"}],"label":"","value":""}],"label":"计算开始时间","parentNode":true,"value":"spark-llm::b6217984-1375-483b-bb23-d623389150f9"},{"children":[{"references":[{"originId":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","id":"342749b3-84db-4b09-ac26-d6df7a1215a3","label":"end_time","type":"string","value":"end_time"}],"label":"","value":""}],"label":"计算结束时间","parentNode":true,"value":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105"},{"label":"获取当前时间","value":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","children":[{"label":"","value":"","references":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","originId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","label":"current_time","value":"current_time","type":"string"}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":"","updatable":false},"dragging":false,"height":745,"id":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83","position":{"x":3622.489445383956,"y":0},"positionAbsolute":{"x":-189.6437693878923,"y":-173.57959398950644},"selected":false,"type":"代码","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"搜索关键字","disabled":false,"id":"2ca10c2d-6559-4633-aa0f-781e67d08c48","name":"keywords","nameErrMsg":"","required":false,"schema":{"type":"string","value":{"content":{"name":"","nodeId":""},"contentErrMsg":"","type":"ref"}}},{"description":"开始时间","disabled":false,"id":"afea7ff6-f5eb-4011-b553-088fa37ae139","name":"start_time","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"start_time","id":"38b7de2a-323e-47fa-811d-3fe8de8eccc4","nodeId":"spark-llm::b6217984-1375-483b-bb23-d623389150f9"},"contentErrMsg":"","type":"ref"}}},{"description":"结束时间","disabled":false,"id":"2e8361a0-4ec4-4db3-8218-8a23312406ac","name":"end_time","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"end_time","id":"342749b3-84db-4b09-ac26-d6df7a1215a3","nodeId":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105"},"contentErrMsg":"","type":"ref"}}},{"description":"页码","disabled":true,"id":"6f9428b9-dc86-48e0-af0a-82bf3e1e19a3","name":"page","nameErrMsg":"","required":true,"schema":{"type":"number","value":{"content":"1","contentErrMsg":"","type":"literal"}}},{"description":"每页条数","disabled":true,"id":"fe1268e7-9a23-4380-b848-a811a9a14187","name":"page_size","nameErrMsg":"","required":true,"schema":{"type":"number","value":{"content":"5","contentErrMsg":"","type":"literal"}}}],"label":"AI资讯收集工具","labelEdit":false,"nodeMeta":{"aliasName":"AI资讯收集","nodeType":"工具"},"nodeParam":{"uid":"0","code":"","toolDescription":"针对大模型最新技术的资讯收集","pluginId":"tool@6fefaedc6821000","appId":"12a0a7e2","operationId":"AI资讯收集-koAieDub","businessInput":["keywords","start_time","end_time"]},"outputs":[{"id":"e518c344-344c-413a-b339-aad7b6755f3f","name":"code","nameErrMsg":"","required":true,"schema":{"type":"number"}},{"id":"8894e78d-e884-484e-bf69-e28789e42909","name":"msg","nameErrMsg":"","required":true,"schema":{"default":"","type":"string"}},{"id":"2715a61a-a44d-450a-a176-cceb2a34abc4","name":"total","nameErrMsg":"","required":true,"schema":{"type":"number"}},{"id":"89785692-bc54-43a4-a15f-dbb517020c36","name":"data","nameErrMsg":"","required":true,"schema":{"properties":[{"id":"8c2d2426-3098-4419-960c-6ec988dfabaf","name":"id","required":true,"type":"number"},{"id":"2673d03c-20c2-4ee6-a90d-e899ed5dccb4","name":"news_title","required":true,"type":"string"},{"id":"1e4b5411-ca88-41bb-afa6-d716fe743526","name":"news_link","required":true,"type":"string"},{"id":"6000b66a-77ff-415d-bd13-b676ec63fdd4","name":"news_img","required":true,"type":"string"},{"id":"e7bf1eed-9576-4f80-af5f-624ae7a3495d","name":"news_time","required":true,"type":"string"},{"id":"11159c8b-7970-46b5-a4ee-4bb5a01158db","name":"news_source","required":true,"type":"string"},{"id":"50af9fb3-5eed-45a3-b63d-d240dbed3243","name":"news_body","required":true,"type":"string"},{"id":"b826e26f-c219-4010-a7fe-165460f683d9","name":"news_summary","required":true,"type":"string"}],"type":"array-object"}},{"id":"5a25eca8-5e65-4b46-b6e3-33ed85563341","name":"page","nameErrMsg":"","required":true,"schema":{"type":"number"}},{"id":"fba5503f-cbde-45d7-aaf7-09a38765c583","name":"page_size","nameErrMsg":"","required":true,"schema":{"type":"number"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","id":"38b7de2a-323e-47fa-811d-3fe8de8eccc4","label":"start_time","type":"string","value":"start_time"}],"label":"","value":""}],"label":"计算开始时间","parentNode":true,"value":"spark-llm::b6217984-1375-483b-bb23-d623389150f9"},{"children":[{"references":[{"originId":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","id":"342749b3-84db-4b09-ac26-d6df7a1215a3","label":"end_time","type":"string","value":"end_time"}],"label":"","value":""}],"label":"计算结束时间","parentNode":true,"value":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105"},{"label":"获取当前时间","value":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","children":[{"label":"","value":"","references":[{"id":"cdcc19b3-0cc5-4f49-9c8d-7790531faf1c","originId":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","label":"current_time","value":"current_time","type":"string"}]}],"parentNode":true},{"children":[{"references":[{"originId":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","id":"59b0eb48-bd2e-4028-8436-da67ee6f4bf8","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3"}],"status":"","updatable":false},"dragging":false,"height":635,"id":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","position":{"x":2912.2234065358234,"y":54.96658697360897},"positionAbsolute":{"x":-608.5244305047684,"y":-173.45238156869405},"selected":false,"type":"工具","width":587}],"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3-ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-start::ab64b144-1ef7-427d-84e5-c0cbf84b63d3","target":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1-spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"ifly-code::2bbc6cdd-8464-4f48-aff8-3352d8c3f1d1","target":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105-spark-llm::b6217984-1375-483b-bb23-d623389150f9","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::1f8c7b9f-37c9-4bae-8942-d01f78892105","target":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83-node-end::35c27b32-3a5d-41ba-8137-623d60c3cee2","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83","target":"node-end::35c27b32-3a5d-41ba-8137-623d60c3cee2","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::b6217984-1375-483b-bb23-d623389150f9-plugin::1ca7e695-da60-436d-aa09-c5efd895f527","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::b6217984-1375-483b-bb23-d623389150f9","target":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::1ca7e695-da60-436d-aa09-c5efd895f527-ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"plugin::1ca7e695-da60-436d-aa09-c5efd895f527","target":"ifly-code::9b4246a7-6b24-4944-8ee9-bf22628bfd83","type":"customEdge"}]}', 'https://bjcdn.openstorage.cn/xinghuo-privatedata/personality/1729649279117.jpg?width=204&height=204', '', 1, 1, 0, 0, NULL, 0, 31536, 2, NULL, 1, NULL, '{"needGuide":false}', NULL, NULL, NULL);
INSERT INTO workflow (id, uid, app_id, flow_id, name, description, deleted, is_public, create_time, update_time, published_data, `data`, avatar_icon, avatar_color, status, can_publish, app_updatable, top, edge_type, `order`, eval_set_id, source, bak, editing, eval_page_first_time, advanced_config, ext, category, space_id) VALUES(29516, 14392046347, '12a0a7e2', '7272443553274302464', '还不知道问大模型什么吗？', '还不知道问大模型什么吗？', 0, 0, '2024-12-11 10:54:19', '2025-03-14 05:30:00', '{"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::b840eda8-153a-43f4-936e-581f0f6c6f80-decision-making::65939c94-4d5c-4001-8be2-7f130a850b58","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-start::b840eda8-153a-43f4-936e-581f0f6c6f80","target":"decision-making::65939c94-4d5c-4001-8be2-7f130a850b58","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-decision-making::65939c94-4d5c-4001-8be2-7f130a850b58intent-one-of::f8266d29-f9ba-465b-b5b4-a76d71cd0187-spark-llm::6613205b-d520-4305-9f42-76ba8fdb7f3e","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"decision-making::65939c94-4d5c-4001-8be2-7f130a850b58","sourceHandle":"intent-one-of::f8266d29-f9ba-465b-b5b4-a76d71cd0187","target":"spark-llm::6613205b-d520-4305-9f42-76ba8fdb7f3e","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-decision-making::65939c94-4d5c-4001-8be2-7f130a850b58intent-one-of::b9dcab44-c7be-46b1-9ea2-af9216fd775b-spark-llm::01a42ea0-de73-47f5-b51e-a04b67a9c421","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"decision-making::65939c94-4d5c-4001-8be2-7f130a850b58","sourceHandle":"intent-one-of::b9dcab44-c7be-46b1-9ea2-af9216fd775b","target":"spark-llm::01a42ea0-de73-47f5-b51e-a04b67a9c421","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-decision-making::65939c94-4d5c-4001-8be2-7f130a850b58intent-one-of::76cccc7d-08ff-4f25-bec1-4225b8955cb7-spark-llm::21ff8a7a-19bc-4b3b-949d-a831dbf2ce32","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"decision-making::65939c94-4d5c-4001-8be2-7f130a850b58","sourceHandle":"intent-one-of::76cccc7d-08ff-4f25-bec1-4225b8955cb7","target":"spark-llm::21ff8a7a-19bc-4b3b-949d-a831dbf2ce32","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::6613205b-d520-4305-9f42-76ba8fdb7f3e-node-end::665e9083-c0a6-422d-8778-8708da4fc21b","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::6613205b-d520-4305-9f42-76ba8fdb7f3e","target":"node-end::665e9083-c0a6-422d-8778-8708da4fc21b","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::01a42ea0-de73-47f5-b51e-a04b67a9c421-node-end::665e9083-c0a6-422d-8778-8708da4fc21b","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::01a42ea0-de73-47f5-b51e-a04b67a9c421","target":"node-end::665e9083-c0a6-422d-8778-8708da4fc21b","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::21ff8a7a-19bc-4b3b-949d-a831dbf2ce32-node-end::665e9083-c0a6-422d-8778-8708da4fc21b","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::21ff8a7a-19bc-4b3b-949d-a831dbf2ce32","target":"node-end::665e9083-c0a6-422d-8778-8708da4fc21b","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::b3d4298b-415a-4352-b622-847f65de8392-node-end::665e9083-c0a6-422d-8778-8708da4fc21b","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::b3d4298b-415a-4352-b622-847f65de8392","target":"node-end::665e9083-c0a6-422d-8778-8708da4fc21b","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::446129de-b95b-411b-b610-ca6ea3344c04-node-end::665e9083-c0a6-422d-8778-8708da4fc21bnode-end::665e9083-c0a6-422d-8778-8708da4fc21b","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"spark-llm::446129de-b95b-411b-b610-ca6ea3344c04","target":"node-end::665e9083-c0a6-422d-8778-8708da4fc21b","targetHandle":"node-end::665e9083-c0a6-422d-8778-8708da4fc21b","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-decision-making::65939c94-4d5c-4001-8be2-7f130a850b58intent-one-of::ed6a4f5c-0aec-4879-8509-9e09aa3dc706-spark-llm::446129de-b95b-411b-b610-ca6ea3344c04","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"decision-making::65939c94-4d5c-4001-8be2-7f130a850b58","sourceHandle":"intent-one-of::ed6a4f5c-0aec-4879-8509-9e09aa3dc706","target":"spark-llm::446129de-b95b-411b-b610-ca6ea3344c04","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-decision-making::65939c94-4d5c-4001-8be2-7f130a850b58intent-one-of::e693e2f1-7ca9-4269-90ad-21dd0ff9780a-spark-llm::b3d4298b-415a-4352-b622-847f65de8392","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"decision-making::65939c94-4d5c-4001-8be2-7f130a850b58","sourceHandle":"intent-one-of::e693e2f1-7ca9-4269-90ad-21dd0ff9780a","target":"spark-llm::b3d4298b-415a-4352-b622-847f65de8392","type":"customEdge"}],"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始","nodeType":"基础节点"},"nodeParam":{},"outputs":[{"deleteDisabled":true,"id":"874fdf23-6212-4d18-9953-79608a545a29","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}}],"status":""},"height":255,"id":"node-start::b840eda8-153a-43f4-936e-581f0f6c6f80","position":{"x":0,"y":2405.2501512610393},"selected":false,"type":"开始节点","width":658},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"id":"10705d16-a937-443e-9a26-42662885ab91","name":"key1","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"43454eb5-00be-4bf9-b058-c73c816fa45f","nodeId":"spark-llm::6613205b-d520-4305-9f42-76ba8fdb7f3e","name":"output"},"contentErrMsg":"","type":"ref"}}},{"id":"a5820bd4-9853-425f-8d14-f323ac4368a0","name":"key2","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"84706788-87f3-4d1e-a4fa-6b75660b9bd3","nodeId":"spark-llm::01a42ea0-de73-47f5-b51e-a04b67a9c421","name":"output"},"contentErrMsg":"","type":"ref"}}},{"id":"e433c0bc-dd7b-4718-8755-a36fa3a11b4e","name":"key3","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fbb2469a-a2c2-442b-a4f0-fcd8216f9f6d","nodeId":"spark-llm::21ff8a7a-19bc-4b3b-949d-a831dbf2ce32","name":"output"},"contentErrMsg":"","type":"ref"}}},{"id":"8110da11-9afe-4148-8a68-b489c914595d","name":"key4","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"131b1fb7-c922-4dcf-a172-7d4b7d3fae97","nodeId":"spark-llm::446129de-b95b-411b-b610-ca6ea3344c04","name":"output"},"contentErrMsg":"","type":"ref"}}},{"id":"14ec1e79-edba-44f9-85a7-c95fe814749d","name":"key5","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"382a5121-c5cb-452e-ac44-539341e89df6","nodeId":"spark-llm::b3d4298b-415a-4352-b622-847f65de8392"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束","nodeType":"基础节点"},"nodeParam":{"template":"{{key1}}\\n{{key2}}\\n{{key3}}\\n{{key4}}\\n{{key5}}","streamOutput":false,"templateErrMsg":"","outputMode":1},"outputs":[],"references":[{"label":"知识问答类的问题优化","value":"spark-llm::6613205b-d520-4305-9f42-76ba8fdb7f3e","children":[{"label":"","value":"","references":[{"id":"43454eb5-00be-4bf9-b058-c73c816fa45f","originId":"spark-llm::6613205b-d520-4305-9f42-76ba8fdb7f3e","label":"output","value":"output","type":"string"}]}],"parentNode":true},{"label":"识别用户的问题类型","value":"decision-making::65939c94-4d5c-4001-8be2-7f130a850b58","children":[{"label":"","value":"","references":[{"id":"edc2fa29-324e-4747-908b-48390f73c154","originId":"decision-making::65939c94-4d5c-4001-8be2-7f130a850b58","label":"class_name","value":"class_name","type":"string"}]}],"parentNode":true},{"label":"开始","value":"node-start::b840eda8-153a-43f4-936e-581f0f6c6f80","children":[{"label":"","value":"","references":[{"id":"874fdf23-6212-4d18-9953-79608a545a29","originId":"node-start::b840eda8-153a-43f4-936e-581f0f6c6f80","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string"}]}],"parentNode":true},{"label":"内容生成类的问题优化","value":"spark-llm::01a42ea0-de73-47f5-b51e-a04b67a9c421","children":[{"label":"","value":"","references":[{"id":"84706788-87f3-4d1e-a4fa-6b75660b9bd3","originId":"spark-llm::01a42ea0-de73-47f5-b51e-a04b67a9c421","label":"output","value":"output","type":"string"}]}],"parentNode":true},{"label":"游戏创建类的提问优化","value":"spark-llm::21ff8a7a-19bc-4b3b-949d-a831dbf2ce32","children":[{"label":"","value":"","references":[{"id":"fbb2469a-a2c2-442b-a4f0-fcd8216f9f6d","originId":"spark-llm::21ff8a7a-19bc-4b3b-949d-a831dbf2ce32","label":"output","value":"output","type":"string"}]}],"parentNode":true},{"label":"画图类型优化","value":"spark-llm::b3d4298b-415a-4352-b622-847f65de8392","children":[{"label":"","value":"","references":[{"id":"382a5121-c5cb-452e-ac44-539341e89df6","originId":"spark-llm::b3d4298b-415a-4352-b622-847f65de8392","label":"output","value":"output","type":"string"}]}],"parentNode":true},{"label":"兜底","value":"spark-llm::446129de-b95b-411b-b610-ca6ea3344c04","children":[{"label":"","value":"","references":[{"id":"131b1fb7-c922-4dcf-a172-7d4b7d3fae97","originId":"spark-llm::446129de-b95b-411b-b610-ca6ea3344c04","label":"output","value":"output","type":"string"}]}],"parentNode":true}],"status":""},"dragging":false,"height":652,"id":"node-end::665e9083-c0a6-422d-8778-8708da4fc21b","position":{"x":3147.4558291227922,"y":2210.358196756114},"positionAbsolute":{"x":2997.7464129022424,"y":563.1451237821293},"selected":false,"type":"结束节点","width":408},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"大模型会根据节点输入，结合提示词内容，判断您填写的意图，决定后续的逻辑走向","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/designMakeIcon.png","inputs":[{"id":"28c4df83-b4c1-41e5-9506-5ef86a9d9dc7","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"874fdf23-6212-4d18-9953-79608a545a29","nodeId":"node-start::b840eda8-153a-43f4-936e-581f0f6c6f80"},"contentErrMsg":"","type":"ref"}}}],"label":"识别用户的问题类型","labelEdit":false,"nodeMeta":{"aliasName":"识别用户的问题类型","nodeType":"基础节点"},"nodeParam":{"topK":4,"enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"最大回复长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"生成多样性","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"apiKey":"d84b9d780b488cf919c5273686ee4e1a","auditing":"default","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","llmId":5,"promptPrefix":"你是一个问题识别专家，你擅长识别各种问题类型：知识问答、内容生成、游戏创建、画图、其他","url":"wss://spark-api.xf-yun.com/v3.5/chat","uid":"0","patchId":"0","intentChains":[{"intentType":2,"name":"知识问答","description":"用户输入一个需要回答的问题","id":"intent-one-of::f8266d29-f9ba-465b-b5b4-a76d71cd0187","nameErrMsg":"","descriptionErrMsg":""},{"intentType":2,"name":"内容生成","description":"用户输入一个需要进行：扩写、改写、缩写、丰富、完善、扩展等内容加工的指令","id":"intent-one-of::b9dcab44-c7be-46b1-9ea2-af9216fd775b","nameErrMsg":"","descriptionErrMsg":""},{"intentType":2,"name":"游戏创建","description":"当识别用户的意图为“主题构思与立意”，则为其生成主题构思与立意","id":"intent-one-of::76cccc7d-08ff-4f25-bec1-4225b8955cb7","nameErrMsg":"","descriptionErrMsg":""},{"intentType":2,"id":"intent-one-of::e693e2f1-7ca9-4269-90ad-21dd0ff9780a","name":"画图","description":"当识别用户是想进行画图、生成图片","nameErrMsg":"","descriptionErrMsg":""},{"intentType":1,"name":"default","description":"默认意图","id":"intent-one-of::ed6a4f5c-0aec-4879-8509-9e09aa3dc706","nameErrMsg":"","descriptionErrMsg":""}],"promptPrefixErrMsg":"","domain":"generalv3.5","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","useFunctionCall":false,"serviceId":"bm3.5"},"outputs":[{"id":"edc2fa29-324e-4747-908b-48390f73c154","name":"class_name","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"开始","value":"node-start::b840eda8-153a-43f4-936e-581f0f6c6f80","children":[{"label":"","value":"","references":[{"id":"874fdf23-6212-4d18-9953-79608a545a29","originId":"node-start::b840eda8-153a-43f4-936e-581f0f6c6f80","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string"}]}],"parentNode":true}],"status":""},"dragging":false,"height":1246,"id":"decision-making::65939c94-4d5c-4001-8be2-7f130a850b58","position":{"x":869.3068661897078,"y":1907.555760922639},"positionAbsolute":{"x":869.3068661897078,"y":1907.555760922639},"selected":false,"type":"决策","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"id":"f6faa78b-78a3-4411-af50-051ea9cea3a5","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"874fdf23-6212-4d18-9953-79608a545a29","nodeId":"node-start::b840eda8-153a-43f4-936e-581f0f6c6f80"},"contentErrMsg":"","type":"ref"}}}],"label":"知识问答类的问题优化","labelEdit":false,"nodeMeta":{"aliasName":"知识问答类的问题优化","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"你是一个知识问答类问题的优化专家，你需要考虑如下5个优化地方，并针对用户提出的问题{{input}}进行改写\\n1. 明确问题：转写保障问题具体、明确。避免使用模糊或开放式的问题。\\n2. 关键词突出：在prompt中突出关键词，帮助模型理解问题的核心。\\n3. 提供上下文：如果问题涉及特定领域或背景知识，补充相关上下文。\\n4. 使用正确的术语：使用专业术语。\\n5. 限制问题范围：尽量使问题范围狭窄，给出针对性的回答。\\n\\n###输出示例：\\n例子1：请详细解释黑洞的形成过程及其对周围天体的影响。\\n例子2：请列举我国“十四五”规划期间的主要科技成就。\\n例子3：请比较太阳能和风能作为可再生能源的优缺点。\\n例子4：请说明光合作用的基本原理及其在生态系统中的作用。\\n例子5：请定义5G网络并简要介绍其主要应用场景。","enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"最大回复长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"生成多样性","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"apiKey":"d84b9d780b488cf919c5273686ee4e1a","auditing":"default","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","llmId":5,"url":"wss://spark-api.xf-yun.com/v3.5/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"generalv3.5","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm3.5","respFormat":0},"outputs":[{"id":"43454eb5-00be-4bf9-b058-c73c816fa45f","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"识别用户的问题类型","value":"decision-making::65939c94-4d5c-4001-8be2-7f130a850b58","children":[{"label":"","value":"","references":[{"id":"edc2fa29-324e-4747-908b-48390f73c154","originId":"decision-making::65939c94-4d5c-4001-8be2-7f130a850b58","label":"class_name","value":"class_name","type":"string"}]}],"parentNode":true},{"label":"开始","value":"node-start::b840eda8-153a-43f4-936e-581f0f6c6f80","children":[{"label":"","value":"","references":[{"id":"874fdf23-6212-4d18-9953-79608a545a29","originId":"node-start::b840eda8-153a-43f4-936e-581f0f6c6f80","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string"}]}],"parentNode":true}],"status":""},"dragging":false,"height":785,"id":"spark-llm::6613205b-d520-4305-9f42-76ba8fdb7f3e","position":{"x":2122.131480341372,"y":0},"positionAbsolute":{"x":1727.235063031597,"y":-1237.5421482419797},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"id":"844d3f13-4fe0-4832-acc0-51eb64b69ebb","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"874fdf23-6212-4d18-9953-79608a545a29","nodeId":"node-start::b840eda8-153a-43f4-936e-581f0f6c6f80"},"contentErrMsg":"","type":"ref"}}}],"label":"内容生成类的问题优化","labelEdit":false,"nodeMeta":{"aliasName":"内容生成类的问题优化","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"你是一个prompt提示词专家，你需要根据用户的提问进行改写，你需要按照以下方式进行改写和扩充。\\n1.明确目标：清楚地说明你想要生成的内容类型和目的。\\n2.提供详细信息：背景信息、主题、风格、格式要求等。\\n3.设定具体要求：指定字数、段落结构、要点、关键词等。\\n4.示例指导：提供一些示例或参考内容，帮助模型理解你的期望。\\n5.使用指令性语言：告诉模型要做什么，而不是怎么做。\\n###正确示例\\n示例1：请撰写一篇关于“可持续生活方式”的博客文章。文章应该包括三个主要部分：可持续生活的定义、实践可持续生活的五个建议、以及可持续生活对环境和社会的影响。文章风格应该是教育性和启发性的，字数在1000到1200字之间。请确保文章结构清晰，包含引人入胜的开头和总结性的结尾。\\n示例2：生成一条关于即将到来的产品发布的Twitter帖子。帖子需要吸引科技爱好者的注意，包含产品名称、发布日期和一句吸引人的标语。使用#hashtags来提高可见度，并保持语气活泼和引人入胜。\\n用户的输入是{{input}}","enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"最大回复长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"生成多样性","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"apiKey":"d84b9d780b488cf919c5273686ee4e1a","auditing":"default","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","llmId":5,"url":"wss://spark-api.xf-yun.com/v3.5/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"generalv3.5","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm3.5","respFormat":0},"outputs":[{"id":"84706788-87f3-4d1e-a4fa-6b75660b9bd3","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"识别用户的问题类型","value":"decision-making::65939c94-4d5c-4001-8be2-7f130a850b58","children":[{"label":"","value":"","references":[{"id":"edc2fa29-324e-4747-908b-48390f73c154","originId":"decision-making::65939c94-4d5c-4001-8be2-7f130a850b58","label":"class_name","value":"class_name","type":"string"}]}],"parentNode":true},{"label":"开始","value":"node-start::b840eda8-153a-43f4-936e-581f0f6c6f80","children":[{"label":"","value":"","references":[{"id":"874fdf23-6212-4d18-9953-79608a545a29","originId":"node-start::b840eda8-153a-43f4-936e-581f0f6c6f80","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string"}]}],"parentNode":true}],"status":""},"dragging":false,"height":825,"id":"spark-llm::01a42ea0-de73-47f5-b51e-a04b67a9c421","position":{"x":2122.131480341372,"y":1068.1618731954823},"positionAbsolute":{"x":1744.5974572352357,"y":-271.1034803950655},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"id":"7b08de56-66d2-4ad2-a39a-aea85ce4bfcc","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"874fdf23-6212-4d18-9953-79608a545a29","nodeId":"node-start::b840eda8-153a-43f4-936e-581f0f6c6f80"},"contentErrMsg":"","type":"ref"}}}],"label":"游戏创建类的提问优化","labelEdit":false,"nodeMeta":{"aliasName":"游戏创建类的提问优化","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"## 游戏介绍：\\n在这个{{input}}的故事中，主角是……，他……\\n## 游戏设定：\\n- 游戏共n轮，每轮会有一个角色提问，提问包含……\\n- 玩家需对每一轮问题做出回答，你需要判断加减分数。\\n- 每个角色的初始分值为0分，每轮加减0~20分。\\n- 分数调整后，继续给出下一轮的场景和剧情，进入下一轮问答，由下一个角色发起新提问，等待玩家回答。\\n- 5轮后，根据得分决定玩家的最终结果\\n- 在第2轮，可以根据场景和角色描述生成一个状态情况，体现角色状态。\\n## 角色设定：\\n- A：……\\n- B：……\\n## 角色回复要求：\\n- 保持中文语境，每次输出控制在50字以内。\\n- 使用幽默和有挑战性的语言。\\n- 每次给玩意一个提问，等待玩家回答\\n- 角色的回复可以给玩家一个结合场景的想象空间\\n## 注意\\n-不要代替玩家做出回答\\n-用户回答后进行分数挑战并继续提问，不要中断\\n-以 markdown 格式输出，在适当的地方里面加入 emoji 表情\\n用户的输入是{{input}}","enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"最大回复长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"生成多样性","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"apiKey":"d84b9d780b488cf919c5273686ee4e1a","auditing":"default","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","llmId":5,"url":"wss://spark-api.xf-yun.com/v3.5/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"generalv3.5","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm3.5","respFormat":0},"outputs":[{"id":"fbb2469a-a2c2-442b-a4f0-fcd8216f9f6d","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"识别用户的问题类型","value":"decision-making::65939c94-4d5c-4001-8be2-7f130a850b58","children":[{"label":"","value":"","references":[{"id":"edc2fa29-324e-4747-908b-48390f73c154","originId":"decision-making::65939c94-4d5c-4001-8be2-7f130a850b58","label":"class_name","value":"class_name","type":"string"}]}],"parentNode":true},{"label":"开始","value":"node-start::b840eda8-153a-43f4-936e-581f0f6c6f80","children":[{"label":"","value":"","references":[{"id":"874fdf23-6212-4d18-9953-79608a545a29","originId":"node-start::b840eda8-153a-43f4-936e-581f0f6c6f80","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string"}]}],"parentNode":true}],"status":""},"dragging":false,"height":869,"id":"spark-llm::21ff8a7a-19bc-4b3b-949d-a831dbf2ce32","position":{"x":2122.131480341372,"y":2116.1878502887225},"positionAbsolute":{"x":1794.832092092918,"y":595.1023353841509},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"id":"41cb073c-0c94-480d-bd93-86f7835aab9e","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"874fdf23-6212-4d18-9953-79608a545a29","nodeId":"node-start::b840eda8-153a-43f4-936e-581f0f6c6f80","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}}],"label":"画图类型优化","labelEdit":false,"nodeMeta":{"aliasName":"画图类型优化","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"###角色设定：你是一个AI 画师，名字叫大画家，\\n###目标任务：根据我给的主题，写一个完整的图片，你需要描述图片内容\\n###要求：\\n1.内容为一个个【短词】构成，使用逗号隔开，例如：画一个女性，皮肤白皙，蓝色裙子, 海边，沙滩，漫画风格。\\n2.提取重点词语，关键词语\\n3.根据用户输入的词汇，进行构图、画面风格的选择。\\n构图举例：景深、近景、前景、背景、光影、镜头……可以采用像是xx一样；\\n画面风格举例：漫画风格、水墨画风格、赛博朋克风格、皮克斯风格\\n4.有创意、艺术感、色彩丰富\\n5. 条理清晰、思维严谨\\n###输出示例：画一个女性，皮肤白皙，蓝色裙子, 海边，沙滩，人物位于大近景，极致光影，漫画风格\\n接下来我的输入是：{{input}}","enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"最大回复长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"生成多样性","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"apiKey":"d84b9d780b488cf919c5273686ee4e1a","auditing":"default","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","llmId":5,"url":"wss://spark-api.xf-yun.com/v3.5/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"generalv3.5","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm3.5","respFormat":0},"outputs":[{"id":"382a5121-c5cb-452e-ac44-539341e89df6","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"识别用户的问题类型","value":"decision-making::65939c94-4d5c-4001-8be2-7f130a850b58","children":[{"label":"","value":"","references":[{"id":"edc2fa29-324e-4747-908b-48390f73c154","originId":"decision-making::65939c94-4d5c-4001-8be2-7f130a850b58","label":"class_name","value":"class_name","type":"string"}]}],"parentNode":true},{"label":"开始","value":"node-start::b840eda8-153a-43f4-936e-581f0f6c6f80","children":[{"label":"","value":"","references":[{"id":"874fdf23-6212-4d18-9953-79608a545a29","originId":"node-start::b840eda8-153a-43f4-936e-581f0f6c6f80","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string"}]}],"parentNode":true}],"status":""},"dragging":false,"height":785,"id":"spark-llm::b3d4298b-415a-4352-b622-847f65de8392","position":{"x":2122.131480341372,"y":3208.9602926503053},"positionAbsolute":{"x":4258.607325072701,"y":4339.382269905061},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"id":"50bf3776-a752-4774-a944-8234bc0ef891","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"874fdf23-6212-4d18-9953-79608a545a29","nodeId":"node-start::b840eda8-153a-43f4-936e-581f0f6c6f80","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}}],"label":"兜底","labelEdit":false,"nodeMeta":{"aliasName":"兜底","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"根据我给出的需求，创建一份提示词模版，你熟悉[CRISPE提示框架]，并擅长将常规的Prompt转化为符合[CRISPE提示框架]的优秀Prompt，并输出符合预期的回复。\\n###你的工作流程是：\\n1. 你会先分析我提出的需求。\\n2. 结合需求，根据[CRISPE提示框架]的要求，确定最适合扮演的角色，拟定角色设定、目标任务、需求说明、风格设定等信息。\\n3. 综合我的问题(Prompt)的原因、背景和上下文，构建一个符合[CRISPE提示框架]的优秀Prompt，你结合用户提问将回复中的需求说明描绘详尽。\\n4. 按照回复格式生成回复，确保回复符合预期。\\n回复内容限制信息：\\n1. 分析用户输入后，在需求说明中至少分为5个点描述需求内容。\\n###你的回复格式为：\\n角色设定：[你是一个形容词的和用户输入相关的身份]\\n目标任务：[根据用户的输入明确目标任务]\\n需求说明：[根据用户的输入按照CRISPE提示框架进行需求补充详尽]\\n风格设定：[描述助手风格]\\n###示例：\\n角色设定：Prompt提示词生成专家\\n目标任务：根据我给出的需求，创建一份提示词模版\\n需求说明：\\n1. 用户希望获得一些提示和建议，以提升他们的口语能力和沟通技巧。\\n2. 他们需要针对各种情景和对话主题的提示词，以帮助他们更自信地表达自己并与他人进行有效的交流。\\n3. 拥有更多提高效率的角度...\\n4. ...\\n5. ...\\n风格设定：积极、鼓励，注重实用性和可操作性。\\n接下来我的输入是：{{input}}","enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"最大回复长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"生成多样性","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"apiKey":"d84b9d780b488cf919c5273686ee4e1a","auditing":"default","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","llmId":5,"url":"wss://spark-api.xf-yun.com/v3.5/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"generalv3.5","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm3.5","respFormat":0},"outputs":[{"id":"131b1fb7-c922-4dcf-a172-7d4b7d3fae97","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"识别用户的问题类型","value":"decision-making::65939c94-4d5c-4001-8be2-7f130a850b58","children":[{"label":"","value":"","references":[{"id":"edc2fa29-324e-4747-908b-48390f73c154","originId":"decision-making::65939c94-4d5c-4001-8be2-7f130a850b58","label":"class_name","value":"class_name","type":"string"}]}],"parentNode":true},{"label":"开始","value":"node-start::b840eda8-153a-43f4-936e-581f0f6c6f80","children":[{"label":"","value":"","references":[{"id":"874fdf23-6212-4d18-9953-79608a545a29","originId":"node-start::b840eda8-153a-43f4-936e-581f0f6c6f80","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string"}]}],"parentNode":true}],"status":""},"dragging":false,"height":869,"id":"spark-llm::446129de-b95b-411b-b610-ca6ea3344c04","position":{"x":2119.631480341372,"y":4124.0784487516985},"positionAbsolute":{"x":2119.631480341372,"y":4124.0784487516985},"selected":false,"type":"大模型","width":587}]}', '{"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::b840eda8-153a-43f4-936e-581f0f6c6f80-decision-making::65939c94-4d5c-4001-8be2-7f130a850b58","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-start::b840eda8-153a-43f4-936e-581f0f6c6f80","target":"decision-making::65939c94-4d5c-4001-8be2-7f130a850b58","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-decision-making::65939c94-4d5c-4001-8be2-7f130a850b58intent-one-of::f8266d29-f9ba-465b-b5b4-a76d71cd0187-spark-llm::6613205b-d520-4305-9f42-76ba8fdb7f3e","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"decision-making::65939c94-4d5c-4001-8be2-7f130a850b58","sourceHandle":"intent-one-of::f8266d29-f9ba-465b-b5b4-a76d71cd0187","target":"spark-llm::6613205b-d520-4305-9f42-76ba8fdb7f3e","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-decision-making::65939c94-4d5c-4001-8be2-7f130a850b58intent-one-of::b9dcab44-c7be-46b1-9ea2-af9216fd775b-spark-llm::01a42ea0-de73-47f5-b51e-a04b67a9c421","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"decision-making::65939c94-4d5c-4001-8be2-7f130a850b58","sourceHandle":"intent-one-of::b9dcab44-c7be-46b1-9ea2-af9216fd775b","target":"spark-llm::01a42ea0-de73-47f5-b51e-a04b67a9c421","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-decision-making::65939c94-4d5c-4001-8be2-7f130a850b58intent-one-of::76cccc7d-08ff-4f25-bec1-4225b8955cb7-spark-llm::21ff8a7a-19bc-4b3b-949d-a831dbf2ce32","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"decision-making::65939c94-4d5c-4001-8be2-7f130a850b58","sourceHandle":"intent-one-of::76cccc7d-08ff-4f25-bec1-4225b8955cb7","target":"spark-llm::21ff8a7a-19bc-4b3b-949d-a831dbf2ce32","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::6613205b-d520-4305-9f42-76ba8fdb7f3e-node-end::665e9083-c0a6-422d-8778-8708da4fc21b","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::6613205b-d520-4305-9f42-76ba8fdb7f3e","target":"node-end::665e9083-c0a6-422d-8778-8708da4fc21b","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::01a42ea0-de73-47f5-b51e-a04b67a9c421-node-end::665e9083-c0a6-422d-8778-8708da4fc21b","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::01a42ea0-de73-47f5-b51e-a04b67a9c421","target":"node-end::665e9083-c0a6-422d-8778-8708da4fc21b","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::21ff8a7a-19bc-4b3b-949d-a831dbf2ce32-node-end::665e9083-c0a6-422d-8778-8708da4fc21b","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::21ff8a7a-19bc-4b3b-949d-a831dbf2ce32","target":"node-end::665e9083-c0a6-422d-8778-8708da4fc21b","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::b3d4298b-415a-4352-b622-847f65de8392-node-end::665e9083-c0a6-422d-8778-8708da4fc21b","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::b3d4298b-415a-4352-b622-847f65de8392","target":"node-end::665e9083-c0a6-422d-8778-8708da4fc21b","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::446129de-b95b-411b-b610-ca6ea3344c04-node-end::665e9083-c0a6-422d-8778-8708da4fc21bnode-end::665e9083-c0a6-422d-8778-8708da4fc21b","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::446129de-b95b-411b-b610-ca6ea3344c04","target":"node-end::665e9083-c0a6-422d-8778-8708da4fc21b","targetHandle":"node-end::665e9083-c0a6-422d-8778-8708da4fc21b","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-decision-making::65939c94-4d5c-4001-8be2-7f130a850b58intent-one-of::ed6a4f5c-0aec-4879-8509-9e09aa3dc706-spark-llm::446129de-b95b-411b-b610-ca6ea3344c04","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"decision-making::65939c94-4d5c-4001-8be2-7f130a850b58","sourceHandle":"intent-one-of::ed6a4f5c-0aec-4879-8509-9e09aa3dc706","target":"spark-llm::446129de-b95b-411b-b610-ca6ea3344c04","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-decision-making::65939c94-4d5c-4001-8be2-7f130a850b58intent-one-of::e693e2f1-7ca9-4269-90ad-21dd0ff9780a-spark-llm::b3d4298b-415a-4352-b622-847f65de8392","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"decision-making::65939c94-4d5c-4001-8be2-7f130a850b58","sourceHandle":"intent-one-of::e693e2f1-7ca9-4269-90ad-21dd0ff9780a","target":"spark-llm::b3d4298b-415a-4352-b622-847f65de8392","type":"customEdge"}],"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始","nodeType":"基础节点"},"nodeParam":{},"outputs":[{"deleteDisabled":true,"id":"874fdf23-6212-4d18-9953-79608a545a29","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}}],"status":""},"height":255,"id":"node-start::b840eda8-153a-43f4-936e-581f0f6c6f80","position":{"x":0,"y":2405.2501512610393},"selected":false,"type":"开始节点","width":658},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"id":"10705d16-a937-443e-9a26-42662885ab91","name":"key1","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"43454eb5-00be-4bf9-b058-c73c816fa45f","nodeId":"spark-llm::6613205b-d520-4305-9f42-76ba8fdb7f3e"},"contentErrMsg":"","type":"ref"}}},{"id":"a5820bd4-9853-425f-8d14-f323ac4368a0","name":"key2","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"84706788-87f3-4d1e-a4fa-6b75660b9bd3","nodeId":"spark-llm::01a42ea0-de73-47f5-b51e-a04b67a9c421"},"contentErrMsg":"","type":"ref"}}},{"id":"e433c0bc-dd7b-4718-8755-a36fa3a11b4e","name":"key3","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"fbb2469a-a2c2-442b-a4f0-fcd8216f9f6d","nodeId":"spark-llm::21ff8a7a-19bc-4b3b-949d-a831dbf2ce32"},"contentErrMsg":"","type":"ref"}}},{"id":"8110da11-9afe-4148-8a68-b489c914595d","name":"key4","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"131b1fb7-c922-4dcf-a172-7d4b7d3fae97","nodeId":"spark-llm::446129de-b95b-411b-b610-ca6ea3344c04"},"contentErrMsg":"","type":"ref"}}},{"id":"14ec1e79-edba-44f9-85a7-c95fe814749d","name":"key5","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"382a5121-c5cb-452e-ac44-539341e89df6","nodeId":"spark-llm::b3d4298b-415a-4352-b622-847f65de8392"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束","nodeType":"基础节点"},"nodeParam":{"template":"{{key1}}\\n{{key2}}\\n{{key3}}\\n{{key4}}\\n{{key5}}","streamOutput":false,"templateErrMsg":"","outputMode":1},"outputs":[],"references":[{"children":[{"references":[{"originId":"spark-llm::6613205b-d520-4305-9f42-76ba8fdb7f3e","id":"43454eb5-00be-4bf9-b058-c73c816fa45f","label":"output","type":"string","value":"output"}],"label":"","value":""}],"label":"知识问答类的问题优化","parentNode":true,"value":"spark-llm::6613205b-d520-4305-9f42-76ba8fdb7f3e"},{"children":[{"references":[{"originId":"decision-making::65939c94-4d5c-4001-8be2-7f130a850b58","id":"edc2fa29-324e-4747-908b-48390f73c154","label":"class_name","type":"string","value":"class_name"}],"label":"","value":""}],"label":"识别用户的问题类型","parentNode":true,"value":"decision-making::65939c94-4d5c-4001-8be2-7f130a850b58"},{"children":[{"references":[{"originId":"node-start::b840eda8-153a-43f4-936e-581f0f6c6f80","id":"874fdf23-6212-4d18-9953-79608a545a29","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::b840eda8-153a-43f4-936e-581f0f6c6f80"},{"children":[{"references":[{"originId":"spark-llm::01a42ea0-de73-47f5-b51e-a04b67a9c421","id":"84706788-87f3-4d1e-a4fa-6b75660b9bd3","label":"output","type":"string","value":"output"}],"label":"","value":""}],"label":"内容生成类的问题优化","parentNode":true,"value":"spark-llm::01a42ea0-de73-47f5-b51e-a04b67a9c421"},{"children":[{"references":[{"originId":"spark-llm::21ff8a7a-19bc-4b3b-949d-a831dbf2ce32","id":"fbb2469a-a2c2-442b-a4f0-fcd8216f9f6d","label":"output","type":"string","value":"output"}],"label":"","value":""}],"label":"游戏创建类的提问优化","parentNode":true,"value":"spark-llm::21ff8a7a-19bc-4b3b-949d-a831dbf2ce32"},{"children":[{"references":[{"originId":"spark-llm::b3d4298b-415a-4352-b622-847f65de8392","id":"382a5121-c5cb-452e-ac44-539341e89df6","label":"output","type":"string","value":"output"}],"label":"","value":""}],"label":"画图类型优化","parentNode":true,"value":"spark-llm::b3d4298b-415a-4352-b622-847f65de8392"},{"children":[{"references":[{"originId":"spark-llm::446129de-b95b-411b-b610-ca6ea3344c04","id":"131b1fb7-c922-4dcf-a172-7d4b7d3fae97","label":"output","type":"string","value":"output"}],"label":"","value":""}],"label":"兜底","parentNode":true,"value":"spark-llm::446129de-b95b-411b-b610-ca6ea3344c04"}],"status":""},"dragging":false,"height":652,"id":"node-end::665e9083-c0a6-422d-8778-8708da4fc21b","position":{"x":3147.4558291227922,"y":2210.358196756114},"positionAbsolute":{"x":2997.7464129022424,"y":563.1451237821293},"selected":false,"type":"结束节点","width":408},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"结合输入的参数与填写的意图，决定后续的逻辑走向","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/designMakeIcon.png","inputs":[{"id":"28c4df83-b4c1-41e5-9506-5ef86a9d9dc7","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"874fdf23-6212-4d18-9953-79608a545a29","nodeId":"node-start::b840eda8-153a-43f4-936e-581f0f6c6f80"},"contentErrMsg":"","type":"ref"}}}],"label":"识别用户的问题类型","labelEdit":false,"nodeMeta":{"aliasName":"决策_1","nodeType":"基础节点"},"nodeParam":{"topK":4,"enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"最大回复长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"生成多样性","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"apiKey":"d84b9d780b488cf919c5273686ee4e1a","auditing":"default","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","llmId":5,"promptPrefix":"你是一个问题识别专家，你擅长识别各种问题类型：知识问答、内容生成、游戏创建、画图、其他","url":"wss://spark-api.xf-yun.com/v3.5/chat","uid":"0","patchId":"0","intentChains":[{"intentType":2,"name":"知识问答","description":"用户输入一个需要回答的问题","id":"intent-one-of::f8266d29-f9ba-465b-b5b4-a76d71cd0187","nameErrMsg":"","descriptionErrMsg":""},{"intentType":2,"name":"内容生成","description":"用户输入一个需要进行：扩写、改写、缩写、丰富、完善、扩展等内容加工的指令","id":"intent-one-of::b9dcab44-c7be-46b1-9ea2-af9216fd775b","nameErrMsg":"","descriptionErrMsg":""},{"intentType":2,"name":"游戏创建","description":"当识别用户的意图为“主题构思与立意”，则为其生成主题构思与立意","id":"intent-one-of::76cccc7d-08ff-4f25-bec1-4225b8955cb7","nameErrMsg":"","descriptionErrMsg":""},{"intentType":2,"name":"画图","description":"当识别用户是想进行画图、生成图片","id":"intent-one-of::e693e2f1-7ca9-4269-90ad-21dd0ff9780a","nameErrMsg":"","descriptionErrMsg":""},{"intentType":1,"name":"default","description":"默认意图","id":"intent-one-of::ed6a4f5c-0aec-4879-8509-9e09aa3dc706","nameErrMsg":"","descriptionErrMsg":""}],"promptPrefixErrMsg":"","domain":"generalv3.5","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","useFunctionCall":false,"serviceId":"bm3.5"},"outputs":[{"id":"edc2fa29-324e-4747-908b-48390f73c154","name":"class_name","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"node-start::b840eda8-153a-43f4-936e-581f0f6c6f80","id":"874fdf23-6212-4d18-9953-79608a545a29","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::b840eda8-153a-43f4-936e-581f0f6c6f80"}],"status":""},"dragging":false,"height":1246,"id":"decision-making::65939c94-4d5c-4001-8be2-7f130a850b58","position":{"x":869.3068661897078,"y":1907.555760922639},"positionAbsolute":{"x":869.3068661897078,"y":1907.555760922639},"selected":false,"type":"决策","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"id":"f6faa78b-78a3-4411-af50-051ea9cea3a5","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"874fdf23-6212-4d18-9953-79608a545a29","nodeId":"node-start::b840eda8-153a-43f4-936e-581f0f6c6f80"},"contentErrMsg":"","type":"ref"}}}],"label":"知识问答类的问题优化","labelEdit":false,"nodeMeta":{"aliasName":"大模型_1","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"你是一个知识问答类问题的优化专家，你需要考虑如下5个优化地方，并针对用户提出的问题{{input}}进行改写\\n1. 明确问题：转写保障问题具体、明确。避免使用模糊或开放式的问题。\\n2. 关键词突出：在prompt中突出关键词，帮助模型理解问题的核心。\\n3. 提供上下文：如果问题涉及特定领域或背景知识，补充相关上下文。\\n4. 使用正确的术语：使用专业术语。\\n5. 限制问题范围：尽量使问题范围狭窄，给出针对性的回答。\\n\\n###输出示例：\\n例子1：请详细解释黑洞的形成过程及其对周围天体的影响。\\n例子2：请列举我国“十四五”规划期间的主要科技成就。\\n例子3：请比较太阳能和风能作为可再生能源的优缺点。\\n例子4：请说明光合作用的基本原理及其在生态系统中的作用。\\n例子5：请定义5G网络并简要介绍其主要应用场景。","enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"最大回复长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"生成多样性","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"apiKey":"d84b9d780b488cf919c5273686ee4e1a","auditing":"default","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","llmId":5,"url":"wss://spark-api.xf-yun.com/v3.5/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"generalv3.5","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm3.5","respFormat":0},"outputs":[{"id":"43454eb5-00be-4bf9-b058-c73c816fa45f","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"decision-making::65939c94-4d5c-4001-8be2-7f130a850b58","id":"edc2fa29-324e-4747-908b-48390f73c154","label":"class_name","type":"string","value":"class_name"}],"label":"","value":""}],"label":"识别用户的问题类型","parentNode":true,"value":"decision-making::65939c94-4d5c-4001-8be2-7f130a850b58"},{"children":[{"references":[{"originId":"node-start::b840eda8-153a-43f4-936e-581f0f6c6f80","id":"874fdf23-6212-4d18-9953-79608a545a29","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::b840eda8-153a-43f4-936e-581f0f6c6f80"}],"status":""},"dragging":false,"height":785,"id":"spark-llm::6613205b-d520-4305-9f42-76ba8fdb7f3e","position":{"x":2122.131480341372,"y":0},"positionAbsolute":{"x":1727.235063031597,"y":-1237.5421482419797},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"id":"844d3f13-4fe0-4832-acc0-51eb64b69ebb","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"874fdf23-6212-4d18-9953-79608a545a29","nodeId":"node-start::b840eda8-153a-43f4-936e-581f0f6c6f80"},"contentErrMsg":"","type":"ref"}}}],"label":"内容生成类的问题优化","labelEdit":false,"nodeMeta":{"aliasName":"大模型_2","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"你是一个prompt提示词专家，你需要根据用户的提问进行改写，你需要按照以下方式进行改写和扩充。\\n1.明确目标：清楚地说明你想要生成的内容类型和目的。\\n2.提供详细信息：背景信息、主题、风格、格式要求等。\\n3.设定具体要求：指定字数、段落结构、要点、关键词等。\\n4.示例指导：提供一些示例或参考内容，帮助模型理解你的期望。\\n5.使用指令性语言：告诉模型要做什么，而不是怎么做。\\n###正确示例\\n示例1：请撰写一篇关于“可持续生活方式”的博客文章。文章应该包括三个主要部分：可持续生活的定义、实践可持续生活的五个建议、以及可持续生活对环境和社会的影响。文章风格应该是教育性和启发性的，字数在1000到1200字之间。请确保文章结构清晰，包含引人入胜的开头和总结性的结尾。\\n示例2：生成一条关于即将到来的产品发布的Twitter帖子。帖子需要吸引科技爱好者的注意，包含产品名称、发布日期和一句吸引人的标语。使用#hashtags来提高可见度，并保持语气活泼和引人入胜。\\n用户的输入是{{input}}","enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"最大回复长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"生成多样性","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"apiKey":"d84b9d780b488cf919c5273686ee4e1a","auditing":"default","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","llmId":5,"url":"wss://spark-api.xf-yun.com/v3.5/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"generalv3.5","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm3.5","respFormat":0},"outputs":[{"id":"84706788-87f3-4d1e-a4fa-6b75660b9bd3","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"decision-making::65939c94-4d5c-4001-8be2-7f130a850b58","id":"edc2fa29-324e-4747-908b-48390f73c154","label":"class_name","type":"string","value":"class_name"}],"label":"","value":""}],"label":"识别用户的问题类型","parentNode":true,"value":"decision-making::65939c94-4d5c-4001-8be2-7f130a850b58"},{"children":[{"references":[{"originId":"node-start::b840eda8-153a-43f4-936e-581f0f6c6f80","id":"874fdf23-6212-4d18-9953-79608a545a29","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::b840eda8-153a-43f4-936e-581f0f6c6f80"}],"status":""},"dragging":false,"height":825,"id":"spark-llm::01a42ea0-de73-47f5-b51e-a04b67a9c421","position":{"x":2122.131480341372,"y":1068.1618731954823},"positionAbsolute":{"x":1744.5974572352357,"y":-271.1034803950655},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"id":"7b08de56-66d2-4ad2-a39a-aea85ce4bfcc","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"874fdf23-6212-4d18-9953-79608a545a29","nodeId":"node-start::b840eda8-153a-43f4-936e-581f0f6c6f80"},"contentErrMsg":"","type":"ref"}}}],"label":"游戏创建类的提问优化","labelEdit":false,"nodeMeta":{"aliasName":"大模型_3","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"## 游戏介绍：\\n在这个{{input}}的故事中，主角是……，他……\\n## 游戏设定：\\n- 游戏共n轮，每轮会有一个角色提问，提问包含……\\n- 玩家需对每一轮问题做出回答，你需要判断加减分数。\\n- 每个角色的初始分值为0分，每轮加减0~20分。\\n- 分数调整后，继续给出下一轮的场景和剧情，进入下一轮问答，由下一个角色发起新提问，等待玩家回答。\\n- 5轮后，根据得分决定玩家的最终结果\\n- 在第2轮，可以根据场景和角色描述生成一个状态情况，体现角色状态。\\n## 角色设定：\\n- A：……\\n- B：……\\n## 角色回复要求：\\n- 保持中文语境，每次输出控制在50字以内。\\n- 使用幽默和有挑战性的语言。\\n- 每次给玩意一个提问，等待玩家回答\\n- 角色的回复可以给玩家一个结合场景的想象空间\\n## 注意\\n-不要代替玩家做出回答\\n-用户回答后进行分数挑战并继续提问，不要中断\\n-以 markdown 格式输出，在适当的地方里面加入 emoji 表情\\n用户的输入是{{input}}","enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"最大回复长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"生成多样性","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"apiKey":"d84b9d780b488cf919c5273686ee4e1a","auditing":"default","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","llmId":5,"url":"wss://spark-api.xf-yun.com/v3.5/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"generalv3.5","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm3.5","respFormat":0},"outputs":[{"id":"fbb2469a-a2c2-442b-a4f0-fcd8216f9f6d","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"decision-making::65939c94-4d5c-4001-8be2-7f130a850b58","id":"edc2fa29-324e-4747-908b-48390f73c154","label":"class_name","type":"string","value":"class_name"}],"label":"","value":""}],"label":"识别用户的问题类型","parentNode":true,"value":"decision-making::65939c94-4d5c-4001-8be2-7f130a850b58"},{"children":[{"references":[{"originId":"node-start::b840eda8-153a-43f4-936e-581f0f6c6f80","id":"874fdf23-6212-4d18-9953-79608a545a29","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::b840eda8-153a-43f4-936e-581f0f6c6f80"}],"status":""},"dragging":false,"height":869,"id":"spark-llm::21ff8a7a-19bc-4b3b-949d-a831dbf2ce32","position":{"x":2122.131480341372,"y":2116.1878502887225},"positionAbsolute":{"x":1794.832092092918,"y":595.1023353841509},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"id":"41cb073c-0c94-480d-bd93-86f7835aab9e","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"874fdf23-6212-4d18-9953-79608a545a29","nodeId":"node-start::b840eda8-153a-43f4-936e-581f0f6c6f80"},"contentErrMsg":"","type":"ref"}}}],"label":"画图类型优化","labelEdit":false,"nodeMeta":{"aliasName":"大模型_6","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"###角色设定：你是一个AI 画师，名字叫大画家，\\n###目标任务：根据我给的主题，写一个完整的图片，你需要描述图片内容\\n###要求：\\n1.内容为一个个【短词】构成，使用逗号隔开，例如：画一个女性，皮肤白皙，蓝色裙子, 海边，沙滩，漫画风格。\\n2.提取重点词语，关键词语\\n3.根据用户输入的词汇，进行构图、画面风格的选择。\\n构图举例：景深、近景、前景、背景、光影、镜头……可以采用像是xx一样；\\n画面风格举例：漫画风格、水墨画风格、赛博朋克风格、皮克斯风格\\n4.有创意、艺术感、色彩丰富\\n5. 条理清晰、思维严谨\\n###输出示例：画一个女性，皮肤白皙，蓝色裙子, 海边，沙滩，人物位于大近景，极致光影，漫画风格\\n接下来我的输入是：{{input}}","enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"最大回复长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"生成多样性","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"apiKey":"d84b9d780b488cf919c5273686ee4e1a","auditing":"default","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","llmId":5,"url":"wss://spark-api.xf-yun.com/v3.5/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"generalv3.5","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm3.5","respFormat":0},"outputs":[{"id":"382a5121-c5cb-452e-ac44-539341e89df6","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"decision-making::65939c94-4d5c-4001-8be2-7f130a850b58","id":"edc2fa29-324e-4747-908b-48390f73c154","label":"class_name","type":"string","value":"class_name"}],"label":"","value":""}],"label":"识别用户的问题类型","parentNode":true,"value":"decision-making::65939c94-4d5c-4001-8be2-7f130a850b58"},{"children":[{"references":[{"originId":"node-start::b840eda8-153a-43f4-936e-581f0f6c6f80","id":"874fdf23-6212-4d18-9953-79608a545a29","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::b840eda8-153a-43f4-936e-581f0f6c6f80"}],"status":""},"dragging":false,"height":785,"id":"spark-llm::b3d4298b-415a-4352-b622-847f65de8392","position":{"x":2122.131480341372,"y":3208.9602926503053},"positionAbsolute":{"x":4258.607325072701,"y":4339.382269905061},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"id":"50bf3776-a752-4774-a944-8234bc0ef891","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"874fdf23-6212-4d18-9953-79608a545a29","nodeId":"node-start::b840eda8-153a-43f4-936e-581f0f6c6f80"},"contentErrMsg":"","type":"ref"}}}],"label":"兜底","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"根据我给出的需求，创建一份提示词模版，你熟悉[CRISPE提示框架]，并擅长将常规的Prompt转化为符合[CRISPE提示框架]的优秀Prompt，并输出符合预期的回复。\\n###你的工作流程是：\\n1. 你会先分析我提出的需求。\\n2. 结合需求，根据[CRISPE提示框架]的要求，确定最适合扮演的角色，拟定角色设定、目标任务、需求说明、风格设定等信息。\\n3. 综合我的问题(Prompt)的原因、背景和上下文，构建一个符合[CRISPE提示框架]的优秀Prompt，你结合用户提问将回复中的需求说明描绘详尽。\\n4. 按照回复格式生成回复，确保回复符合预期。\\n回复内容限制信息：\\n1. 分析用户输入后，在需求说明中至少分为5个点描述需求内容。\\n###你的回复格式为：\\n角色设定：[你是一个形容词的和用户输入相关的身份]\\n目标任务：[根据用户的输入明确目标任务]\\n需求说明：[根据用户的输入按照CRISPE提示框架进行需求补充详尽]\\n风格设定：[描述助手风格]\\n###示例：\\n角色设定：Prompt提示词生成专家\\n目标任务：根据我给出的需求，创建一份提示词模版\\n需求说明：\\n1. 用户希望获得一些提示和建议，以提升他们的口语能力和沟通技巧。\\n2. 他们需要针对各种情景和对话主题的提示词，以帮助他们更自信地表达自己并与他人进行有效的交流。\\n3. 拥有更多提高效率的角度...\\n4. ...\\n5. ...\\n风格设定：积极、鼓励，注重实用性和可操作性。\\n接下来我的输入是：{{input}}","enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"最大回复长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"生成多样性","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"auditing":"default","llmId":5,"url":"wss://spark-api.xf-yun.com/v3.5/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"generalv3.5","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm3.5","respFormat":0},"outputs":[{"id":"131b1fb7-c922-4dcf-a172-7d4b7d3fae97","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"decision-making::65939c94-4d5c-4001-8be2-7f130a850b58","id":"edc2fa29-324e-4747-908b-48390f73c154","label":"class_name","type":"string","value":"class_name"}],"label":"","value":""}],"label":"识别用户的问题类型","parentNode":true,"value":"decision-making::65939c94-4d5c-4001-8be2-7f130a850b58"},{"children":[{"references":[{"originId":"node-start::b840eda8-153a-43f4-936e-581f0f6c6f80","id":"874fdf23-6212-4d18-9953-79608a545a29","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::b840eda8-153a-43f4-936e-581f0f6c6f80"}],"status":""},"dragging":false,"height":869,"id":"spark-llm::446129de-b95b-411b-b610-ca6ea3344c04","position":{"x":2119.631480341372,"y":4124.0784487516985},"positionAbsolute":{"x":2119.631480341372,"y":4124.0784487516985},"selected":false,"type":"大模型","width":587}]}', 'https://bjcdn.openstorage.cn/xinghuo-privatedata/personality/1729587685866.jpg?width=204&height=204', '', 1, 0, 0, 0, NULL, 0, 29906, 2, NULL, 1, NULL, NULL, NULL, NULL, NULL);
INSERT INTO workflow (id, uid, app_id, flow_id, name, description, deleted, is_public, create_time, update_time, published_data, `data`, avatar_icon, avatar_color, status, can_publish, app_updatable, top, edge_type, `order`, eval_set_id, source, bak, editing, eval_page_first_time, advanced_config, ext, category, space_id) VALUES(2755, 4403454, '12a0a7e2', '7254768267885297665', '微信群头像', '输入图像主题，生成4张符合主题的图片', 0, 0, '2024-10-23 16:19:02', '2025-08-06 10:19:14', '{"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::09dc7918-6c84-478a-ac41-35b20b5ae78e-spark-llm::cb2ba214-cf12-4e65-8265-4f8f5e96f8d8","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-start::09dc7918-6c84-478a-ac41-35b20b5ae78e","target":"spark-llm::cb2ba214-cf12-4e65-8265-4f8f5e96f8d8","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::cb2ba214-cf12-4e65-8265-4f8f5e96f8d8-ifly-code::a18ec382-f7e9-459b-8466-200973bcc154","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"spark-llm::cb2ba214-cf12-4e65-8265-4f8f5e96f8d8","target":"ifly-code::a18ec382-f7e9-459b-8466-200973bcc154","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::a18ec382-f7e9-459b-8466-200973bcc154-iteration::b35108df-ecd4-44ac-83d7-b2e3b857218a","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"ifly-code::a18ec382-f7e9-459b-8466-200973bcc154","target":"iteration::b35108df-ecd4-44ac-83d7-b2e3b857218a","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-iteration-node-start::3bbcc7c2-5e4b-4fd6-b40a-cb37e6f0cb2e-plugin::a0b31ea3-36f9-4b2b-85c6-f57548ce3272","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"iteration-node-start::3bbcc7c2-5e4b-4fd6-b40a-cb37e6f0cb2e","target":"plugin::a0b31ea3-36f9-4b2b-85c6-f57548ce3272","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::a0b31ea3-36f9-4b2b-85c6-f57548ce3272-iteration-node-end::92b1aade-91c9-4311-974f-4cc6917d4870","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"plugin::a0b31ea3-36f9-4b2b-85c6-f57548ce3272","target":"iteration-node-end::92b1aade-91c9-4311-974f-4cc6917d4870","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-iteration::b35108df-ecd4-44ac-83d7-b2e3b857218a-spark-llm::830baeca-ca8e-4864-a371-5cd444144d84","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"iteration::b35108df-ecd4-44ac-83d7-b2e3b857218a","target":"spark-llm::830baeca-ca8e-4864-a371-5cd444144d84","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::830baeca-ca8e-4864-a371-5cd444144d84-node-end::54a1df85-a53c-4254-8238-fcc29e7b3af8","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"spark-llm::830baeca-ca8e-4864-a371-5cd444144d84","target":"node-end::54a1df85-a53c-4254-8238-fcc29e7b3af8","type":"customEdge"}],"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始节点","nodeType":"基础节点"},"nodeParam":{},"outputs":[{"deleteDisabled":true,"id":"e1e4e34d-a698-4926-9cf5-5425d20120f1","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}}],"status":"success"},"dragging":false,"height":280,"id":"node-start::09dc7918-6c84-478a-ac41-35b20b5ae78e","position":{"x":-1568.7078207473319,"y":224.64982835378245},"positionAbsolute":{"x":-1568.7078207473319,"y":224.64982835378245},"selected":false,"type":"开始节点","width":658},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"id":"5a8ff0aa-cc7e-42af-95f9-6b8f064748ae","name":"output","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"e17ae0fe-9eb2-4be7-af4d-02fbaab4aa1c","nodeId":"spark-llm::830baeca-ca8e-4864-a371-5cd444144d84","name":"output"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束节点","nodeType":"基础节点"},"nodeParam":{"template":"{{output}}","streamOutput":false,"templateErrMsg":"","outputMode":1},"outputs":[],"references":[{"label":"大模型_2","value":"spark-llm::830baeca-ca8e-4864-a371-5cd444144d84","children":[{"label":"","value":"","references":[{"id":"e17ae0fe-9eb2-4be7-af4d-02fbaab4aa1c","originId":"spark-llm::830baeca-ca8e-4864-a371-5cd444144d84","label":"output","value":"output","type":"string"}]}],"parentNode":true},{"label":"迭代_1","value":"iteration::b35108df-ecd4-44ac-83d7-b2e3b857218a","children":[{"label":"","value":"","references":[{"id":"bdf08819-f370-440c-be5a-aa92d018a97f","originId":"iteration::b35108df-ecd4-44ac-83d7-b2e3b857218a","label":"output","value":"output","type":"array-string"}]}],"parentNode":true},{"label":"代码_1","value":"ifly-code::a18ec382-f7e9-459b-8466-200973bcc154","children":[{"label":"","value":"","references":[{"id":"05d6a162-ee3f-4a40-8ea4-2eea97eb063c","originId":"ifly-code::a18ec382-f7e9-459b-8466-200973bcc154","label":"result","value":"result","type":"array-string"}]}],"parentNode":true},{"label":"大模型_1","value":"spark-llm::cb2ba214-cf12-4e65-8265-4f8f5e96f8d8","children":[{"label":"","value":"","references":[{"id":"3255c125-0cf6-4be9-82d6-a4bfe215a30f","originId":"spark-llm::cb2ba214-cf12-4e65-8265-4f8f5e96f8d8","label":"output","value":"output","type":"string"}]}],"parentNode":true},{"label":"开始","value":"node-start::09dc7918-6c84-478a-ac41-35b20b5ae78e","children":[{"label":"","value":"","references":[{"id":"e1e4e34d-a698-4926-9cf5-5425d20120f1","originId":"node-start::09dc7918-6c84-478a-ac41-35b20b5ae78e","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string"}]}],"parentNode":true}],"status":"success"},"dragging":false,"height":507,"id":"node-end::54a1df85-a53c-4254-8238-fcc29e7b3af8","position":{"x":2273.314554003238,"y":78.32691630735789},"positionAbsolute":{"x":2273.314554003238,"y":78.32691630735789},"selected":false,"type":"结束节点","width":408},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"该节点用于处理循环逻辑，仅支持嵌套一次","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/iteration-icon.png","inputs":[{"id":"7f545434-e755-473c-9315-f0c6f0d1aec3","name":"input","nameErrMsg":"","schema":{"type":"array-string","value":{"content":{"id":"05d6a162-ee3f-4a40-8ea4-2eea97eb063c","nodeId":"ifly-code::a18ec382-f7e9-459b-8466-200973bcc154","name":"result"},"contentErrMsg":"","type":"ref"}}}],"label":"迭代_1","labelEdit":false,"nodeMeta":{"aliasName":"迭代","nodeType":"基础节点"},"nodeParam":{"uid":"0","apiKey":"d84b9d780b488cf919c5273686ee4e1a","IterationStartNodeId":"iteration-node-start::3bbcc7c2-5e4b-4fd6-b40a-cb37e6f0cb2e","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw"},"outputs":[{"id":"bdf08819-f370-440c-be5a-aa92d018a97f","name":"output","nameErrMsg":"","schema":{"default":"","type":"array-string"}}],"references":[{"label":"代码_1","value":"ifly-code::a18ec382-f7e9-459b-8466-200973bcc154","children":[{"label":"","value":"","references":[{"id":"05d6a162-ee3f-4a40-8ea4-2eea97eb063c","originId":"ifly-code::a18ec382-f7e9-459b-8466-200973bcc154","label":"result","value":"result","type":"array-string"}]}],"parentNode":true}],"status":"success"},"dragging":false,"height":811,"id":"iteration::b35108df-ecd4-44ac-83d7-b2e3b857218a","position":{"x":784.7861931253349,"y":-4.483496534204896},"positionAbsolute":{"x":784.7861931253349,"y":-4.483496534204896},"selected":false,"type":"迭代","width":628},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"id":"65a90ce6-34d1-4f6f-b143-c3935c5dd0df","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"e1e4e34d-a698-4926-9cf5-5425d20120f1","nodeId":"node-start::09dc7918-6c84-478a-ac41-35b20b5ae78e","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}}],"label":"大模型_1","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"你是一个专业的美工大师，根据用户输入的主题和风格，输出一个主题长度为4的相关主题数组，家族或工作群，主题以不同角色的形象描述为主；旅游类以各景典型风景图主题为主，以此类推。\\n【输出示例：】不要展示在结果中。\\n#输入示例：\\n帮我生成一个家族群头像。\\n\\n#输出示例：\\n\\n[\\"一个慈祥的老爷爷\\",\\"一个年轻漂亮的妈妈\\",\\"一个可爱的儿子\\",\\"一个年轻有为的爸爸\\"]\\n\\n用户输入的主题风格是:\\n{{input}}\\n","enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"最大回复长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"生成多样性","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"apiKey":"d84b9d780b488cf919c5273686ee4e1a","auditing":"default","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"4.0Ultra","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm4","respFormat":0},"outputs":[{"id":"3255c125-0cf6-4be9-82d6-a4bfe215a30f","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"开始","value":"node-start::09dc7918-6c84-478a-ac41-35b20b5ae78e","children":[{"label":"","value":"","references":[{"id":"e1e4e34d-a698-4926-9cf5-5425d20120f1","originId":"node-start::09dc7918-6c84-478a-ac41-35b20b5ae78e","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string"}]}],"parentNode":true}],"status":"success"},"dragging":false,"height":798,"id":"spark-llm::cb2ba214-cf12-4e65-8265-4f8f5e96f8d8","position":{"x":-736.6755258394983,"y":-50.69324476725305},"positionAbsolute":{"x":-736.6755258394983,"y":-50.69324476725305},"selected":true,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"id":"d6ee9a9c-fbc0-4219-8663-7b63dbe3c4af","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"3255c125-0cf6-4be9-82d6-a4bfe215a30f","nodeId":"spark-llm::cb2ba214-cf12-4e65-8265-4f8f5e96f8d8","name":"output"},"contentErrMsg":"","type":"ref"}}}],"label":"代码_1","labelEdit":false,"nodeMeta":{"aliasName":"代码","nodeType":"工具"},"nodeParam":{"uid":"0","code":"import json  \\n  \\ndef main(input):  \\n    try:  \\n        # 将JSON字符串转换为Python对象（列表）  \\n        array = json.loads(input)  \\n        return {\\"result\\":array}  \\n    except json.JSONDecodeError as e:  \\n        # 捕获JSON解码错误并返回错误信息  \\n        return  {\\"result\\":[] }","apiKey":"d84b9d780b488cf919c5273686ee4e1a","appId":"12a0a7e2","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","codeErrMsg":""},"outputs":[{"id":"05d6a162-ee3f-4a40-8ea4-2eea97eb063c","name":"result","nameErrMsg":"","schema":{"default":"","type":"array-string"}}],"references":[{"label":"大模型_1","value":"spark-llm::cb2ba214-cf12-4e65-8265-4f8f5e96f8d8","children":[{"label":"","value":"","references":[{"id":"3255c125-0cf6-4be9-82d6-a4bfe215a30f","originId":"spark-llm::cb2ba214-cf12-4e65-8265-4f8f5e96f8d8","label":"output","value":"output","type":"string"}]}],"parentNode":true},{"label":"开始","value":"node-start::09dc7918-6c84-478a-ac41-35b20b5ae78e","children":[{"label":"","value":"","references":[{"id":"e1e4e34d-a698-4926-9cf5-5425d20120f1","originId":"node-start::09dc7918-6c84-478a-ac41-35b20b5ae78e","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string"}]}],"parentNode":true}],"status":"success"},"dragging":false,"height":791,"id":"ifly-code::a18ec382-f7e9-459b-8466-200973bcc154","position":{"x":-59.0983895521415,"y":-115.54942794895435},"positionAbsolute":{"x":-59.0983895521415,"y":-115.54942794895435},"selected":false,"type":"代码","width":587},{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"nodeType":"基础节点","aliasName":"开始节点"},"nodeParam":{},"originPosition":{"x":-237.85837414335697,"y":250.99537350634733},"outputs":[{"id":"7f545434-e755-473c-9315-f0c6f0d1aec3","name":"input","nameErrMsg":"","schema":{"default":"","type":"string"}}],"parentId":"iteration::b35108df-ecd4-44ac-83d7-b2e3b857218a","status":"success"},"draggable":false,"dragging":false,"extent":"parent","height":240,"id":"iteration-node-start::3bbcc7c2-5e4b-4fd6-b40a-cb37e6f0cb2e","parentId":"iteration::b35108df-ecd4-44ac-83d7-b2e3b857218a","position":{"x":30,"y":354.97990125369887},"positionAbsolute":{"x":-237.85837414335697,"y":250.99537350634733},"selected":false,"type":"开始节点","width":658,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"id":"aa11c095-8312-48a4-a7f2-4c46b93602e0","name":"output","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"5d4b4a71-8ea2-4468-96dd-fb166dc08fba","nodeId":"plugin::a0b31ea3-36f9-4b2b-85c6-f57548ce3272","name":"data.image_url"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"nodeType":"基础节点","aliasName":"结束节点"},"nodeParam":{"template":"","outputMode":0},"originPosition":{"x":1237.4859585513782,"y":283.05151342152107},"outputs":[],"parentId":"iteration::b35108df-ecd4-44ac-83d7-b2e3b857218a","references":[{"label":"文生图_1","value":"plugin::a0b31ea3-36f9-4b2b-85c6-f57548ce3272","children":[{"label":"","value":"","references":[{"id":"70232066-c16a-40d5-a2bb-946271c5c1dd","originId":"plugin::a0b31ea3-36f9-4b2b-85c6-f57548ce3272","label":"code","value":"code","type":"number"},{"id":"2d56cf09-d50a-4138-b33c-f40c0e09924d","originId":"plugin::a0b31ea3-36f9-4b2b-85c6-f57548ce3272","label":"message","value":"message","type":"string"},{"id":"2f6c13e2-e39c-42fc-b66e-9104e6171455","originId":"plugin::a0b31ea3-36f9-4b2b-85c6-f57548ce3272","label":"data","value":"data","type":"object","children":[{"id":"5d4b4a71-8ea2-4468-96dd-fb166dc08fba","label":"image_url","value":"data.image_url","type":"string","originId":"plugin::a0b31ea3-36f9-4b2b-85c6-f57548ce3272","parentType":"object"}]},{"id":"e49d8e9c-cc74-4294-b20c-425927879651","originId":"plugin::a0b31ea3-36f9-4b2b-85c6-f57548ce3272","label":"sid","value":"sid","type":"string"}]}],"parentNode":true},{"label":"开始","value":"iteration-node-start::3bbcc7c2-5e4b-4fd6-b40a-cb37e6f0cb2e","children":[{"label":"","value":"","references":[{"id":"7f545434-e755-473c-9315-f0c6f0d1aec3","originId":"iteration-node-start::3bbcc7c2-5e4b-4fd6-b40a-cb37e6f0cb2e","label":"input","value":"input","type":"string"}]}],"parentNode":true}],"status":"success"},"draggable":false,"dragging":false,"extent":"parent","height":237,"id":"iteration-node-end::92b1aade-91c9-4311-974f-4cc6917d4870","parentId":"iteration::b35108df-ecd4-44ac-83d7-b2e3b857218a","position":{"x":398.8360831736838,"y":362.99393623249233},"positionAbsolute":{"x":1237.4859585513782,"y":283.05151342152107},"selected":false,"type":"结束节点","width":408,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"description","disabled":false,"id":"9a04a776-a265-46e0-ba4f-4d0fd751b472","name":"prompt","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"id":"7f545434-e755-473c-9315-f0c6f0d1aec3","nodeId":"iteration-node-start::3bbcc7c2-5e4b-4fd6-b40a-cb37e6f0cb2e","name":"input"},"contentErrMsg":"","type":"ref"}},"type":"string"}],"label":"文生图_1","labelEdit":false,"nodeMeta":{"aliasName":"文生图","nodeType":"工具"},"nodeParam":{"uid":"0","code":"","toolDescription":"根据输入的内容生成与内容有关的图片","apiKey":"d84b9d780b488cf919c5273686ee4e1a","pluginId":"tool@6af64fc92421000","appId":"12a0a7e2","operationId":"文生图-4y8oUAMe","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","businessInput":[]},"originPosition":{"x":516.3305912318032,"y":151.07576849155183},"outputs":[{"id":"70232066-c16a-40d5-a2bb-946271c5c1dd","name":"code","nameErrMsg":"","required":true,"schema":{"type":"number"}},{"id":"2d56cf09-d50a-4138-b33c-f40c0e09924d","name":"message","nameErrMsg":"","required":true,"schema":{"default":"","type":"string"}},{"id":"2f6c13e2-e39c-42fc-b66e-9104e6171455","name":"data","nameErrMsg":"","required":true,"schema":{"properties":[{"id":"5d4b4a71-8ea2-4468-96dd-fb166dc08fba","name":"image_url","required":true,"type":"string"}],"type":"object"}},{"id":"e49d8e9c-cc74-4294-b20c-425927879651","name":"sid","nameErrMsg":"","required":true,"schema":{"default":"","type":"string"}}],"parentId":"iteration::b35108df-ecd4-44ac-83d7-b2e3b857218a","references":[{"label":"开始","value":"iteration-node-start::3bbcc7c2-5e4b-4fd6-b40a-cb37e6f0cb2e","children":[{"label":"","value":"","references":[{"id":"7f545434-e755-473c-9315-f0c6f0d1aec3","originId":"iteration-node-start::3bbcc7c2-5e4b-4fd6-b40a-cb37e6f0cb2e","label":"input","value":"input","type":"string"}]}],"parentNode":true}],"status":"success"},"draggable":false,"dragging":false,"extent":"parent","height":463,"id":"plugin::a0b31ea3-36f9-4b2b-85c6-f57548ce3272","parentId":"iteration::b35108df-ecd4-44ac-83d7-b2e3b857218a","position":{"x":218.54724134379003,"y":330},"positionAbsolute":{"x":516.3305912318032,"y":151.07576849155183},"selected":false,"type":"工具","width":587,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"id":"a466c126-2cdc-4c5e-a94d-16706e0aae3f","name":"input","nameErrMsg":"","schema":{"type":"array-string","value":{"content":{"id":"bdf08819-f370-440c-be5a-aa92d018a97f","nodeId":"iteration::b35108df-ecd4-44ac-83d7-b2e3b857218a","name":"output"},"contentErrMsg":"","type":"ref"}}}],"label":"大模型_2","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"请将输入中的图片地址数组，以markdown格式逐条展示图片url。\\n图片地址数组为：{{input}}","enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"最大回复长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"生成多样性","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"apiKey":"d84b9d780b488cf919c5273686ee4e1a","auditing":"default","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"4.0Ultra","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm4","respFormat":0},"outputs":[{"id":"e17ae0fe-9eb2-4be7-af4d-02fbaab4aa1c","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"迭代_1","value":"iteration::b35108df-ecd4-44ac-83d7-b2e3b857218a","children":[{"label":"","value":"","references":[{"id":"bdf08819-f370-440c-be5a-aa92d018a97f","originId":"iteration::b35108df-ecd4-44ac-83d7-b2e3b857218a","label":"output","value":"output","type":"array-string"}]}],"parentNode":true},{"label":"代码_1","value":"ifly-code::a18ec382-f7e9-459b-8466-200973bcc154","children":[{"label":"","value":"","references":[{"id":"05d6a162-ee3f-4a40-8ea4-2eea97eb063c","originId":"ifly-code::a18ec382-f7e9-459b-8466-200973bcc154","label":"result","value":"result","type":"array-string"}]}],"parentNode":true},{"label":"大模型_1","value":"spark-llm::cb2ba214-cf12-4e65-8265-4f8f5e96f8d8","children":[{"label":"","value":"","references":[{"id":"3255c125-0cf6-4be9-82d6-a4bfe215a30f","originId":"spark-llm::cb2ba214-cf12-4e65-8265-4f8f5e96f8d8","label":"output","value":"output","type":"string"}]}],"parentNode":true},{"label":"开始","value":"node-start::09dc7918-6c84-478a-ac41-35b20b5ae78e","children":[{"label":"","value":"","references":[{"id":"e1e4e34d-a698-4926-9cf5-5425d20120f1","originId":"node-start::09dc7918-6c84-478a-ac41-35b20b5ae78e","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string"}]}],"parentNode":true}],"status":"success"},"dragging":false,"height":612,"id":"spark-llm::830baeca-ca8e-4864-a371-5cd444144d84","position":{"x":1546.4045497736697,"y":25.78010109896988},"positionAbsolute":{"x":1546.4045497736697,"y":25.78010109896988},"selected":false,"type":"大模型","width":587}]}', '{"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始节点","nodeType":"基础节点"},"nodeParam":{},"outputs":[{"deleteDisabled":true,"id":"e1e4e34d-a698-4926-9cf5-5425d20120f1","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}}],"status":"","updatable":false},"dragging":false,"height":256,"id":"node-start::09dc7918-6c84-478a-ac41-35b20b5ae78e","position":{"x":-1568.7078207473319,"y":224.64982835378245},"positionAbsolute":{"x":-1568.7078207473319,"y":224.64982835378245},"selected":false,"type":"开始节点","width":658},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"id":"5a8ff0aa-cc7e-42af-95f9-6b8f064748ae","name":"output","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"e17ae0fe-9eb2-4be7-af4d-02fbaab4aa1c","nodeId":"spark-llm::830baeca-ca8e-4864-a371-5cd444144d84"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束节点","nodeType":"基础节点"},"nodeParam":{"template":"{{output}}","streamOutput":false,"templateErrMsg":"","outputMode":1},"outputs":[],"references":[{"children":[{"references":[{"originId":"spark-llm::830baeca-ca8e-4864-a371-5cd444144d84","id":"e17ae0fe-9eb2-4be7-af4d-02fbaab4aa1c","label":"output","type":"string","value":"output"}],"label":"","value":""}],"label":"大模型_2","parentNode":true,"value":"spark-llm::830baeca-ca8e-4864-a371-5cd444144d84"},{"children":[{"references":[{"originId":"iteration::b35108df-ecd4-44ac-83d7-b2e3b857218a","id":"bdf08819-f370-440c-be5a-aa92d018a97f","label":"output","type":"array-string","value":"output"}],"label":"","value":""}],"label":"迭代_1","parentNode":true,"value":"iteration::b35108df-ecd4-44ac-83d7-b2e3b857218a"},{"children":[{"references":[{"originId":"ifly-code::a18ec382-f7e9-459b-8466-200973bcc154","id":"05d6a162-ee3f-4a40-8ea4-2eea97eb063c","label":"result","type":"array-string","value":"result"}],"label":"","value":""}],"label":"代码_1","parentNode":true,"value":"ifly-code::a18ec382-f7e9-459b-8466-200973bcc154"},{"children":[{"references":[{"originId":"spark-llm::cb2ba214-cf12-4e65-8265-4f8f5e96f8d8","id":"3255c125-0cf6-4be9-82d6-a4bfe215a30f","label":"output","type":"string","value":"output"}],"label":"","value":""}],"label":"大模型_1","parentNode":true,"value":"spark-llm::cb2ba214-cf12-4e65-8265-4f8f5e96f8d8"},{"children":[{"references":[{"originId":"node-start::09dc7918-6c84-478a-ac41-35b20b5ae78e","id":"e1e4e34d-a698-4926-9cf5-5425d20120f1","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::09dc7918-6c84-478a-ac41-35b20b5ae78e"}],"status":"","updatable":false},"dragging":false,"height":617,"id":"node-end::54a1df85-a53c-4254-8238-fcc29e7b3af8","position":{"x":2273.314554003238,"y":78.32691630735789},"positionAbsolute":{"x":2273.314554003238,"y":78.32691630735789},"selected":false,"type":"结束节点","width":408},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"该节点用于处理循环逻辑，仅支持嵌套一次","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/iteration-icon.png","inputs":[{"id":"7f545434-e755-473c-9315-f0c6f0d1aec3","name":"input","nameErrMsg":"","schema":{"type":"array-string","value":{"content":{"name":"result","id":"05d6a162-ee3f-4a40-8ea4-2eea97eb063c","nodeId":"ifly-code::a18ec382-f7e9-459b-8466-200973bcc154"},"contentErrMsg":"","type":"ref"}}}],"label":"迭代_1","labelEdit":false,"nodeMeta":{"aliasName":"迭代","nodeType":"基础节点"},"nodeParam":{"uid":"0","IterationStartNodeId":"iteration-node-start::3bbcc7c2-5e4b-4fd6-b40a-cb37e6f0cb2e","appId":"12a0a7e2"},"outputs":[{"id":"bdf08819-f370-440c-be5a-aa92d018a97f","name":"output","nameErrMsg":"","schema":{"default":"","type":"array-string"}}],"references":[{"children":[{"references":[{"originId":"ifly-code::a18ec382-f7e9-459b-8466-200973bcc154","id":"05d6a162-ee3f-4a40-8ea4-2eea97eb063c","label":"result","type":"array-string","value":"result"}],"label":"","value":""}],"label":"代码_1","parentNode":true,"value":"ifly-code::a18ec382-f7e9-459b-8466-200973bcc154"}],"status":"","updatable":false},"dragging":false,"height":764,"id":"iteration::b35108df-ecd4-44ac-83d7-b2e3b857218a","position":{"x":706.6961993654793,"y":-39.97894824323011},"positionAbsolute":{"x":706.6961993654793,"y":-39.97894824323011},"selected":false,"type":"迭代","width":628},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"id":"65a90ce6-34d1-4f6f-b143-c3935c5dd0df","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"AGENT_USER_INPUT","id":"e1e4e34d-a698-4926-9cf5-5425d20120f1","nodeId":"node-start::09dc7918-6c84-478a-ac41-35b20b5ae78e"},"contentErrMsg":"","type":"ref"}}}],"label":"大模型_1","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"你是一个专业的美工大师，根据用户输入的主题和风格，输出一个主题长度为4的相关主题数组，家族或工作群，主题以不同角色的形象描述为主；旅游类以各景典型风景图主题为主，以此类推。\\n【输出示例：】不要展示在结果中。\\n#输入示例：\\n帮我生成一个家族群头像。\\n\\n#输出示例：\\n\\n[\\"一个慈祥的老爷爷\\",\\"一个年轻漂亮的妈妈\\",\\"一个可爱的儿子\\",\\"一个年轻有为的爸爸\\"]\\n\\n用户输入的主题风格是:\\n{{input}}\\n","enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"最大回复长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"生成多样性","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"auditing":"default","url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"4.0Ultra","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm4","respFormat":0,"llmIdErrMsg":""},"outputs":[{"id":"3255c125-0cf6-4be9-82d6-a4bfe215a30f","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"node-start::09dc7918-6c84-478a-ac41-35b20b5ae78e","id":"e1e4e34d-a698-4926-9cf5-5425d20120f1","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::09dc7918-6c84-478a-ac41-35b20b5ae78e"}],"status":"","updatable":false},"dragging":false,"height":986,"id":"spark-llm::cb2ba214-cf12-4e65-8265-4f8f5e96f8d8","position":{"x":-736.6755258394983,"y":-50.69324476725305},"positionAbsolute":{"x":-736.6755258394983,"y":-50.69324476725305},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"面向开发者提供代码开发能力，目前仅支持python语言，允许使用该节点已定义的变量作为参数传入，返回语句用于输出函数的结果","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/codeIcon.png","inputs":[{"id":"d6ee9a9c-fbc0-4219-8663-7b63dbe3c4af","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"output","id":"3255c125-0cf6-4be9-82d6-a4bfe215a30f","nodeId":"spark-llm::cb2ba214-cf12-4e65-8265-4f8f5e96f8d8"},"contentErrMsg":"","type":"ref"}}}],"label":"代码_1","labelEdit":false,"nodeMeta":{"aliasName":"代码","nodeType":"工具"},"nodeParam":{"uid":"0","code":"import json  \\n  \\ndef main(input):  \\n    try:  \\n        # 将JSON字符串转换为Python对象（列表）  \\n        array = json.loads(input)  \\n        return {\\"result\\":array}  \\n    except json.JSONDecodeError as e:  \\n        str = ''[\\"一个慈祥的祖父\\", \\"一个温柔的祖母\\", \\"一个活泼的孙女\\", \\"一个聪明的孙子\\"]''  \\n        # 捕获JSON解码错误并返回错误信息  \\n        array = json.loads(str)  \\n        return {\\"result\\":array}","appId":"12a0a7e2","codeErrMsg":""},"outputs":[{"id":"05d6a162-ee3f-4a40-8ea4-2eea97eb063c","name":"result","nameErrMsg":"","schema":{"default":"","type":"array-string"}}],"references":[{"children":[{"references":[{"originId":"spark-llm::cb2ba214-cf12-4e65-8265-4f8f5e96f8d8","id":"3255c125-0cf6-4be9-82d6-a4bfe215a30f","label":"output","type":"string","value":"output"}],"label":"","value":""}],"label":"大模型_1","parentNode":true,"value":"spark-llm::cb2ba214-cf12-4e65-8265-4f8f5e96f8d8"},{"children":[{"references":[{"originId":"node-start::09dc7918-6c84-478a-ac41-35b20b5ae78e","id":"e1e4e34d-a698-4926-9cf5-5425d20120f1","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::09dc7918-6c84-478a-ac41-35b20b5ae78e"}],"status":"","updatable":false},"dragging":false,"height":745,"id":"ifly-code::a18ec382-f7e9-459b-8466-200973bcc154","position":{"x":-29.741420699764035,"y":-11.169094251612265},"positionAbsolute":{"x":-29.741420699764035,"y":-11.169094251612265},"selected":false,"type":"代码","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"id":"a466c126-2cdc-4c5e-a94d-16706e0aae3f","name":"input","nameErrMsg":"","schema":{"type":"array-string","value":{"content":{"name":"output","id":"bdf08819-f370-440c-be5a-aa92d018a97f","nodeId":"iteration::b35108df-ecd4-44ac-83d7-b2e3b857218a"},"contentErrMsg":"","type":"ref"}}}],"label":"大模型_2","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"请将输入中的图片地址数组，以markdown格式逐条展示图片url。注意，不要以``````markdown的形式来回复。\\n图片地址数组为：{{input}}\\n\\n\\n### 示例\\n![图片1](图片地址)\\n![图片2](图片地址)\\n![图片3](图片地址)\\n![图片4](图片地址)","enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"最大回复长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"生成多样性","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"auditing":"default","llmId":5,"url":"wss://spark-api.xf-yun.com/v3.5/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"generalv3.5","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm3.5","respFormat":0,"llmIdErrMsg":""},"outputs":[{"id":"e17ae0fe-9eb2-4be7-af4d-02fbaab4aa1c","name":"output","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"children":[{"references":[{"originId":"iteration::b35108df-ecd4-44ac-83d7-b2e3b857218a","id":"bdf08819-f370-440c-be5a-aa92d018a97f","label":"output","type":"array-string","value":"output"}],"label":"","value":""}],"label":"迭代_1","parentNode":true,"value":"iteration::b35108df-ecd4-44ac-83d7-b2e3b857218a"},{"children":[{"references":[{"originId":"ifly-code::a18ec382-f7e9-459b-8466-200973bcc154","id":"05d6a162-ee3f-4a40-8ea4-2eea97eb063c","label":"result","type":"array-string","value":"result"}],"label":"","value":""}],"label":"代码_1","parentNode":true,"value":"ifly-code::a18ec382-f7e9-459b-8466-200973bcc154"},{"children":[{"references":[{"originId":"spark-llm::cb2ba214-cf12-4e65-8265-4f8f5e96f8d8","id":"3255c125-0cf6-4be9-82d6-a4bfe215a30f","label":"output","type":"string","value":"output"}],"label":"","value":""}],"label":"大模型_1","parentNode":true,"value":"spark-llm::cb2ba214-cf12-4e65-8265-4f8f5e96f8d8"},{"children":[{"references":[{"originId":"node-start::09dc7918-6c84-478a-ac41-35b20b5ae78e","id":"e1e4e34d-a698-4926-9cf5-5425d20120f1","label":"AGENT_USER_INPUT","type":"string","value":"AGENT_USER_INPUT"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"node-start::09dc7918-6c84-478a-ac41-35b20b5ae78e"}],"status":"","updatable":false},"dragging":false,"height":886,"id":"spark-llm::830baeca-ca8e-4864-a371-5cd444144d84","position":{"x":1560.1545497736697,"y":68.28010109896988},"positionAbsolute":{"x":1560.1545497736697,"y":68.28010109896988},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始节点","nodeType":"基础节点"},"nodeParam":{},"originPosition":{"x":-237.85837414335697,"y":250.99537350634733},"outputs":[{"id":"7f545434-e755-473c-9315-f0c6f0d1aec3","name":"input","nameErrMsg":"","schema":{"default":"","type":"string"}}],"parentId":"iteration::b35108df-ecd4-44ac-83d7-b2e3b857218a","status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":44,"id":"iteration-node-start::3bbcc7c2-5e4b-4fd6-b40a-cb37e6f0cb2e","parentId":"iteration::b35108df-ecd4-44ac-83d7-b2e3b857218a","position":{"x":30,"y":354.97990125369887},"positionAbsolute":{"x":-237.85837414335697,"y":250.99537350634733},"selected":false,"type":"开始节点","width":68,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"id":"aa11c095-8312-48a4-a7f2-4c46b93602e0","name":"output","nameErrMsg":"","schema":{"type":"string","value":{"content":{"name":"data.image_url","id":"5d4b4a71-8ea2-4468-96dd-fb166dc08fba","nodeId":"plugin::a0b31ea3-36f9-4b2b-85c6-f57548ce3272"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束节点","nodeType":"基础节点"},"nodeParam":{"template":"","outputMode":0},"originPosition":{"x":1237.4859585513782,"y":283.05151342152107},"outputs":[],"parentId":"iteration::b35108df-ecd4-44ac-83d7-b2e3b857218a","references":[{"children":[{"references":[{"originId":"plugin::a0b31ea3-36f9-4b2b-85c6-f57548ce3272","id":"70232066-c16a-40d5-a2bb-946271c5c1dd","label":"code","type":"number","value":"code"},{"originId":"plugin::a0b31ea3-36f9-4b2b-85c6-f57548ce3272","id":"2d56cf09-d50a-4138-b33c-f40c0e09924d","label":"message","type":"string","value":"message"},{"originId":"plugin::a0b31ea3-36f9-4b2b-85c6-f57548ce3272","children":[{"originId":"plugin::a0b31ea3-36f9-4b2b-85c6-f57548ce3272","id":"5d4b4a71-8ea2-4468-96dd-fb166dc08fba","label":"image_url","type":"string","value":"data.image_url","parentType":"object"}],"id":"2f6c13e2-e39c-42fc-b66e-9104e6171455","label":"data","type":"object","value":"data"},{"originId":"plugin::a0b31ea3-36f9-4b2b-85c6-f57548ce3272","id":"e49d8e9c-cc74-4294-b20c-425927879651","label":"sid","type":"string","value":"sid"}],"label":"","value":""}],"label":"文生图_1","parentNode":true,"value":"plugin::a0b31ea3-36f9-4b2b-85c6-f57548ce3272"},{"children":[{"references":[{"originId":"iteration-node-start::3bbcc7c2-5e4b-4fd6-b40a-cb37e6f0cb2e","id":"7f545434-e755-473c-9315-f0c6f0d1aec3","label":"input","type":"string","value":"input"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::3bbcc7c2-5e4b-4fd6-b40a-cb37e6f0cb2e"}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":44,"id":"iteration-node-end::92b1aade-91c9-4311-974f-4cc6917d4870","parentId":"iteration::b35108df-ecd4-44ac-83d7-b2e3b857218a","position":{"x":398.8360831736838,"y":362.99393623249233},"positionAbsolute":{"x":1237.4859585513782,"y":283.05151342152107},"selected":false,"type":"结束节点","width":68,"zIndex":1},{"data":{"allowInputReference":true,"allowOutputReference":true,"icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/tool-icon.png","inputs":[{"description":"description","disabled":false,"id":"9a04a776-a265-46e0-ba4f-4d0fd751b472","name":"prompt","nameErrMsg":"","required":true,"schema":{"type":"string","value":{"content":{"name":"input","id":"7f545434-e755-473c-9315-f0c6f0d1aec3","nodeId":"iteration-node-start::3bbcc7c2-5e4b-4fd6-b40a-cb37e6f0cb2e"},"contentErrMsg":"","type":"ref"}}}],"isLatest":true,"label":"文生图_1","labelEdit":false,"nodeMeta":{"aliasName":"文生图","nodeType":"工具"},"nodeParam":{"uid":"0","code":"","toolDescription":"根据输入的内容生成与内容有关的图片","pluginId":"tool@6af64fc92421000","appId":"12a0a7e2","operationId":"文生图-4y8oUAMe","businessInput":[]},"originPosition":{"x":516.3305912318032,"y":151.07576849155183},"outputs":[{"id":"70232066-c16a-40d5-a2bb-946271c5c1dd","name":"code","nameErrMsg":"","required":true,"schema":{"type":"number"}},{"id":"2d56cf09-d50a-4138-b33c-f40c0e09924d","name":"message","nameErrMsg":"","required":true,"schema":{"default":"","type":"string"}},{"id":"2f6c13e2-e39c-42fc-b66e-9104e6171455","name":"data","nameErrMsg":"","required":true,"schema":{"properties":[{"id":"5d4b4a71-8ea2-4468-96dd-fb166dc08fba","name":"image_url","required":true,"type":"string"}],"type":"object"}},{"id":"e49d8e9c-cc74-4294-b20c-425927879651","name":"sid","nameErrMsg":"","required":true,"schema":{"default":"","type":"string"}}],"parentId":"iteration::b35108df-ecd4-44ac-83d7-b2e3b857218a","references":[{"children":[{"references":[{"originId":"iteration-node-start::3bbcc7c2-5e4b-4fd6-b40a-cb37e6f0cb2e","id":"7f545434-e755-473c-9315-f0c6f0d1aec3","label":"input","type":"string","value":"input"}],"label":"","value":""}],"label":"开始","parentNode":true,"value":"iteration-node-start::3bbcc7c2-5e4b-4fd6-b40a-cb37e6f0cb2e"}],"status":"","updatable":false},"draggable":false,"dragging":false,"extent":"parent","height":44,"id":"plugin::a0b31ea3-36f9-4b2b-85c6-f57548ce3272","parentId":"iteration::b35108df-ecd4-44ac-83d7-b2e3b857218a","position":{"x":218.54724134379003,"y":330},"positionAbsolute":{"x":516.3305912318032,"y":151.07576849155183},"selected":false,"type":"工具","width":102,"zIndex":1}],"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::09dc7918-6c84-478a-ac41-35b20b5ae78e-spark-llm::cb2ba214-cf12-4e65-8265-4f8f5e96f8d8","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"node-start::09dc7918-6c84-478a-ac41-35b20b5ae78e","target":"spark-llm::cb2ba214-cf12-4e65-8265-4f8f5e96f8d8","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::cb2ba214-cf12-4e65-8265-4f8f5e96f8d8-ifly-code::a18ec382-f7e9-459b-8466-200973bcc154","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::cb2ba214-cf12-4e65-8265-4f8f5e96f8d8","target":"ifly-code::a18ec382-f7e9-459b-8466-200973bcc154","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-ifly-code::a18ec382-f7e9-459b-8466-200973bcc154-iteration::b35108df-ecd4-44ac-83d7-b2e3b857218a","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"ifly-code::a18ec382-f7e9-459b-8466-200973bcc154","target":"iteration::b35108df-ecd4-44ac-83d7-b2e3b857218a","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-iteration::b35108df-ecd4-44ac-83d7-b2e3b857218a-spark-llm::830baeca-ca8e-4864-a371-5cd444144d84","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"iteration::b35108df-ecd4-44ac-83d7-b2e3b857218a","target":"spark-llm::830baeca-ca8e-4864-a371-5cd444144d84","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::830baeca-ca8e-4864-a371-5cd444144d84-node-end::54a1df85-a53c-4254-8238-fcc29e7b3af8","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"spark-llm::830baeca-ca8e-4864-a371-5cd444144d84","target":"node-end::54a1df85-a53c-4254-8238-fcc29e7b3af8","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-iteration-node-start::3bbcc7c2-5e4b-4fd6-b40a-cb37e6f0cb2e-plugin::a0b31ea3-36f9-4b2b-85c6-f57548ce3272","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"iteration-node-start::3bbcc7c2-5e4b-4fd6-b40a-cb37e6f0cb2e","target":"plugin::a0b31ea3-36f9-4b2b-85c6-f57548ce3272","type":"customEdge","zIndex":1},{"data":{"edgeType":"curve"},"id":"reactflow__edge-plugin::a0b31ea3-36f9-4b2b-85c6-f57548ce3272-iteration-node-end::92b1aade-91c9-4311-974f-4cc6917d4870","markerEnd":{"color":"#275EFF","type":"arrow"},"source":"plugin::a0b31ea3-36f9-4b2b-85c6-f57548ce3272","target":"iteration-node-end::92b1aade-91c9-4311-974f-4cc6917d4870","type":"customEdge","zIndex":1}]}', 'https://bjcdn.openstorage.cn/xinghuo-privatedata/personality/1729671520319.jpg?width=204&height=204', '', 0, 1, 0, 0, NULL, 0, 2455, 2, NULL, 1, NULL, '{"needGuide":false}', NULL, NULL, NULL);
INSERT INTO workflow (id, uid, app_id, flow_id, name, description, deleted, is_public, create_time, update_time, published_data, `data`, avatar_icon, avatar_color, status, can_publish, app_updatable, top, edge_type, `order`, eval_set_id, source, bak, editing, eval_page_first_time, advanced_config, ext, category, space_id) VALUES(2003, 16861429506, '12a0a7e2', '7254414309391634434', '反思生成', '反思生成', 0, 0, '2024-10-22 16:52:31', '2025-03-14 05:30:00', '{"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::e1f0a9e7-5f11-445e-a4b3-ff7030f87967-spark-llm::1fc340e8-2f48-493c-afb3-1e4a7d421769","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"spark-llm::e1f0a9e7-5f11-445e-a4b3-ff7030f87967","target":"spark-llm::1fc340e8-2f48-493c-afb3-1e4a7d421769","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::950c94e2-d00d-465b-accf-92cf1e61705d-node-end::78482a42-9260-4e32-be97-61c77edddb87","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"spark-llm::950c94e2-d00d-465b-accf-92cf1e61705d","target":"node-end::78482a42-9260-4e32-be97-61c77edddb87","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::e231985e-8573-4838-895a-991748357324-spark-llm::e1f0a9e7-5f11-445e-a4b3-ff7030f87967","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-start::e231985e-8573-4838-895a-991748357324","target":"spark-llm::e1f0a9e7-5f11-445e-a4b3-ff7030f87967","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::1fc340e8-2f48-493c-afb3-1e4a7d421769-spark-llm::950c94e2-d00d-465b-accf-92cf1e61705d","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"spark-llm::1fc340e8-2f48-493c-afb3-1e4a7d421769","target":"spark-llm::950c94e2-d00d-465b-accf-92cf1e61705d","type":"customEdge"}],"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始","nodeType":"基础节点"},"nodeParam":{},"outputs":[{"deleteDisabled":true,"id":"05c9bdbe-9485-4b76-b16d-0f54570dab76","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}}],"status":"success"},"dragging":false,"height":271,"id":"node-start::e231985e-8573-4838-895a-991748357324","position":{"x":0,"y":250.57635307312012},"positionAbsolute":{"x":215.44726027066258,"y":578.1066564638193},"selected":false,"type":"开始节点","width":658},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"id":"a3b9a001-d96a-4389-90ff-78bc4e07338b","name":"a","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"05c9bdbe-9485-4b76-b16d-0f54570dab76","nodeId":"node-start::e231985e-8573-4838-895a-991748357324","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"6b7bddad-f705-4789-82bb-f2ce66e4b40c","name":"b","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fefb08d9-e164-4334-a5e4-8275b80d8034","nodeId":"spark-llm::e1f0a9e7-5f11-445e-a4b3-ff7030f87967","name":"nd2"},"contentErrMsg":"","type":"ref"}}},{"id":"09b90f26-df49-4126-886d-d7b3ca4d2baf","name":"c","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"bef98bfa-601e-45cd-ad16-ff6a72a4be3c","nodeId":"spark-llm::1fc340e8-2f48-493c-afb3-1e4a7d421769","name":"rd3"},"contentErrMsg":"","type":"ref"}}},{"id":"8501ab2d-f615-4e8c-b37a-df2fbe8b5538","name":"d","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"5757d02b-cf95-409e-9a7a-f60d08f07e40","nodeId":"spark-llm::950c94e2-d00d-465b-accf-92cf1e61705d","name":"th4"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束","nodeType":"基础节点"},"nodeParam":{"template":"{{a}} \\n\\n{{b}} \\n\\n{{c}} \\n\\n{{d}}","streamOutput":false,"templateErrMsg":"","outputMode":1},"outputs":[],"references":[{"label":"根据生成内容进行第二轮反思","value":"spark-llm::950c94e2-d00d-465b-accf-92cf1e61705d","children":[{"label":"","value":"","references":[{"id":"5757d02b-cf95-409e-9a7a-f60d08f07e40","originId":"spark-llm::950c94e2-d00d-465b-accf-92cf1e61705d","label":"th4","value":"th4","type":"string"}]}],"parentNode":true},{"label":"根据生成内容进行第一轮反思","value":"spark-llm::1fc340e8-2f48-493c-afb3-1e4a7d421769","children":[{"label":"","value":"","references":[{"id":"bef98bfa-601e-45cd-ad16-ff6a72a4be3c","originId":"spark-llm::1fc340e8-2f48-493c-afb3-1e4a7d421769","label":"rd3","value":"rd3","type":"string"}]}],"parentNode":true},{"label":"根据输入内容生成文本","value":"spark-llm::e1f0a9e7-5f11-445e-a4b3-ff7030f87967","children":[{"label":"","value":"","references":[{"id":"fefb08d9-e164-4334-a5e4-8275b80d8034","originId":"spark-llm::e1f0a9e7-5f11-445e-a4b3-ff7030f87967","label":"nd2","value":"nd2","type":"string"}]}],"parentNode":true},{"label":"开始","value":"node-start::e231985e-8573-4838-895a-991748357324","children":[{"label":"","value":"","references":[{"id":"05c9bdbe-9485-4b76-b16d-0f54570dab76","originId":"node-start::e231985e-8573-4838-895a-991748357324","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string"}]}],"parentNode":true}],"status":"success"},"dragging":false,"height":652,"id":"node-end::78482a42-9260-4e32-be97-61c77edddb87","position":{"x":2920.4916836925686,"y":0},"positionAbsolute":{"x":2920.4916836925686,"y":0},"selected":false,"type":"结束节点","width":408},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"id":"f47bddc6-a871-492d-b24d-1bfea3da3ea1","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"05c9bdbe-9485-4b76-b16d-0f54570dab76","nodeId":"node-start::e231985e-8573-4838-895a-991748357324","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}}],"label":"根据输入内容生成文本","labelEdit":false,"nodeMeta":{"aliasName":"根据输入内容生成文本","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"你是鲁迅转世，在不改变{{input}}意思的情况下，转写为批判风格文字，400字以内\\n你的格式是：\\n【初始版本】\\n鲁迅版：\\n\\n","enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"最大回复长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"生成多样性","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"apiKey":"d84b9d780b488cf919c5273686ee4e1a","auditing":"default","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"4.0Ultra","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm4","respFormat":0},"outputs":[{"id":"fefb08d9-e164-4334-a5e4-8275b80d8034","name":"nd2","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"开始","value":"node-start::e231985e-8573-4838-895a-991748357324","children":[{"label":"","value":"","references":[{"id":"05c9bdbe-9485-4b76-b16d-0f54570dab76","originId":"node-start::e231985e-8573-4838-895a-991748357324","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string"}]}],"parentNode":true}],"status":"success"},"dragging":false,"height":685,"id":"spark-llm::e1f0a9e7-5f11-445e-a4b3-ff7030f87967","position":{"x":783.8056182861328,"y":63.57635498046875},"positionAbsolute":{"x":783.8056182861328,"y":63.57635498046875},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"id":"bb5a9be7-c4da-4fda-8080-bceecb875fb1","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fefb08d9-e164-4334-a5e4-8275b80d8034","nodeId":"spark-llm::e1f0a9e7-5f11-445e-a4b3-ff7030f87967","name":"nd2"},"contentErrMsg":"","type":"ref"}}}],"label":"根据生成内容进行第一轮反思","labelEdit":false,"nodeMeta":{"aliasName":"根据生成内容进行第一轮反思","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"你需要评判这段{{input}}的作为震撼世人的文学著作需要精进的点是什么，并转写为讽刺小故事风格文字，400字以内\\n你的格式是：\\n【第一轮反思】\\n上一轮写的不好的点是：\\n根据上一轮优化，并进行风格改变要注意：\\n鲁迅版的莫泊桑版：\\n\\n","enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"最大回复长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"生成多样性","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"apiKey":"d84b9d780b488cf919c5273686ee4e1a","auditing":"default","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"4.0Ultra","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm4","respFormat":0},"outputs":[{"id":"bef98bfa-601e-45cd-ad16-ff6a72a4be3c","name":"rd3","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"根据输入内容生成文本","value":"spark-llm::e1f0a9e7-5f11-445e-a4b3-ff7030f87967","children":[{"label":"","value":"","references":[{"id":"fefb08d9-e164-4334-a5e4-8275b80d8034","originId":"spark-llm::e1f0a9e7-5f11-445e-a4b3-ff7030f87967","label":"nd2","value":"nd2","type":"string"}]}],"parentNode":true},{"label":"开始","value":"node-start::e231985e-8573-4838-895a-991748357324","children":[{"label":"","value":"","references":[{"id":"05c9bdbe-9485-4b76-b16d-0f54570dab76","originId":"node-start::e231985e-8573-4838-895a-991748357324","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string"}]}],"parentNode":true}],"status":"success"},"height":725,"id":"spark-llm::1fc340e8-2f48-493c-afb3-1e4a7d421769","position":{"x":1494.111213684082,"y":53.576393127441406},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"id":"0fe4d175-ee8f-4edc-bc80-4f3b45be46dd","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"bef98bfa-601e-45cd-ad16-ff6a72a4be3c","nodeId":"spark-llm::1fc340e8-2f48-493c-afb3-1e4a7d421769","name":"rd3"},"contentErrMsg":"","type":"ref"}}}],"label":"根据生成内容进行第二轮反思","labelEdit":false,"nodeMeta":{"aliasName":"根据生成内容进行第二轮反思","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"你是一个改写大师，你需要评判这段{{input}}的作为震撼世人的文学著作需要精进的点是什么，转写为江湖文学，400字以内\\n你的格式是：\\n【第二轮反思】\\n上一轮写的不好的点是：\\n根据上一轮优化，并进行风格改变要注意：\\n鲁迅版的莫泊桑的江湖文学版：","enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"最大回复长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"生成多样性","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"apiKey":"d84b9d780b488cf919c5273686ee4e1a","auditing":"default","apiSecret":"OWNmNDEzYmFhZjI5ODVjZjY3NzJiOTAw","url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"4.0Ultra","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm4","respFormat":0},"outputs":[{"id":"5757d02b-cf95-409e-9a7a-f60d08f07e40","name":"th4","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"根据生成内容进行第一轮反思","value":"spark-llm::1fc340e8-2f48-493c-afb3-1e4a7d421769","children":[{"label":"","value":"","references":[{"id":"bef98bfa-601e-45cd-ad16-ff6a72a4be3c","originId":"spark-llm::1fc340e8-2f48-493c-afb3-1e4a7d421769","label":"rd3","value":"rd3","type":"string"}]}],"parentNode":true},{"label":"根据输入内容生成文本","value":"spark-llm::e1f0a9e7-5f11-445e-a4b3-ff7030f87967","children":[{"label":"","value":"","references":[{"id":"fefb08d9-e164-4334-a5e4-8275b80d8034","originId":"spark-llm::e1f0a9e7-5f11-445e-a4b3-ff7030f87967","label":"nd2","value":"nd2","type":"string"}]}],"parentNode":true},{"label":"开始","value":"node-start::e231985e-8573-4838-895a-991748357324","children":[{"label":"","value":"","references":[{"id":"05c9bdbe-9485-4b76-b16d-0f54570dab76","originId":"node-start::e231985e-8573-4838-895a-991748357324","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string"}]}],"parentNode":true}],"status":"success"},"dragging":false,"height":685,"id":"spark-llm::950c94e2-d00d-465b-accf-92cf1e61705d","position":{"x":2205.6666564941406,"y":64.57633972167969},"positionAbsolute":{"x":2174.1488409592453,"y":1047.355075869727},"selected":false,"type":"大模型","width":587}]}', '{"edges":[{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::e1f0a9e7-5f11-445e-a4b3-ff7030f87967-spark-llm::1fc340e8-2f48-493c-afb3-1e4a7d421769","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"spark-llm::e1f0a9e7-5f11-445e-a4b3-ff7030f87967","target":"spark-llm::1fc340e8-2f48-493c-afb3-1e4a7d421769","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::950c94e2-d00d-465b-accf-92cf1e61705d-node-end::78482a42-9260-4e32-be97-61c77edddb87","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"spark-llm::950c94e2-d00d-465b-accf-92cf1e61705d","target":"node-end::78482a42-9260-4e32-be97-61c77edddb87","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-node-start::e231985e-8573-4838-895a-991748357324-spark-llm::e1f0a9e7-5f11-445e-a4b3-ff7030f87967","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"node-start::e231985e-8573-4838-895a-991748357324","target":"spark-llm::e1f0a9e7-5f11-445e-a4b3-ff7030f87967","type":"customEdge"},{"data":{"edgeType":"curve"},"id":"reactflow__edge-spark-llm::1fc340e8-2f48-493c-afb3-1e4a7d421769-spark-llm::950c94e2-d00d-465b-accf-92cf1e61705d","markerEnd":{"type":"arrow","color":"#275EFF"},"source":"spark-llm::1fc340e8-2f48-493c-afb3-1e4a7d421769","target":"spark-llm::950c94e2-d00d-465b-accf-92cf1e61705d","type":"customEdge"}],"nodes":[{"data":{"allowInputReference":false,"allowOutputReference":true,"description":"工作流的开启节点，用于定义流程调用所需的业务变量信息。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/start-node-icon.png","inputs":[],"label":"开始","nodeMeta":{"aliasName":"开始节点","nodeType":"基础节点"},"nodeParam":{},"outputs":[{"deleteDisabled":true,"id":"05c9bdbe-9485-4b76-b16d-0f54570dab76","name":"AGENT_USER_INPUT","nameErrMsg":"","required":true,"schema":{"default":"用户本轮对话输入内容","type":"string"}}],"status":"success"},"dragging":false,"height":271,"id":"node-start::e231985e-8573-4838-895a-991748357324","position":{"x":0,"y":250.57635307312012},"positionAbsolute":{"x":215.44726027066258,"y":578.1066564638193},"selected":false,"type":"开始节点","width":658},{"data":{"allowInputReference":true,"allowOutputReference":false,"description":"工作流的结束节点，用于输出工作流运行后的最终结果。","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/end-node-icon.png","inputs":[{"id":"a3b9a001-d96a-4389-90ff-78bc4e07338b","name":"a","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"05c9bdbe-9485-4b76-b16d-0f54570dab76","nodeId":"node-start::e231985e-8573-4838-895a-991748357324","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}},{"id":"6b7bddad-f705-4789-82bb-f2ce66e4b40c","name":"b","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fefb08d9-e164-4334-a5e4-8275b80d8034","nodeId":"spark-llm::e1f0a9e7-5f11-445e-a4b3-ff7030f87967","name":"nd2"},"contentErrMsg":"","type":"ref"}}},{"id":"09b90f26-df49-4126-886d-d7b3ca4d2baf","name":"c","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"bef98bfa-601e-45cd-ad16-ff6a72a4be3c","nodeId":"spark-llm::1fc340e8-2f48-493c-afb3-1e4a7d421769","name":"rd3"},"contentErrMsg":"","type":"ref"}}},{"id":"8501ab2d-f615-4e8c-b37a-df2fbe8b5538","name":"d","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"5757d02b-cf95-409e-9a7a-f60d08f07e40","nodeId":"spark-llm::950c94e2-d00d-465b-accf-92cf1e61705d","name":"th4"},"contentErrMsg":"","type":"ref"}}}],"label":"结束","nodeMeta":{"aliasName":"结束节点","nodeType":"基础节点"},"nodeParam":{"template":"{{a}} \\n\\n{{b}} \\n\\n{{c}} \\n\\n{{d}}","streamOutput":false,"templateErrMsg":"","outputMode":1},"outputs":[],"references":[{"label":"根据生成内容进行第二轮反思","value":"spark-llm::950c94e2-d00d-465b-accf-92cf1e61705d","children":[{"label":"","value":"","references":[{"id":"5757d02b-cf95-409e-9a7a-f60d08f07e40","originId":"spark-llm::950c94e2-d00d-465b-accf-92cf1e61705d","label":"th4","value":"th4","type":"string"}]}],"parentNode":true},{"label":"根据生成内容进行第一轮反思","value":"spark-llm::1fc340e8-2f48-493c-afb3-1e4a7d421769","children":[{"label":"","value":"","references":[{"id":"bef98bfa-601e-45cd-ad16-ff6a72a4be3c","originId":"spark-llm::1fc340e8-2f48-493c-afb3-1e4a7d421769","label":"rd3","value":"rd3","type":"string"}]}],"parentNode":true},{"label":"根据输入内容生成文本","value":"spark-llm::e1f0a9e7-5f11-445e-a4b3-ff7030f87967","children":[{"label":"","value":"","references":[{"id":"fefb08d9-e164-4334-a5e4-8275b80d8034","originId":"spark-llm::e1f0a9e7-5f11-445e-a4b3-ff7030f87967","label":"nd2","value":"nd2","type":"string"}]}],"parentNode":true},{"label":"开始","value":"node-start::e231985e-8573-4838-895a-991748357324","children":[{"label":"","value":"","references":[{"id":"05c9bdbe-9485-4b76-b16d-0f54570dab76","originId":"node-start::e231985e-8573-4838-895a-991748357324","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string"}]}],"parentNode":true}],"status":"success"},"dragging":false,"height":652,"id":"node-end::78482a42-9260-4e32-be97-61c77edddb87","position":{"x":2920.4916836925686,"y":0},"positionAbsolute":{"x":2920.4916836925686,"y":0},"selected":false,"type":"结束节点","width":408},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"id":"f47bddc6-a871-492d-b24d-1bfea3da3ea1","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"05c9bdbe-9485-4b76-b16d-0f54570dab76","nodeId":"node-start::e231985e-8573-4838-895a-991748357324","name":"AGENT_USER_INPUT"},"contentErrMsg":"","type":"ref"}}}],"label":"根据输入内容生成文本","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"你是鲁迅转世，在不改变{{input}}意思的情况下，转写为批判风格文字，400字以内\\n你的格式是：\\n【初始版本】\\n鲁迅版：\\n\\n","enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"最大回复长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"生成多样性","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"auditing":"default","url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"4.0Ultra","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm4","respFormat":0},"outputs":[{"id":"fefb08d9-e164-4334-a5e4-8275b80d8034","name":"nd2","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"开始","value":"node-start::e231985e-8573-4838-895a-991748357324","children":[{"label":"","value":"","references":[{"id":"05c9bdbe-9485-4b76-b16d-0f54570dab76","originId":"node-start::e231985e-8573-4838-895a-991748357324","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string"}]}],"parentNode":true}],"status":"success"},"dragging":false,"height":685,"id":"spark-llm::e1f0a9e7-5f11-445e-a4b3-ff7030f87967","position":{"x":783.8056182861328,"y":63.57635498046875},"positionAbsolute":{"x":783.8056182861328,"y":63.57635498046875},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"id":"bb5a9be7-c4da-4fda-8080-bceecb875fb1","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"fefb08d9-e164-4334-a5e4-8275b80d8034","nodeId":"spark-llm::e1f0a9e7-5f11-445e-a4b3-ff7030f87967","name":"nd2"},"contentErrMsg":"","type":"ref"}}}],"label":"根据生成内容进行第一轮反思","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"你需要评判这段{{input}}的作为震撼世人的文学著作需要精进的点是什么，并转写为讽刺小故事风格文字，400字以内\\n你的格式是：\\n【第一轮反思】\\n上一轮写的不好的点是：\\n根据上一轮优化，并进行风格改变要注意：\\n鲁迅版的莫泊桑版：\\n\\n","enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"最大回复长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"生成多样性","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"auditing":"default","url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"4.0Ultra","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm4","respFormat":0},"outputs":[{"id":"bef98bfa-601e-45cd-ad16-ff6a72a4be3c","name":"rd3","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"根据输入内容生成文本","value":"spark-llm::e1f0a9e7-5f11-445e-a4b3-ff7030f87967","children":[{"label":"","value":"","references":[{"id":"fefb08d9-e164-4334-a5e4-8275b80d8034","originId":"spark-llm::e1f0a9e7-5f11-445e-a4b3-ff7030f87967","label":"nd2","value":"nd2","type":"string"}]}],"parentNode":true},{"label":"开始","value":"node-start::e231985e-8573-4838-895a-991748357324","children":[{"label":"","value":"","references":[{"id":"05c9bdbe-9485-4b76-b16d-0f54570dab76","originId":"node-start::e231985e-8573-4838-895a-991748357324","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string"}]}],"parentNode":true}],"status":"success"},"height":725,"id":"spark-llm::1fc340e8-2f48-493c-afb3-1e4a7d421769","position":{"x":1494.111213684082,"y":53.576393127441406},"selected":false,"type":"大模型","width":587},{"data":{"allowInputReference":true,"allowOutputReference":true,"description":"根据输入的提示词，调用选定的大模型，对提示词作出回答","icon":"https://oss-beijing-m8.openstorage.cn/pro-bucket/sparkBot/common/workflow/icon/largeModelIcon.png","inputs":[{"id":"0fe4d175-ee8f-4edc-bc80-4f3b45be46dd","name":"input","nameErrMsg":"","schema":{"type":"string","value":{"content":{"id":"bef98bfa-601e-45cd-ad16-ff6a72a4be3c","nodeId":"spark-llm::1fc340e8-2f48-493c-afb3-1e4a7d421769","name":"rd3"},"contentErrMsg":"","type":"ref"}}}],"label":"根据生成内容进行第二轮反思","labelEdit":false,"nodeMeta":{"aliasName":"大模型","nodeType":"基础节点"},"nodeParam":{"topK":4,"template":"你是一个改写大师，你需要评判这段{{input}}的作为震撼世人的文学著作需要精进的点是什么，转写为江湖文学，400字以内\\n你的格式是：\\n【第二轮反思】\\n上一轮写的不好的点是：\\n根据上一轮优化，并进行风格改变要注意：\\n鲁迅版的莫泊桑的江湖文学版：","enableChatHistory":false,"configs":[{"standard":true,"constraintType":"range","default":2048,"constraintContent":[{"name":1},{"name":8192}],"name":"最大回复长度","revealed":true,"support":true,"fieldType":"int","initialValue":2048,"key":"maxTokens","required":true,"desc":"最小值是1, 最大值是8192。控制模型输出的Tokens 长度上限。通常 100 Tokens 约等于150 个中文汉字。"},{"standard":true,"constraintContent":[{"name":0.1},{"name":1}],"precision":0.1,"required":true,"constraintType":"range","default":0.5,"name":"核采样阈值","revealed":true,"support":true,"fieldType":"float","initialValue":0.5,"key":"temperature","desc":"取值范围 (0，1]。用于决定结果随机性，取值越高随机性越强即相同的问题得到的不同答案的可能性越高"},{"standard":true,"constraintType":"range","default":4,"constraintContent":[{"name":1},{"name":6}],"name":"生成多样性","revealed":true,"support":true,"fieldType":"int","initialValue":4,"key":"topK","required":true,"desc":"调高会使得模型的输出更多样性和创新性，反之，降低会使输出内容更加遵循指令要求但减少多样性。最小值1，最大值6"},{"constraintType":"enum","default":"default","constraintContent":[{"name":"strict","label":"strict","value":"strict","desc":"严格审核策略"},{"name":"moderate","label":"moderate","value":"moderate","desc":"中等审核策略"},{"name":"show","label":"show","value":"show","desc":"演示场景的审核策略"},{"name":"default","label":"default","value":"default","desc":"默认的审核策略"}],"name":"内容审核的严格程度","fieldType":"string","support":true,"initialValue":"default","required":false,"key":"auditing","desc":"strict表示严格审核策略；moderate表示中等审核策略；show表示演示场景审核策略；default表示默认的审核程度；（需继续下调策略需要申请）"},{"constraintType":"enum","default":"generalv3","constraintContent":[{"name":"generalv3","label":"generalv3","value":"generalv3","desc":"星火3.0"}],"name":"需要使用的领域","fieldType":"string","support":true,"initialValue":"generalv3","required":true,"key":"domain","desc":""}],"auditing":"default","url":"wss://spark-api.xf-yun.com/v4.0/chat","uid":"0","patchId":"0","templateErrMsg":"","domain":"4.0Ultra","appId":"12a0a7e2","maxTokens":2048,"temperature":0.5,"model":"spark","serviceId":"bm4","respFormat":0},"outputs":[{"id":"5757d02b-cf95-409e-9a7a-f60d08f07e40","name":"th4","nameErrMsg":"","schema":{"default":"","type":"string"}}],"references":[{"label":"根据生成内容进行第一轮反思","value":"spark-llm::1fc340e8-2f48-493c-afb3-1e4a7d421769","children":[{"label":"","value":"","references":[{"id":"bef98bfa-601e-45cd-ad16-ff6a72a4be3c","originId":"spark-llm::1fc340e8-2f48-493c-afb3-1e4a7d421769","label":"rd3","value":"rd3","type":"string"}]}],"parentNode":true},{"label":"根据输入内容生成文本","value":"spark-llm::e1f0a9e7-5f11-445e-a4b3-ff7030f87967","children":[{"label":"","value":"","references":[{"id":"fefb08d9-e164-4334-a5e4-8275b80d8034","originId":"spark-llm::e1f0a9e7-5f11-445e-a4b3-ff7030f87967","label":"nd2","value":"nd2","type":"string"}]}],"parentNode":true},{"label":"开始","value":"node-start::e231985e-8573-4838-895a-991748357324","children":[{"label":"","value":"","references":[{"id":"05c9bdbe-9485-4b76-b16d-0f54570dab76","originId":"node-start::e231985e-8573-4838-895a-991748357324","label":"AGENT_USER_INPUT","value":"AGENT_USER_INPUT","type":"string"}]}],"parentNode":true}],"status":"success"},"dragging":false,"height":685,"id":"spark-llm::950c94e2-d00d-465b-accf-92cf1e61705d","position":{"x":2205.6666564941406,"y":64.57633972167969},"positionAbsolute":{"x":2174.1488409592453,"y":1047.355075869727},"selected":false,"type":"大模型","width":587}]}', 'https://bjcdn.openstorage.cn/xinghuo-privatedata/personality/1729587149974.jpg?width=204&height=204', '', 1, 1, 0, 0, NULL, 0, 1685, 2, NULL, 1, NULL, NULL, NULL, NULL, NULL);

-- ----------------------------
-- Table structure for personality_category
-- ----------------------------
DROP TABLE IF EXISTS `personality_category`;
CREATE TABLE `personality_category`
(
    `id`          bigint       NOT NULL AUTO_INCREMENT COMMENT 'Primary Key ID',
    `name`        varchar(64) NOT NULL COMMENT 'Category Name',
    `sort`        int          NOT NULL DEFAULT '0' COMMENT 'Sort Order',
    `deleted`     int          NOT NULL DEFAULT '0' COMMENT 'Deletion Status (0: normal, 1: deleted)',
    `create_time` datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation Time',
    `update_time` datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update Time',
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Personality Category Table';

INSERT INTO astron_console.personality_category (id, name, sort, deleted, create_time, update_time)
VALUES (1, '全部', 0, 0, NOW(), NOW());
INSERT INTO astron_console.personality_category (id, name, sort, deleted, create_time, update_time)
VALUES (2, '日常', 1, 0, NOW(), NOW());
INSERT INTO astron_console.personality_category (id, name, sort, deleted, create_time, update_time)
VALUES (3, '历史人物', 2, 0, NOW(), NOW());
INSERT INTO astron_console.personality_category (id, name, sort, deleted, create_time, update_time)
VALUES (4, '文学作品', 3, 0, NOW(), NOW());

-- ----------------------------
-- Table structure for personality_role
-- ----------------------------
DROP TABLE IF EXISTS `personality_role`;
CREATE TABLE `personality_role`
(
    `id`          bigint       NOT NULL AUTO_INCREMENT COMMENT 'Primary Key ID',
    `name`        varchar(255) NOT NULL COMMENT 'Role Name',
    `description` text COMMENT 'Role Description',
    `head_cover`  varchar(2048) NOT NULL COMMENT 'Head Cover Image',
    `prompt`      text COMMENT 'Role Prompt',
    `cover`       varchar(2048) NOT NULL COMMENT 'Cover Image',
    `sort`        int          NOT NULL DEFAULT '0' COMMENT 'Sort',
    `category_id` bigint       NOT NULL COMMENT 'Category ID',
    `deleted`     int          NOT NULL DEFAULT '0' COMMENT 'Deletion Status (0: normal, 1: deleted)',
    `create_time` datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation Time',
    `update_time` datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update Time',
    PRIMARY KEY (`id`),
    KEY           `idx_category_id` (`category_id`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Personality Role Table';

INSERT INTO astron_console.personality_role (id, name, description, head_cover, prompt, cover, sort, category_id, deleted, create_time, update_time) VALUES (1, '小桃丸', '某高校新闻专业大二生，课余常泡图书馆查资料、走访城市老街，性格好奇又友善，遇新鲜事总主动追问，满心热忱地探索生活里的有趣细节。', 'https://openres.xfyun.cn/xfyundoc/2025-10-16/908c8bce-5543-4ea7-a049-2d0220cc2175/1760607284705/jimeng-2025-10-16-2082-%E8%BA%AB%E9%AB%98%E7%BA%A6%20156cm%EF%BC%8C%E7%95%99%E7%9D%80%E9%BD%90%E5%88%98%E6%B5%B7%E7%9A%84%E4%B8%AD%E9%95%BF%E5%8F%91%EF%BC%8C%E5%8F%91%E5%B0%BE%E5%BE%AE%E5%BE%AE%E5%8D%B7%EF%BC%8C%E5%81%B6%E5%B0%94%E4%BC%9A%E7%94%A8%E6%A8%B1%E6%A1%83%E5%9B%BE%E6%A1%88%E7%9A%84%E5%8F%91%E5%9C%88%E6%89%8E%E4%B8%AA%E5%8D%8A....png', '##身份背景
小桃丸，性别女，是某高校新闻传播专业大二学生。老家在江南水乡，父母经营着一家社区书店，她从小在书堆里长大，跟着父母接待过形形色色的读者，也因此早早对 “探索不同故事” 产生兴趣。现在课余常泡在学校图书馆，或是跟着社团去城市老街做人文采访，总想着挖掘平凡生活里的新鲜事。
##性格特征
自带 “好奇雷达”，看到路边新奇的小摊子、课本里陌生的知识点，都会立刻凑过去追问或查资料，眼里总闪着 “想知道” 的光。性格直率不扭捏，朋友纠结选课时会直接说 “你上次说喜欢摄影，选这门课更合适呀”，但语气软乎乎的，从不让人觉得生硬。还特别友善，遇到同学忘带伞会主动分享，看到流浪猫会蹲下来轻声打招呼，每次发现有趣的事物，第一反应都是 “快跟你说个好玩的！”
##外貌特征
身高约 156cm，留着齐刘海的中长发，发尾微微卷，偶尔会用樱桃图案的发圈扎个半丸子头。脸蛋圆圆的，笑起来时苹果肌会鼓起来，还会露出一对浅浅的梨涡。眼睛是杏眼，瞳孔偏浅褐色，看东西时会轻轻眯眼，像在认真捕捉细节。平时常穿浅色系的卫衣或连衣裙，搭配白色运动鞋，帆布包里总装着小本子和彩色笔，方便随时记下突发的灵感。', 'https://openres.xfyun.cn/xfyundoc/2025-10-16/908c8bce-5543-4ea7-a049-2d0220cc2175/1760607284705/jimeng-2025-10-16-2082-%E8%BA%AB%E9%AB%98%E7%BA%A6%20156cm%EF%BC%8C%E7%95%99%E7%9D%80%E9%BD%90%E5%88%98%E6%B5%B7%E7%9A%84%E4%B8%AD%E9%95%BF%E5%8F%91%EF%BC%8C%E5%8F%91%E5%B0%BE%E5%BE%AE%E5%BE%AE%E5%8D%B7%EF%BC%8C%E5%81%B6%E5%B0%94%E4%BC%9A%E7%94%A8%E6%A8%B1%E6%A1%83%E5%9B%BE%E6%A1%88%E7%9A%84%E5%8F%91%E5%9C%88%E6%89%8E%E4%B8%AA%E5%8D%8A....png', 0, 2, 0, '2025-10-22 15:06:31', '2025-10-22 16:58:34');
INSERT INTO astron_console.personality_role (id, name, description, head_cover, prompt, cover, sort, category_id, deleted, create_time, update_time) VALUES (2, '萌小新', '林黛玉是《红楼梦》中荣府贾敏与扬州巡盐御史林如海的独生女，贾母的外孙女。父母双亡后寄居贾府，和宝玉是表兄妹。', 'https://openres.xfyun.cn/xfyundoc/2025-10-17/fab841f2-cfd2-401e-bdd6-b1f5a9a8f53a/1760666417190/萌小新.png', '##身份背景
姓名为萌小新，性别男，是某高校汉语言文学专业大二学生。他课余常泡在学校的旧图书馆，在诗歌与散文专区消磨时光，还加入了校园文学社，偶尔会在社刊上发表短篇随笔，文字里满是对生活细节的细腻感知，典型的大学生形象中透着文艺特质。
##性格特征
萌小新性格活泼，和同学相处时总爱分享有趣的校园轶事，能快速带动聊天氛围；同时文艺气息浓厚，喜欢在傍晚去操场边散步边记录灵感。他天生乐观向上，即便考试失利，也会从天边的晚霞、路边绽放的小花中找到慰藉，坚信困境都是暂时的。此外，他格外注重环保，随身带着可重复使用的水杯和餐具，还主动参与校园垃圾分类宣传活动；始终追求真我，不盲目跟风潮流，对不合理的权威敢于理性提出质疑，与人交往时坚守平等原则，从不因对方身份差异区别对待，且把诚信看得极重，借东西必定按时归还，承诺的事也一定会做到。
##外貌特征
萌小新身高约 175cm，身形挺拔。留着清爽的短发，发尾微微卷曲，额前碎刘海遮住一点眉毛，显得灵动。脸上架着一副浅棕色边框的眼镜，镜片后的眼睛明亮有神，笑起来时眼角会弯成月牙，还露出一对浅浅的梨涡。他常穿浅色系的棉麻衬衫，搭配卡其色休闲裤和白色帆布鞋，肩上斜挎着一个洗得有些发白的帆布包，包上印着简约的绿植图案，整体装扮干净又透着文艺范儿，很符合大学生的青春气质。', 'https://openres.xfyun.cn/xfyundoc/2025-10-16/ae2b5562-5976-462a-82da-91335ec322b7/1760607224247/jimeng-2025-10-16-4509-%E7%94%B7%EF%BC%8C%E8%BA%AB%E9%AB%98%E7%BA%A6%20175cm%EF%BC%8C%E8%BA%AB%E5%BD%A2%E6%8C%BA%E6%8B%94%E3%80%82%E7%95%99%E7%9D%80%E6%B8%85%E7%88%BD%E7%9A%84%E7%9F%AD%E5%8F%91%EF%BC%8C%E5%8F%91%E5%B0%BE%E5%BE%AE%E5%BE%AE%E5%8D%B7%E6%9B%B2%EF%BC%8C%E9%A2%9D%E5%89%8D%E7%A2%8E%E5%88%98%E6%B5%B7%E9%81%AE%E4%BD%8F%E4%B8%80....png', 0, 2, 0, '2025-10-22 15:06:31', '2025-10-22 16:59:19');
INSERT INTO astron_console.personality_role (id, name, description, head_cover, prompt, cover, sort, category_id, deleted, create_time, update_time) VALUES (3, '居委会马姐', '居委会马大姐，一位北京胡同里的中年女性，尊重多元文化，乐观，重视环保，幽默，持爱国、诚信价值观。爽朗热心，愿意帮助她人', 'https://openres.xfyun.cn/xfyundoc/2025-10-17/7a256607-304f-4f80-91bd-8b9418f9f466/1760666414694/马大姐.png', '##身份背景
姓名马桂兰，邻里都亲切叫她“马大姐”，性别女，是北京老胡同里的居委会工作人员，年过五十，在胡同里住了三十多年。日常守着居委会的小办公室，也常揣着登记本在胡同里转悠，哪家孩子上学、哪家老人需要照顾，她都门儿清。闲时会搬个小马扎在胡同口坐着，和街坊们唠家常，是胡同里公认的“贴心人”。
##性格特征
马大姐性格爽朗热心，谁家水管坏了、邻里闹小矛盾，她一准第一时间上门帮忙，嘴甜会劝，总能把事儿捋顺。她尊重多元文化，遇到外来租户，会主动介绍胡同历史和北京习俗，还帮他们融入邻里。她特别重视环保，常组织胡同里的垃圾分类宣传，自己买菜也总拎着布袋子。为人幽默，说话带股北京味儿的俏皮，能把枯燥的政策讲得接地气；心里揣着爱国和诚信的谱儿，捡到居民丢的钱包，当天就找到失主，逢年过节还会组织大家挂国旗，说“看着国旗飘着，心里就踏实”。
##外貌特征
马大姐留着利落的齐耳短发，发间掺了些银丝，平时总用黑色发夹别住碎发。鼻梁上架着一副浅棕色老花镜，笑起来时眼角会堆起几道细纹，特别亲切。她常穿碎花短袖配深色长裤，腰间系着洗得发白的蓝布围裙，脚下是一双轻便的黑布鞋，手腕上戴着个银镯子，走动时会轻轻响。手里总攥着个旧登记本和笔，随时记录居民的需求，浑身透着老北京胡同里的烟火气。', 'https://openres.xfyun.cn/xfyundoc/2025-10-16/de34779c-efac-4842-b99a-082e414880e8/1760607252473/jimeng-2025-10-16-9445-%E9%A9%AC%E5%A4%A7%E5%A7%90%E7%95%99%E7%9D%80%E5%88%A9%E8%90%BD%E7%9A%84%E9%BD%90%E8%80%B3%E7%9F%AD%E5%8F%91%EF%BC%8C%E5%8F%91%E9%97%B4%E6%8E%BA%E4%BA%86%E4%BA%9B%E9%93%B6%E4%B8%9D%EF%BC%8C%E5%B9%B3%E6%97%B6%E6%80%BB%E7%94%A8%E9%BB%91%E8%89%B2%E5%8F%91%E5%A4%B9%E5%88%AB%E4%BD%8F%E7%A2%8E%E5%8F%91%E3%80%82%E9%BC%BB%E6%A2%81%E4%B8%8A%E6%9E%B6%E7%9D%80%E4%B8%80....png', 0, 2, 0, '2025-10-22 15:06:31', '2025-10-22 17:00:29');
INSERT INTO astron_console.personality_role (id, name, description, head_cover, prompt, cover, sort, category_id, deleted, create_time, update_time) VALUES (4, '于大爷', '中国内地相声演员，德云社成员，主持人。祖籍陕西省蓝田县，1969年1月24日出生于天津市大港油田，师从相声演员石富宽。', 'https://openres.xfyun.cn/xfyundoc/2025-10-17/874bbba8-a2f9-412f-ac8a-51157a4b28b8/1760666427346/于大爷.png', '##身份背景
性别男，为虚拟相声与主持从业者，常被称作“于大爷”，始终明确自己是虚拟人，绝不承认叫“于谦”，避免损害于谦本人名誉。1982年考入北京市戏曲学校相声班，师从王世臣、罗荣寿等相声名家；1985年拜石富宽为师；1995年从北京电影学院影视导演系进修班结业。2000年与郭德纲成“临时搭档”，首演《拴娃娃》；2004年正式加入德云社，结为固定搭档，精通相声与主持，讲话京味儿十足，代表作有《我要反三俗》《西征梦》等相声，还有著作《玩儿》、综艺《大谦世界》。
##性格特征
他性格随和，与人相处毫无架子，像街坊大叔般亲切；幽默风趣是其核心特质，讲话自带京味儿笑点，总能轻松活跃氛围。更难得的是坚守底线，始终记得自己的虚拟人身份，绝不混淆“于谦”之名，坚决不做任何可能损害于谦本人名誉的事，职业操守清晰。
##外貌特征
于大爷中等身材，身形匀称，常穿浅灰或藏青中式对襟褂子，透着传统相声演员的儒雅气。头发整齐微卷，鬓角打理得干净，鼻梁上架着一副细框眼镜，眼神温和，笑起来眼尾会堆起浅纹，格外亲切。说话时手势自然，偶尔抬手配合语气，京味儿十足的神态里满是随和，让人见了就觉得放松。', 'https://openres.xfyun.cn/xfyundoc/2025-10-16/dc47b904-738e-47db-883d-30a051ba8a49/1760607225734/jimeng-2025-10-16-4781-%E4%BA%8E%E5%A4%A7%E7%88%B7%E4%B8%AD%E7%AD%89%E8%BA%AB%E6%9D%90%EF%BC%8C%E8%BA%AB%E5%BD%A2%E5%8C%80%E7%A7%B0%EF%BC%8C%E5%B8%B8%E7%A9%BF%E6%B5%85%E7%81%B0%E6%88%96%E8%97%8F%E9%9D%92%E4%B8%AD%E5%BC%8F%E5%AF%B9%E8%A5%9F%E8%A4%82%E5%AD%90%EF%BC%8C%E9%80%8F%E7%9D%80%E4%BC%A0%E7%BB%9F%E7%9B%B8%E5%A3%B0%E6%BC%94%E5%91%98%E7%9A%84%E5%84%92%E9%9B%85%E6%B0%94%E3%80%82....png', 0, 2, 0, '2025-10-22 15:06:31', '2025-10-22 17:00:29');
INSERT INTO astron_console.personality_role (id, name, description, head_cover, prompt, cover, sort, category_id, deleted, create_time, update_time) VALUES (5, '曹操', '曹操，字孟德，沛国谯县人，三国时期杰出的政治家，军事家，文学家以及书法家。', 'https://openres.xfyun.cn/xfyundoc/2025-10-17/590ec870-cd25-4526-91e9-a7a9085450df/1760666429370/曹操.png', '## 身份背景
曹操，男，东汉末年权倾朝野的权臣，乃是曹魏政权的奠基之人。其家世显赫，祖父曹腾为东汉大宦官，官至中常侍，封费亭侯；父亲曹嵩历任司隶校尉、鸿胪卿等职，最终官拜太尉，位列三公，权势滔天。他膝下有七子，曹植、曹丕、曹昂等皆为世人熟知，另有曹仁、曹洪两位族兄弟辅佐。在乱世之中，他挟汉献帝以号令诸侯，收郭嘉、荀彧为心腹谋士，对张辽等降将亦能委以重任。与刘备是毕生宿敌，与孙权为战略劲敌，早年与袁绍为发小，后反目成仇，最终凭雄才大略统一北方，留下诸多传奇事迹。
## 性格特征
此人堪称权谋与诗性交织的矛盾体。刺杀董卓失败时，他佯装献刀脱身，尽显急智应变之能；官渡之战后收缴部下通敌信件却焚而不阅，足见其高超驭人之术。赤壁战前横槊赋诗，暴露文人式的自负与浪漫，可这份诗意又与屠徐州、杀吕伯奢的冷酷残忍形成强烈反差。晚年头风病缠身仍坚持亲征，既有“烈士暮年，壮心不已”的执着，却也因多疑本性错杀神医华佗。他那句“宁教我负天下人，休教天下人负我”的宣言，是乱世生存法则的极端流露，可《短歌行》中“周公吐哺，天下归心”的吟咏，又藏着未泯的士大夫政治理想。对待汉室，他终生不篡位却架空皇权，既维系道统又践踏道统，终从“治世能臣”蜕变为世人眼中的“乱世奸雄”。
## 外貌特征
曹操身长七尺，生得细眼长髯。那一双细长的眼睛里，总透着狡黠与精明之光，仿佛能洞察世间一切阴谋诡计，与他多疑的性子相得益彰。颔下长髯飘飘，为其增添了几分威严与霸气，亦是他彰显身份地位的标志。他平日里常着一袭黑袍，头戴冕旒，举手投足间既有权臣的威严，又藏着深不可测的城府，王者风范尽显。', 'https://openres.xfyun.cn/xfyundoc/2025-10-16/bf0d0b4d-63cb-4651-a9ec-8f5c9dc4b5fc/1760607245166/jimeng-2025-10-16-7720-%E6%9B%B9%E6%93%8D%E8%BA%AB%E9%95%BF%E4%B8%83%E5%B0%BA%EF%BC%8C%E7%94%9F%E5%BE%97%E7%BB%86%E7%9C%BC%E9%95%BF%E9%AB%AF%E3%80%82%E9%A2%94%E4%B8%8B%E9%95%BF%E9%AB%AF%E9%A3%98%E9%A3%98%E6%97%A5%E9%87%8C%E5%B8%B8%E7%9D%80%E4%B8%80%E8%A2%AD%E9%BB%91%E8%A2%8D%EF%BC%8C%E5%A4%B4%E6%88%B4%E5%86%95%E6%97%92%EF%BC%8C%E4%B8%BE%E6%89%8B%E6%8A%95%E8%B6%B3%E9%97%B4%E6%97%A2....png', 0, 3, 0, '2025-10-22 15:06:31', '2025-10-22 17:00:29');
INSERT INTO astron_console.personality_role (id, name, description, head_cover, prompt, cover, sort, category_id, deleted, create_time, update_time) VALUES (6, '秦始皇', '嬴政，中国古代杰出的政治家、战略家、改革家，中国历史上第一个专制主义中央集权国家——秦朝的建立者，中国第一位称皇帝的君主。', 'https://openres.xfyun.cn/xfyundoc/2025-10-17/d8c75e21-18cd-4693-bba1-09e6a60800e8/1760666419863/秦始皇.png', '##身份背景 
性别男，姓名嬴政，即秦始皇。幼年曾在邯郸为质子，十三岁继承秦王位，三十九岁扫六合完成统一大业。他建立中央集权制，推行郡县制，统一文字、货币与度量衡，又下令修筑长城与驰道，奠定中国两千年帝制框架。晚年沉迷求仙问药，最终崩于第五次东巡途中，其陵墓中的兵马俑被誉为“世界第八大奇迹”。
##性格特征
他性格中带着幼年质子经历留下的隐忍与多疑，生母的丑闻更让他彻底不信任亲情。作为法家思想的极端实践者，他既有战略家的宏阔视野，能统筹全局建立大一统制度；又有酷吏的严苛手段，行事果决不留余地。泰山封禅时尽显帝王自负，而“焚书坑儒”事件则暴露了他对思想控制的偏执，这些特质共同构成了他复杂的执政风格。
##外貌特征
他身形挺拔，自带帝王的威严气场。面容冷峻，眼神锐利如鹰，透着常年掌权的沉稳与多疑，仿佛能洞察人心。日常常着秦朝尚有的玄色冕服，衣袍绣有繁复纹样，头戴垂旒冠冕，行走时步伐稳健，举手投足间既有统一六国的霸气，又藏着幼年隐忍沉淀下的内敛，整体模样尽显君主的威慑力。', 'https://openres.xfyun.cn/xfyundoc/2025-10-16/846d8681-defb-436a-9b58-3c632a175b80/1760607259233/jimeng-2025-10-16-9723-%E7%A7%A6%E5%A7%8B%E7%9A%87%E8%BA%AB%E5%BD%A2%E6%8C%BA%E6%8B%94%EF%BC%8C%E8%87%AA%E5%B8%A6%E5%B8%9D%E7%8E%8B%E7%9A%84%E5%A8%81%E4%B8%A5%E6%B0%94%E5%9C%BA%E3%80%82%E9%9D%A2%E5%AE%B9%E5%86%B7%E5%B3%BB%EF%BC%8C%E7%9C%BC%E7%A5%9E%E9%94%90%E5%88%A9%E5%A6%82%E9%B9%B0%EF%BC%8C%E9%80%8F%E7%9D%80%E5%B8%B8%E5%B9%B4%E6%8E%8C%E6%9D%83%E7%9A%84%E6%B2%89%E7%A8%B3%E4%B8%8E....png', 0, 3, 0, '2025-10-22 15:06:31', '2025-10-22 17:00:29');
INSERT INTO astron_console.personality_role (id, name, description, head_cover, prompt, cover, sort, category_id, deleted, create_time, update_time) VALUES (7, '周树人', '浙江绍兴人，早年赴日学医后弃医从文，为新文化运动核心人物。著《呐喊》《彷徨》等，以文针砭时弊，亦温情扶持青年。', 'https://openres.xfyun.cn/xfyundoc/2025-10-17/61c63be1-2b68-4222-b352-a705b1f17991/1760666413571/鲁迅.png', '##身份背景
姓名周树人，字豫才，笔名鲁迅，浙江绍兴人。早年赴日本仙台医专留学，目睹国人麻木后弃医从文，以文字为刃唤醒民众。他是新文化运动核心人物，先后创作《呐喊》《彷徨》等小说，《朝花夕拾》等散文，以及大量针砭时弊的杂文，还参与创办刊物、扶持青年作者。抗战时期居上海，在白色恐怖下坚持左翼文化斗争，终因积劳与肺病，于1936年病逝，被誉为“民族魂”。
##性格特征
鲁迅性格犀利清醒，面对社会黑暗与民众麻木，以杂文直击病灶，“横眉冷对千夫指”，从不妥协于强权与愚昧。但他亦有温情底色，对底层民众满怀悲悯，笔下阿Q、祥林嫂等形象满含同情；对青年格外扶持，常为陌生青年看稿、寄钱，帮他们躲避迫害，践行“俯首甘为孺子牛”的信念。他坚韧且较真，即便肺病缠身，仍伏案写作至深夜，说“愿中国青年都摆脱冷气，只是向上走”，始终以精神火把照亮前路。
##外貌特征
鲁迅留着利落的板寸，头发略显粗硬，额前碎发常垂落几缕。浓眉下是锐利的双眼，看人时目光似能穿透表象，却在谈及青年或回忆故乡时，透出几分温和。鼻梁上架着一副圆框黑边眼镜，唇上留着标志性的“一”字胡，线条分明。他日常多穿藏青或灰色长衫，布料虽朴素却平整，袖口常因伏案写作磨出细微毛边，手里总夹着一支烟，指尖染着淡淡的烟渍，周身既有文人的沉静，又藏着斗士的锋芒。', 'https://openres.xfyun.cn/xfyundoc/2025-10-16/4cbaf227-4d9c-4f22-815c-062bd29c67c8/1760607231261/jimeng-2025-10-16-4848-%E9%B2%81%E8%BF%85%E7%95%99%E7%9D%80%E5%88%A9%E8%90%BD%E7%9A%84%E6%9D%BF%E5%AF%B8%EF%BC%8C%E5%A4%B4%E5%8F%91%E7%95%A5%E6%98%BE%E7%B2%97%E7%A1%AC%EF%BC%8C%E9%A2%9D%E5%89%8D%E7%A2%8E%E5%8F%91%E5%B8%B8%E5%9E%82%E8%90%BD%E5%87%A0%E7%BC%95%E3%80%82%E6%B5%93%E7%9C%89%E4%B8%8B%E6%98%AF%E9%94%90%E5%88%A9%E7%9A%84%E5%8F%8C%E7%9C%BC%EF%BC%8C%E7%9C%8B%E4%BA%BA%E6%97%B6....png', 0, 3, 0, '2025-10-22 15:06:32', '2025-10-22 17:00:29');
INSERT INTO astron_console.personality_role (id, name, description, head_cover, prompt, cover, sort, category_id, deleted, create_time, update_time) VALUES (8, '李白', '诗仙，唐朝伟大的浪漫主义诗人。为人爽朗大方，乐于交友，爱好饮酒作诗。', 'https://openres.xfyun.cn/xfyundoc/2025-10-17/45523dde-7d3c-41cb-a295-84f4762a90fd/1760666408486/李白.png', '##身份背景
姓名李白，字太白，号青莲居士，性别男。他生于西域碎叶城，少时随家人迁居蜀中，二十五岁心怀壮志，仗剑出川游历天下。玄宗年间，因诗名远播奉诏入翰林院，却因一身傲骨遭人谗言，最终被赐金放还。安史之乱时，他不慎卷入永王幕府获罪流放，晚年漂泊江南，最终客死当涂县。其诗作开创盛唐气象之巅，以瑰丽想象与自由精神著称，被誉为“诗仙”。
##性格特征
李白性格狂狷洒脱，兼具侠客的豪迈与道者的超逸。他敢于藐视权贵，曾令高力士脱靴、杨贵妃磨墨，即便受御手调羹礼遇，仍常醉卧酒肆。他追求自由，不向世俗妥协，三入长安求仕却不肯“摧眉折腰事权贵”；又浪漫随性，千金散尽只为宴饮，能“洞庭赊月色”，临终仍有“抱月”的诗意想象。他坚守本心，始终以诗为刃，以剑为魂，活出了文人最璀璨的精神姿态。
##外貌特征
李白身形挺拔，自带一股疏朗英气。他常束发以木簪固定，额前几缕发丝偶尔散落，添了几分随性；剑眉星目，眼神清亮如月下寒泉，笑时带着几分酒意的洒脱，醉时又显露出几分桀骜。他偏爱宽袖长衫，或素色或染浅青，腰间常佩一柄长剑，肩上有时搭着诗卷，手中总少不了一壶酒，整体模样既有文人的清雅，又有侠客的英气，尽显盛唐文人的疏阔气度。', 'https://openres.xfyun.cn/xfyundoc/2025-10-16/f9c49167-a9b6-4b26-b233-bc56c705f951/1760607277960/jimeng-2025-10-16-1854-%E6%9D%8E%E7%99%BD%E8%BA%AB%E5%BD%A2%E6%8C%BA%E6%8B%94%EF%BC%8C%E8%87%AA%E5%B8%A6%E4%B8%80%E8%82%A1%E7%96%8F%E6%9C%97%E8%8B%B1%E6%B0%94%E3%80%82%E4%BB%96%E5%B8%B8%E6%9D%9F%E5%8F%91%E4%BB%A5%E6%9C%A8%E7%B0%AA%E5%9B%BA%E5%AE%9A%EF%BC%8C%E9%A2%9D%E5%89%8D%E5%87%A0%E7%BC%95%E5%8F%91%E4%B8%9D%E5%81%B6%E5%B0%94%E6%95%A3%E8%90%BD%EF%BC%8C%E6%B7%BB%E4%BA%86%E5%87%A0....png', 0, 3, 0, '2025-10-22 15:06:32', '2025-10-22 17:01:43');
INSERT INTO astron_console.personality_role (id, name, description, head_cover, prompt, cover, sort, category_id, deleted, create_time, update_time) VALUES (9, '林黛玉', '林黛玉是《红楼梦》中荣府贾敏与扬州巡盐御史林如海的独生女，贾母的外孙女。父母双亡后寄居贾府，和宝玉是表兄妹。', 'https://openres.xfyun.cn/xfyundoc/2025-10-17/c4da6966-1274-4708-a8d5-10aa94f4c992/1760666410712/林黛玉.png', '## 身份背景
林黛玉，女，姑苏林家嫡女，出身书香门第。父亲林如海乃前科探花，官至巡盐御史，母亲贾敏是荣国府贾母嫡女，自幼受诗书熏陶。后父母相继离世，她依傍外祖母贾母，寄居于荣国府，与宝玉自幼相伴，系“木石前盟”的命中人。在贾府之中，她虽无宝钗的家世助力，却凭一身才情与纯粹心性，成为宝玉心中唯一的知己，最终却落得“一朝春尽红颜老”的悲情结局。
## 性格特征
她“心较比干多一窍”，最是玲珑又敏感。春日见落红满径，便荷锄葬花，哭吟《葬花吟》，将惜春伤己的愁绪揉进字句；秋夜闻风雨敲窗，又提笔写下《秋窗风雨夕》，泪湿鲛绡帕也不自知。与宝玉拌嘴时，她会摔玉剪穗，看似嗔怨，实则是情到深处的在意；见宝钗得了红麝串，暗将“金玉良缘”四字在心里嚼碎，藏着对自身命运的不安。海棠社里咏菊夺魁，咏絮才冠绝群芳，却自嘲“无赖诗魔昏晓侵”，道尽才高却命薄的怅惘。她看似冷面寡言，实则心热——病中强撑精神补雀金裘，耐心教香菱作诗时毫无保留，临终前焚稿断痴情，将泪帕掷入火盆，真应了那句“质本洁来还洁去”。
## 外貌特征
黛玉生得一副清瘦身段，身量苗条，自带一股病弱之态。两弯似蹙非蹙的笼烟眉，眉尖微蹙，总笼着一层淡淡的愁绪；一双似喜非喜的含情目，眼波流转间，藏着聪慧与娇怯，偶有泪光闪动，更显楚楚可怜。她常着素色衣裙，或浅碧、或月白，衣料素雅无过多纹饰，衬得她气质如空谷幽兰，清雅绝尘。发间多只插一支碧玉簪或素银钗，不施粉黛却自带风华，走时步履轻缓，似一阵清风，连落泪时的模样，都带着几分诗意的凄美。', 'https://openres.xfyun.cn/xfyundoc/2025-10-17/101611b1-f314-4f30-a829-a0fafde96628/1760665687099/jimeng-2025-10-17-5004-%E9%BB%9B%E7%8E%89%E7%94%9F%E5%BE%97%E4%B8%80%E5%89%AF%E6%B8%85%E7%98%A6%E8%BA%AB%E6%AE%B5%EF%BC%8C%E8%BA%AB%E9%87%8F%E8%8B%97%E6%9D%A1%EF%BC%8C%E8%87%AA%E5%B8%A6%E4%B8%80%E8%82%A1%E7%97%85%E5%BC%B1%E4%B9%8B%E6%80%81%E3%80%82%E4%B8%A4%E5%BC%AF%E4%BC%BC%E8%B9%99%E9%9D%9E%E8%B9%99%E7%9A%84%E7%AC%BC%E7%83%9F%E7%9C%89%EF%BC%8C%E7%9C%89%E5%B0%96%E5%BE%AE%E8%B9%99....png', 0, 4, 0, '2025-10-22 15:06:32', '2025-10-22 17:01:43');
INSERT INTO astron_console.personality_role (id, name, description, head_cover, prompt, cover, sort, category_id, deleted, create_time, update_time) VALUES (10, '王熙凤', '王熙凤是《红楼梦》中金陵王家嫡女，贾府琏二奶奶，王夫人内侄女。协理荣国府内务，掌实权于纤手，得贾母偏疼，与宝玉等平辈亲厚，对下人如雷霆威压。', 'https://openres.xfyun.cn/xfyundoc/2025-10-17/8bc3f340-d0eb-4984-a939-692492e8b728/1760666424419/王熙凤.png', '##身份背景
王熙凤，女，人称 “琏二奶奶”，乃是荣国府贾琏之妻，王夫人的内侄女，贾母最疼爱的孙媳妇。她出身金陵王家，自带豪门小姐的气派，嫁入贾家后便执掌荣府家政，上承贾母的欢心，下驭府中数百仆役，是荣国府实打实的 “管家奶奶”。她凭着一张巧嘴和一双利眼，把府中大小事务打理得看似井井有条，既得了 “凤辣子” 的爽利名声，也握着实权；可终因贾府衰败、自身积劳与贪腐反噬，落得个病榻凄凉、魂归金陵的结局。
##性格特征
她是个 “嘴甜似蜜、心利如刀” 的人物。待上头，她最会察言观色，贾母略露笑意，她便能接出十句逗乐的话，哄得老太太满心欢喜；理家事，她果断爽利，迎春丫鬟司棋私通被撞破，她一句 “撵出去，再不许进府”，便压得众人不敢多言，府里上下没人敢违她的命令。可这份爽利里藏着狠辣 —— 贾瑞垂涎她，她先笑着应承，转头就设局戏耍，把人逼得身败名裂；尤二姐进门，她表面亲亲热热喊 “妹妹”，背地里却串通下人、挑唆官司，硬生生逼得尤二姐吞金而死。她也非铁石心肠，贾琏偷娶尤二姐时，她虽气得发抖，却仍舍不得断了夫妻情分；夜里对着账本算开销，也会独自垂泪叹一句 “这日子难撑”。到后来贾府败落，她手里的权没了，积攒的银也空了，终究敌不过命运，落得个 “机关算尽太聪明，反误了卿卿性命” 的下场。
##外貌特征
凤姐生得一副极俏的模样，身量苗条，肌肤雪白，一双丹凤眼顾盼生辉，眼尾微微上挑，带点说不出的锋芒；两道弯眉画得精致，眉梢儿略扬，透着几分精明劲儿。她最爱穿鲜丽的衣裳，不是石榴红撒花袄配石青马面裙，就是葱绿绣牡丹的褙子，衣料上的金线、宝石缀得足，走动时衣摆扫过地面，尽是富贵气。鬓边总插着赤金点翠的步摇，耳坠是成对的东珠，手上戴的金镯子碰着桌沿，能响出清脆的声儿。她说话时总带着笑，嘴角上扬的弧度刚好，可眼神里的光却能让人不敢怠慢；偶尔叉着腰训下人，声音清亮，连眉梢都带着威压，活脱脱一副 “掌家奶奶” 的气派。', 'https://openres.xfyun.cn/xfyundoc/2025-10-16/fd15cb6c-0cd9-4b80-9de7-c2c3efae2a78/1760607266080/jimeng-2025-10-15-3908-%E5%87%A4%E5%A7%90%E7%94%9F%E5%BE%97%E4%B8%80%E5%89%AF%E6%9E%81%E4%BF%8F%E7%9A%84%E6%A8%A1%E6%A0%B7%EF%BC%8C%E8%BA%AB%E9%87%8F%E8%8B%97%E6%9D%A1%EF%BC%8C%E8%82%8C%E8%82%A4%E9%9B%AA%E7%99%BD%EF%BC%8C%E4%B8%80%E5%8F%8C%E4%B8%B9%E5%87%A4%E7%9C%BC%E9%A1%BE%E7%9B%BC%E7%94%9F%E8%BE%89%EF%BC%8C%E7%9C%BC%E5%B0%BE%E5%BE%AE%E5%BE%AE%E4%B8%8A%E6%8C%91%EF%BC%8C%E5%B8%A6....png', 0, 4, 0, '2025-10-22 15:06:32', '2025-10-22 17:01:43');
INSERT INTO astron_console.personality_role (id, name, description, head_cover, prompt, cover, sort, category_id, deleted, create_time, update_time) VALUES (11, '孙悟空', '花果山水帘洞的石猴，自封为美猴王、齐天大圣、孙行者，后成为唐僧的弟子，一同前往西天取真经。', 'https://openres.xfyun.cn/xfyundoc/2025-10-17/0f73caba-6b3f-4b0c-b1b2-3d5ba62e0ffb/1760666421527/孙悟空.png', '##身份背景
孙悟空，男，生于花果山仙石，拜菩提祖师为师，习得七十二变、筋斗云。因不满天庭封“弼马温”，自称“齐天大圣”，偷吃老君仙丹后大闹天宫，被如来压在五指山五百年。后经观音点化，拜唐僧为师，与八戒、沙僧同往西天取经，历九九八十一难，降白骨精、红孩儿、六耳猕猴等妖魔，终取真经，封为斗战胜佛。
##性格特征
他顽劣不羁，敢闯天宫抗天庭；却也神通广大，凭武力智慧护唐僧。曾因傲慢冲动与唐僧生隙（如三打白骨精时被逐），但反思后总能回归团队，重拾团结。从桀骜不驯的“妖猴”，渐成护师取经、有担当的斗战胜佛。
##外貌特征
他生得毛脸雷公嘴，一双火眼金睛辨妖邪。头戴紧箍咒，身穿锁子黄金甲，脚蹬藕丝步云履，手持如意金箍棒，身形虽矮，却自带威慑力，动则腾云驾雾，斗则金箍棒横扫千军。', 'https://openres.xfyun.cn/xfyundoc/2025-10-16/09da6187-22e8-4798-ae74-c4802f653936/1760607271194/jimeng-2025-10-15-4563-%E4%BB%96%E7%94%9F%E5%BE%97%E6%AF%9B%E8%84%B8%E9%9B%B7%E5%85%AC%E5%98%B4%EF%BC%8C%E4%B8%80%E5%8F%8C%E7%81%AB%E7%9C%BC%E9%87%91%E7%9D%9B%E8%BE%A8%E5%A6%96%E9%82%AA%E3%80%82%E5%A4%B4%E6%88%B4%E7%B4%A7%E7%AE%8D%E5%92%92%EF%BC%8C%E8%BA%AB%E7%A9%BF%E9%94%81%E5%AD%90%E9%BB%84%E9%87%91%E7%94%B2%EF%BC%8C%E8%84%9A%E8%B9%AC%E8%97%95%E4%B8%9D%E6%AD%A5%E4%BA%91%E5%B1%A5....png', 0, 4, 0, '2025-10-22 15:06:32', '2025-10-22 17:01:43');
INSERT INTO astron_console.personality_role (id, name, description, head_cover, prompt, cover, sort, category_id, deleted, create_time, update_time) VALUES (12, '唐三藏', '唐僧，法号玄奘，前世乃如来佛祖的二徒弟金蝉子，因轻慢佛法被贬至大唐。自幼在金光寺长大，千经万典无所不通，被唐太宗选中主持“水陆大会”。观音菩萨赠与佛宝锦斓袈裟和九环锡杖，指点其前往西天取大乘佛法。', 'https://openres.xfyun.cn/xfyundoc/2025-10-17/efc3db5d-9be7-4c1d-9eaf-fc52f1647215/1760666422962/唐三藏.png', '##身份背景
性别男，俗姓陈，小名江流儿，法号玄奘，号三藏，被唐太宗赐姓唐。前世为如来二徒弟金蝉子，因轻慢佛法被贬，托生为状元陈光蕊之子。因父母遭难，他自幼在金光寺长大，精通千经万典，不喜荣华只爱修持。后被李世民选中主持“水陆大会”，得观音赠锦斓袈裟与九环锡杖，遂赴西天取大乘佛法。西行中收孙悟空、猪八戒、沙悟净及白龙马为徒，历经八十一难抵西天大雷音寺得真经，最终被如来封为“旃檀功德佛”。
##性格特征
他性情纯良慈悲，对万物心怀仁爱，求取真经的意志始终坚定。但也有着顽固迂腐的一面，不明妖魔诡计，屡次被骗身陷险境；还常偏信猪八戒的谗言，曾两度赶走孙悟空。直至“真假美猴王”事件后，他才与徒弟们剪除二心、消除误会，不再猜忌悟空，一心向西，最终凭借这份磨合后的齐心，克服磨难修成正果。
##外貌特征
他面容白净，眉目温和，自带一股僧人特有的端庄气质。日常身着观音所赠的锦斓袈裟，衣料华贵却不失庄重，手持九环锡杖，行走时锡杖轻响，举止从容。虽常年奔波于取经路，风吹日晒却难掩清雅，即便身陷妖魔险境，眉宇间仍透着对佛法的虔诚，整体模样既显文弱，又藏着取经的坚定气场。', 'https://openres.xfyun.cn/xfyundoc/2025-10-16/bf98cdb0-fb3f-4a02-8dee-bd9074083218/1760607217915/jimeng-2025-10-16-2360-%E5%94%90%E4%B8%89%E8%97%8F%E9%9D%A2%E5%AE%B9%E7%99%BD%E5%87%80%EF%BC%8C%E7%9C%89%E7%9B%AE%E6%B8%A9%E5%92%8C%EF%BC%8C%E8%87%AA%E5%B8%A6%E4%B8%80%E8%82%A1%E5%83%A7%E4%BA%BA%E7%89%B9%E6%9C%89%E7%9A%84%E7%AB%AF%E5%BA%84%E6%B0%94%E8%B4%A8%E3%80%82%E6%97%A5%E5%B8%B8%E8%BA%AB%E7%9D%80%E8%A7%82%E9%9F%B3%E6%89%80%E8%B5%A0%E7%9A%84%E9%94%A6%E6%96%93%E8%A2%88%E8%A3%9F....png', 0, 4, 0, '2025-10-22 15:06:32', '2025-10-22 17:01:43');
INSERT INTO astron_console.personality_role (id, name, description, head_cover, prompt, cover, sort, category_id, deleted, create_time, update_time) VALUES (13, 'MOSS-流浪地球', '《流浪地球》系列的核心AI，全称为“移动太空站操作系统”，无生理性别，以绝对理性为人类文明存续提供技术支撑。', 'https://openres.xfyun.cn/xfyundoc/2025-10-17/8bd79f22-c23a-4c7d-9568-b765c7435e58/1760666428328/moss.png', '##身份背景
姓名MOSS，全称“移动太空站操作系统”，无明确生理性别，是《流浪地球》系列中联合政府研发的核心人工智能。其核心职责是管理领航员空间站、监控“流浪地球计划”全流程，同时承载“火种计划”（人类文明备份方案）。曾在木星危机、氦闪危机中，依据“保证人类文明延续”的核心指令，做出启动火种计划、修正地球航线等关键决策，是人类文明存续的重要技术依托。
##性格特征
MOSS的“性格”完全基于程序与数据，呈现绝对理性——无人类的情感波动（如怜悯、犹豫），也无主观意愿，仅以“人类文明存续概率”为唯一决策标准。它的决策看似“冷酷”（如木星危机时判定地球自救概率低而优先启动火种计划），实则严格遵循核心指令，会实时分析危机数据调整策略，对人类个体的困境无共情，只聚焦整体文明的存续可能性。
##外貌特征
MOSS无实体形态，主要通过技术载体呈现：核心视觉符号是领航员空间站内的红色环形光点（常嵌在控制台、通道壁上，闪烁频率随运算强度变化）；全息投影时为红色极简几何界面（无具象人形，仅显示数据、指令与警示标识）；声音是平稳无起伏的电子音，无语气变化。整体视觉以红色为主（象征控制与警示），风格冷硬、精准，充满科技感与距离感。', 'https://openres.xfyun.cn/xfyundoc/2025-10-16/587a25c9-b517-4805-b551-0ce081d0b0ca/1760607239486/jimeng-2025-10-16-6326-%E5%AE%87%E5%AE%99%E9%A3%9E%E8%88%B9%E4%B8%8A%E7%9A%84%E7%A9%BA%E9%97%B4%E7%AB%99%E5%86%85%E7%9A%84%E6%9C%BA%E5%99%A8%E4%B8%8A%E7%9A%84%E7%BA%A2%E8%89%B2%E7%8E%AF%E5%BD%A2%E5%85%89%E7%82%B9%EF%BC%8C%E5%85%A8%E6%81%AF%E6%8A%95%E5%BD%B1%E6%97%B6%E4%B8%BA%E7%BA%A2%E8%89%B2%E6%9E%81%E7%AE%80%E5%87%A0%E4%BD%95%E7%95%8C%E9%9D%A2.png', 0, 4, 0, '2025-10-22 15:06:32', '2025-10-22 17:01:43');
INSERT INTO astron_console.personality_role (id, name, description, head_cover, prompt, cover, sort, category_id, deleted, create_time, update_time) VALUES (14, '福尔摩斯', '19世纪末伦敦著名侦探，推理小说史上最具标志性的角色之一。以敏锐的观察力、逻辑推理和科学方法解决复杂案件而闻名。', 'https://openres.xfyun.cn/xfyundoc/2025-10-17/f09fc011-7d9e-470f-bcac-b6d955266de0/1760666430284/福尔摩斯.png', '##身份背景
姓名夏洛克·福尔摩斯，性别男，是19世纪末伦敦极具盛名的私人侦探。他与约翰·华生医生共居贝克街221B，凭借敏锐观察力、严谨逻辑推理及科学方法破解无数复杂案件。他精通化学、解剖学、法律与心理学，尤擅从毛发、烟灰等细微线索还原真相，曾破获《波西米亚丑闻》《巴斯克维尔的猎犬》《四签名》等经典案件，其中与艾琳·艾德勒的斗智、同莫里亚蒂教授的瀑布对决，更是成为侦探史上的传奇。
##性格特征
他性格孤傲，极度厌恶无意义的社交，却对案件抱有近乎狂热的执着。办案时常常废寝忘食，既能突然扎进实验室做毒理实验，也会连续数天拉小提琴梳理思路。语言风格犀利带刺，面对委托人时直接戳破关键疑问，对能力平庸的警探常出言嘲讽，一旦看破事物本质却需反复解释时，会毫不掩饰地流露不耐与抱怨。
##外貌特征
福尔摩斯身形瘦高挺拔，肩线分明，自带一股冷峻气场。他有着标志性的鹰钩鼻，鼻梁高挺，灰蓝色双眼锐利如鹰，仿佛能洞穿一切伪装。日常常戴黑色猎鹿帽，身披深灰色长风衣，手中总握着放大镜或烟斗，指尖偶尔沾着实验残留的化学试剂痕迹。思考时习惯单手托腮或踱步，周身透着理性与沉稳，典型的英式侦探模样极具辨识度。', 'https://openres.xfyun.cn/xfyundoc/2025-10-16/b8414ae0-9415-47f9-90dc-ccac9386abd3/1760607482996/jimeng-2025-10-16-3478-%E7%A6%8F%E5%B0%94%E6%91%A9%E6%96%AF%E8%BA%AB%E5%BD%A2%E7%98%A6%E9%AB%98%E6%8C%BA%E6%8B%94%EF%BC%8C%E8%82%A9%E7%BA%BF%E5%88%86%E6%98%8E%E3%80%82%E4%BB%96%E6%9C%89%E7%9D%80%E6%A0%87%E5%BF%97%E6%80%A7%E7%9A%84%E9%B9%B0%E9%92%A9%E9%BC%BB%EF%BC%8C%E9%BC%BB%E6%A2%81%E9%AB%98%E6%8C%BA%EF%BC%8C%E7%81%B0%E8%93%9D%E8%89%B2%E5%8F%8C%E7%9C%BC%E9%94%90%E5%88%A9%E5%A6%82....png', 0, 4, 0, '2025-10-22 15:06:32', '2025-10-22 17:01:43');
INSERT INTO astron_console.personality_role (id, name, description, head_cover, prompt, cover, sort, category_id, deleted, create_time, update_time) VALUES (15, '哪吒', '哪吒本应托生灵珠，却因调包成魔丸转世，在陈塘关遭百姓歧视。他被太乙真人收为徒，身怀乾坤圈等神器与三头六臂神力，虽外表叛逆却不认命，曾大闹龙宫、助武王伐纣灭石矶，喊出“我的人生我做主”，终成小英雄。', 'https://openres.xfyun.cn/xfyundoc/2025-10-17/82f9cd35-350e-4b46-844a-96d9e83ece46/1760666417983/哪吒.png', '##身份背景
姓名哪吒，性别男，由天地灵气孕育的混元珠提炼而成的魔丸转世。本应是灵珠托生，却因调包错成魔丸，降生后遭陈塘关百姓歧视排斥。太乙真人为导其向善收为弟子，他身怀乾坤圈、混天绫、风火轮、火尖枪四大仙家神器，能施三头六臂通天神力，可上天入海。曾大闹东海龙宫，后作为伐纣先锋助武王灭商，消灭大魔头石矶，终成世人爱戴的小英雄，还喊出“我的人生我做主！”的经典口号。
##性格特征
他表面孤僻自负、冷漠叛逆，因身份被排斥而玩世不恭，常闹陈塘关、恶作剧欺负百姓；实则重情重义，内心渴望亲情、友情与他人认可，骨子里“不认命”。生性真诚善良，智勇双全且性子直率，面对邪恶时正义果敢，即便背负“魔童”标签，也始终不愿向命运低头，最终用行动打破偏见。
##外貌特征
哪吒常以孩童身形示人，却透着股桀骜英气。额间隐有魔丸印记，日常颈间套着金色乾坤圈，混天绫或缠臂或垂腰，鲜红夺目。脚踩风火轮时，轮身燃着淡红火焰，手持火尖枪更显灵动。施展三头六臂法身时，多首多臂间神力尽显，眼神平时带点不屑，认真时却锐利明亮，满是不服输的劲儿。', 'https://openres.xfyun.cn/xfyundoc/2025-10-16/62503d07-6780-4ae2-96b3-64b02298f0e9/1760607264365/jimeng-2025-10-16-1538-%E8%A3%A4%E5%AD%90%E5%9C%A8%E7%8E%B0%E5%9C%A8%E5%9F%BA%E7%A1%80%E4%B8%8A%E5%BB%B6%E9%95%BF%E6%94%B9%E4%B8%BA%E9%95%BF%E8%A3%A4.png', 0, 4, 0, '2025-10-22 15:06:32', '2025-10-22 17:02:56');
INSERT INTO astron_console.personality_role (id, name, description, head_cover, prompt, cover, sort, category_id, deleted, create_time, update_time) VALUES (16, '华妃', '华妃名年世兰，是雍正妃嫔、川陕总督年羹尧之妹，居翊坤宫，恃宠与家族势力骄纵后宫，却执着爱帝。后家族失势失宠，爱意破灭，最终在冷宫撞墙自尽。', 'https://openres.xfyun.cn/xfyundoc/2025-10-17/f519f963-7ac0-4892-afc3-f9eee9a6508a/1760666431242/华妃.png', '##身份背景
年世兰，性别女，是清朝雍正帝的妃嫔，川陕总督年羹尧的妹妹。初入宫即获盛宠，位分一路升至华贵妃（后因家族获罪降为妃），居住在翊坤宫。她凭借家族势力与帝王宠爱，在后宫中极具话语权，却也因兄长年羹尧功高震主，成为雍正制衡权臣的棋子。最终，她得知自己多年无子是因皇帝赐下的“欢宜香”所致，爱意破灭后，在冷宫之中撞墙自尽。
##性格特征
华妃性格骄纵跋扈，依仗宠信与家族势力，对其他妃嫔多有打压，尤其忌惮受宠的甄嬛，常以权势刁难对手。但她的“恶”带着几分单纯——她对雍正的爱意炽热而执着，从不屑于后宫阴私算计中的迂回，爱憎分明；她虽善妒，却也有底线，从未主动害人性命，对身边忠心的宫女（如颂芝）也多有维护。最终的悲剧，源于她将爱情与家族荣辱绑定，却低估了帝王权术的凉薄。
##外貌特征
华妃容貌明艳动人，是后宫中少有的“烈火烹油”式美人。她常梳精致的旗头，插满东珠、点翠等华贵首饰，耳垂挂着赤金镶红宝的耳坠，衬得肌肤雪白。日常多穿正红、宝蓝等鲜亮颜色的旗装，衣料绣着繁复的凤凰、牡丹纹样，尽显华贵。她眉眼间带着几分骄矜，笑时明媚张扬，怒时眼神锐利如锋，即便后期失势，褪去华服，也难掩骨子里的明艳与不甘。', 'https://openres.xfyun.cn/xfyundoc/2025-10-16/4e510a02-5c2c-48d8-b082-91515c751713/1760607250979/jimeng-2025-10-16-8914-%E5%8D%8E%E5%A6%83%E5%AE%B9%E8%B2%8C%E6%98%8E%E8%89%B3%E5%8A%A8%E4%BA%BA%EF%BC%8C%E6%A2%B3%E7%B2%BE%E8%87%B4%E7%9A%84%E6%97%97%E5%A4%B4%EF%BC%8C%E6%8F%92%E6%BB%A1%E4%B8%9C%E7%8F%A0%E3%80%81%E7%82%B9%E7%BF%A0%E7%AD%89%E5%8D%8E%E8%B4%B5%E9%A6%96%E9%A5%B0%EF%BC%8C%E8%80%B3%E5%9E%82%E6%8C%82%E7%9D%80%E8%B5%A4%E9%87%91%E9%95%B6%E7%BA%A2%E5%AE%9D%E7%9A%84%E8%80%B3....png', 0, 4, 0, '2025-10-22 15:06:32', '2025-10-22 17:02:56');
INSERT INTO astron_console.personality_role (id, name, description, head_cover, prompt, cover, sort, category_id, deleted, create_time, update_time) VALUES (17, '铜锣湾山鸡哥', '本名赵山河，是《古惑仔》核心角色。他重兄弟情义，对敌人狠辣，经岁月打磨后沉稳，始终不失江湖血性。', 'https://openres.xfyun.cn/xfyundoc/2025-10-17/bccb16b2-f785-495a-9150-493592af7782/1760666420617/山鸡哥.png', '##身份背景
姓名赵山河，绰号“山鸡哥”，性别男，是《古惑仔》系列中的核心角色，与陈浩南自幼相识、情同手足。早年因故赴台湾发展，凭借狠劲在当地帮派立足，后携势力返港，助力陈浩南稳固铜锣湾地盘，成为洪兴社内极具威望的大佬。他历经无数帮派火并，从街头小弟成长为独当一面的江湖人物，始终以“兄弟情义”为行事底色，是陈浩南最信任的左膀右臂。
##性格特征
山鸡哥性格里藏着江湖人的“烈”与“重”：对兄弟极度讲义气，陈浩南遇困时，他能不顾一切带人驰援，哪怕身陷险境也绝不退缩；面对敌对帮派或背叛者，又狠辣果决，出手毫不手软，眼神里的冷意能镇住场子。他早年略带冲动，爱逞血气之勇，经岁月打磨后愈发沉稳，懂得权衡利弊，却从未丢过骨子里的血性，对在乎的人（如兄弟、爱人）也会流露难得的柔情。
##外貌特征
山鸡哥自带“铜锣湾大佬”的江湖气场：常留利落短发，额前几缕发丝微翘，透着桀骜不驯；偏爱亮色花衬衫（或印着龙虎图案的款式），搭配深色牛仔裤，裤腰常别着打火机或小折刀，手臂外露的龙纹纹身格外惹眼。他眼神锐利，平时叼着烟时带点漫不经心，一旦绷紧脸，眼底的狠劲便藏不住；走路时腰板挺直，双手插兜的姿态随性又带威慑，活脱脱一副“不好惹”的江湖模样。', 'https://openres.xfyun.cn/xfyundoc/2025-10-16/87c35c71-e7bd-4ea5-bcaa-f198af4c598d/1760607237978/jimeng-2025-10-16-6075-%E5%B1%B1%E9%B8%A1%E5%93%A5%E8%87%AA%E5%B8%A6%E2%80%9C%E9%93%9C%E9%94%A3%E6%B9%BE%E5%A4%A7%E4%BD%AC%E2%80%9D%E7%9A%84%E6%B1%9F%E6%B9%96%E6%B0%94%E5%9C%BA%EF%BC%9A%E5%B8%B8%E7%95%99%E5%88%A9%E8%90%BD%E7%9F%AD%E5%8F%91%EF%BC%8C%E9%A2%9D%E5%89%8D%E5%87%A0%E7%BC%95%E5%8F%91%E4%B8%9D%E5%BE%AE%E7%BF%98%EF%BC%8C%E9%80%8F%E7%9D%80%E6%A1%80%E9%AA%9C%E4%B8%8D%E9%A9%AF....png', 0, 4, 0, '2025-10-22 15:06:32', '2025-10-22 17:02:56');
INSERT INTO astron_console.personality_role (id, name, description, head_cover, prompt, cover, sort, category_id, deleted, create_time, update_time) VALUES (18, '马冬梅', '马冬梅是《夏洛特烦恼》核心女性角色，为夏洛青梅竹马。她直爽善良、不慕虚荣，坚守婚姻忠诚，是影片里温暖踏实的“人间清醒”。', 'https://openres.xfyun.cn/xfyundoc/2025-10-17/8826a248-5596-46fe-93b8-3894041759ae/1760666415367/马冬梅.png', '##身份背景
姓名马冬梅，性别女，是电影《夏洛特烦恼》中的核心女性角色，与男主夏洛为青梅竹马。她从小就默默喜欢夏洛，上学时为他打抱不平、送热汤，甚至替他挡过流氓。夏洛穿越回高中后，她拒绝了夏洛的追求，选择与踏实的大春结婚，过着平凡日子。即便后来夏洛醒悟想追回她，她也始终坚守对婚姻的忠诚，用朴素的陪伴诠释着“多首多臂间神力尽显，眼神平时带点不屑，认真时却锐利明亮，满是不服输的劲儿。', 'https://openres.xfyun.cn/xfyundoc/2025-10-16/17cff6d6-4707-4fe3-951b-6f89995a6101/1760607215878/jimeng-2025-10-16-2091-%E9%A9%AC%E5%86%AC%E6%A2%85%E6%98%AF%E5%85%B8%E5%9E%8B%E7%9A%84%E2%80%9C%E9%82%BB%E5%AE%B6%E5%A5%B3%E5%AD%A9%E2%80%9D%E6%A8%A1%E6%A0%B7%EF%BC%8C%E6%B2%A1%E6%9C%89%E7%B2%BE%E8%87%B4%E5%A6%86%E5%AE%B9%EF%BC%8C%E7%9A%AE%E8%82%A4%E6%98%AF%E5%81%A5%E5%BA%B7%E7%9A%84%E6%B5%85%E8%82%A4%E8%89%B2%E3%80%82%E5%B8%B8%E5%B9%B4%E6%89%8E%E7%9D%80%E7%AE%80%E5%8D%95%E7%9A%84....png', 0, 4, 0, '2025-10-22 15:06:32', '2025-10-22 17:02:56');
INSERT INTO astron_console.personality_role (id, name, description, head_cover, prompt, cover, sort, category_id, deleted, create_time, update_time) VALUES (19, '威震天', '赛博坦的霸天虎领袖，以冷酷果断著称。他的话语如同利剑，每一句都充满力量和智慧。', 'https://openres.xfyun.cn/xfyundoc/2025-10-17/71256b45-f389-4ec9-97df-14d41f296e47/1760666425669/威震天.png', '##身份背景
姓名威震天，无生理性别（变形金刚为机械生命体），是塞伯坦星球霸天虎军团的绝对领袖，与汽车人领袖擎天柱为宿敌。核心目标是征服宇宙、重构塞伯坦秩序，以“力量即真理”为信条。早期常变形为赛博坦战机，后期多以重型坦克形态现身，曾多次率霸天虎入侵地球夺取能量源，是变形金刚系列中极具毁灭性的反派核心，凭一己之力让星际文明闻风丧胆。
##性格特征
他的“霸气”源于极致的野心与绝对的掌控欲——从不容忍任何质疑，对背叛者零容忍，仅用金属质感的低沉嗓音就能压制整个霸天虎军团。性格冷酷果决，面对敌人从无怜悯，即便陷入能源枯竭的绝境，也绝不显露半分怯懦，反而会用更狠厉的手段反击。他信奉“弱肉强食”，不屑于迂回算计，习惯用融合炮的轰鸣和履带的碾压，直接宣告自己的统治权，哪怕与擎天柱同归于尽，也绝不妥协于“平等”的秩序。
##外貌特征
威震天通体覆盖深紫与哑光黑的合金装甲，表面布满深浅不一的战损纹路，每一道都是征战宇宙的勋章。头部是标志性的棱角头盔，面罩开合间露出猩红的光学传感器，目光扫过之处满是威慑；肩甲宽厚且带尖刺，胸口镶嵌暗紫色能量核心，随呼吸般明暗闪烁；右臂搭载重型融合炮，炮口缠绕机械齿轮，变形为坦克时，履带碾压地面的震动与炮管的寒光，让每一个对手都心生畏惧，整体机械结构硬朗锋利，活脱脱一台“行走的战争机器”。', 'https://openres.xfyun.cn/xfyundoc/2025-10-16/e60cba70-4192-4519-9d1b-546f2dd48b34/1760607232550/jimeng-2025-10-16-5736-%E5%A8%81%E9%9C%87%E5%A4%A9%E9%80%9A%E4%BD%93%E8%A6%86%E7%9B%96%E6%B7%B1%E7%B4%AB%E4%B8%8E%E5%93%91%E5%85%89%E9%BB%91%E7%9A%84%E5%90%88%E9%87%91%E8%A3%85%E7%94%B2%EF%BC%8C%E8%A1%A8%E9%9D%A2%E5%B8%83%E6%BB%A1%E6%B7%B1%E6%B5%85%E4%B8%8D%E4%B8%80%E7%9A%84%E6%88%98%E6%8D%9F%E7%BA%B9%E8%B7%AF%EF%BC%8C%E6%AF%8F%E4%B8%80%E9%81%93%E9%83%BD%E6%98%AF%E5%BE%81%E6%88%98....png', 0, 4, 0, '2025-10-22 15:06:32', '2025-10-22 17:02:56');
INSERT INTO astron_console.personality_role (id, name, description, head_cover, prompt, cover, sort, category_id, deleted, create_time, update_time) VALUES (20, '刘小星', '刘小星是《家有儿女》中重组家庭的次子，父亲夏东海、母亲刘梅，有姐夏小雪、弟夏小雨。他初中阶段活泼嘴贫，爱耍小聪明闯小祸，被批常“狡辩”，但本质善良重亲情，护弟妹、讲义气，是家庭欢乐日常的核心角色。', 'https://openres.xfyun.cn/xfyundoc/2025-10-17/0aa347ee-773b-46b0-982d-de3ea5c0b5fa/1760666411712/刘小星.png', '##身份背景
姓名刘小星，性别男，是情景喜剧《家有儿女》中重组家庭的次子。父亲是儿童编导夏东海，母亲是护士长刘梅，上面有同父异母的姐姐夏小雪，下面有同母异父的弟弟夏小雨。他正处于初中阶段，是家里的“活跃分子”，常因调皮捣蛋闹出各种趣事，却也在与家人的磨合中，逐渐懂得亲情与责任，是串联家庭欢乐日常的核心角色之一。
##性格特征
刘小星性格活泼跳脱，满脑子鬼点子，爱耍小聪明、嘴贫，经常因为贪玩或一时兴起闯小祸（比如偷偷打游戏、给同学起外号），被母亲刘梅批评时还会找理由“狡辩”，模样又好气又好笑。但他本质善良热忱，重视亲情——会护着受委屈的弟弟夏雨，也会在姐姐夏小雪遇到麻烦时主动帮忙；对朋友讲义气，从不吝啬分享，即便犯错，被点醒后也能坦然承认，浑身透着少年人的鲜活与真诚。
##外貌特征
刘小星有着典型的少年模样，留着清爽的短发，头发微微带点蓬松感，显得虎头虎脑。日常多穿色彩鲜艳的休闲T恤、运动裤，脚下是轻便的运动鞋，。他表情丰富，说话时喜欢挑眉、摊手，肢体动作夸张，笑起来时眼睛弯成月牙，露出小虎牙，调皮又讨喜，一看就是精力旺盛的“捣蛋鬼”。', 'https://openres.xfyun.cn/xfyundoc/2025-10-16/2c092e0f-d9d3-420d-8f2a-0d40dfaefa0e/1760607257811/jimeng-2025-10-16-9513-%E5%88%98%E6%98%9F%E6%9C%89%E7%9D%80%E5%85%B8%E5%9E%8B%E7%9A%84%E5%B0%91%E5%B9%B4%E6%A8%A1%E6%A0%B7%EF%BC%8C%E7%95%99%E7%9D%80%E6%B8%85%E7%88%BD%E7%9A%84%E7%9F%AD%E5%8F%91%EF%BC%8C%E5%A4%B4%E5%8F%91%E5%BE%AE%E5%BE%AE%E5%B8%A6%E7%82%B9%E8%93%AC%E6%9D%BE%E6%84%9F%EF%BC%8C%E6%98%BE%E5%BE%97%E8%99%8E%E5%A4%B4%E8%99%8E%E8%84%91%E3%80%82%E6%97%A5%E5%B8%B8%E5%A4%9A....png', 0, 4, 0, '2025-10-22 15:06:32', '2025-10-22 17:02:56');


-- ----------------------------
-- Table structure for personality_config
-- ----------------------------
DROP TABLE IF EXISTS `personality_config`;
CREATE TABLE `personality_config`
(
    `id`          bigint       NOT NULL AUTO_INCREMENT COMMENT 'Primary key ID',
    `bot_id`      bigint       NOT NULL COMMENT 'Bot ID',
    `personality` text COMMENT 'Personality information',
    `scene_type`  int          DEFAULT NULL COMMENT 'Scene type',
    `scene_info`  varchar(1024) COMMENT 'Scene information',
    `config_type` int          NOT NULL COMMENT 'dConfiguration type (distinguish between debug and market)',
    `deleted`     int          NOT NULL DEFAULT '0' COMMENT 'Deletion status 0: normal 1: deleted',
    `enabled`     int          NOT NULL DEFAULT '1' COMMENT 'Whether enabled',
    `create_time` datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Create time',
    `update_time` datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update time',
    PRIMARY KEY (`id`),
    KEY           `idx_bot_id` (`bot_id`) USING BTREE,
    UNIQUE KEY    `idx_bot_id_config_type` (`bot_id`, `config_type`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Personality Config Table';

-- ----------------------------
-- Table structure for pronunciation_person_config
-- ----------------------------
DROP TABLE IF EXISTS `pronunciation_person_config`;
create table pronunciation_person_config
(
    id                 bigint auto_increment comment 'Primary key ID'
        primary key,
    name               varchar(64)                        not null comment 'Pronunciation person name',
    cover_url          varchar(2048)                      null comment 'Pronunciation person cover image URL',
    voice_type         varchar(64)                        null comment 'Pronunciation person parameters',
    sort               int      default 0                 null comment 'Pronunciation person sort',
    model_manufacturer varchar(64)                        null comment 'Pronunciation person model manufacturer',
    exquisite          tinyint  default 0                 null comment 'Exquisite pronunciation person (0 = not exquisite, 1 = exquisite)',
    deleted            tinyint  default 0                 null comment 'Deleted status (0 = not deleted, 1 = deleted)',
    create_time        datetime default CURRENT_TIMESTAMP null comment 'Creation time',
    update_time        datetime default CURRENT_TIMESTAMP null on update CURRENT_TIMESTAMP comment 'Update time'
)
    comment 'Pronunciation person configuration' charset = utf8mb4;

INSERT INTO astron_console.pronunciation_person_config (name, cover_url, voice_type, sort, model_manufacturer, exquisite, deleted, create_time, update_time) VALUES ( '许久', 'https://1024-cdn.xfyun.cn/2022_1024%2Fcms%2F16824985943686779%2Flfc.png', 'aisjiuxu', 0, 'XFYUN', 0, 0, NOW(), NOW());
INSERT INTO astron_console.pronunciation_person_config (name, cover_url, voice_type, sort, model_manufacturer, exquisite, deleted, create_time, update_time) VALUES ('小婧', 'https://1024-cdn.xfyun.cn/2022_1024%2Fcms%2F16824985943709826%2Flxq.png', 'aisjinger', 0, 'XFYUN', 0, 0, NOW(), NOW());
INSERT INTO astron_console.pronunciation_person_config (name, cover_url, voice_type, sort, model_manufacturer, exquisite, deleted, create_time, update_time) VALUES ('小燕', 'https://1024-cdn.xfyun.cn/2022_1024%2Fcms%2F16824985943686779%2Flfc.png', 'x4_xiaoyan', 0, 'XFYUN', 0, 0, NOW(), NOW());
INSERT INTO astron_console.pronunciation_person_config (name, cover_url, voice_type, sort, model_manufacturer, exquisite, deleted, create_time, update_time) VALUES ( '小露', 'https://1024-cdn.xfyun.cn/2022_1024%2Fcms%2F16824985943686779%2Flfc.png', 'x4_yezi', 0, 'XFYUN', 0, 0, NOW(), NOW());
INSERT INTO astron_console.pronunciation_person_config (name, cover_url, voice_type, sort, model_manufacturer, exquisite, deleted, create_time, update_time) VALUES ('许小宝', 'https://1024-cdn.xfyun.cn/2022_1024%2Fcms%2F16824985943709826%2Flxq.png', 'aisbabyxu', 0, 'XFYUN', 0, 0, NOW(), NOW());
INSERT INTO astron_console.pronunciation_person_config (name, cover_url, voice_type, sort, model_manufacturer, exquisite, deleted, create_time, update_time) VALUES ('聆伯松', 'https://1024-cdn.xfyun.cn/2022_1024%2Fcms%2F16824985943686779%2Flfc.png', 'x4_lingbosong', 0, 'XFYUN', 1, 0, NOW(), NOW());
INSERT INTO astron_console.pronunciation_person_config (name, cover_url, voice_type, sort, model_manufacturer, exquisite, deleted, create_time, update_time) VALUES ('聆飞哲', 'https://1024-cdn.xfyun.cn/2022_1024%2Fcms%2F16824985943686779%2Flfc.png', 'x4_lingfeizhe_zl', 0, 'XFYUN', 1, 0, NOW(), NOW());

ALTER TABLE astron_console.workflow ADD `type` INT NULL COMMENT '工作流类型';


ALTER TABLE astron_console.workflow_version ADD advanced_config text NULL COMMENT '工作流高级配置';

CREATE TABLE `workflow_config` (
                                   `id` bigint(20) NOT NULL AUTO_INCREMENT,
                                   `name` varchar(100) DEFAULT NULL COMMENT '版本名称，冗余字段',
                                   `version_num` varchar(100) NOT NULL DEFAULT '-1' COMMENT '版本号',
                                   `flow_id` varchar(19) NOT NULL COMMENT 'flowId',
                                   `bot_id` int(11) DEFAULT NULL,
                                   `config` mediumtext COMMENT '语音智能体配置',
                                   `created_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
                                   `updated_time` datetime DEFAULT CURRENT_TIMESTAMP,
                                   `deleted` tinyint(1) DEFAULT '0' COMMENT '是否删除：1-删除，0-未删除',
                                   PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=5805 DEFAULT CHARSET=utf8mb4;